{"mappings":"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","sources":["node_modules/bowser/es5.js","node_modules/sdp-transform/lib/index.js","node_modules/sdp-transform/lib/parser.js","node_modules/sdp-transform/lib/grammar.js","node_modules/sdp-transform/lib/writer.js","packages/core/node_modules/ua-parser-js/src/ua-parser.js","node_modules/lodash/isBuffer.js","node_modules/lodash/_root.js","node_modules/lodash/_freeGlobal.js","node_modules/lodash/stubFalse.js","node_modules/lodash/_nodeUtil.js","node_modules/debug/src/browser.js","node_modules/process/browser.js","node_modules/debug/src/common.js","node_modules/ms/index.js","node_modules/mediasoup-client/lib/Device.js","node_modules/mediasoup-client/lib/Logger.js","node_modules/mediasoup-client/lib/EnhancedEventEmitter.js","node_modules/events/events.js","node_modules/mediasoup-client/lib/errors.js","node_modules/mediasoup-client/lib/utils.js","node_modules/mediasoup-client/lib/ortc.js","node_modules/h264-profile-level-id/index.js","node_modules/mediasoup-client/lib/Transport.js","node_modules/awaitqueue/lib/index.js","node_modules/awaitqueue/lib/Logger.js","node_modules/queue-microtask/index.js","node_modules/mediasoup-client/lib/Producer.js","node_modules/mediasoup-client/lib/Consumer.js","node_modules/mediasoup-client/lib/DataProducer.js","node_modules/mediasoup-client/lib/DataConsumer.js","node_modules/mediasoup-client/lib/handlers/Chrome111.js","node_modules/mediasoup-client/lib/handlers/sdp/commonUtils.js","node_modules/mediasoup-client/lib/handlers/sdp/unifiedPlanUtils.js","node_modules/mediasoup-client/lib/handlers/ortc/utils.js","node_modules/mediasoup-client/lib/handlers/HandlerInterface.js","node_modules/mediasoup-client/lib/handlers/sdp/RemoteSdp.js","node_modules/mediasoup-client/lib/handlers/sdp/MediaSection.js","node_modules/mediasoup-client/lib/scalabilityModes.js","node_modules/mediasoup-client/lib/handlers/Chrome74.js","node_modules/mediasoup-client/lib/handlers/Chrome70.js","node_modules/mediasoup-client/lib/handlers/Chrome67.js","node_modules/mediasoup-client/lib/handlers/sdp/planBUtils.js","node_modules/mediasoup-client/lib/handlers/Chrome55.js","node_modules/mediasoup-client/lib/handlers/Firefox60.js","node_modules/mediasoup-client/lib/handlers/Safari12.js","node_modules/mediasoup-client/lib/handlers/Safari11.js","node_modules/mediasoup-client/lib/handlers/Edge11.js","node_modules/mediasoup-client/lib/handlers/ortc/edgeUtils.js","node_modules/mediasoup-client/lib/handlers/ReactNativeUnifiedPlan.js","node_modules/mediasoup-client/lib/handlers/ReactNative.js","node_modules/mediasoup-client/lib/types.js","node_modules/mediasoup-client/lib/RtpParameters.js","node_modules/mediasoup-client/lib/SctpParameters.js","packages/common/src/logger.ts","packages/common/src/error.ts","packages/common/src/event.ts","node_modules/axios/lib/helpers/bind.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/core/AxiosError.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/axios/lib/helpers/null.js","node_modules/ieee754/index.js","node_modules/axios/lib/helpers/toFormData.js","node_modules/axios/lib/helpers/AxiosURLSearchParams.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/defaults/transitional.js","node_modules/axios/lib/platform/browser/index.js","node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","node_modules/axios/lib/platform/browser/classes/FormData.js","node_modules/axios/lib/platform/browser/classes/Blob.js","node_modules/axios/lib/platform/common/utils.js","node_modules/axios/lib/platform/index.js","node_modules/axios/lib/helpers/toURLEncodedForm.js","node_modules/axios/lib/helpers/formDataToJSON.js","node_modules/axios/lib/defaults/index.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/core/AxiosHeaders.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/cancel/CanceledError.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/core/buildFullPath.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/helpers/parseProtocol.js","node_modules/axios/lib/helpers/speedometer.js","node_modules/axios/lib/adapters/xhr.js","node_modules/axios/lib/adapters/adapters.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/mergeConfig.js","node_modules/axios/lib/env/data.js","node_modules/axios/lib/helpers/validator.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/HttpStatusCode.js","node_modules/axios/lib/axios.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/helpers/isAxiosError.js","node_modules/axios/index.js","packages/common/src/http.ts","packages/common/src/promise.ts","packages/common/src/util.ts","packages/core/src/errors.ts","packages/core/src/util.ts","packages/core/src/member/index.ts","packages/core/src/plugin/internal/unknown/connection.ts","packages/core/src/plugin/internal/unknown/member.ts","packages/core/src/media/stream/base.ts","packages/token/node_modules/uuid/dist/esm-browser/native.js","packages/token/node_modules/uuid/dist/esm-browser/rng.js","packages/token/node_modules/uuid/dist/esm-browser/stringify.js","node_modules/jsrsasign/lib/jsrsasign.js","packages/token/node_modules/uuid/dist/esm-browser/v4.js","node_modules/jwt-decode/lib/atob.js","node_modules/jwt-decode/lib/index.js","node_modules/jwt-decode/lib/base64_url_decode.js","packages/token/src/encoder.ts","packages/token/src/scope/app.ts","packages/token/src/errors.ts","packages/token/src/util.ts","packages/token/src/index.ts","packages/core/src/media/stream/local/base.ts","packages/core/src/media/stream/local/media.ts","packages/core/src/media/stream/local/audio.ts","packages/core/src/media/stream/local/customVideo.ts","packages/core/src/media/stream/local/video.ts","packages/core/src/media/stream/local/data.ts","packages/core/src/publication/factory.ts","packages/core/src/publication/index.ts","packages/core/src/member/localPerson/agent/publishing.ts","packages/core/src/member/localPerson/agent/subscribing.ts","packages/core/src/member/localPerson/adapter.ts","packages/core/src/const.ts","packages/analytics-client/node_modules/uuid/dist/esm-browser/native.js","packages/analytics-client/node_modules/uuid/dist/esm-browser/rng.js","packages/analytics-client/node_modules/uuid/dist/esm-browser/stringify.js","packages/analytics-client/node_modules/uuid/dist/esm-browser/v4.js","packages/analytics-client/src/clientEvent.ts","packages/analytics-client/src/payloadTypes.ts","node_modules/isomorphic-ws/browser.js","packages/analytics-client/src/utils/event.ts","packages/analytics-client/src/socket.ts","packages/analytics-client/src/utils/backoff.ts","packages/analytics-client/src/analyticsClient.ts","packages/rtc-rpc-api-client/src/const.ts","packages/rtc-rpc-api-client/src/errors.ts","packages/rtc-rpc-api-client/node_modules/uuid/dist/esm-browser/native.js","packages/rtc-rpc-api-client/node_modules/uuid/dist/esm-browser/rng.js","packages/rtc-rpc-api-client/node_modules/uuid/dist/esm-browser/stringify.js","packages/rtc-rpc-api-client/node_modules/uuid/dist/esm-browser/v4.js","packages/rtc-rpc-api-client/src/util.ts","packages/rtc-rpc-api-client/src/rpc.ts","packages/rtc-rpc-api-client/src/client.ts","node_modules/deepmerge/dist/cjs.js","packages/rtc-api-client/src/config.ts","packages/rtc-api-client/src/errors.ts","packages/rtc-api-client/src/util.ts","packages/rtc-api-client/src/infrastructure/api.ts","packages/rtc-api-client/src/infrastructure/eventObserver.ts","packages/rtc-api-client/src/client.ts","packages/rtc-api-client/src/domain/channel.ts","packages/core/src/config.ts","packages/core/src/plugin/interface/plugin.ts","packages/core/src/plugin/internal/person/connection/messageBuffer.ts","packages/core/node_modules/uuid/dist/esm-browser/native.js","packages/core/node_modules/uuid/dist/esm-browser/rng.js","packages/core/node_modules/uuid/dist/esm-browser/stringify.js","packages/core/node_modules/uuid/dist/esm-browser/v4.js","packages/core/src/media/stream/remote/base.ts","packages/core/src/media/stream/remote/media.ts","packages/core/src/media/stream/remote/audio.ts","packages/core/src/media/stream/remote/data.ts","packages/core/src/media/stream/remote/video.ts","packages/core/src/media/stream/remote/factory.ts","packages/core/src/plugin/internal/person/util.ts","packages/core/src/plugin/internal/person/connection/datachannel.ts","packages/core/src/plugin/internal/person/connection/peer.ts","packages/core/src/plugin/internal/person/connection/receiver.ts","node_modules/lodash/_listCacheClear.js","node_modules/lodash/eq.js","node_modules/lodash/_assocIndexOf.js","node_modules/lodash/_listCacheDelete.js","node_modules/lodash/_listCacheGet.js","node_modules/lodash/_listCacheHas.js","node_modules/lodash/_ListCache.js","node_modules/lodash/_listCacheSet.js","node_modules/lodash/_stackClear.js","node_modules/lodash/_stackDelete.js","node_modules/lodash/_stackGet.js","node_modules/lodash/_stackHas.js","node_modules/lodash/_Symbol.js","node_modules/lodash/_getRawTag.js","node_modules/lodash/_objectToString.js","node_modules/lodash/_baseGetTag.js","node_modules/lodash/isObject.js","node_modules/lodash/isFunction.js","node_modules/lodash/_isMasked.js","node_modules/lodash/_coreJsData.js","node_modules/lodash/_toSource.js","node_modules/lodash/_baseIsNative.js","node_modules/lodash/_getValue.js","node_modules/lodash/_Map.js","node_modules/lodash/_getNative.js","node_modules/lodash/_nativeCreate.js","node_modules/lodash/_hashClear.js","node_modules/lodash/_hashDelete.js","node_modules/lodash/_hashGet.js","node_modules/lodash/_hashHas.js","node_modules/lodash/_hashSet.js","node_modules/lodash/_Hash.js","node_modules/lodash/_mapCacheClear.js","node_modules/lodash/_isKeyable.js","node_modules/lodash/_getMapData.js","node_modules/lodash/_mapCacheDelete.js","node_modules/lodash/_mapCacheGet.js","node_modules/lodash/_mapCacheHas.js","node_modules/lodash/_MapCache.js","node_modules/lodash/_mapCacheSet.js","node_modules/lodash/_stackSet.js","node_modules/lodash/_Stack.js","node_modules/lodash/_setCacheAdd.js","node_modules/lodash/_SetCache.js","node_modules/lodash/_setCacheHas.js","node_modules/lodash/_arraySome.js","node_modules/lodash/_cacheHas.js","node_modules/lodash/_equalArrays.js","node_modules/lodash/_Uint8Array.js","node_modules/lodash/_mapToArray.js","node_modules/lodash/_setToArray.js","node_modules/lodash/_equalByTag.js","node_modules/lodash/_arrayPush.js","node_modules/lodash/isArray.js","node_modules/lodash/_baseGetAllKeys.js","node_modules/lodash/_arrayFilter.js","node_modules/lodash/stubArray.js","node_modules/lodash/_getSymbols.js","node_modules/lodash/_baseTimes.js","node_modules/lodash/isObjectLike.js","node_modules/lodash/_baseIsArguments.js","node_modules/lodash/isArguments.js","node_modules/lodash/_isIndex.js","node_modules/lodash/isLength.js","node_modules/lodash/_baseIsTypedArray.js","node_modules/lodash/_baseUnary.js","node_modules/lodash/isTypedArray.js","node_modules/lodash/_arrayLikeKeys.js","node_modules/lodash/_isPrototype.js","node_modules/lodash/_nativeKeys.js","node_modules/lodash/_overArg.js","node_modules/lodash/_baseKeys.js","node_modules/lodash/isArrayLike.js","node_modules/lodash/keys.js","node_modules/lodash/_getAllKeys.js","node_modules/lodash/_equalObjects.js","node_modules/lodash/_DataView.js","node_modules/lodash/_Promise.js","node_modules/lodash/_Set.js","node_modules/lodash/_WeakMap.js","node_modules/lodash/_getTag.js","node_modules/lodash/_baseIsEqualDeep.js","node_modules/lodash/_baseIsEqual.js","node_modules/lodash/isEqual.js","packages/core/src/plugin/internal/person/connection/sender.ts","packages/core/src/plugin/internal/person/connection/index.ts","packages/core/src/plugin/internal/person/member.ts","packages/core/src/plugin/internal/person/plugin.ts","packages/core/src/plugin/internal/unknown/plugin.ts","packages/core/src/version.ts","packages/core/src/context.ts","packages/core/src/external/analytics.ts","packages/core/src/external/ice.ts","packages/signaling-client/node_modules/uuid/dist/esm-browser/regex.js","packages/signaling-client/node_modules/uuid/dist/esm-browser/validate.js","packages/signaling-client/node_modules/uuid/dist/esm-browser/native.js","packages/signaling-client/node_modules/uuid/dist/esm-browser/rng.js","packages/signaling-client/node_modules/uuid/dist/esm-browser/stringify.js","packages/signaling-client/node_modules/uuid/dist/esm-browser/v4.js","packages/signaling-client/src/clientEvent.ts","packages/signaling-client/src/payloadTypes.ts","packages/signaling-client/src/utils/event.ts","packages/signaling-client/src/version.ts","packages/signaling-client/src/socket.ts","packages/signaling-client/src/signalingClient.ts","packages/core/src/external/signaling.ts","packages/core/src/member/localPerson/factory.ts","packages/core/src/member/localPerson/index.ts","packages/core/src/member/remoteMember.ts","packages/core/src/subscription/index.ts","packages/core/src/subscription/factory.ts","packages/core/src/channel/index.ts","packages/core/src/media/factory.ts","packages/sfu-api-client/src/const.ts","packages/sfu-api-client/src/errors.ts","packages/sfu-api-client/src/util.ts","packages/sfu-api-client/src/api.ts","packages/sfu-bot/src/errors.ts","packages/sfu-bot/src/util.ts","packages/sfu-bot/src/connection/receiver.ts","packages/sfu-bot/src/forwarding.ts","packages/sfu-bot/src/connection/sender.ts","packages/sfu-bot/src/connection/index.ts","packages/sfu-bot/src/const.ts","packages/sfu-bot/src/member.ts","packages/sfu-bot/src/option.ts","node_modules/mediasoup-client/lib/index.js","packages/sfu-bot/src/connection/transport/transport.ts","packages/sfu-bot/src/connection/transport/transportRepository.ts","packages/sfu-bot/src/version.ts","packages/sfu-bot/src/plugin.ts","packages/room/src/errors.ts","packages/room/src/member/index.ts","packages/room/src/member/local/base.ts","packages/room/src/util.ts","packages/room/src/member/local/p2p.ts","packages/room/src/const.ts","packages/room/src/member/local/sfu.ts","packages/room/src/member/remote/base.ts","packages/room/src/publication/index.ts","packages/room/node_modules/uuid/dist/esm-browser/native.js","packages/room/node_modules/uuid/dist/esm-browser/rng.js","packages/room/node_modules/uuid/dist/esm-browser/stringify.js","packages/room/node_modules/uuid/dist/esm-browser/v4.js","packages/room/src/version.ts","packages/room/src/subscription/index.ts","packages/room/src/room/base.ts","packages/room/src/room/p2p.ts","packages/room/src/room/sfu.ts","packages/room/src/room/index.ts","examples/p2p-room/src/main.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","var parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseParams = parser.parseParams;\nexports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n","var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n","var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n","var grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.35\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.35',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        VIERA   = 'Viera',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /ios;fbsv\\/([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Device = exports.detectDevice = void 0;\nconst bowser_1 = __importDefault(require(\"bowser\"));\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst errors_1 = require(\"./errors\");\nconst utils = __importStar(require(\"./utils\"));\nconst ortc = __importStar(require(\"./ortc\"));\nconst Transport_1 = require(\"./Transport\");\nconst Chrome111_1 = require(\"./handlers/Chrome111\");\nconst Chrome74_1 = require(\"./handlers/Chrome74\");\nconst Chrome70_1 = require(\"./handlers/Chrome70\");\nconst Chrome67_1 = require(\"./handlers/Chrome67\");\nconst Chrome55_1 = require(\"./handlers/Chrome55\");\nconst Firefox60_1 = require(\"./handlers/Firefox60\");\nconst Safari12_1 = require(\"./handlers/Safari12\");\nconst Safari11_1 = require(\"./handlers/Safari11\");\nconst Edge11_1 = require(\"./handlers/Edge11\");\nconst ReactNativeUnifiedPlan_1 = require(\"./handlers/ReactNativeUnifiedPlan\");\nconst ReactNative_1 = require(\"./handlers/ReactNative\");\nconst logger = new Logger_1.Logger('Device');\nfunction detectDevice() {\n    // React-Native.\n    // NOTE: react-native-webrtc >= 1.75.0 is required.\n    // NOTE: react-native-webrtc with Unified Plan requires version >= 106.0.0.\n    if (typeof navigator === 'object' && navigator.product === 'ReactNative') {\n        if (typeof RTCPeerConnection === 'undefined') {\n            logger.warn('this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?');\n            return undefined;\n        }\n        if (typeof RTCRtpTransceiver !== 'undefined') {\n            logger.debug('this._detectDevice() | ReactNative UnifiedPlan handler chosen');\n            return 'ReactNativeUnifiedPlan';\n        }\n        else {\n            logger.debug('this._detectDevice() | ReactNative PlanB handler chosen');\n            return 'ReactNative';\n        }\n    }\n    // Browser.\n    else if (typeof navigator === 'object' && typeof navigator.userAgent === 'string') {\n        const ua = navigator.userAgent;\n        const browser = bowser_1.default.getParser(ua);\n        const engine = browser.getEngine();\n        // Chrome, Chromium, and Edge.\n        if (browser.satisfies({ chrome: '>=111', chromium: '>=111', 'microsoft edge': '>=111' })) {\n            return 'Chrome111';\n        }\n        else if (browser.satisfies({ chrome: '>=74', chromium: '>=74', 'microsoft edge': '>=88' })) {\n            return 'Chrome74';\n        }\n        else if (browser.satisfies({ chrome: '>=70', chromium: '>=70' })) {\n            return 'Chrome70';\n        }\n        else if (browser.satisfies({ chrome: '>=67', chromium: '>=67' })) {\n            return 'Chrome67';\n        }\n        else if (browser.satisfies({ chrome: '>=55', chromium: '>=55' })) {\n            return 'Chrome55';\n        }\n        // Firefox.\n        else if (browser.satisfies({ firefox: '>=60' })) {\n            return 'Firefox60';\n        }\n        // Firefox on iOS.\n        else if (browser.satisfies({ ios: { OS: '>=14.3', firefox: '>=30.0' } })) {\n            return 'Safari12';\n        }\n        // Safari with Unified-Plan support enabled.\n        else if (browser.satisfies({ safari: '>=12.0' }) &&\n            typeof RTCRtpTransceiver !== 'undefined' &&\n            RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection')) {\n            return 'Safari12';\n        }\n        // Safari with Plab-B support.\n        else if (browser.satisfies({ safari: '>=11' })) {\n            return 'Safari11';\n        }\n        // Old Edge with ORTC support.\n        else if (browser.satisfies({ 'microsoft edge': '>=11' }) &&\n            browser.satisfies({ 'microsoft edge': '<=18' })) {\n            return 'Edge11';\n        }\n        // Best effort for Chromium based browsers.\n        else if (engine.name && engine.name.toLowerCase() === 'blink') {\n            const match = ua.match(/(?:(?:Chrome|Chromium))[ /](\\w+)/i);\n            if (match) {\n                const version = Number(match[1]);\n                if (version >= 111) {\n                    return 'Chrome111';\n                }\n                else if (version >= 74) {\n                    return 'Chrome74';\n                }\n                else if (version >= 70) {\n                    return 'Chrome70';\n                }\n                else if (version >= 67) {\n                    return 'Chrome67';\n                }\n                else {\n                    return 'Chrome55';\n                }\n            }\n            else {\n                return 'Chrome111';\n            }\n        }\n        // Unsupported browser.\n        else {\n            logger.warn('this._detectDevice() | browser not supported [name:%s, version:%s]', browser.getBrowserName(), browser.getBrowserVersion());\n            return undefined;\n        }\n    }\n    // Unknown device.\n    else {\n        logger.warn('this._detectDevice() | unknown device');\n        return undefined;\n    }\n}\nexports.detectDevice = detectDevice;\nclass Device {\n    /**\n     * Create a new Device to connect to mediasoup server.\n     *\n     * @throws {UnsupportedError} if device is not supported.\n     */\n    constructor({ handlerName, handlerFactory, Handler } = {}) {\n        // Loaded flag.\n        this._loaded = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor()');\n        // Handle deprecated option.\n        if (Handler) {\n            logger.warn('constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead');\n            if (typeof Handler === 'string') {\n                handlerName = Handler;\n            }\n            else {\n                throw new TypeError('non string Handler option no longer supported, use handlerFactory instead');\n            }\n        }\n        if (handlerName && handlerFactory) {\n            throw new TypeError('just one of handlerName or handlerInterface can be given');\n        }\n        if (handlerFactory) {\n            this._handlerFactory = handlerFactory;\n        }\n        else {\n            if (handlerName) {\n                logger.debug('constructor() | handler given: %s', handlerName);\n            }\n            else {\n                handlerName = detectDevice();\n                if (handlerName) {\n                    logger.debug('constructor() | detected handler: %s', handlerName);\n                }\n                else {\n                    throw new errors_1.UnsupportedError('device not supported');\n                }\n            }\n            switch (handlerName) {\n                case 'Chrome111':\n                    this._handlerFactory = Chrome111_1.Chrome111.createFactory();\n                    break;\n                case 'Chrome74':\n                    this._handlerFactory = Chrome74_1.Chrome74.createFactory();\n                    break;\n                case 'Chrome70':\n                    this._handlerFactory = Chrome70_1.Chrome70.createFactory();\n                    break;\n                case 'Chrome67':\n                    this._handlerFactory = Chrome67_1.Chrome67.createFactory();\n                    break;\n                case 'Chrome55':\n                    this._handlerFactory = Chrome55_1.Chrome55.createFactory();\n                    break;\n                case 'Firefox60':\n                    this._handlerFactory = Firefox60_1.Firefox60.createFactory();\n                    break;\n                case 'Safari12':\n                    this._handlerFactory = Safari12_1.Safari12.createFactory();\n                    break;\n                case 'Safari11':\n                    this._handlerFactory = Safari11_1.Safari11.createFactory();\n                    break;\n                case 'Edge11':\n                    this._handlerFactory = Edge11_1.Edge11.createFactory();\n                    break;\n                case 'ReactNativeUnifiedPlan':\n                    this._handlerFactory = ReactNativeUnifiedPlan_1.ReactNativeUnifiedPlan.createFactory();\n                    break;\n                case 'ReactNative':\n                    this._handlerFactory = ReactNative_1.ReactNative.createFactory();\n                    break;\n                default:\n                    throw new TypeError(`unknown handlerName \"${handlerName}\"`);\n            }\n        }\n        // Create a temporal handler to get its name.\n        const handler = this._handlerFactory();\n        this._handlerName = handler.name;\n        handler.close();\n        this._extendedRtpCapabilities = undefined;\n        this._recvRtpCapabilities = undefined;\n        this._canProduceByKind =\n            {\n                audio: false,\n                video: false\n            };\n        this._sctpCapabilities = undefined;\n    }\n    /**\n     * The RTC handler name.\n     */\n    get handlerName() {\n        return this._handlerName;\n    }\n    /**\n     * Whether the Device is loaded.\n     */\n    get loaded() {\n        return this._loaded;\n    }\n    /**\n     * RTP capabilities of the Device for receiving media.\n     *\n     * @throws {InvalidStateError} if not loaded.\n     */\n    get rtpCapabilities() {\n        if (!this._loaded) {\n            throw new errors_1.InvalidStateError('not loaded');\n        }\n        return this._recvRtpCapabilities;\n    }\n    /**\n     * SCTP capabilities of the Device.\n     *\n     * @throws {InvalidStateError} if not loaded.\n     */\n    get sctpCapabilities() {\n        if (!this._loaded) {\n            throw new errors_1.InvalidStateError('not loaded');\n        }\n        return this._sctpCapabilities;\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Initialize the Device.\n     */\n    async load({ routerRtpCapabilities }) {\n        logger.debug('load() [routerRtpCapabilities:%o]', routerRtpCapabilities);\n        routerRtpCapabilities = utils.clone(routerRtpCapabilities, undefined);\n        // Temporal handler to get its capabilities.\n        let handler;\n        try {\n            if (this._loaded) {\n                throw new errors_1.InvalidStateError('already loaded');\n            }\n            // This may throw.\n            ortc.validateRtpCapabilities(routerRtpCapabilities);\n            handler = this._handlerFactory();\n            const nativeRtpCapabilities = await handler.getNativeRtpCapabilities();\n            logger.debug('load() | got native RTP capabilities:%o', nativeRtpCapabilities);\n            // This may throw.\n            ortc.validateRtpCapabilities(nativeRtpCapabilities);\n            // Get extended RTP capabilities.\n            this._extendedRtpCapabilities = ortc.getExtendedRtpCapabilities(nativeRtpCapabilities, routerRtpCapabilities);\n            logger.debug('load() | got extended RTP capabilities:%o', this._extendedRtpCapabilities);\n            // Check whether we can produce audio/video.\n            this._canProduceByKind.audio =\n                ortc.canSend('audio', this._extendedRtpCapabilities);\n            this._canProduceByKind.video =\n                ortc.canSend('video', this._extendedRtpCapabilities);\n            // Generate our receiving RTP capabilities for receiving media.\n            this._recvRtpCapabilities =\n                ortc.getRecvRtpCapabilities(this._extendedRtpCapabilities);\n            // This may throw.\n            ortc.validateRtpCapabilities(this._recvRtpCapabilities);\n            logger.debug('load() | got receiving RTP capabilities:%o', this._recvRtpCapabilities);\n            // Generate our SCTP capabilities.\n            this._sctpCapabilities = await handler.getNativeSctpCapabilities();\n            logger.debug('load() | got native SCTP capabilities:%o', this._sctpCapabilities);\n            // This may throw.\n            ortc.validateSctpCapabilities(this._sctpCapabilities);\n            logger.debug('load() succeeded');\n            this._loaded = true;\n            handler.close();\n        }\n        catch (error) {\n            if (handler) {\n                handler.close();\n            }\n            throw error;\n        }\n    }\n    /**\n     * Whether we can produce audio/video.\n     *\n     * @throws {InvalidStateError} if not loaded.\n     * @throws {TypeError} if wrong arguments.\n     */\n    canProduce(kind) {\n        if (!this._loaded) {\n            throw new errors_1.InvalidStateError('not loaded');\n        }\n        else if (kind !== 'audio' && kind !== 'video') {\n            throw new TypeError(`invalid kind \"${kind}\"`);\n        }\n        return this._canProduceByKind[kind];\n    }\n    /**\n     * Creates a Transport for sending media.\n     *\n     * @throws {InvalidStateError} if not loaded.\n     * @throws {TypeError} if wrong arguments.\n     */\n    createSendTransport({ id, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, appData }) {\n        logger.debug('createSendTransport()');\n        return this.createTransport({\n            direction: 'send',\n            id: id,\n            iceParameters: iceParameters,\n            iceCandidates: iceCandidates,\n            dtlsParameters: dtlsParameters,\n            sctpParameters: sctpParameters,\n            iceServers: iceServers,\n            iceTransportPolicy: iceTransportPolicy,\n            additionalSettings: additionalSettings,\n            proprietaryConstraints: proprietaryConstraints,\n            appData: appData\n        });\n    }\n    /**\n     * Creates a Transport for receiving media.\n     *\n     * @throws {InvalidStateError} if not loaded.\n     * @throws {TypeError} if wrong arguments.\n     */\n    createRecvTransport({ id, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, appData }) {\n        logger.debug('createRecvTransport()');\n        return this.createTransport({\n            direction: 'recv',\n            id: id,\n            iceParameters: iceParameters,\n            iceCandidates: iceCandidates,\n            dtlsParameters: dtlsParameters,\n            sctpParameters: sctpParameters,\n            iceServers: iceServers,\n            iceTransportPolicy: iceTransportPolicy,\n            additionalSettings: additionalSettings,\n            proprietaryConstraints: proprietaryConstraints,\n            appData: appData\n        });\n    }\n    createTransport({ direction, id, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, appData }) {\n        if (!this._loaded) {\n            throw new errors_1.InvalidStateError('not loaded');\n        }\n        else if (typeof id !== 'string') {\n            throw new TypeError('missing id');\n        }\n        else if (typeof iceParameters !== 'object') {\n            throw new TypeError('missing iceParameters');\n        }\n        else if (!Array.isArray(iceCandidates)) {\n            throw new TypeError('missing iceCandidates');\n        }\n        else if (typeof dtlsParameters !== 'object') {\n            throw new TypeError('missing dtlsParameters');\n        }\n        else if (sctpParameters && typeof sctpParameters !== 'object') {\n            throw new TypeError('wrong sctpParameters');\n        }\n        else if (appData && typeof appData !== 'object') {\n            throw new TypeError('if given, appData must be an object');\n        }\n        // Create a new Transport.\n        const transport = new Transport_1.Transport({\n            direction,\n            id,\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            iceServers,\n            iceTransportPolicy,\n            additionalSettings,\n            proprietaryConstraints,\n            appData,\n            handlerFactory: this._handlerFactory,\n            extendedRtpCapabilities: this._extendedRtpCapabilities,\n            canProduceByKind: this._canProduceByKind\n        });\n        // Emit observer event.\n        this._observer.safeEmit('newtransport', transport);\n        return transport;\n    }\n}\nexports.Device = Device;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Logger = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst APP_NAME = 'mediasoup-client';\nclass Logger {\n    constructor(prefix) {\n        if (prefix) {\n            this._debug = (0, debug_1.default)(`${APP_NAME}:${prefix}`);\n            this._warn = (0, debug_1.default)(`${APP_NAME}:WARN:${prefix}`);\n            this._error = (0, debug_1.default)(`${APP_NAME}:ERROR:${prefix}`);\n        }\n        else {\n            this._debug = (0, debug_1.default)(APP_NAME);\n            this._warn = (0, debug_1.default)(`${APP_NAME}:WARN`);\n            this._error = (0, debug_1.default)(`${APP_NAME}:ERROR`);\n        }\n        /* eslint-disable no-console */\n        this._debug.log = console.info.bind(console);\n        this._warn.log = console.warn.bind(console);\n        this._error.log = console.error.bind(console);\n        /* eslint-enable no-console */\n    }\n    get debug() {\n        return this._debug;\n    }\n    get warn() {\n        return this._warn;\n    }\n    get error() {\n        return this._error;\n    }\n}\nexports.Logger = Logger;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EnhancedEventEmitter = void 0;\nconst events_1 = require(\"events\");\nconst Logger_1 = require(\"./Logger\");\nconst logger = new Logger_1.Logger('EnhancedEventEmitter');\nclass EnhancedEventEmitter extends events_1.EventEmitter {\n    constructor() {\n        super();\n        this.setMaxListeners(Infinity);\n    }\n    emit(eventName, ...args) {\n        return super.emit(eventName, ...args);\n    }\n    /**\n     * Special addition to the EventEmitter API.\n     */\n    safeEmit(eventName, ...args) {\n        const numListeners = super.listenerCount(eventName);\n        try {\n            return super.emit(eventName, ...args);\n        }\n        catch (error) {\n            logger.error('safeEmit() | event listener threw an error [eventName:%s]:%o', eventName, error);\n            return Boolean(numListeners);\n        }\n    }\n    on(eventName, listener) {\n        super.on(eventName, listener);\n        return this;\n    }\n    off(eventName, listener) {\n        super.off(eventName, listener);\n        return this;\n    }\n    addListener(eventName, listener) {\n        super.on(eventName, listener);\n        return this;\n    }\n    prependListener(eventName, listener) {\n        super.prependListener(eventName, listener);\n        return this;\n    }\n    once(eventName, listener) {\n        super.once(eventName, listener);\n        return this;\n    }\n    prependOnceListener(eventName, listener) {\n        super.prependOnceListener(eventName, listener);\n        return this;\n    }\n    removeListener(eventName, listener) {\n        super.off(eventName, listener);\n        return this;\n    }\n    removeAllListeners(eventName) {\n        super.removeAllListeners(eventName);\n        return this;\n    }\n    listenerCount(eventName) {\n        return super.listenerCount(eventName);\n    }\n    listeners(eventName) {\n        return super.listeners(eventName);\n    }\n    rawListeners(eventName) {\n        return super.rawListeners(eventName);\n    }\n}\nexports.EnhancedEventEmitter = EnhancedEventEmitter;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidStateError = exports.UnsupportedError = void 0;\n/**\n * Error indicating not support for something.\n */\nclass UnsupportedError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'UnsupportedError';\n        if (Error.hasOwnProperty('captureStackTrace')) // Just in V8.\n         {\n            // @ts-ignore\n            Error.captureStackTrace(this, UnsupportedError);\n        }\n        else {\n            this.stack = (new Error(message)).stack;\n        }\n    }\n}\nexports.UnsupportedError = UnsupportedError;\n/**\n * Error produced when calling a method in an invalid state.\n */\nclass InvalidStateError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'InvalidStateError';\n        if (Error.hasOwnProperty('captureStackTrace')) // Just in V8.\n         {\n            // @ts-ignore\n            Error.captureStackTrace(this, InvalidStateError);\n        }\n        else {\n            this.stack = (new Error(message)).stack;\n        }\n    }\n}\nexports.InvalidStateError = InvalidStateError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateRandomNumber = exports.clone = void 0;\n/**\n * Clones the given data.\n */\nfunction clone(data, defaultValue) {\n    if (typeof data === 'undefined') {\n        return defaultValue;\n    }\n    return JSON.parse(JSON.stringify(data));\n}\nexports.clone = clone;\n/**\n * Generates a random positive integer.\n */\nfunction generateRandomNumber() {\n    return Math.round(Math.random() * 10000000);\n}\nexports.generateRandomNumber = generateRandomNumber;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canReceive = exports.canSend = exports.generateProbatorRtpParameters = exports.reduceCodecs = exports.getSendingRemoteRtpParameters = exports.getSendingRtpParameters = exports.getRecvRtpCapabilities = exports.getExtendedRtpCapabilities = exports.validateSctpStreamParameters = exports.validateSctpParameters = exports.validateNumSctpStreams = exports.validateSctpCapabilities = exports.validateRtcpParameters = exports.validateRtpEncodingParameters = exports.validateRtpHeaderExtensionParameters = exports.validateRtpCodecParameters = exports.validateRtpParameters = exports.validateRtpHeaderExtension = exports.validateRtcpFeedback = exports.validateRtpCodecCapability = exports.validateRtpCapabilities = void 0;\nconst h264 = __importStar(require(\"h264-profile-level-id\"));\nconst utils = __importStar(require(\"./utils\"));\nconst RTP_PROBATOR_MID = 'probator';\nconst RTP_PROBATOR_SSRC = 1234;\nconst RTP_PROBATOR_CODEC_PAYLOAD_TYPE = 127;\n/**\n * Validates RtpCapabilities. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpCapabilities(caps) {\n    if (typeof caps !== 'object') {\n        throw new TypeError('caps is not an object');\n    }\n    // codecs is optional. If unset, fill with an empty array.\n    if (caps.codecs && !Array.isArray(caps.codecs)) {\n        throw new TypeError('caps.codecs is not an array');\n    }\n    else if (!caps.codecs) {\n        caps.codecs = [];\n    }\n    for (const codec of caps.codecs) {\n        validateRtpCodecCapability(codec);\n    }\n    // headerExtensions is optional. If unset, fill with an empty array.\n    if (caps.headerExtensions && !Array.isArray(caps.headerExtensions)) {\n        throw new TypeError('caps.headerExtensions is not an array');\n    }\n    else if (!caps.headerExtensions) {\n        caps.headerExtensions = [];\n    }\n    for (const ext of caps.headerExtensions) {\n        validateRtpHeaderExtension(ext);\n    }\n}\nexports.validateRtpCapabilities = validateRtpCapabilities;\n/**\n * Validates RtpCodecCapability. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpCodecCapability(codec) {\n    const MimeTypeRegex = new RegExp('^(audio|video)/(.+)', 'i');\n    if (typeof codec !== 'object') {\n        throw new TypeError('codec is not an object');\n    }\n    // mimeType is mandatory.\n    if (!codec.mimeType || typeof codec.mimeType !== 'string') {\n        throw new TypeError('missing codec.mimeType');\n    }\n    const mimeTypeMatch = MimeTypeRegex.exec(codec.mimeType);\n    if (!mimeTypeMatch) {\n        throw new TypeError('invalid codec.mimeType');\n    }\n    // Just override kind with media component of mimeType.\n    codec.kind = mimeTypeMatch[1].toLowerCase();\n    // preferredPayloadType is optional.\n    if (codec.preferredPayloadType && typeof codec.preferredPayloadType !== 'number') {\n        throw new TypeError('invalid codec.preferredPayloadType');\n    }\n    // clockRate is mandatory.\n    if (typeof codec.clockRate !== 'number') {\n        throw new TypeError('missing codec.clockRate');\n    }\n    // channels is optional. If unset, set it to 1 (just if audio).\n    if (codec.kind === 'audio') {\n        if (typeof codec.channels !== 'number') {\n            codec.channels = 1;\n        }\n    }\n    else {\n        delete codec.channels;\n    }\n    // parameters is optional. If unset, set it to an empty object.\n    if (!codec.parameters || typeof codec.parameters !== 'object') {\n        codec.parameters = {};\n    }\n    for (const key of Object.keys(codec.parameters)) {\n        let value = codec.parameters[key];\n        if (value === undefined) {\n            codec.parameters[key] = '';\n            value = '';\n        }\n        if (typeof value !== 'string' && typeof value !== 'number') {\n            throw new TypeError(`invalid codec parameter [key:${key}s, value:${value}]`);\n        }\n        // Specific parameters validation.\n        if (key === 'apt') {\n            if (typeof value !== 'number') {\n                throw new TypeError('invalid codec apt parameter');\n            }\n        }\n    }\n    // rtcpFeedback is optional. If unset, set it to an empty array.\n    if (!codec.rtcpFeedback || !Array.isArray(codec.rtcpFeedback)) {\n        codec.rtcpFeedback = [];\n    }\n    for (const fb of codec.rtcpFeedback) {\n        validateRtcpFeedback(fb);\n    }\n}\nexports.validateRtpCodecCapability = validateRtpCodecCapability;\n/**\n * Validates RtcpFeedback. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtcpFeedback(fb) {\n    if (typeof fb !== 'object') {\n        throw new TypeError('fb is not an object');\n    }\n    // type is mandatory.\n    if (!fb.type || typeof fb.type !== 'string') {\n        throw new TypeError('missing fb.type');\n    }\n    // parameter is optional. If unset set it to an empty string.\n    if (!fb.parameter || typeof fb.parameter !== 'string') {\n        fb.parameter = '';\n    }\n}\nexports.validateRtcpFeedback = validateRtcpFeedback;\n/**\n * Validates RtpHeaderExtension. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpHeaderExtension(ext) {\n    if (typeof ext !== 'object') {\n        throw new TypeError('ext is not an object');\n    }\n    // kind is mandatory.\n    if (ext.kind !== 'audio' && ext.kind !== 'video') {\n        throw new TypeError('invalid ext.kind');\n    }\n    // uri is mandatory.\n    if (!ext.uri || typeof ext.uri !== 'string') {\n        throw new TypeError('missing ext.uri');\n    }\n    // preferredId is mandatory.\n    if (typeof ext.preferredId !== 'number') {\n        throw new TypeError('missing ext.preferredId');\n    }\n    // preferredEncrypt is optional. If unset set it to false.\n    if (ext.preferredEncrypt && typeof ext.preferredEncrypt !== 'boolean') {\n        throw new TypeError('invalid ext.preferredEncrypt');\n    }\n    else if (!ext.preferredEncrypt) {\n        ext.preferredEncrypt = false;\n    }\n    // direction is optional. If unset set it to sendrecv.\n    if (ext.direction && typeof ext.direction !== 'string') {\n        throw new TypeError('invalid ext.direction');\n    }\n    else if (!ext.direction) {\n        ext.direction = 'sendrecv';\n    }\n}\nexports.validateRtpHeaderExtension = validateRtpHeaderExtension;\n/**\n * Validates RtpParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpParameters(params) {\n    if (typeof params !== 'object') {\n        throw new TypeError('params is not an object');\n    }\n    // mid is optional.\n    if (params.mid && typeof params.mid !== 'string') {\n        throw new TypeError('params.mid is not a string');\n    }\n    // codecs is mandatory.\n    if (!Array.isArray(params.codecs)) {\n        throw new TypeError('missing params.codecs');\n    }\n    for (const codec of params.codecs) {\n        validateRtpCodecParameters(codec);\n    }\n    // headerExtensions is optional. If unset, fill with an empty array.\n    if (params.headerExtensions && !Array.isArray(params.headerExtensions)) {\n        throw new TypeError('params.headerExtensions is not an array');\n    }\n    else if (!params.headerExtensions) {\n        params.headerExtensions = [];\n    }\n    for (const ext of params.headerExtensions) {\n        validateRtpHeaderExtensionParameters(ext);\n    }\n    // encodings is optional. If unset, fill with an empty array.\n    if (params.encodings && !Array.isArray(params.encodings)) {\n        throw new TypeError('params.encodings is not an array');\n    }\n    else if (!params.encodings) {\n        params.encodings = [];\n    }\n    for (const encoding of params.encodings) {\n        validateRtpEncodingParameters(encoding);\n    }\n    // rtcp is optional. If unset, fill with an empty object.\n    if (params.rtcp && typeof params.rtcp !== 'object') {\n        throw new TypeError('params.rtcp is not an object');\n    }\n    else if (!params.rtcp) {\n        params.rtcp = {};\n    }\n    validateRtcpParameters(params.rtcp);\n}\nexports.validateRtpParameters = validateRtpParameters;\n/**\n * Validates RtpCodecParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpCodecParameters(codec) {\n    const MimeTypeRegex = new RegExp('^(audio|video)/(.+)', 'i');\n    if (typeof codec !== 'object') {\n        throw new TypeError('codec is not an object');\n    }\n    // mimeType is mandatory.\n    if (!codec.mimeType || typeof codec.mimeType !== 'string') {\n        throw new TypeError('missing codec.mimeType');\n    }\n    const mimeTypeMatch = MimeTypeRegex.exec(codec.mimeType);\n    if (!mimeTypeMatch) {\n        throw new TypeError('invalid codec.mimeType');\n    }\n    // payloadType is mandatory.\n    if (typeof codec.payloadType !== 'number') {\n        throw new TypeError('missing codec.payloadType');\n    }\n    // clockRate is mandatory.\n    if (typeof codec.clockRate !== 'number') {\n        throw new TypeError('missing codec.clockRate');\n    }\n    const kind = mimeTypeMatch[1].toLowerCase();\n    // channels is optional. If unset, set it to 1 (just if audio).\n    if (kind === 'audio') {\n        if (typeof codec.channels !== 'number') {\n            codec.channels = 1;\n        }\n    }\n    else {\n        delete codec.channels;\n    }\n    // parameters is optional. If unset, set it to an empty object.\n    if (!codec.parameters || typeof codec.parameters !== 'object') {\n        codec.parameters = {};\n    }\n    for (const key of Object.keys(codec.parameters)) {\n        let value = codec.parameters[key];\n        if (value === undefined) {\n            codec.parameters[key] = '';\n            value = '';\n        }\n        if (typeof value !== 'string' && typeof value !== 'number') {\n            throw new TypeError(`invalid codec parameter [key:${key}s, value:${value}]`);\n        }\n        // Specific parameters validation.\n        if (key === 'apt') {\n            if (typeof value !== 'number') {\n                throw new TypeError('invalid codec apt parameter');\n            }\n        }\n    }\n    // rtcpFeedback is optional. If unset, set it to an empty array.\n    if (!codec.rtcpFeedback || !Array.isArray(codec.rtcpFeedback)) {\n        codec.rtcpFeedback = [];\n    }\n    for (const fb of codec.rtcpFeedback) {\n        validateRtcpFeedback(fb);\n    }\n}\nexports.validateRtpCodecParameters = validateRtpCodecParameters;\n/**\n * Validates RtpHeaderExtensionParameteters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpHeaderExtensionParameters(ext) {\n    if (typeof ext !== 'object') {\n        throw new TypeError('ext is not an object');\n    }\n    // uri is mandatory.\n    if (!ext.uri || typeof ext.uri !== 'string') {\n        throw new TypeError('missing ext.uri');\n    }\n    // id is mandatory.\n    if (typeof ext.id !== 'number') {\n        throw new TypeError('missing ext.id');\n    }\n    // encrypt is optional. If unset set it to false.\n    if (ext.encrypt && typeof ext.encrypt !== 'boolean') {\n        throw new TypeError('invalid ext.encrypt');\n    }\n    else if (!ext.encrypt) {\n        ext.encrypt = false;\n    }\n    // parameters is optional. If unset, set it to an empty object.\n    if (!ext.parameters || typeof ext.parameters !== 'object') {\n        ext.parameters = {};\n    }\n    for (const key of Object.keys(ext.parameters)) {\n        let value = ext.parameters[key];\n        if (value === undefined) {\n            ext.parameters[key] = '';\n            value = '';\n        }\n        if (typeof value !== 'string' && typeof value !== 'number') {\n            throw new TypeError('invalid header extension parameter');\n        }\n    }\n}\nexports.validateRtpHeaderExtensionParameters = validateRtpHeaderExtensionParameters;\n/**\n * Validates RtpEncodingParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtpEncodingParameters(encoding) {\n    if (typeof encoding !== 'object') {\n        throw new TypeError('encoding is not an object');\n    }\n    // ssrc is optional.\n    if (encoding.ssrc && typeof encoding.ssrc !== 'number') {\n        throw new TypeError('invalid encoding.ssrc');\n    }\n    // rid is optional.\n    if (encoding.rid && typeof encoding.rid !== 'string') {\n        throw new TypeError('invalid encoding.rid');\n    }\n    // rtx is optional.\n    if (encoding.rtx && typeof encoding.rtx !== 'object') {\n        throw new TypeError('invalid encoding.rtx');\n    }\n    else if (encoding.rtx) {\n        // RTX ssrc is mandatory if rtx is present.\n        if (typeof encoding.rtx.ssrc !== 'number') {\n            throw new TypeError('missing encoding.rtx.ssrc');\n        }\n    }\n    // dtx is optional. If unset set it to false.\n    if (!encoding.dtx || typeof encoding.dtx !== 'boolean') {\n        encoding.dtx = false;\n    }\n    // scalabilityMode is optional.\n    if (encoding.scalabilityMode && typeof encoding.scalabilityMode !== 'string') {\n        throw new TypeError('invalid encoding.scalabilityMode');\n    }\n}\nexports.validateRtpEncodingParameters = validateRtpEncodingParameters;\n/**\n * Validates RtcpParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateRtcpParameters(rtcp) {\n    if (typeof rtcp !== 'object') {\n        throw new TypeError('rtcp is not an object');\n    }\n    // cname is optional.\n    if (rtcp.cname && typeof rtcp.cname !== 'string') {\n        throw new TypeError('invalid rtcp.cname');\n    }\n    // reducedSize is optional. If unset set it to true.\n    if (!rtcp.reducedSize || typeof rtcp.reducedSize !== 'boolean') {\n        rtcp.reducedSize = true;\n    }\n}\nexports.validateRtcpParameters = validateRtcpParameters;\n/**\n * Validates SctpCapabilities. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateSctpCapabilities(caps) {\n    if (typeof caps !== 'object') {\n        throw new TypeError('caps is not an object');\n    }\n    // numStreams is mandatory.\n    if (!caps.numStreams || typeof caps.numStreams !== 'object') {\n        throw new TypeError('missing caps.numStreams');\n    }\n    validateNumSctpStreams(caps.numStreams);\n}\nexports.validateSctpCapabilities = validateSctpCapabilities;\n/**\n * Validates NumSctpStreams. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateNumSctpStreams(numStreams) {\n    if (typeof numStreams !== 'object') {\n        throw new TypeError('numStreams is not an object');\n    }\n    // OS is mandatory.\n    if (typeof numStreams.OS !== 'number') {\n        throw new TypeError('missing numStreams.OS');\n    }\n    // MIS is mandatory.\n    if (typeof numStreams.MIS !== 'number') {\n        throw new TypeError('missing numStreams.MIS');\n    }\n}\nexports.validateNumSctpStreams = validateNumSctpStreams;\n/**\n * Validates SctpParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateSctpParameters(params) {\n    if (typeof params !== 'object') {\n        throw new TypeError('params is not an object');\n    }\n    // port is mandatory.\n    if (typeof params.port !== 'number') {\n        throw new TypeError('missing params.port');\n    }\n    // OS is mandatory.\n    if (typeof params.OS !== 'number') {\n        throw new TypeError('missing params.OS');\n    }\n    // MIS is mandatory.\n    if (typeof params.MIS !== 'number') {\n        throw new TypeError('missing params.MIS');\n    }\n    // maxMessageSize is mandatory.\n    if (typeof params.maxMessageSize !== 'number') {\n        throw new TypeError('missing params.maxMessageSize');\n    }\n}\nexports.validateSctpParameters = validateSctpParameters;\n/**\n * Validates SctpStreamParameters. It may modify given data by adding missing\n * fields with default values.\n * It throws if invalid.\n */\nfunction validateSctpStreamParameters(params) {\n    if (typeof params !== 'object') {\n        throw new TypeError('params is not an object');\n    }\n    // streamId is mandatory.\n    if (typeof params.streamId !== 'number') {\n        throw new TypeError('missing params.streamId');\n    }\n    // ordered is optional.\n    let orderedGiven = false;\n    if (typeof params.ordered === 'boolean') {\n        orderedGiven = true;\n    }\n    else {\n        params.ordered = true;\n    }\n    // maxPacketLifeTime is optional.\n    if (params.maxPacketLifeTime && typeof params.maxPacketLifeTime !== 'number') {\n        throw new TypeError('invalid params.maxPacketLifeTime');\n    }\n    // maxRetransmits is optional.\n    if (params.maxRetransmits && typeof params.maxRetransmits !== 'number') {\n        throw new TypeError('invalid params.maxRetransmits');\n    }\n    if (params.maxPacketLifeTime && params.maxRetransmits) {\n        throw new TypeError('cannot provide both maxPacketLifeTime and maxRetransmits');\n    }\n    if (orderedGiven &&\n        params.ordered &&\n        (params.maxPacketLifeTime || params.maxRetransmits)) {\n        throw new TypeError('cannot be ordered with maxPacketLifeTime or maxRetransmits');\n    }\n    else if (!orderedGiven && (params.maxPacketLifeTime || params.maxRetransmits)) {\n        params.ordered = false;\n    }\n    // label is optional.\n    if (params.label && typeof params.label !== 'string') {\n        throw new TypeError('invalid params.label');\n    }\n    // protocol is optional.\n    if (params.protocol && typeof params.protocol !== 'string') {\n        throw new TypeError('invalid params.protocol');\n    }\n}\nexports.validateSctpStreamParameters = validateSctpStreamParameters;\n/**\n * Generate extended RTP capabilities for sending and receiving.\n */\nfunction getExtendedRtpCapabilities(localCaps, remoteCaps) {\n    const extendedRtpCapabilities = {\n        codecs: [],\n        headerExtensions: []\n    };\n    // Match media codecs and keep the order preferred by remoteCaps.\n    for (const remoteCodec of remoteCaps.codecs || []) {\n        if (isRtxCodec(remoteCodec)) {\n            continue;\n        }\n        const matchingLocalCodec = (localCaps.codecs || [])\n            .find((localCodec) => (matchCodecs(localCodec, remoteCodec, { strict: true, modify: true })));\n        if (!matchingLocalCodec) {\n            continue;\n        }\n        const extendedCodec = {\n            mimeType: matchingLocalCodec.mimeType,\n            kind: matchingLocalCodec.kind,\n            clockRate: matchingLocalCodec.clockRate,\n            channels: matchingLocalCodec.channels,\n            localPayloadType: matchingLocalCodec.preferredPayloadType,\n            localRtxPayloadType: undefined,\n            remotePayloadType: remoteCodec.preferredPayloadType,\n            remoteRtxPayloadType: undefined,\n            localParameters: matchingLocalCodec.parameters,\n            remoteParameters: remoteCodec.parameters,\n            rtcpFeedback: reduceRtcpFeedback(matchingLocalCodec, remoteCodec)\n        };\n        extendedRtpCapabilities.codecs.push(extendedCodec);\n    }\n    // Match RTX codecs.\n    for (const extendedCodec of extendedRtpCapabilities.codecs) {\n        const matchingLocalRtxCodec = localCaps.codecs\n            .find((localCodec) => (isRtxCodec(localCodec) &&\n            localCodec.parameters.apt === extendedCodec.localPayloadType));\n        const matchingRemoteRtxCodec = remoteCaps.codecs\n            .find((remoteCodec) => (isRtxCodec(remoteCodec) &&\n            remoteCodec.parameters.apt === extendedCodec.remotePayloadType));\n        if (matchingLocalRtxCodec && matchingRemoteRtxCodec) {\n            extendedCodec.localRtxPayloadType = matchingLocalRtxCodec.preferredPayloadType;\n            extendedCodec.remoteRtxPayloadType = matchingRemoteRtxCodec.preferredPayloadType;\n        }\n    }\n    // Match header extensions.\n    for (const remoteExt of remoteCaps.headerExtensions) {\n        const matchingLocalExt = localCaps.headerExtensions\n            .find((localExt) => (matchHeaderExtensions(localExt, remoteExt)));\n        if (!matchingLocalExt) {\n            continue;\n        }\n        const extendedExt = {\n            kind: remoteExt.kind,\n            uri: remoteExt.uri,\n            sendId: matchingLocalExt.preferredId,\n            recvId: remoteExt.preferredId,\n            encrypt: matchingLocalExt.preferredEncrypt,\n            direction: 'sendrecv'\n        };\n        switch (remoteExt.direction) {\n            case 'sendrecv':\n                extendedExt.direction = 'sendrecv';\n                break;\n            case 'recvonly':\n                extendedExt.direction = 'sendonly';\n                break;\n            case 'sendonly':\n                extendedExt.direction = 'recvonly';\n                break;\n            case 'inactive':\n                extendedExt.direction = 'inactive';\n                break;\n        }\n        extendedRtpCapabilities.headerExtensions.push(extendedExt);\n    }\n    return extendedRtpCapabilities;\n}\nexports.getExtendedRtpCapabilities = getExtendedRtpCapabilities;\n/**\n * Generate RTP capabilities for receiving media based on the given extended\n * RTP capabilities.\n */\nfunction getRecvRtpCapabilities(extendedRtpCapabilities) {\n    const rtpCapabilities = {\n        codecs: [],\n        headerExtensions: []\n    };\n    for (const extendedCodec of extendedRtpCapabilities.codecs) {\n        const codec = {\n            mimeType: extendedCodec.mimeType,\n            kind: extendedCodec.kind,\n            preferredPayloadType: extendedCodec.remotePayloadType,\n            clockRate: extendedCodec.clockRate,\n            channels: extendedCodec.channels,\n            parameters: extendedCodec.localParameters,\n            rtcpFeedback: extendedCodec.rtcpFeedback\n        };\n        rtpCapabilities.codecs.push(codec);\n        // Add RTX codec.\n        if (!extendedCodec.remoteRtxPayloadType) {\n            continue;\n        }\n        const rtxCodec = {\n            mimeType: `${extendedCodec.kind}/rtx`,\n            kind: extendedCodec.kind,\n            preferredPayloadType: extendedCodec.remoteRtxPayloadType,\n            clockRate: extendedCodec.clockRate,\n            parameters: {\n                apt: extendedCodec.remotePayloadType\n            },\n            rtcpFeedback: []\n        };\n        rtpCapabilities.codecs.push(rtxCodec);\n        // TODO: In the future, we need to add FEC, CN, etc, codecs.\n    }\n    for (const extendedExtension of extendedRtpCapabilities.headerExtensions) {\n        // Ignore RTP extensions not valid for receiving.\n        if (extendedExtension.direction !== 'sendrecv' &&\n            extendedExtension.direction !== 'recvonly') {\n            continue;\n        }\n        const ext = {\n            kind: extendedExtension.kind,\n            uri: extendedExtension.uri,\n            preferredId: extendedExtension.recvId,\n            preferredEncrypt: extendedExtension.encrypt,\n            direction: extendedExtension.direction\n        };\n        rtpCapabilities.headerExtensions.push(ext);\n    }\n    return rtpCapabilities;\n}\nexports.getRecvRtpCapabilities = getRecvRtpCapabilities;\n/**\n * Generate RTP parameters of the given kind for sending media.\n * NOTE: mid, encodings and rtcp fields are left empty.\n */\nfunction getSendingRtpParameters(kind, extendedRtpCapabilities) {\n    const rtpParameters = {\n        mid: undefined,\n        codecs: [],\n        headerExtensions: [],\n        encodings: [],\n        rtcp: {}\n    };\n    for (const extendedCodec of extendedRtpCapabilities.codecs) {\n        if (extendedCodec.kind !== kind) {\n            continue;\n        }\n        const codec = {\n            mimeType: extendedCodec.mimeType,\n            payloadType: extendedCodec.localPayloadType,\n            clockRate: extendedCodec.clockRate,\n            channels: extendedCodec.channels,\n            parameters: extendedCodec.localParameters,\n            rtcpFeedback: extendedCodec.rtcpFeedback\n        };\n        rtpParameters.codecs.push(codec);\n        // Add RTX codec.\n        if (extendedCodec.localRtxPayloadType) {\n            const rtxCodec = {\n                mimeType: `${extendedCodec.kind}/rtx`,\n                payloadType: extendedCodec.localRtxPayloadType,\n                clockRate: extendedCodec.clockRate,\n                parameters: {\n                    apt: extendedCodec.localPayloadType\n                },\n                rtcpFeedback: []\n            };\n            rtpParameters.codecs.push(rtxCodec);\n        }\n    }\n    for (const extendedExtension of extendedRtpCapabilities.headerExtensions) {\n        // Ignore RTP extensions of a different kind and those not valid for sending.\n        if ((extendedExtension.kind && extendedExtension.kind !== kind) ||\n            (extendedExtension.direction !== 'sendrecv' &&\n                extendedExtension.direction !== 'sendonly')) {\n            continue;\n        }\n        const ext = {\n            uri: extendedExtension.uri,\n            id: extendedExtension.sendId,\n            encrypt: extendedExtension.encrypt,\n            parameters: {}\n        };\n        rtpParameters.headerExtensions.push(ext);\n    }\n    return rtpParameters;\n}\nexports.getSendingRtpParameters = getSendingRtpParameters;\n/**\n * Generate RTP parameters of the given kind suitable for the remote SDP answer.\n */\nfunction getSendingRemoteRtpParameters(kind, extendedRtpCapabilities) {\n    const rtpParameters = {\n        mid: undefined,\n        codecs: [],\n        headerExtensions: [],\n        encodings: [],\n        rtcp: {}\n    };\n    for (const extendedCodec of extendedRtpCapabilities.codecs) {\n        if (extendedCodec.kind !== kind) {\n            continue;\n        }\n        const codec = {\n            mimeType: extendedCodec.mimeType,\n            payloadType: extendedCodec.localPayloadType,\n            clockRate: extendedCodec.clockRate,\n            channels: extendedCodec.channels,\n            parameters: extendedCodec.remoteParameters,\n            rtcpFeedback: extendedCodec.rtcpFeedback\n        };\n        rtpParameters.codecs.push(codec);\n        // Add RTX codec.\n        if (extendedCodec.localRtxPayloadType) {\n            const rtxCodec = {\n                mimeType: `${extendedCodec.kind}/rtx`,\n                payloadType: extendedCodec.localRtxPayloadType,\n                clockRate: extendedCodec.clockRate,\n                parameters: {\n                    apt: extendedCodec.localPayloadType\n                },\n                rtcpFeedback: []\n            };\n            rtpParameters.codecs.push(rtxCodec);\n        }\n    }\n    for (const extendedExtension of extendedRtpCapabilities.headerExtensions) {\n        // Ignore RTP extensions of a different kind and those not valid for sending.\n        if ((extendedExtension.kind && extendedExtension.kind !== kind) ||\n            (extendedExtension.direction !== 'sendrecv' &&\n                extendedExtension.direction !== 'sendonly')) {\n            continue;\n        }\n        const ext = {\n            uri: extendedExtension.uri,\n            id: extendedExtension.sendId,\n            encrypt: extendedExtension.encrypt,\n            parameters: {}\n        };\n        rtpParameters.headerExtensions.push(ext);\n    }\n    // Reduce codecs' RTCP feedback. Use Transport-CC if available, REMB otherwise.\n    if (rtpParameters.headerExtensions.some((ext) => (ext.uri === 'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01'))) {\n        for (const codec of rtpParameters.codecs) {\n            codec.rtcpFeedback = (codec.rtcpFeedback || [])\n                .filter((fb) => fb.type !== 'goog-remb');\n        }\n    }\n    else if (rtpParameters.headerExtensions.some((ext) => (ext.uri === 'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time'))) {\n        for (const codec of rtpParameters.codecs) {\n            codec.rtcpFeedback = (codec.rtcpFeedback || [])\n                .filter((fb) => fb.type !== 'transport-cc');\n        }\n    }\n    else {\n        for (const codec of rtpParameters.codecs) {\n            codec.rtcpFeedback = (codec.rtcpFeedback || [])\n                .filter((fb) => (fb.type !== 'transport-cc' &&\n                fb.type !== 'goog-remb'));\n        }\n    }\n    return rtpParameters;\n}\nexports.getSendingRemoteRtpParameters = getSendingRemoteRtpParameters;\n/**\n * Reduce given codecs by returning an array of codecs \"compatible\" with the\n * given capability codec. If no capability codec is given, take the first\n * one(s).\n *\n * Given codecs must be generated by ortc.getSendingRtpParameters() or\n * ortc.getSendingRemoteRtpParameters().\n *\n * The returned array of codecs also include a RTX codec if available.\n */\nfunction reduceCodecs(codecs, capCodec) {\n    const filteredCodecs = [];\n    // If no capability codec is given, take the first one (and RTX).\n    if (!capCodec) {\n        filteredCodecs.push(codecs[0]);\n        if (isRtxCodec(codecs[1])) {\n            filteredCodecs.push(codecs[1]);\n        }\n    }\n    // Otherwise look for a compatible set of codecs.\n    else {\n        for (let idx = 0; idx < codecs.length; ++idx) {\n            if (matchCodecs(codecs[idx], capCodec)) {\n                filteredCodecs.push(codecs[idx]);\n                if (isRtxCodec(codecs[idx + 1])) {\n                    filteredCodecs.push(codecs[idx + 1]);\n                }\n                break;\n            }\n        }\n        if (filteredCodecs.length === 0) {\n            throw new TypeError('no matching codec found');\n        }\n    }\n    return filteredCodecs;\n}\nexports.reduceCodecs = reduceCodecs;\n/**\n * Create RTP parameters for a Consumer for the RTP probator.\n */\nfunction generateProbatorRtpParameters(videoRtpParameters) {\n    // Clone given reference video RTP parameters.\n    videoRtpParameters = utils.clone(videoRtpParameters, {});\n    // This may throw.\n    validateRtpParameters(videoRtpParameters);\n    const rtpParameters = {\n        mid: RTP_PROBATOR_MID,\n        codecs: [],\n        headerExtensions: [],\n        encodings: [{ ssrc: RTP_PROBATOR_SSRC }],\n        rtcp: { cname: 'probator' }\n    };\n    rtpParameters.codecs.push(videoRtpParameters.codecs[0]);\n    rtpParameters.codecs[0].payloadType = RTP_PROBATOR_CODEC_PAYLOAD_TYPE;\n    rtpParameters.headerExtensions = videoRtpParameters.headerExtensions;\n    return rtpParameters;\n}\nexports.generateProbatorRtpParameters = generateProbatorRtpParameters;\n/**\n * Whether media can be sent based on the given RTP capabilities.\n */\nfunction canSend(kind, extendedRtpCapabilities) {\n    return extendedRtpCapabilities.codecs.\n        some((codec) => codec.kind === kind);\n}\nexports.canSend = canSend;\n/**\n * Whether the given RTP parameters can be received with the given RTP\n * capabilities.\n */\nfunction canReceive(rtpParameters, extendedRtpCapabilities) {\n    // This may throw.\n    validateRtpParameters(rtpParameters);\n    if (rtpParameters.codecs.length === 0) {\n        return false;\n    }\n    const firstMediaCodec = rtpParameters.codecs[0];\n    return extendedRtpCapabilities.codecs\n        .some((codec) => codec.remotePayloadType === firstMediaCodec.payloadType);\n}\nexports.canReceive = canReceive;\nfunction isRtxCodec(codec) {\n    if (!codec) {\n        return false;\n    }\n    return /.+\\/rtx$/i.test(codec.mimeType);\n}\nfunction matchCodecs(aCodec, bCodec, { strict = false, modify = false } = {}) {\n    const aMimeType = aCodec.mimeType.toLowerCase();\n    const bMimeType = bCodec.mimeType.toLowerCase();\n    if (aMimeType !== bMimeType) {\n        return false;\n    }\n    if (aCodec.clockRate !== bCodec.clockRate) {\n        return false;\n    }\n    if (aCodec.channels !== bCodec.channels) {\n        return false;\n    }\n    // Per codec special checks.\n    switch (aMimeType) {\n        case 'video/h264':\n            {\n                if (strict) {\n                    const aPacketizationMode = aCodec.parameters['packetization-mode'] || 0;\n                    const bPacketizationMode = bCodec.parameters['packetization-mode'] || 0;\n                    if (aPacketizationMode !== bPacketizationMode) {\n                        return false;\n                    }\n                    if (!h264.isSameProfile(aCodec.parameters, bCodec.parameters)) {\n                        return false;\n                    }\n                    let selectedProfileLevelId;\n                    try {\n                        selectedProfileLevelId =\n                            h264.generateProfileLevelIdForAnswer(aCodec.parameters, bCodec.parameters);\n                    }\n                    catch (error) {\n                        return false;\n                    }\n                    if (modify) {\n                        if (selectedProfileLevelId) {\n                            aCodec.parameters['profile-level-id'] = selectedProfileLevelId;\n                            bCodec.parameters['profile-level-id'] = selectedProfileLevelId;\n                        }\n                        else {\n                            delete aCodec.parameters['profile-level-id'];\n                            delete bCodec.parameters['profile-level-id'];\n                        }\n                    }\n                }\n                break;\n            }\n        case 'video/vp9':\n            {\n                if (strict) {\n                    const aProfileId = aCodec.parameters['profile-id'] || 0;\n                    const bProfileId = bCodec.parameters['profile-id'] || 0;\n                    if (aProfileId !== bProfileId) {\n                        return false;\n                    }\n                }\n                break;\n            }\n    }\n    return true;\n}\nfunction matchHeaderExtensions(aExt, bExt) {\n    if (aExt.kind && bExt.kind && aExt.kind !== bExt.kind) {\n        return false;\n    }\n    if (aExt.uri !== bExt.uri) {\n        return false;\n    }\n    return true;\n}\nfunction reduceRtcpFeedback(codecA, codecB) {\n    const reducedRtcpFeedback = [];\n    for (const aFb of codecA.rtcpFeedback || []) {\n        const matchingBFb = (codecB.rtcpFeedback || [])\n            .find((bFb) => (bFb.type === aFb.type &&\n            (bFb.parameter === aFb.parameter || (!bFb.parameter && !aFb.parameter))));\n        if (matchingBFb) {\n            reducedRtcpFeedback.push(matchingBFb);\n        }\n    }\n    return reducedRtcpFeedback;\n}\n","const debug = require('debug')('h264-profile-level-id');\n\n/* eslint-disable no-console */\ndebug.log = console.info.bind(console);\n/* eslint-enable no-console */\n\nconst ProfileConstrainedBaseline = 1;\nconst ProfileBaseline = 2;\nconst ProfileMain = 3;\nconst ProfileConstrainedHigh = 4;\nconst ProfileHigh = 5;\n\nexports.ProfileConstrainedBaseline = ProfileConstrainedBaseline;\nexports.ProfileBaseline = ProfileBaseline;\nexports.ProfileMain = ProfileMain;\nexports.ProfileConstrainedHigh = ProfileConstrainedHigh;\nexports.ProfileHigh = ProfileHigh;\n\n// All values are equal to ten times the level number, except level 1b which is\n// special.\nconst Level1_b = 0;\nconst Level1 = 10;\nconst Level1_1 = 11;\nconst Level1_2 = 12;\nconst Level1_3 = 13;\nconst Level2 = 20;\nconst Level2_1 = 21;\nconst Level2_2 = 22;\nconst Level3 = 30;\nconst Level3_1 = 31;\nconst Level3_2 = 32;\nconst Level4 = 40;\nconst Level4_1 = 41;\nconst Level4_2 = 42;\nconst Level5 = 50;\nconst Level5_1 = 51;\nconst Level5_2 = 52;\n\nexports.Level1_b = Level1_b;\nexports.Level1 = Level1;\nexports.Level1_1 = Level1_1;\nexports.Level1_2 = Level1_2;\nexports.Level1_3 = Level1_3;\nexports.Level2 = Level2;\nexports.Level2_1 = Level2_1;\nexports.Level2_2 = Level2_2;\nexports.Level3 = Level3;\nexports.Level3_1 = Level3_1;\nexports.Level3_2 = Level3_2;\nexports.Level4 = Level4;\nexports.Level4_1 = Level4_1;\nexports.Level4_2 = Level4_2;\nexports.Level5 = Level5;\nexports.Level5_1 = Level5_1;\nexports.Level5_2 = Level5_2;\n\nclass ProfileLevelId\n{\n\tconstructor(profile, level)\n\t{\n\t\tthis.profile = profile;\n\t\tthis.level = level;\n\t}\n}\n\nexports.ProfileLevelId = ProfileLevelId;\n\n// Default ProfileLevelId.\n//\n// TODO: The default should really be profile Baseline and level 1 according to\n// the spec: https://tools.ietf.org/html/rfc6184#section-8.1. In order to not\n// break backwards compatibility with older versions of WebRTC where external\n// codecs don't have any parameters, use profile ConstrainedBaseline level 3_1\n// instead. This workaround will only be done in an interim period to allow\n// external clients to update their code.\n//\n// http://crbug/webrtc/6337.\nconst DefaultProfileLevelId =\n\tnew ProfileLevelId(ProfileConstrainedBaseline, Level3_1);\n\n// For level_idc=11 and profile_idc=0x42, 0x4D, or 0x58, the constraint set3\n// flag specifies if level 1b or level 1.1 is used.\nconst ConstraintSet3Flag = 0x10;\n\n// Class for matching bit patterns such as \"x1xx0000\" where 'x' is allowed to be\n// either 0 or 1.\nclass BitPattern\n{\n\tconstructor(str)\n\t{\n\t\tthis._mask = ~byteMaskString('x', str);\n\t\tthis._maskedValue = byteMaskString('1', str);\n\t}\n\n\tisMatch(value)\n\t{\n\t\treturn this._maskedValue === (value & this._mask);\n\t}\n}\n\n// Class for converting between profile_idc/profile_iop to Profile.\nclass ProfilePattern\n{\n\tconstructor(profile_idc, profile_iop, profile)\n\t{\n\t\tthis.profile_idc = profile_idc;\n\t\tthis.profile_iop = profile_iop;\n\t\tthis.profile = profile;\n\t}\n}\n\n// This is from https://tools.ietf.org/html/rfc6184#section-8.1.\nconst ProfilePatterns =\n[\n\tnew ProfilePattern(0x42, new BitPattern('x1xx0000'), ProfileConstrainedBaseline),\n\tnew ProfilePattern(0x4D, new BitPattern('1xxx0000'), ProfileConstrainedBaseline),\n\tnew ProfilePattern(0x58, new BitPattern('11xx0000'), ProfileConstrainedBaseline),\n\tnew ProfilePattern(0x42, new BitPattern('x0xx0000'), ProfileBaseline),\n\tnew ProfilePattern(0x58, new BitPattern('10xx0000'), ProfileBaseline),\n\tnew ProfilePattern(0x4D, new BitPattern('0x0x0000'), ProfileMain),\n\tnew ProfilePattern(0x64, new BitPattern('00000000'), ProfileHigh),\n\tnew ProfilePattern(0x64, new BitPattern('00001100'), ProfileConstrainedHigh)\n];\n\n/**\n * Parse profile level id that is represented as a string of 3 hex bytes.\n * Nothing will be returned if the string is not a recognized H264 profile\n * level id.\n *\n * @param {String} str - profile-level-id value as a string of 3 hex bytes.\n *\n * @returns {ProfileLevelId}\n */\nexports.parseProfileLevelId = function(str)\n{\n\t// The string should consist of 3 bytes in hexadecimal format.\n\tif (typeof str !== 'string' || str.length !== 6)\n\t\treturn null;\n\n\tconst profile_level_id_numeric = parseInt(str, 16);\n\n\tif (profile_level_id_numeric === 0)\n\t\treturn null;\n\n\t// Separate into three bytes.\n\tconst level_idc = profile_level_id_numeric & 0xFF;\n\tconst profile_iop = (profile_level_id_numeric >> 8) & 0xFF;\n\tconst profile_idc = (profile_level_id_numeric >> 16) & 0xFF;\n\n\t// Parse level based on level_idc and constraint set 3 flag.\n\tlet level;\n\n\tswitch (level_idc)\n\t{\n\t\tcase Level1_1:\n\t\t{\n\t\t\tlevel = (profile_iop & ConstraintSet3Flag) !== 0 ? Level1_b : Level1_1;\n\t\t\tbreak;\n\t\t}\n\t\tcase Level1:\n\t\tcase Level1_2:\n\t\tcase Level1_3:\n\t\tcase Level2:\n\t\tcase Level2_1:\n\t\tcase Level2_2:\n\t\tcase Level3:\n\t\tcase Level3_1:\n\t\tcase Level3_2:\n\t\tcase Level4:\n\t\tcase Level4_1:\n\t\tcase Level4_2:\n\t\tcase Level5:\n\t\tcase Level5_1:\n\t\tcase Level5_2:\n\t\t{\n\t\t\tlevel = level_idc;\n\t\t\tbreak;\n\t\t}\n\t\t// Unrecognized level_idc.\n\t\tdefault:\n\t\t{\n\t\t\tdebug('parseProfileLevelId() | unrecognized level_idc:%s', level_idc);\n\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Parse profile_idc/profile_iop into a Profile enum.\n\tfor (const pattern of ProfilePatterns)\n\t{\n\t\tif (\n\t\t\tprofile_idc === pattern.profile_idc &&\n\t\t\tpattern.profile_iop.isMatch(profile_iop)\n\t\t)\n\t\t{\n\t\t\treturn new ProfileLevelId(pattern.profile, level);\n\t\t}\n\t}\n\n\tdebug('parseProfileLevelId() | unrecognized profile_idc/profile_iop combination');\n\n\treturn null;\n};\n\n/**\n * Returns canonical string representation as three hex bytes of the profile\n * level id, or returns nothing for invalid profile level ids.\n *\n * @param {ProfileLevelId} profile_level_id\n *\n * @returns {String}\n */\nexports.profileLevelIdToString = function(profile_level_id)\n{\n\t// Handle special case level == 1b.\n\tif (profile_level_id.level == Level1_b)\n\t{\n\t\tswitch (profile_level_id.profile)\n\t\t{\n\t\t\tcase ProfileConstrainedBaseline:\n\t\t\t{\n\t\t\t\treturn '42f00b';\n\t\t\t}\n\t\t\tcase ProfileBaseline:\n\t\t\t{\n\t\t\t\treturn '42100b';\n\t\t\t}\n\t\t\tcase ProfileMain:\n\t\t\t{\n\t\t\t\treturn '4d100b';\n\t\t\t}\n\t\t\t// Level 1_b is not allowed for other profiles.\n\t\t\tdefault:\n\t\t\t{\n\t\t\t\tdebug(\n\t\t\t\t\t'profileLevelIdToString() | Level 1_b not is allowed for profile:%s',\n\t\t\t\t\tprofile_level_id.profile);\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\n\tlet profile_idc_iop_string;\n\n\tswitch (profile_level_id.profile)\n\t{\n\t\tcase ProfileConstrainedBaseline:\n\t\t{\n\t\t\tprofile_idc_iop_string = '42e0';\n\t\t\tbreak;\n\t\t}\n\t\tcase ProfileBaseline:\n\t\t{\n\t\t\tprofile_idc_iop_string = '4200';\n\t\t\tbreak;\n\t\t}\n\t\tcase ProfileMain:\n\t\t{\n\t\t\tprofile_idc_iop_string = '4d00';\n\t\t\tbreak;\n\t\t}\n\t\tcase ProfileConstrainedHigh:\n\t\t{\n\t\t\tprofile_idc_iop_string = '640c';\n\t\t\tbreak;\n\t\t}\n\t\tcase ProfileHigh:\n\t\t{\n\t\t\tprofile_idc_iop_string = '6400';\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t{\n\t\t\tdebug(\n\t\t\t\t'profileLevelIdToString() | unrecognized profile:%s',\n\t\t\t\tprofile_level_id.profile);\n\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tlet levelStr = (profile_level_id.level).toString(16);\n\n\tif (levelStr.length === 1)\n\t\tlevelStr = `0${levelStr}`;\n\n\treturn `${profile_idc_iop_string}${levelStr}`;\n};\n\n/**\n * Parse profile level id that is represented as a string of 3 hex bytes\n * contained in an SDP key-value map. A default profile level id will be\n * returned if the profile-level-id key is missing. Nothing will be returned if\n * the key is present but the string is invalid.\n *\n * @param {Object} [params={}] - Codec parameters object.\n *\n * @returns {ProfileLevelId}\n */\nexports.parseSdpProfileLevelId = function(params = {})\n{\n\tconst profile_level_id = params['profile-level-id'];\n\n\treturn !profile_level_id\n\t\t? DefaultProfileLevelId\n\t\t: exports.parseProfileLevelId(profile_level_id);\n};\n\n/**\n * Returns true if the parameters have the same H264 profile, i.e. the same\n * H264 profile (Baseline, High, etc).\n *\n * @param {Object} [params1={}] - Codec parameters object.\n * @param {Object} [params2={}] - Codec parameters object.\n *\n * @returns {Boolean}\n */\nexports.isSameProfile = function(params1 = {}, params2 = {})\n{\n\tconst profile_level_id_1 = exports.parseSdpProfileLevelId(params1);\n\tconst profile_level_id_2 = exports.parseSdpProfileLevelId(params2);\n\n\t// Compare H264 profiles, but not levels.\n\treturn Boolean(\n\t\tprofile_level_id_1 &&\n\t\tprofile_level_id_2 &&\n\t\tprofile_level_id_1.profile === profile_level_id_2.profile\n\t);\n};\n\n/**\n * Generate codec parameters that will be used as answer in an SDP negotiation\n * based on local supported parameters and remote offered parameters. Both\n * local_supported_params and remote_offered_params represent sendrecv media\n * descriptions, i.e they are a mix of both encode and decode capabilities. In\n * theory, when the profile in local_supported_params represent a strict superset\n * of the profile in remote_offered_params, we could limit the profile in the\n * answer to the profile in remote_offered_params.\n *\n * However, to simplify the code, each supported H264 profile should be listed\n * explicitly in the list of local supported codecs, even if they are redundant.\n * Then each local codec in the list should be tested one at a time against the\n * remote codec, and only when the profiles are equal should this function be\n * called. Therefore, this function does not need to handle profile intersection,\n * and the profile of local_supported_params and remote_offered_params must be\n * equal before calling this function. The parameters that are used when\n * negotiating are the level part of profile-level-id and level-asymmetry-allowed.\n *\n * @param {Object} [local_supported_params={}]\n * @param {Object} [remote_offered_params={}]\n *\n * @returns {String} Canonical string representation as three hex bytes of the\n *   profile level id, or null if no one of the params have profile-level-id.\n *\n * @throws {TypeError} If Profile mismatch or invalid params.\n */\nexports.generateProfileLevelIdForAnswer = function(\n\tlocal_supported_params = {},\n\tremote_offered_params = {}\n)\n{\n\t// If both local and remote params do not contain profile-level-id, they are\n\t// both using the default profile. In this case, don't return anything.\n\tif (\n\t\t!local_supported_params['profile-level-id'] &&\n\t\t!remote_offered_params['profile-level-id']\n\t)\n\t{\n\t\tdebug(\n\t\t\t'generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params');\n\n\t\treturn null;\n\t}\n\n\t// Parse profile-level-ids.\n\tconst local_profile_level_id =\n\t\texports.parseSdpProfileLevelId(local_supported_params);\n\tconst remote_profile_level_id =\n\t\texports.parseSdpProfileLevelId(remote_offered_params);\n\n\t// The local and remote codec must have valid and equal H264 Profiles.\n\tif (!local_profile_level_id)\n\t\tthrow new TypeError('invalid local_profile_level_id');\n\n\tif (!remote_profile_level_id)\n\t\tthrow new TypeError('invalid remote_profile_level_id');\n\n\tif (local_profile_level_id.profile !== remote_profile_level_id.profile)\n\t\tthrow new TypeError('H264 Profile mismatch');\n\n\t// Parse level information.\n\tconst level_asymmetry_allowed = (\n\t\tisLevelAsymmetryAllowed(local_supported_params) &&\n\t\tisLevelAsymmetryAllowed(remote_offered_params)\n\t);\n\n\tconst local_level = local_profile_level_id.level;\n\tconst remote_level = remote_profile_level_id.level;\n\tconst min_level = minLevel(local_level, remote_level);\n\n\t// Determine answer level. When level asymmetry is not allowed, level upgrade\n\t// is not allowed, i.e., the level in the answer must be equal to or lower\n\t// than the level in the offer.\n\tconst answer_level = level_asymmetry_allowed ? local_level : min_level;\n\n\tdebug(\n\t\t'generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]',\n\t\tlocal_profile_level_id.profile, answer_level);\n\n\t// Return the resulting profile-level-id for the answer parameters.\n\treturn exports.profileLevelIdToString(\n\t\tnew ProfileLevelId(local_profile_level_id.profile, answer_level));\n};\n\n// Convert a string of 8 characters into a byte where the positions containing\n// character c will have their bit set. For example, c = 'x', str = \"x1xx0000\"\n// will return 0b10110000.\nfunction byteMaskString(c, str)\n{\n\treturn (\n\t\t((str[0] === c) << 7) | ((str[1] === c) << 6) | ((str[2] === c) << 5) |\n\t\t((str[3] === c) << 4)\t| ((str[4] === c) << 3)\t| ((str[5] === c) << 2)\t|\n\t\t((str[6] === c) << 1)\t| ((str[7] === c) << 0)\n\t);\n}\n\n// Compare H264 levels and handle the level 1b case.\nfunction isLessLevel(a, b)\n{\n\tif (a === Level1_b)\n\t\treturn b !== Level1 && b !== Level1_b;\n\n\tif (b === Level1_b)\n\t\treturn a !== Level1;\n\n\treturn a < b;\n}\n\nfunction minLevel(a, b)\n{\n\treturn isLessLevel(a, b) ? a : b;\n}\n\nfunction isLevelAsymmetryAllowed(params = {})\n{\n\tconst level_asymmetry_allowed = params['level-asymmetry-allowed'];\n\n\treturn (\n\t\tlevel_asymmetry_allowed === 1 ||\n\t\tlevel_asymmetry_allowed === '1'\n\t);\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = void 0;\nconst awaitqueue_1 = require(\"awaitqueue\");\nconst queue_microtask_1 = __importDefault(require(\"queue-microtask\"));\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst errors_1 = require(\"./errors\");\nconst utils = __importStar(require(\"./utils\"));\nconst ortc = __importStar(require(\"./ortc\"));\nconst Producer_1 = require(\"./Producer\");\nconst Consumer_1 = require(\"./Consumer\");\nconst DataProducer_1 = require(\"./DataProducer\");\nconst DataConsumer_1 = require(\"./DataConsumer\");\nconst logger = new Logger_1.Logger('Transport');\nclass ConsumerCreationTask {\n    constructor(consumerOptions) {\n        this.consumerOptions = consumerOptions;\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n    }\n}\nclass Transport extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor({ direction, id, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, appData, handlerFactory, extendedRtpCapabilities, canProduceByKind }) {\n        super();\n        // Closed flag.\n        this._closed = false;\n        // Transport connection state.\n        this._connectionState = 'new';\n        // Map of Producers indexed by id.\n        this._producers = new Map();\n        // Map of Consumers indexed by id.\n        this._consumers = new Map();\n        // Map of DataProducers indexed by id.\n        this._dataProducers = new Map();\n        // Map of DataConsumers indexed by id.\n        this._dataConsumers = new Map();\n        // Whether the Consumer for RTP probation has been created.\n        this._probatorConsumerCreated = false;\n        // AwaitQueue instance to make async tasks happen sequentially.\n        this._awaitQueue = new awaitqueue_1.AwaitQueue();\n        // Consumer creation tasks awaiting to be processed.\n        this._pendingConsumerTasks = [];\n        // Consumer creation in progress flag.\n        this._consumerCreationInProgress = false;\n        // Consumers pending to be paused.\n        this._pendingPauseConsumers = new Map();\n        // Consumer pause in progress flag.\n        this._consumerPauseInProgress = false;\n        // Consumers pending to be resumed.\n        this._pendingResumeConsumers = new Map();\n        // Consumer resume in progress flag.\n        this._consumerResumeInProgress = false;\n        // Consumers pending to be closed.\n        this._pendingCloseConsumers = new Map();\n        // Consumer close in progress flag.\n        this._consumerCloseInProgress = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor() [id:%s, direction:%s]', id, direction);\n        this._id = id;\n        this._direction = direction;\n        this._extendedRtpCapabilities = extendedRtpCapabilities;\n        this._canProduceByKind = canProduceByKind;\n        this._maxSctpMessageSize =\n            sctpParameters ? sctpParameters.maxMessageSize : null;\n        // Clone and sanitize additionalSettings.\n        additionalSettings = utils.clone(additionalSettings, {});\n        delete additionalSettings.iceServers;\n        delete additionalSettings.iceTransportPolicy;\n        delete additionalSettings.bundlePolicy;\n        delete additionalSettings.rtcpMuxPolicy;\n        delete additionalSettings.sdpSemantics;\n        this._handler = handlerFactory();\n        this._handler.run({\n            direction,\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            iceServers,\n            iceTransportPolicy,\n            additionalSettings,\n            proprietaryConstraints,\n            extendedRtpCapabilities\n        });\n        this._appData = appData || {};\n        this.handleHandler();\n    }\n    /**\n     * Transport id.\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Whether the Transport is closed.\n     */\n    get closed() {\n        return this._closed;\n    }\n    /**\n     * Transport direction.\n     */\n    get direction() {\n        return this._direction;\n    }\n    /**\n     * RTC handler instance.\n     */\n    get handler() {\n        return this._handler;\n    }\n    /**\n     * Connection state.\n     */\n    get connectionState() {\n        return this._connectionState;\n    }\n    /**\n     * App custom data.\n     */\n    get appData() {\n        return this._appData;\n    }\n    /**\n     * Invalid setter.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    set appData(appData) {\n        throw new Error('cannot override appData object');\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Close the Transport.\n     */\n    close() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('close()');\n        this._closed = true;\n        // Stop the AwaitQueue.\n        this._awaitQueue.stop();\n        // Close the handler.\n        this._handler.close();\n        // Close all Producers.\n        for (const producer of this._producers.values()) {\n            producer.transportClosed();\n        }\n        this._producers.clear();\n        // Close all Consumers.\n        for (const consumer of this._consumers.values()) {\n            consumer.transportClosed();\n        }\n        this._consumers.clear();\n        // Close all DataProducers.\n        for (const dataProducer of this._dataProducers.values()) {\n            dataProducer.transportClosed();\n        }\n        this._dataProducers.clear();\n        // Close all DataConsumers.\n        for (const dataConsumer of this._dataConsumers.values()) {\n            dataConsumer.transportClosed();\n        }\n        this._dataConsumers.clear();\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Get associated Transport (RTCPeerConnection) stats.\n     *\n     * @returns {RTCStatsReport}\n     */\n    async getStats() {\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        return this._handler.getTransportStats();\n    }\n    /**\n     * Restart ICE connection.\n     */\n    async restartIce({ iceParameters }) {\n        logger.debug('restartIce()');\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (!iceParameters) {\n            throw new TypeError('missing iceParameters');\n        }\n        // Enqueue command.\n        return this._awaitQueue.push(async () => this._handler.restartIce(iceParameters), 'transport.restartIce()');\n    }\n    /**\n     * Update ICE servers.\n     */\n    async updateIceServers({ iceServers } = {}) {\n        logger.debug('updateIceServers()');\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (!Array.isArray(iceServers)) {\n            throw new TypeError('missing iceServers');\n        }\n        // Enqueue command.\n        return this._awaitQueue.push(async () => this._handler.updateIceServers(iceServers), 'transport.updateIceServers()');\n    }\n    /**\n     * Create a Producer.\n     */\n    async produce({ track, encodings, codecOptions, codec, stopTracks = true, disableTrackOnPause = true, zeroRtpOnPause = false, appData = {} } = {}) {\n        logger.debug('produce() [track:%o]', track);\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (!track) {\n            throw new TypeError('missing track');\n        }\n        else if (this._direction !== 'send') {\n            throw new errors_1.UnsupportedError('not a sending Transport');\n        }\n        else if (!this._canProduceByKind[track.kind]) {\n            throw new errors_1.UnsupportedError(`cannot produce ${track.kind}`);\n        }\n        else if (track.readyState === 'ended') {\n            throw new errors_1.InvalidStateError('track ended');\n        }\n        else if (this.listenerCount('connect') === 0 && this._connectionState === 'new') {\n            throw new TypeError('no \"connect\" listener set into this transport');\n        }\n        else if (this.listenerCount('produce') === 0) {\n            throw new TypeError('no \"produce\" listener set into this transport');\n        }\n        else if (appData && typeof appData !== 'object') {\n            throw new TypeError('if given, appData must be an object');\n        }\n        // Enqueue command.\n        return this._awaitQueue.push(async () => {\n            let normalizedEncodings;\n            if (encodings && !Array.isArray(encodings)) {\n                throw TypeError('encodings must be an array');\n            }\n            else if (encodings && encodings.length === 0) {\n                normalizedEncodings = undefined;\n            }\n            else if (encodings) {\n                normalizedEncodings = encodings\n                    .map((encoding) => {\n                    const normalizedEncoding = { active: true };\n                    if (encoding.active === false) {\n                        normalizedEncoding.active = false;\n                    }\n                    if (typeof encoding.dtx === 'boolean') {\n                        normalizedEncoding.dtx = encoding.dtx;\n                    }\n                    if (typeof encoding.scalabilityMode === 'string') {\n                        normalizedEncoding.scalabilityMode = encoding.scalabilityMode;\n                    }\n                    if (typeof encoding.scaleResolutionDownBy === 'number') {\n                        normalizedEncoding.scaleResolutionDownBy = encoding.scaleResolutionDownBy;\n                    }\n                    if (typeof encoding.maxBitrate === 'number') {\n                        normalizedEncoding.maxBitrate = encoding.maxBitrate;\n                    }\n                    if (typeof encoding.maxFramerate === 'number') {\n                        normalizedEncoding.maxFramerate = encoding.maxFramerate;\n                    }\n                    if (typeof encoding.adaptivePtime === 'boolean') {\n                        normalizedEncoding.adaptivePtime = encoding.adaptivePtime;\n                    }\n                    if (typeof encoding.priority === 'string') {\n                        normalizedEncoding.priority = encoding.priority;\n                    }\n                    if (typeof encoding.networkPriority === 'string') {\n                        normalizedEncoding.networkPriority = encoding.networkPriority;\n                    }\n                    return normalizedEncoding;\n                });\n            }\n            const { localId, rtpParameters, rtpSender } = await this._handler.send({\n                track,\n                encodings: normalizedEncodings,\n                codecOptions,\n                codec\n            });\n            try {\n                // This will fill rtpParameters's missing fields with default values.\n                ortc.validateRtpParameters(rtpParameters);\n                const { id } = await new Promise((resolve, reject) => {\n                    this.safeEmit('produce', {\n                        kind: track.kind,\n                        rtpParameters,\n                        appData\n                    }, resolve, reject);\n                });\n                const producer = new Producer_1.Producer({\n                    id,\n                    localId,\n                    rtpSender,\n                    track,\n                    rtpParameters,\n                    stopTracks,\n                    disableTrackOnPause,\n                    zeroRtpOnPause,\n                    appData\n                });\n                this._producers.set(producer.id, producer);\n                this.handleProducer(producer);\n                // Emit observer event.\n                this._observer.safeEmit('newproducer', producer);\n                return producer;\n            }\n            catch (error) {\n                this._handler.stopSending(localId)\n                    .catch(() => { });\n                throw error;\n            }\n        }, 'transport.produce()')\n            // This catch is needed to stop the given track if the command above\n            // failed due to closed Transport.\n            .catch((error) => {\n            if (stopTracks) {\n                try {\n                    track.stop();\n                }\n                catch (error2) { }\n            }\n            throw error;\n        });\n    }\n    /**\n     * Create a Consumer to consume a remote Producer.\n     */\n    async consume({ id, producerId, kind, rtpParameters, streamId, appData = {} }) {\n        logger.debug('consume()');\n        rtpParameters = utils.clone(rtpParameters, undefined);\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (this._direction !== 'recv') {\n            throw new errors_1.UnsupportedError('not a receiving Transport');\n        }\n        else if (typeof id !== 'string') {\n            throw new TypeError('missing id');\n        }\n        else if (typeof producerId !== 'string') {\n            throw new TypeError('missing producerId');\n        }\n        else if (kind !== 'audio' && kind !== 'video') {\n            throw new TypeError(`invalid kind '${kind}'`);\n        }\n        else if (this.listenerCount('connect') === 0 && this._connectionState === 'new') {\n            throw new TypeError('no \"connect\" listener set into this transport');\n        }\n        else if (appData && typeof appData !== 'object') {\n            throw new TypeError('if given, appData must be an object');\n        }\n        // Ensure the device can consume it.\n        const canConsume = ortc.canReceive(rtpParameters, this._extendedRtpCapabilities);\n        if (!canConsume) {\n            throw new errors_1.UnsupportedError('cannot consume this Producer');\n        }\n        const consumerCreationTask = new ConsumerCreationTask({\n            id,\n            producerId,\n            kind,\n            rtpParameters,\n            streamId,\n            appData\n        });\n        // Store the Consumer creation task.\n        this._pendingConsumerTasks.push(consumerCreationTask);\n        // There is no Consumer creation in progress, create it now.\n        (0, queue_microtask_1.default)(() => {\n            if (this._closed) {\n                throw new errors_1.InvalidStateError('closed');\n            }\n            if (this._consumerCreationInProgress === false) {\n                this.createPendingConsumers();\n            }\n        });\n        return consumerCreationTask.promise;\n    }\n    /**\n     * Create a DataProducer\n     */\n    async produceData({ ordered = true, maxPacketLifeTime, maxRetransmits, label = '', protocol = '', appData = {} } = {}) {\n        logger.debug('produceData()');\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (this._direction !== 'send') {\n            throw new errors_1.UnsupportedError('not a sending Transport');\n        }\n        else if (!this._maxSctpMessageSize) {\n            throw new errors_1.UnsupportedError('SCTP not enabled by remote Transport');\n        }\n        else if (this.listenerCount('connect') === 0 && this._connectionState === 'new') {\n            throw new TypeError('no \"connect\" listener set into this transport');\n        }\n        else if (this.listenerCount('producedata') === 0) {\n            throw new TypeError('no \"producedata\" listener set into this transport');\n        }\n        else if (appData && typeof appData !== 'object') {\n            throw new TypeError('if given, appData must be an object');\n        }\n        if (maxPacketLifeTime || maxRetransmits) {\n            ordered = false;\n        }\n        // Enqueue command.\n        return this._awaitQueue.push(async () => {\n            const { dataChannel, sctpStreamParameters } = await this._handler.sendDataChannel({\n                ordered,\n                maxPacketLifeTime,\n                maxRetransmits,\n                label,\n                protocol\n            });\n            // This will fill sctpStreamParameters's missing fields with default values.\n            ortc.validateSctpStreamParameters(sctpStreamParameters);\n            const { id } = await new Promise((resolve, reject) => {\n                this.safeEmit('producedata', {\n                    sctpStreamParameters,\n                    label,\n                    protocol,\n                    appData\n                }, resolve, reject);\n            });\n            const dataProducer = new DataProducer_1.DataProducer({ id, dataChannel, sctpStreamParameters, appData });\n            this._dataProducers.set(dataProducer.id, dataProducer);\n            this.handleDataProducer(dataProducer);\n            // Emit observer event.\n            this._observer.safeEmit('newdataproducer', dataProducer);\n            return dataProducer;\n        }, 'transport.produceData()');\n    }\n    /**\n     * Create a DataConsumer\n     */\n    async consumeData({ id, dataProducerId, sctpStreamParameters, label = '', protocol = '', appData = {} }) {\n        logger.debug('consumeData()');\n        sctpStreamParameters = utils.clone(sctpStreamParameters, undefined);\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (this._direction !== 'recv') {\n            throw new errors_1.UnsupportedError('not a receiving Transport');\n        }\n        else if (!this._maxSctpMessageSize) {\n            throw new errors_1.UnsupportedError('SCTP not enabled by remote Transport');\n        }\n        else if (typeof id !== 'string') {\n            throw new TypeError('missing id');\n        }\n        else if (typeof dataProducerId !== 'string') {\n            throw new TypeError('missing dataProducerId');\n        }\n        else if (this.listenerCount('connect') === 0 && this._connectionState === 'new') {\n            throw new TypeError('no \"connect\" listener set into this transport');\n        }\n        else if (appData && typeof appData !== 'object') {\n            throw new TypeError('if given, appData must be an object');\n        }\n        // This may throw.\n        ortc.validateSctpStreamParameters(sctpStreamParameters);\n        // Enqueue command.\n        return this._awaitQueue.push(async () => {\n            const { dataChannel } = await this._handler.receiveDataChannel({\n                sctpStreamParameters,\n                label,\n                protocol\n            });\n            const dataConsumer = new DataConsumer_1.DataConsumer({\n                id,\n                dataProducerId,\n                dataChannel,\n                sctpStreamParameters,\n                appData\n            });\n            this._dataConsumers.set(dataConsumer.id, dataConsumer);\n            this.handleDataConsumer(dataConsumer);\n            // Emit observer event.\n            this._observer.safeEmit('newdataconsumer', dataConsumer);\n            return dataConsumer;\n        }, 'transport.consumeData()');\n    }\n    // This method is guaranteed to never throw.\n    async createPendingConsumers() {\n        this._consumerCreationInProgress = true;\n        this._awaitQueue.push(async () => {\n            if (this._pendingConsumerTasks.length === 0) {\n                logger.debug('createPendingConsumers() | there is no Consumer to be created');\n                return;\n            }\n            const pendingConsumerTasks = [...this._pendingConsumerTasks];\n            // Clear pending Consumer tasks.\n            this._pendingConsumerTasks = [];\n            // Video Consumer in order to create the probator.\n            let videoConsumerForProbator = undefined;\n            // Fill options list.\n            const optionsList = [];\n            for (const task of pendingConsumerTasks) {\n                const { id, kind, rtpParameters, streamId } = task.consumerOptions;\n                optionsList.push({\n                    trackId: id,\n                    kind: kind,\n                    rtpParameters,\n                    streamId\n                });\n            }\n            try {\n                const results = await this._handler.receive(optionsList);\n                for (let idx = 0; idx < results.length; idx++) {\n                    const task = pendingConsumerTasks[idx];\n                    const result = results[idx];\n                    const { id, producerId, kind, rtpParameters, appData } = task.consumerOptions;\n                    const { localId, rtpReceiver, track } = result;\n                    const consumer = new Consumer_1.Consumer({\n                        id: id,\n                        localId,\n                        producerId: producerId,\n                        rtpReceiver,\n                        track,\n                        rtpParameters,\n                        appData\n                    });\n                    this._consumers.set(consumer.id, consumer);\n                    this.handleConsumer(consumer);\n                    // If this is the first video Consumer and the Consumer for RTP probation\n                    // has not yet been created, it's time to create it.\n                    if (!this._probatorConsumerCreated &&\n                        !videoConsumerForProbator && kind === 'video') {\n                        videoConsumerForProbator = consumer;\n                    }\n                    // Emit observer event.\n                    this._observer.safeEmit('newconsumer', consumer);\n                    task.resolve(consumer);\n                }\n            }\n            catch (error) {\n                for (const task of pendingConsumerTasks) {\n                    task.reject(error);\n                }\n            }\n            // If RTP probation must be handled, do it now.\n            if (videoConsumerForProbator) {\n                try {\n                    const probatorRtpParameters = ortc.generateProbatorRtpParameters(videoConsumerForProbator.rtpParameters);\n                    await this._handler.receive([{\n                            trackId: 'probator',\n                            kind: 'video',\n                            rtpParameters: probatorRtpParameters\n                        }]);\n                    logger.debug('createPendingConsumers() | Consumer for RTP probation created');\n                    this._probatorConsumerCreated = true;\n                }\n                catch (error) {\n                    logger.error('createPendingConsumers() | failed to create Consumer for RTP probation:%o', error);\n                }\n            }\n        }, 'transport.createPendingConsumers()')\n            .then(() => {\n            this._consumerCreationInProgress = false;\n            // There are pending Consumer tasks, enqueue their creation.\n            if (this._pendingConsumerTasks.length > 0) {\n                this.createPendingConsumers();\n            }\n        })\n            // NOTE: We only get here when the await queue is closed.\n            .catch(() => { });\n    }\n    pausePendingConsumers() {\n        this._consumerPauseInProgress = true;\n        this._awaitQueue.push(async () => {\n            if (this._pendingPauseConsumers.size === 0) {\n                logger.debug('pausePendingConsumers() | there is no Consumer to be paused');\n                return;\n            }\n            const pendingPauseConsumers = Array.from(this._pendingPauseConsumers.values());\n            // Clear pending pause Consumer map.\n            this._pendingPauseConsumers.clear();\n            try {\n                const localIds = pendingPauseConsumers\n                    .map((consumer) => consumer.localId);\n                await this._handler.pauseReceiving(localIds);\n            }\n            catch (error) {\n                logger.error('pausePendingConsumers() | failed to pause Consumers:', error);\n            }\n        }, 'transport.pausePendingConsumers')\n            .then(() => {\n            this._consumerPauseInProgress = false;\n            // There are pending Consumers to be paused, do it.\n            if (this._pendingPauseConsumers.size > 0) {\n                this.pausePendingConsumers();\n            }\n        })\n            // NOTE: We only get here when the await queue is closed.\n            .catch(() => { });\n    }\n    resumePendingConsumers() {\n        this._consumerResumeInProgress = true;\n        this._awaitQueue.push(async () => {\n            if (this._pendingResumeConsumers.size === 0) {\n                logger.debug('resumePendingConsumers() | there is no Consumer to be resumed');\n                return;\n            }\n            const pendingResumeConsumers = Array.from(this._pendingResumeConsumers.values());\n            // Clear pending resume Consumer map.\n            this._pendingResumeConsumers.clear();\n            try {\n                const localIds = pendingResumeConsumers\n                    .map((consumer) => consumer.localId);\n                await this._handler.resumeReceiving(localIds);\n            }\n            catch (error) {\n                logger.error('resumePendingConsumers() | failed to resume Consumers:', error);\n            }\n        }, 'transport.resumePendingConsumers')\n            .then(() => {\n            this._consumerResumeInProgress = false;\n            // There are pending Consumer to be resumed, do it.\n            if (this._pendingResumeConsumers.size > 0) {\n                this.resumePendingConsumers();\n            }\n        })\n            // NOTE: We only get here when the await queue is closed.\n            .catch(() => { });\n    }\n    closePendingConsumers() {\n        this._consumerCloseInProgress = true;\n        this._awaitQueue.push(async () => {\n            if (this._pendingCloseConsumers.size === 0) {\n                logger.debug('closePendingConsumers() | there is no Consumer to be closed');\n                return;\n            }\n            const pendingCloseConsumers = Array.from(this._pendingCloseConsumers.values());\n            // Clear pending close Consumer map.\n            this._pendingCloseConsumers.clear();\n            try {\n                await this._handler.stopReceiving(pendingCloseConsumers.map((consumer) => consumer.localId));\n            }\n            catch (error) {\n                logger.error('closePendingConsumers() | failed to close Consumers:', error);\n            }\n        }, 'transport.closePendingConsumers')\n            .then(() => {\n            this._consumerCloseInProgress = false;\n            // There are pending Consumer to be resumed, do it.\n            if (this._pendingCloseConsumers.size > 0) {\n                this.closePendingConsumers();\n            }\n        })\n            // NOTE: We only get here when the await queue is closed.\n            .catch(() => { });\n    }\n    handleHandler() {\n        const handler = this._handler;\n        handler.on('@connect', ({ dtlsParameters }, callback, errback) => {\n            if (this._closed) {\n                errback(new errors_1.InvalidStateError('closed'));\n                return;\n            }\n            this.safeEmit('connect', { dtlsParameters }, callback, errback);\n        });\n        handler.on('@connectionstatechange', (connectionState) => {\n            if (connectionState === this._connectionState) {\n                return;\n            }\n            logger.debug('connection state changed to %s', connectionState);\n            this._connectionState = connectionState;\n            if (!this._closed) {\n                this.safeEmit('connectionstatechange', connectionState);\n            }\n        });\n    }\n    handleProducer(producer) {\n        producer.on('@close', () => {\n            this._producers.delete(producer.id);\n            if (this._closed) {\n                return;\n            }\n            this._awaitQueue.push(async () => this._handler.stopSending(producer.localId), 'producer @close event')\n                .catch((error) => logger.warn('producer.close() failed:%o', error));\n        });\n        producer.on('@pause', (callback, errback) => {\n            this._awaitQueue.push(async () => this._handler.pauseSending(producer.localId), 'producer @pause event')\n                .then(callback)\n                .catch(errback);\n        });\n        producer.on('@resume', (callback, errback) => {\n            this._awaitQueue.push(async () => this._handler.resumeSending(producer.localId), 'producer @resume event')\n                .then(callback)\n                .catch(errback);\n        });\n        producer.on('@replacetrack', (track, callback, errback) => {\n            this._awaitQueue.push(async () => this._handler.replaceTrack(producer.localId, track), 'producer @replacetrack event')\n                .then(callback)\n                .catch(errback);\n        });\n        producer.on('@setmaxspatiallayer', (spatialLayer, callback, errback) => {\n            this._awaitQueue.push(async () => (this._handler.setMaxSpatialLayer(producer.localId, spatialLayer)), 'producer @setmaxspatiallayer event')\n                .then(callback)\n                .catch(errback);\n        });\n        producer.on('@setrtpencodingparameters', (params, callback, errback) => {\n            this._awaitQueue.push(async () => (this._handler.setRtpEncodingParameters(producer.localId, params)), 'producer @setrtpencodingparameters event')\n                .then(callback)\n                .catch(errback);\n        });\n        producer.on('@getstats', (callback, errback) => {\n            if (this._closed) {\n                return errback(new errors_1.InvalidStateError('closed'));\n            }\n            this._handler.getSenderStats(producer.localId)\n                .then(callback)\n                .catch(errback);\n        });\n    }\n    handleConsumer(consumer) {\n        consumer.on('@close', () => {\n            this._consumers.delete(consumer.id);\n            this._pendingPauseConsumers.delete(consumer.id);\n            this._pendingResumeConsumers.delete(consumer.id);\n            if (this._closed) {\n                return;\n            }\n            // Store the Consumer into the close list.\n            this._pendingCloseConsumers.set(consumer.id, consumer);\n            // There is no Consumer close in progress, do it now.\n            if (this._consumerCloseInProgress === false) {\n                this.closePendingConsumers();\n            }\n        });\n        consumer.on('@pause', () => {\n            // If Consumer is pending to be resumed, remove from pending resume list.\n            if (this._pendingResumeConsumers.has(consumer.id)) {\n                this._pendingResumeConsumers.delete(consumer.id);\n            }\n            // Store the Consumer into the pending list.\n            this._pendingPauseConsumers.set(consumer.id, consumer);\n            // There is no Consumer pause in progress, do it now.\n            (0, queue_microtask_1.default)(() => {\n                if (this._closed) {\n                    return;\n                }\n                if (this._consumerPauseInProgress === false) {\n                    this.pausePendingConsumers();\n                }\n            });\n        });\n        consumer.on('@resume', () => {\n            // If Consumer is pending to be paused, remove from pending pause list.\n            if (this._pendingPauseConsumers.has(consumer.id)) {\n                this._pendingPauseConsumers.delete(consumer.id);\n            }\n            // Store the Consumer into the pending list.\n            this._pendingResumeConsumers.set(consumer.id, consumer);\n            // There is no Consumer resume in progress, do it now.\n            (0, queue_microtask_1.default)(() => {\n                if (this._closed) {\n                    return;\n                }\n                if (this._consumerResumeInProgress === false) {\n                    this.resumePendingConsumers();\n                }\n            });\n        });\n        consumer.on('@getstats', (callback, errback) => {\n            if (this._closed) {\n                return errback(new errors_1.InvalidStateError('closed'));\n            }\n            this._handler.getReceiverStats(consumer.localId)\n                .then(callback)\n                .catch(errback);\n        });\n    }\n    handleDataProducer(dataProducer) {\n        dataProducer.on('@close', () => {\n            this._dataProducers.delete(dataProducer.id);\n        });\n    }\n    handleDataConsumer(dataConsumer) {\n        dataConsumer.on('@close', () => {\n            this._dataConsumers.delete(dataConsumer.id);\n        });\n    }\n}\nexports.Transport = Transport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AwaitQueue = exports.AwaitQueueRemovedTaskError = exports.AwaitQueueStoppedError = void 0;\nconst Logger_1 = require(\"./Logger\");\nconst logger = new Logger_1.Logger();\n/**\n * Custom Error derived class used to reject pending tasks once stop() method\n * has been called.\n */\nclass AwaitQueueStoppedError extends Error {\n    constructor(message) {\n        super(message !== null && message !== void 0 ? message : 'AwaitQueue stopped');\n        this.name = 'AwaitQueueStoppedError';\n        // @ts-ignore\n        if (typeof Error.captureStackTrace === 'function') {\n            // @ts-ignore\n            Error.captureStackTrace(this, AwaitQueueStoppedError);\n        }\n    }\n}\nexports.AwaitQueueStoppedError = AwaitQueueStoppedError;\n/**\n * Custom Error derived class used to reject pending tasks once removeTask()\n * method has been called.\n */\nclass AwaitQueueRemovedTaskError extends Error {\n    constructor(message) {\n        super(message !== null && message !== void 0 ? message : 'AwaitQueue task removed');\n        this.name = 'AwaitQueueRemovedTaskError';\n        // @ts-ignore\n        if (typeof Error.captureStackTrace === 'function') {\n            // @ts-ignore\n            Error.captureStackTrace(this, AwaitQueueRemovedTaskError);\n        }\n    }\n}\nexports.AwaitQueueRemovedTaskError = AwaitQueueRemovedTaskError;\nclass AwaitQueue {\n    constructor() {\n        // Queue of pending tasks (map of PendingTasks indexed by id).\n        this.pendingTasks = new Map();\n        // Incrementing PendingTask id.\n        this.nextTaskId = 0;\n        // Whether stop() method is stopping all pending tasks.\n        this.stopping = false;\n    }\n    get size() {\n        return this.pendingTasks.size;\n    }\n    async push(task, name) {\n        name = name !== null && name !== void 0 ? name : task.name;\n        logger.debug(`push() [name:${name}]`);\n        if (typeof task !== 'function') {\n            throw new TypeError('given task is not a function');\n        }\n        if (name) {\n            try {\n                Object.defineProperty(task, 'name', { value: name });\n            }\n            catch (error) { }\n        }\n        return new Promise((resolve, reject) => {\n            const pendingTask = {\n                id: this.nextTaskId++,\n                task: task,\n                name: name,\n                enqueuedAt: Date.now(),\n                executedAt: undefined,\n                completed: false,\n                resolve: (result) => {\n                    // pendingTask.resolve() can only be called in execute() method. Since\n                    // resolve() was called it means that the task successfully completed.\n                    // However the task may have been stopped before it completed (via\n                    // stop() or remove()) so its completed flag was already set. If this\n                    // is the case, abort here since next task (if any) is already being\n                    // executed.\n                    if (pendingTask.completed) {\n                        return;\n                    }\n                    pendingTask.completed = true;\n                    // Remove the task from the queue.\n                    this.pendingTasks.delete(pendingTask.id);\n                    logger.debug(`resolving task [name:${pendingTask.name}]`);\n                    // Resolve the task with the obtained result.\n                    resolve(result);\n                    // Execute the next pending task (if any).\n                    const [nextPendingTask] = this.pendingTasks.values();\n                    // NOTE: During the resolve() callback the user app may have interacted\n                    // with the queue. For instance, the app may have pushed a task while\n                    // the queue was empty so such a task is already being executed. If so,\n                    // don't execute it twice.\n                    if (nextPendingTask && !nextPendingTask.executedAt) {\n                        void this.execute(nextPendingTask);\n                    }\n                },\n                reject: (error) => {\n                    // pendingTask.reject() can be called within execute() method if the\n                    // task completed with error. However it may have also been called in\n                    // stop() or remove() methods (before or while being executed) so its\n                    // completed flag was already set. If so, abort here since next task\n                    // (if any) is already being executed.\n                    if (pendingTask.completed) {\n                        return;\n                    }\n                    pendingTask.completed = true;\n                    // Remove the task from the queue.\n                    this.pendingTasks.delete(pendingTask.id);\n                    logger.debug(`rejecting task [name:${pendingTask.name}]: %s`, String(error));\n                    // Reject the task with the obtained error.\n                    reject(error);\n                    // Execute the next pending task (if any) unless stop() is running.\n                    if (!this.stopping) {\n                        const [nextPendingTask] = this.pendingTasks.values();\n                        // NOTE: During the reject() callback the user app may have interacted\n                        // with the queue. For instance, the app may have pushed a task while\n                        // the queue was empty so such a task is already being executed. If so,\n                        // don't execute it twice.\n                        if (nextPendingTask && !nextPendingTask.executedAt) {\n                            void this.execute(nextPendingTask);\n                        }\n                    }\n                }\n            };\n            // Append task to the queue.\n            this.pendingTasks.set(pendingTask.id, pendingTask);\n            // And execute it if this is the only task in the queue.\n            if (this.pendingTasks.size === 1) {\n                void this.execute(pendingTask);\n            }\n        });\n    }\n    stop() {\n        logger.debug('stop()');\n        this.stopping = true;\n        for (const pendingTask of this.pendingTasks.values()) {\n            logger.debug(`stop() | stopping task [name:${pendingTask.name}]`);\n            pendingTask.reject(new AwaitQueueStoppedError());\n        }\n        this.stopping = false;\n    }\n    remove(taskIdx) {\n        logger.debug(`remove() [taskIdx:${taskIdx}]`);\n        const pendingTask = Array.from(this.pendingTasks.values())[taskIdx];\n        if (!pendingTask) {\n            logger.debug(`stop() | no task with given idx [taskIdx:${taskIdx}]`);\n            return;\n        }\n        pendingTask.reject(new AwaitQueueRemovedTaskError());\n    }\n    dump() {\n        const now = Date.now();\n        let idx = 0;\n        return Array.from(this.pendingTasks.values()).map((pendingTask) => ({\n            idx: idx++,\n            task: pendingTask.task,\n            name: pendingTask.name,\n            enqueuedTime: pendingTask.executedAt\n                ? pendingTask.executedAt - pendingTask.enqueuedAt\n                : now - pendingTask.enqueuedAt,\n            executionTime: pendingTask.executedAt\n                ? now - pendingTask.executedAt\n                : 0\n        }));\n    }\n    async execute(pendingTask) {\n        logger.debug(`execute() [name:${pendingTask.name}]`);\n        if (pendingTask.executedAt) {\n            throw new Error('task already being executed');\n        }\n        pendingTask.executedAt = Date.now();\n        try {\n            const result = await pendingTask.task();\n            // Resolve the task with its resolved result (if any).\n            pendingTask.resolve(result);\n        }\n        catch (error) {\n            // Reject the task with its rejected error.\n            pendingTask.reject(error);\n        }\n    }\n}\nexports.AwaitQueue = AwaitQueue;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Logger = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst LIB_NAME = 'awaitqueue';\nclass Logger {\n    constructor(prefix) {\n        if (prefix) {\n            this._debug = (0, debug_1.default)(`${LIB_NAME}:${prefix}`);\n            this._warn = (0, debug_1.default)(`${LIB_NAME}:WARN:${prefix}`);\n            this._error = (0, debug_1.default)(`${LIB_NAME}:ERROR:${prefix}`);\n        }\n        else {\n            this._debug = (0, debug_1.default)(LIB_NAME);\n            this._warn = (0, debug_1.default)(`${LIB_NAME}:WARN`);\n            this._error = (0, debug_1.default)(`${LIB_NAME}:ERROR`);\n        }\n        /* eslint-disable no-console */\n        this._debug.log = console.info.bind(console);\n        this._warn.log = console.warn.bind(console);\n        this._error.log = console.error.bind(console);\n        /* eslint-enable no-console */\n    }\n    get debug() {\n        return this._debug;\n    }\n    get warn() {\n        return this._warn;\n    }\n    get error() {\n        return this._error;\n    }\n}\nexports.Logger = Logger;\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Producer = void 0;\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst errors_1 = require(\"./errors\");\nconst logger = new Logger_1.Logger('Producer');\nclass Producer extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor({ id, localId, rtpSender, track, rtpParameters, stopTracks, disableTrackOnPause, zeroRtpOnPause, appData }) {\n        super();\n        // Closed flag.\n        this._closed = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor()');\n        this._id = id;\n        this._localId = localId;\n        this._rtpSender = rtpSender;\n        this._track = track;\n        this._kind = track.kind;\n        this._rtpParameters = rtpParameters;\n        this._paused = disableTrackOnPause ? !track.enabled : false;\n        this._maxSpatialLayer = undefined;\n        this._stopTracks = stopTracks;\n        this._disableTrackOnPause = disableTrackOnPause;\n        this._zeroRtpOnPause = zeroRtpOnPause;\n        this._appData = appData || {};\n        this.onTrackEnded = this.onTrackEnded.bind(this);\n        // NOTE: Minor issue. If zeroRtpOnPause is true, we cannot emit the\n        // '@replacetrack' event here, so RTCRtpSender.track won't be null.\n        this.handleTrack();\n    }\n    /**\n     * Producer id.\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Local id.\n     */\n    get localId() {\n        return this._localId;\n    }\n    /**\n     * Whether the Producer is closed.\n     */\n    get closed() {\n        return this._closed;\n    }\n    /**\n     * Media kind.\n     */\n    get kind() {\n        return this._kind;\n    }\n    /**\n     * Associated RTCRtpSender.\n     */\n    get rtpSender() {\n        return this._rtpSender;\n    }\n    /**\n     * The associated track.\n     */\n    get track() {\n        return this._track;\n    }\n    /**\n     * RTP parameters.\n     */\n    get rtpParameters() {\n        return this._rtpParameters;\n    }\n    /**\n     * Whether the Producer is paused.\n     */\n    get paused() {\n        return this._paused;\n    }\n    /**\n     * Max spatial layer.\n     *\n     * @type {Number | undefined}\n     */\n    get maxSpatialLayer() {\n        return this._maxSpatialLayer;\n    }\n    /**\n     * App custom data.\n     */\n    get appData() {\n        return this._appData;\n    }\n    /**\n     * Invalid setter.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    set appData(appData) {\n        throw new Error('cannot override appData object');\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Closes the Producer.\n     */\n    close() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('close()');\n        this._closed = true;\n        this.destroyTrack();\n        this.emit('@close');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Transport was closed.\n     */\n    transportClosed() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('transportClosed()');\n        this._closed = true;\n        this.destroyTrack();\n        this.safeEmit('transportclose');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Get associated RTCRtpSender stats.\n     */\n    async getStats() {\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        return new Promise((resolve, reject) => {\n            this.safeEmit('@getstats', resolve, reject);\n        });\n    }\n    /**\n     * Pauses sending media.\n     */\n    pause() {\n        logger.debug('pause()');\n        if (this._closed) {\n            logger.error('pause() | Producer closed');\n            return;\n        }\n        this._paused = true;\n        if (this._track && this._disableTrackOnPause) {\n            this._track.enabled = false;\n        }\n        if (this._zeroRtpOnPause) {\n            new Promise((resolve, reject) => {\n                this.safeEmit('@pause', resolve, reject);\n            }).catch(() => { });\n        }\n        // Emit observer event.\n        this._observer.safeEmit('pause');\n    }\n    /**\n     * Resumes sending media.\n     */\n    resume() {\n        logger.debug('resume()');\n        if (this._closed) {\n            logger.error('resume() | Producer closed');\n            return;\n        }\n        this._paused = false;\n        if (this._track && this._disableTrackOnPause) {\n            this._track.enabled = true;\n        }\n        if (this._zeroRtpOnPause) {\n            new Promise((resolve, reject) => {\n                this.safeEmit('@resume', resolve, reject);\n            }).catch(() => { });\n        }\n        // Emit observer event.\n        this._observer.safeEmit('resume');\n    }\n    /**\n     * Replaces the current track with a new one or null.\n     */\n    async replaceTrack({ track }) {\n        logger.debug('replaceTrack() [track:%o]', track);\n        if (this._closed) {\n            // This must be done here. Otherwise there is no chance to stop the given\n            // track.\n            if (track && this._stopTracks) {\n                try {\n                    track.stop();\n                }\n                catch (error) { }\n            }\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (track && track.readyState === 'ended') {\n            throw new errors_1.InvalidStateError('track ended');\n        }\n        // Do nothing if this is the same track as the current handled one.\n        if (track === this._track) {\n            logger.debug('replaceTrack() | same track, ignored');\n            return;\n        }\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@replacetrack', track, resolve, reject);\n        });\n        // Destroy the previous track.\n        this.destroyTrack();\n        // Set the new track.\n        this._track = track;\n        // If this Producer was paused/resumed and the state of the new\n        // track does not match, fix it.\n        if (this._track && this._disableTrackOnPause) {\n            if (!this._paused) {\n                this._track.enabled = true;\n            }\n            else if (this._paused) {\n                this._track.enabled = false;\n            }\n        }\n        // Handle the effective track.\n        this.handleTrack();\n    }\n    /**\n     * Sets the video max spatial layer to be sent.\n     */\n    async setMaxSpatialLayer(spatialLayer) {\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (this._kind !== 'video') {\n            throw new errors_1.UnsupportedError('not a video Producer');\n        }\n        else if (typeof spatialLayer !== 'number') {\n            throw new TypeError('invalid spatialLayer');\n        }\n        if (spatialLayer === this._maxSpatialLayer) {\n            return;\n        }\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@setmaxspatiallayer', spatialLayer, resolve, reject);\n        }).catch(() => { });\n        this._maxSpatialLayer = spatialLayer;\n    }\n    async setRtpEncodingParameters(params) {\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        else if (typeof params !== 'object') {\n            throw new TypeError('invalid params');\n        }\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@setrtpencodingparameters', params, resolve, reject);\n        });\n    }\n    onTrackEnded() {\n        logger.debug('track \"ended\" event');\n        this.safeEmit('trackended');\n        // Emit observer event.\n        this._observer.safeEmit('trackended');\n    }\n    handleTrack() {\n        if (!this._track) {\n            return;\n        }\n        this._track.addEventListener('ended', this.onTrackEnded);\n    }\n    destroyTrack() {\n        if (!this._track) {\n            return;\n        }\n        try {\n            this._track.removeEventListener('ended', this.onTrackEnded);\n            // Just stop the track unless the app set stopTracks: false.\n            if (this._stopTracks) {\n                this._track.stop();\n            }\n        }\n        catch (error) { }\n    }\n}\nexports.Producer = Producer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Consumer = void 0;\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst errors_1 = require(\"./errors\");\nconst logger = new Logger_1.Logger('Consumer');\nclass Consumer extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor({ id, localId, producerId, rtpReceiver, track, rtpParameters, appData }) {\n        super();\n        // Closed flag.\n        this._closed = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor()');\n        this._id = id;\n        this._localId = localId;\n        this._producerId = producerId;\n        this._rtpReceiver = rtpReceiver;\n        this._track = track;\n        this._rtpParameters = rtpParameters;\n        this._paused = !track.enabled;\n        this._appData = appData || {};\n        this.onTrackEnded = this.onTrackEnded.bind(this);\n        this.handleTrack();\n    }\n    /**\n     * Consumer id.\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Local id.\n     */\n    get localId() {\n        return this._localId;\n    }\n    /**\n     * Associated Producer id.\n     */\n    get producerId() {\n        return this._producerId;\n    }\n    /**\n     * Whether the Consumer is closed.\n     */\n    get closed() {\n        return this._closed;\n    }\n    /**\n     * Media kind.\n     */\n    get kind() {\n        return this._track.kind;\n    }\n    /**\n     * Associated RTCRtpReceiver.\n     */\n    get rtpReceiver() {\n        return this._rtpReceiver;\n    }\n    /**\n     * The associated track.\n     */\n    get track() {\n        return this._track;\n    }\n    /**\n     * RTP parameters.\n     */\n    get rtpParameters() {\n        return this._rtpParameters;\n    }\n    /**\n     * Whether the Consumer is paused.\n     */\n    get paused() {\n        return this._paused;\n    }\n    /**\n     * App custom data.\n     */\n    get appData() {\n        return this._appData;\n    }\n    /**\n     * Invalid setter.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    set appData(appData) {\n        throw new Error('cannot override appData object');\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Closes the Consumer.\n     */\n    close() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('close()');\n        this._closed = true;\n        this.destroyTrack();\n        this.emit('@close');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Transport was closed.\n     */\n    transportClosed() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('transportClosed()');\n        this._closed = true;\n        this.destroyTrack();\n        this.safeEmit('transportclose');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Get associated RTCRtpReceiver stats.\n     */\n    async getStats() {\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        return new Promise((resolve, reject) => {\n            this.safeEmit('@getstats', resolve, reject);\n        });\n    }\n    /**\n     * Pauses receiving media.\n     */\n    pause() {\n        logger.debug('pause()');\n        if (this._closed) {\n            logger.error('pause() | Consumer closed');\n            return;\n        }\n        if (this._paused) {\n            logger.debug('pause() | Consumer is already paused');\n            return;\n        }\n        this._paused = true;\n        this._track.enabled = false;\n        this.emit('@pause');\n        // Emit observer event.\n        this._observer.safeEmit('pause');\n    }\n    /**\n     * Resumes receiving media.\n     */\n    resume() {\n        logger.debug('resume()');\n        if (this._closed) {\n            logger.error('resume() | Consumer closed');\n            return;\n        }\n        if (!this._paused) {\n            logger.debug('resume() | Consumer is already resumed');\n            return;\n        }\n        this._paused = false;\n        this._track.enabled = true;\n        this.emit('@resume');\n        // Emit observer event.\n        this._observer.safeEmit('resume');\n    }\n    onTrackEnded() {\n        logger.debug('track \"ended\" event');\n        this.safeEmit('trackended');\n        // Emit observer event.\n        this._observer.safeEmit('trackended');\n    }\n    handleTrack() {\n        this._track.addEventListener('ended', this.onTrackEnded);\n    }\n    destroyTrack() {\n        try {\n            this._track.removeEventListener('ended', this.onTrackEnded);\n            this._track.stop();\n        }\n        catch (error) { }\n    }\n}\nexports.Consumer = Consumer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataProducer = void 0;\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst errors_1 = require(\"./errors\");\nconst logger = new Logger_1.Logger('DataProducer');\nclass DataProducer extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor({ id, dataChannel, sctpStreamParameters, appData }) {\n        super();\n        // Closed flag.\n        this._closed = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor()');\n        this._id = id;\n        this._dataChannel = dataChannel;\n        this._sctpStreamParameters = sctpStreamParameters;\n        this._appData = appData || {};\n        this.handleDataChannel();\n    }\n    /**\n     * DataProducer id.\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Whether the DataProducer is closed.\n     */\n    get closed() {\n        return this._closed;\n    }\n    /**\n     * SCTP stream parameters.\n     */\n    get sctpStreamParameters() {\n        return this._sctpStreamParameters;\n    }\n    /**\n     * DataChannel readyState.\n     */\n    get readyState() {\n        return this._dataChannel.readyState;\n    }\n    /**\n     * DataChannel label.\n     */\n    get label() {\n        return this._dataChannel.label;\n    }\n    /**\n     * DataChannel protocol.\n     */\n    get protocol() {\n        return this._dataChannel.protocol;\n    }\n    /**\n     * DataChannel bufferedAmount.\n     */\n    get bufferedAmount() {\n        return this._dataChannel.bufferedAmount;\n    }\n    /**\n     * DataChannel bufferedAmountLowThreshold.\n     */\n    get bufferedAmountLowThreshold() {\n        return this._dataChannel.bufferedAmountLowThreshold;\n    }\n    /**\n     * Set DataChannel bufferedAmountLowThreshold.\n     */\n    set bufferedAmountLowThreshold(bufferedAmountLowThreshold) {\n        this._dataChannel.bufferedAmountLowThreshold = bufferedAmountLowThreshold;\n    }\n    /**\n     * App custom data.\n     */\n    get appData() {\n        return this._appData;\n    }\n    /**\n     * Invalid setter.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    set appData(appData) {\n        throw new Error('cannot override appData object');\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Closes the DataProducer.\n     */\n    close() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('close()');\n        this._closed = true;\n        this._dataChannel.close();\n        this.emit('@close');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Transport was closed.\n     */\n    transportClosed() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('transportClosed()');\n        this._closed = true;\n        this._dataChannel.close();\n        this.safeEmit('transportclose');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Send a message.\n     *\n     * @param {String|Blob|ArrayBuffer|ArrayBufferView} data.\n     */\n    send(data) {\n        logger.debug('send()');\n        if (this._closed) {\n            throw new errors_1.InvalidStateError('closed');\n        }\n        this._dataChannel.send(data);\n    }\n    handleDataChannel() {\n        this._dataChannel.addEventListener('open', () => {\n            if (this._closed) {\n                return;\n            }\n            logger.debug('DataChannel \"open\" event');\n            this.safeEmit('open');\n        });\n        this._dataChannel.addEventListener('error', (event) => {\n            if (this._closed) {\n                return;\n            }\n            let { error } = event;\n            if (!error) {\n                error = new Error('unknown DataChannel error');\n            }\n            if (error.errorDetail === 'sctp-failure') {\n                logger.error('DataChannel SCTP error [sctpCauseCode:%s]: %s', error.sctpCauseCode, error.message);\n            }\n            else {\n                logger.error('DataChannel \"error\" event: %o', error);\n            }\n            this.safeEmit('error', error);\n        });\n        this._dataChannel.addEventListener('close', () => {\n            if (this._closed) {\n                return;\n            }\n            logger.warn('DataChannel \"close\" event');\n            this._closed = true;\n            this.emit('@close');\n            this.safeEmit('close');\n            // Emit observer event.\n            this._observer.safeEmit('close');\n        });\n        this._dataChannel.addEventListener('message', () => {\n            if (this._closed) {\n                return;\n            }\n            logger.warn('DataChannel \"message\" event in a DataProducer, message discarded');\n        });\n        this._dataChannel.addEventListener('bufferedamountlow', () => {\n            if (this._closed) {\n                return;\n            }\n            this.safeEmit('bufferedamountlow');\n        });\n    }\n}\nexports.DataProducer = DataProducer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataConsumer = void 0;\nconst Logger_1 = require(\"./Logger\");\nconst EnhancedEventEmitter_1 = require(\"./EnhancedEventEmitter\");\nconst logger = new Logger_1.Logger('DataConsumer');\nclass DataConsumer extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor({ id, dataProducerId, dataChannel, sctpStreamParameters, appData }) {\n        super();\n        // Closed flag.\n        this._closed = false;\n        // Observer instance.\n        this._observer = new EnhancedEventEmitter_1.EnhancedEventEmitter();\n        logger.debug('constructor()');\n        this._id = id;\n        this._dataProducerId = dataProducerId;\n        this._dataChannel = dataChannel;\n        this._sctpStreamParameters = sctpStreamParameters;\n        this._appData = appData || {};\n        this.handleDataChannel();\n    }\n    /**\n     * DataConsumer id.\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Associated DataProducer id.\n     */\n    get dataProducerId() {\n        return this._dataProducerId;\n    }\n    /**\n     * Whether the DataConsumer is closed.\n     */\n    get closed() {\n        return this._closed;\n    }\n    /**\n     * SCTP stream parameters.\n     */\n    get sctpStreamParameters() {\n        return this._sctpStreamParameters;\n    }\n    /**\n     * DataChannel readyState.\n     */\n    get readyState() {\n        return this._dataChannel.readyState;\n    }\n    /**\n     * DataChannel label.\n     */\n    get label() {\n        return this._dataChannel.label;\n    }\n    /**\n     * DataChannel protocol.\n     */\n    get protocol() {\n        return this._dataChannel.protocol;\n    }\n    /**\n     * DataChannel binaryType.\n     */\n    get binaryType() {\n        return this._dataChannel.binaryType;\n    }\n    /**\n     * Set DataChannel binaryType.\n     */\n    set binaryType(binaryType) {\n        this._dataChannel.binaryType = binaryType;\n    }\n    /**\n     * App custom data.\n     */\n    get appData() {\n        return this._appData;\n    }\n    /**\n     * Invalid setter.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    set appData(appData) {\n        throw new Error('cannot override appData object');\n    }\n    get observer() {\n        return this._observer;\n    }\n    /**\n     * Closes the DataConsumer.\n     */\n    close() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('close()');\n        this._closed = true;\n        this._dataChannel.close();\n        this.emit('@close');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    /**\n     * Transport was closed.\n     */\n    transportClosed() {\n        if (this._closed) {\n            return;\n        }\n        logger.debug('transportClosed()');\n        this._closed = true;\n        this._dataChannel.close();\n        this.safeEmit('transportclose');\n        // Emit observer event.\n        this._observer.safeEmit('close');\n    }\n    handleDataChannel() {\n        this._dataChannel.addEventListener('open', () => {\n            if (this._closed) {\n                return;\n            }\n            logger.debug('DataChannel \"open\" event');\n            this.safeEmit('open');\n        });\n        this._dataChannel.addEventListener('error', (event) => {\n            if (this._closed) {\n                return;\n            }\n            let { error } = event;\n            if (!error) {\n                error = new Error('unknown DataChannel error');\n            }\n            if (error.errorDetail === 'sctp-failure') {\n                logger.error('DataChannel SCTP error [sctpCauseCode:%s]: %s', error.sctpCauseCode, error.message);\n            }\n            else {\n                logger.error('DataChannel \"error\" event: %o', error);\n            }\n            this.safeEmit('error', error);\n        });\n        this._dataChannel.addEventListener('close', () => {\n            if (this._closed) {\n                return;\n            }\n            logger.warn('DataChannel \"close\" event');\n            this._closed = true;\n            this.emit('@close');\n            this.safeEmit('close');\n            // Emit observer event.\n            this._observer.safeEmit('close');\n        });\n        this._dataChannel.addEventListener('message', (event) => {\n            if (this._closed) {\n                return;\n            }\n            this.safeEmit('message', event.data);\n        });\n    }\n}\nexports.DataConsumer = DataConsumer;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chrome111 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst ortcUtils = __importStar(require(\"./ortc/utils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('Chrome111');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Chrome111 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Chrome111();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Chrome111';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan'\n        });\n        try {\n            pc.addTransceiver('audio');\n            pc.addTransceiver('video');\n            const offer = await pc.createOffer();\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            // libwebrtc supports NACK for OPUS but doesn't announce it.\n            ortcUtils.addNackSuppportForOpus(nativeRtpCapabilities);\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (encodings && encodings.length > 1) {\n            encodings.forEach((encoding, idx) => {\n                encoding.rid = `r${idx}`;\n            });\n            // Set rid and verify scalabilityMode in each encoding.\n            // NOTE: Even if WebRTC allows different scalabilityMode (different number\n            // of temporal layers) per simulcast stream, we need that those are the\n            // same in all them, so let's pick up the highest value.\n            // NOTE: If scalabilityMode is not given, Chrome will use L1T3.\n            let nextRid = 1;\n            let maxTemporalLayers = 1;\n            for (const encoding of encodings) {\n                const temporalLayers = encoding.scalabilityMode\n                    ? (0, scalabilityModes_1.parse)(encoding.scalabilityMode).temporalLayers\n                    : 3;\n                if (temporalLayers > maxTemporalLayers) {\n                    maxTemporalLayers = temporalLayers;\n                }\n            }\n            for (const encoding of encodings) {\n                encoding.rid = `r${nextRid++}`;\n                encoding.scalabilityMode = `L1T${maxTemporalLayers}`;\n            }\n        }\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        const mediaSectionIdx = this._remoteSdp.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, {\n            direction: 'sendonly',\n            streams: [this._sendStream],\n            sendEncodings: encodings\n        });\n        const offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        const offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings by parsing the SDP offer if no encodings are given.\n        if (!encodings) {\n            sendingRtpParameters.encodings =\n                sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        }\n        // Set RTP encodings by parsing the SDP offer and complete them with given\n        // one if just a single encoding has been given.\n        else if (encodings.length === 1) {\n            const newEncodings = sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n            Object.assign(newEncodings[0], encodings[0]);\n            sendingRtpParameters.encodings = newEncodings;\n        }\n        // Otherwise if more than 1 encoding are given use them verbatim.\n        else {\n            sendingRtpParameters.encodings = encodings;\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            reuseMid: mediaSectionIdx.reuseMid,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions,\n            extmapAllowMixed: true\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        this._pc.removeTrack(transceiver.sender);\n        const mediaSectionClosed = this._remoteSdp.closeMediaSection(transceiver.mid);\n        if (mediaSectionClosed) {\n            try {\n                transceiver.stop();\n            }\n            catch (error) { }\n        }\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    async pauseSending(localId) {\n        this.assertSendDirection();\n        logger.debug('pauseSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'inactive';\n        this._remoteSdp.pauseMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async resumeSending(localId) {\n        this.assertSendDirection();\n        logger.debug('resumeSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        this._remoteSdp.resumeSendingMediaSection(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'sendonly';\n        const offer = await this._pc.createOffer();\n        logger.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            else {\n                // Store in the map.\n                this._mapMidTransceiver.set(localId, transceiver);\n                results.push({\n                    localId,\n                    track: transceiver.receiver.track,\n                    rtpReceiver: transceiver.receiver\n                });\n            }\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('pauseReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'inactive';\n            this._remoteSdp.pauseMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async resumeReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('resumeReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'recvonly';\n            this._remoteSdp.resumeReceivingMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Chrome111 = Chrome111;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applyCodecParameters = exports.getCname = exports.extractDtlsParameters = exports.extractRtpCapabilities = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\n/**\n * This function must be called with an SDP with 1 m=audio and 1 m=video\n * sections.\n */\nfunction extractRtpCapabilities({ sdpObject }) {\n    // Map of RtpCodecParameters indexed by payload type.\n    const codecsMap = new Map();\n    // Array of RtpHeaderExtensions.\n    const headerExtensions = [];\n    // Whether a m=audio/video section has been already found.\n    let gotAudio = false;\n    let gotVideo = false;\n    for (const m of sdpObject.media) {\n        const kind = m.type;\n        switch (kind) {\n            case 'audio':\n                {\n                    if (gotAudio) {\n                        continue;\n                    }\n                    gotAudio = true;\n                    break;\n                }\n            case 'video':\n                {\n                    if (gotVideo) {\n                        continue;\n                    }\n                    gotVideo = true;\n                    break;\n                }\n            default:\n                {\n                    continue;\n                }\n        }\n        // Get codecs.\n        for (const rtp of m.rtp) {\n            const codec = {\n                kind: kind,\n                mimeType: `${kind}/${rtp.codec}`,\n                preferredPayloadType: rtp.payload,\n                clockRate: rtp.rate,\n                channels: rtp.encoding,\n                parameters: {},\n                rtcpFeedback: []\n            };\n            codecsMap.set(codec.preferredPayloadType, codec);\n        }\n        // Get codec parameters.\n        for (const fmtp of m.fmtp || []) {\n            const parameters = sdpTransform.parseParams(fmtp.config);\n            const codec = codecsMap.get(fmtp.payload);\n            if (!codec) {\n                continue;\n            }\n            // Specials case to convert parameter value to string.\n            if (parameters && parameters.hasOwnProperty('profile-level-id')) {\n                parameters['profile-level-id'] = String(parameters['profile-level-id']);\n            }\n            codec.parameters = parameters;\n        }\n        // Get RTCP feedback for each codec.\n        for (const fb of m.rtcpFb || []) {\n            const feedback = {\n                type: fb.type,\n                parameter: fb.subtype\n            };\n            if (!feedback.parameter) {\n                delete feedback.parameter;\n            }\n            // rtcp-fb payload is not '*', so just apply it to its corresponding\n            // codec.\n            if (fb.payload !== '*') {\n                const codec = codecsMap.get(fb.payload);\n                if (!codec) {\n                    continue;\n                }\n                codec.rtcpFeedback.push(feedback);\n            }\n            // If rtcp-fb payload is '*' it must be applied to all codecs with same\n            // kind (with some exceptions such as RTX codec).\n            else {\n                for (const codec of codecsMap.values()) {\n                    if (codec.kind === kind && !/.+\\/rtx$/i.test(codec.mimeType)) {\n                        codec.rtcpFeedback.push(feedback);\n                    }\n                }\n            }\n        }\n        // Get RTP header extensions.\n        for (const ext of m.ext || []) {\n            // Ignore encrypted extensions (not yet supported in mediasoup).\n            if (ext['encrypt-uri']) {\n                continue;\n            }\n            const headerExtension = {\n                kind: kind,\n                uri: ext.uri,\n                preferredId: ext.value\n            };\n            headerExtensions.push(headerExtension);\n        }\n    }\n    const rtpCapabilities = {\n        codecs: Array.from(codecsMap.values()),\n        headerExtensions: headerExtensions\n    };\n    return rtpCapabilities;\n}\nexports.extractRtpCapabilities = extractRtpCapabilities;\nfunction extractDtlsParameters({ sdpObject }) {\n    const mediaObject = (sdpObject.media || [])\n        .find((m) => (m.iceUfrag && m.port !== 0));\n    if (!mediaObject) {\n        throw new Error('no active media section found');\n    }\n    const fingerprint = mediaObject.fingerprint || sdpObject.fingerprint;\n    let role;\n    switch (mediaObject.setup) {\n        case 'active':\n            role = 'client';\n            break;\n        case 'passive':\n            role = 'server';\n            break;\n        case 'actpass':\n            role = 'auto';\n            break;\n    }\n    const dtlsParameters = {\n        role,\n        fingerprints: [\n            {\n                algorithm: fingerprint.type,\n                value: fingerprint.hash\n            }\n        ]\n    };\n    return dtlsParameters;\n}\nexports.extractDtlsParameters = extractDtlsParameters;\nfunction getCname({ offerMediaObject }) {\n    const ssrcCnameLine = (offerMediaObject.ssrcs || [])\n        .find((line) => line.attribute === 'cname');\n    if (!ssrcCnameLine) {\n        return '';\n    }\n    return ssrcCnameLine.value;\n}\nexports.getCname = getCname;\n/**\n * Apply codec parameters in the given SDP m= section answer based on the\n * given RTP parameters of an offer.\n */\nfunction applyCodecParameters({ offerRtpParameters, answerMediaObject }) {\n    for (const codec of offerRtpParameters.codecs) {\n        const mimeType = codec.mimeType.toLowerCase();\n        // Avoid parsing codec parameters for unhandled codecs.\n        if (mimeType !== 'audio/opus') {\n            continue;\n        }\n        const rtp = (answerMediaObject.rtp || [])\n            .find((r) => r.payload === codec.payloadType);\n        if (!rtp) {\n            continue;\n        }\n        // Just in case.\n        answerMediaObject.fmtp = answerMediaObject.fmtp || [];\n        let fmtp = answerMediaObject.fmtp\n            .find((f) => f.payload === codec.payloadType);\n        if (!fmtp) {\n            fmtp = { payload: codec.payloadType, config: '' };\n            answerMediaObject.fmtp.push(fmtp);\n        }\n        const parameters = sdpTransform.parseParams(fmtp.config);\n        switch (mimeType) {\n            case 'audio/opus':\n                {\n                    const spropStereo = codec.parameters['sprop-stereo'];\n                    if (spropStereo !== undefined) {\n                        parameters.stereo = spropStereo ? 1 : 0;\n                    }\n                    break;\n                }\n        }\n        // Write the codec fmtp.config back.\n        fmtp.config = '';\n        for (const key of Object.keys(parameters)) {\n            if (fmtp.config) {\n                fmtp.config += ';';\n            }\n            fmtp.config += `${key}=${parameters[key]}`;\n        }\n    }\n}\nexports.applyCodecParameters = applyCodecParameters;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addLegacySimulcast = exports.getRtpEncodings = void 0;\nfunction getRtpEncodings({ offerMediaObject }) {\n    const ssrcs = new Set();\n    for (const line of offerMediaObject.ssrcs || []) {\n        const ssrc = line.id;\n        ssrcs.add(ssrc);\n    }\n    if (ssrcs.size === 0) {\n        throw new Error('no a=ssrc lines found');\n    }\n    const ssrcToRtxSsrc = new Map();\n    // First assume RTX is used.\n    for (const line of offerMediaObject.ssrcGroups || []) {\n        if (line.semantics !== 'FID') {\n            continue;\n        }\n        let [ssrc, rtxSsrc] = line.ssrcs.split(/\\s+/);\n        ssrc = Number(ssrc);\n        rtxSsrc = Number(rtxSsrc);\n        if (ssrcs.has(ssrc)) {\n            // Remove both the SSRC and RTX SSRC from the set so later we know\n            // that they are already handled.\n            ssrcs.delete(ssrc);\n            ssrcs.delete(rtxSsrc);\n            // Add to the map.\n            ssrcToRtxSsrc.set(ssrc, rtxSsrc);\n        }\n    }\n    // If the set of SSRCs is not empty it means that RTX is not being used, so\n    // take media SSRCs from there.\n    for (const ssrc of ssrcs) {\n        // Add to the map.\n        ssrcToRtxSsrc.set(ssrc, null);\n    }\n    const encodings = [];\n    for (const [ssrc, rtxSsrc] of ssrcToRtxSsrc) {\n        const encoding = { ssrc };\n        if (rtxSsrc) {\n            encoding.rtx = { ssrc: rtxSsrc };\n        }\n        encodings.push(encoding);\n    }\n    return encodings;\n}\nexports.getRtpEncodings = getRtpEncodings;\n/**\n * Adds multi-ssrc based simulcast into the given SDP media section offer.\n */\nfunction addLegacySimulcast({ offerMediaObject, numStreams }) {\n    if (numStreams <= 1) {\n        throw new TypeError('numStreams must be greater than 1');\n    }\n    // Get the SSRC.\n    const ssrcMsidLine = (offerMediaObject.ssrcs || [])\n        .find((line) => line.attribute === 'msid');\n    if (!ssrcMsidLine) {\n        throw new Error('a=ssrc line with msid information not found');\n    }\n    const [streamId, trackId] = ssrcMsidLine.value.split(' ');\n    const firstSsrc = ssrcMsidLine.id;\n    let firstRtxSsrc;\n    // Get the SSRC for RTX.\n    (offerMediaObject.ssrcGroups || [])\n        .some((line) => {\n        if (line.semantics !== 'FID') {\n            return false;\n        }\n        const ssrcs = line.ssrcs.split(/\\s+/);\n        if (Number(ssrcs[0]) === firstSsrc) {\n            firstRtxSsrc = Number(ssrcs[1]);\n            return true;\n        }\n        else {\n            return false;\n        }\n    });\n    const ssrcCnameLine = offerMediaObject.ssrcs\n        .find((line) => line.attribute === 'cname');\n    if (!ssrcCnameLine) {\n        throw new Error('a=ssrc line with cname information not found');\n    }\n    const cname = ssrcCnameLine.value;\n    const ssrcs = [];\n    const rtxSsrcs = [];\n    for (let i = 0; i < numStreams; ++i) {\n        ssrcs.push(firstSsrc + i);\n        if (firstRtxSsrc) {\n            rtxSsrcs.push(firstRtxSsrc + i);\n        }\n    }\n    offerMediaObject.ssrcGroups = [];\n    offerMediaObject.ssrcs = [];\n    offerMediaObject.ssrcGroups.push({\n        semantics: 'SIM',\n        ssrcs: ssrcs.join(' ')\n    });\n    for (let i = 0; i < ssrcs.length; ++i) {\n        const ssrc = ssrcs[i];\n        offerMediaObject.ssrcs.push({\n            id: ssrc,\n            attribute: 'cname',\n            value: cname\n        });\n        offerMediaObject.ssrcs.push({\n            id: ssrc,\n            attribute: 'msid',\n            value: `${streamId} ${trackId}`\n        });\n    }\n    for (let i = 0; i < rtxSsrcs.length; ++i) {\n        const ssrc = ssrcs[i];\n        const rtxSsrc = rtxSsrcs[i];\n        offerMediaObject.ssrcs.push({\n            id: rtxSsrc,\n            attribute: 'cname',\n            value: cname\n        });\n        offerMediaObject.ssrcs.push({\n            id: rtxSsrc,\n            attribute: 'msid',\n            value: `${streamId} ${trackId}`\n        });\n        offerMediaObject.ssrcGroups.push({\n            semantics: 'FID',\n            ssrcs: `${ssrc} ${rtxSsrc}`\n        });\n    }\n}\nexports.addLegacySimulcast = addLegacySimulcast;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addNackSuppportForOpus = void 0;\n/**\n * This function adds RTCP NACK support for OPUS codec in given capabilities.\n */\nfunction addNackSuppportForOpus(rtpCapabilities) {\n    var _a;\n    for (const codec of (rtpCapabilities.codecs || [])) {\n        if ((codec.mimeType.toLowerCase() === 'audio/opus' ||\n            codec.mimeType.toLowerCase() === 'audio/multiopus') &&\n            !((_a = codec.rtcpFeedback) === null || _a === void 0 ? void 0 : _a.some((fb) => fb.type === 'nack' && !fb.parameter))) {\n            if (!codec.rtcpFeedback) {\n                codec.rtcpFeedback = [];\n            }\n            codec.rtcpFeedback.push({ type: 'nack' });\n        }\n    }\n}\nexports.addNackSuppportForOpus = addNackSuppportForOpus;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HandlerInterface = void 0;\nconst EnhancedEventEmitter_1 = require(\"../EnhancedEventEmitter\");\nclass HandlerInterface extends EnhancedEventEmitter_1.EnhancedEventEmitter {\n    constructor() {\n        super();\n    }\n}\nexports.HandlerInterface = HandlerInterface;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoteSdp = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../../Logger\");\nconst MediaSection_1 = require(\"./MediaSection\");\nconst logger = new Logger_1.Logger('RemoteSdp');\nclass RemoteSdp {\n    constructor({ iceParameters, iceCandidates, dtlsParameters, sctpParameters, plainRtpParameters, planB = false }) {\n        // MediaSection instances with same order as in the SDP.\n        this._mediaSections = [];\n        // MediaSection indices indexed by MID.\n        this._midToIndex = new Map();\n        this._iceParameters = iceParameters;\n        this._iceCandidates = iceCandidates;\n        this._dtlsParameters = dtlsParameters;\n        this._sctpParameters = sctpParameters;\n        this._plainRtpParameters = plainRtpParameters;\n        this._planB = planB;\n        this._sdpObject =\n            {\n                version: 0,\n                origin: {\n                    address: '0.0.0.0',\n                    ipVer: 4,\n                    netType: 'IN',\n                    sessionId: 10000,\n                    sessionVersion: 0,\n                    username: 'mediasoup-client'\n                },\n                name: '-',\n                timing: { start: 0, stop: 0 },\n                media: []\n            };\n        // If ICE parameters are given, add ICE-Lite indicator.\n        if (iceParameters && iceParameters.iceLite) {\n            this._sdpObject.icelite = 'ice-lite';\n        }\n        // If DTLS parameters are given, assume WebRTC and BUNDLE.\n        if (dtlsParameters) {\n            this._sdpObject.msidSemantic = { semantic: 'WMS', token: '*' };\n            // NOTE: We take the latest fingerprint.\n            const numFingerprints = this._dtlsParameters.fingerprints.length;\n            this._sdpObject.fingerprint =\n                {\n                    type: dtlsParameters.fingerprints[numFingerprints - 1].algorithm,\n                    hash: dtlsParameters.fingerprints[numFingerprints - 1].value\n                };\n            this._sdpObject.groups = [{ type: 'BUNDLE', mids: '' }];\n        }\n        // If there are plain RPT parameters, override SDP origin.\n        if (plainRtpParameters) {\n            this._sdpObject.origin.address = plainRtpParameters.ip;\n            this._sdpObject.origin.ipVer = plainRtpParameters.ipVersion;\n        }\n    }\n    updateIceParameters(iceParameters) {\n        logger.debug('updateIceParameters() [iceParameters:%o]', iceParameters);\n        this._iceParameters = iceParameters;\n        this._sdpObject.icelite = iceParameters.iceLite ? 'ice-lite' : undefined;\n        for (const mediaSection of this._mediaSections) {\n            mediaSection.setIceParameters(iceParameters);\n        }\n    }\n    updateDtlsRole(role) {\n        logger.debug('updateDtlsRole() [role:%s]', role);\n        this._dtlsParameters.role = role;\n        for (const mediaSection of this._mediaSections) {\n            mediaSection.setDtlsRole(role);\n        }\n    }\n    getNextMediaSectionIdx() {\n        // If a closed media section is found, return its index.\n        for (let idx = 0; idx < this._mediaSections.length; ++idx) {\n            const mediaSection = this._mediaSections[idx];\n            if (mediaSection.closed) {\n                return { idx, reuseMid: mediaSection.mid };\n            }\n        }\n        // If no closed media section is found, return next one.\n        return { idx: this._mediaSections.length };\n    }\n    send({ offerMediaObject, reuseMid, offerRtpParameters, answerRtpParameters, codecOptions, extmapAllowMixed = false }) {\n        const mediaSection = new MediaSection_1.AnswerMediaSection({\n            iceParameters: this._iceParameters,\n            iceCandidates: this._iceCandidates,\n            dtlsParameters: this._dtlsParameters,\n            plainRtpParameters: this._plainRtpParameters,\n            planB: this._planB,\n            offerMediaObject,\n            offerRtpParameters,\n            answerRtpParameters,\n            codecOptions,\n            extmapAllowMixed\n        });\n        // Unified-Plan with closed media section replacement.\n        if (reuseMid) {\n            this._replaceMediaSection(mediaSection, reuseMid);\n        }\n        // Unified-Plan or Plan-B with different media kind.\n        else if (!this._midToIndex.has(mediaSection.mid)) {\n            this._addMediaSection(mediaSection);\n        }\n        // Plan-B with same media kind.\n        else {\n            this._replaceMediaSection(mediaSection);\n        }\n    }\n    receive({ mid, kind, offerRtpParameters, streamId, trackId }) {\n        const idx = this._midToIndex.get(mid);\n        let mediaSection;\n        if (idx !== undefined) {\n            mediaSection = this._mediaSections[idx];\n        }\n        // Unified-Plan or different media kind.\n        if (!mediaSection) {\n            mediaSection = new MediaSection_1.OfferMediaSection({\n                iceParameters: this._iceParameters,\n                iceCandidates: this._iceCandidates,\n                dtlsParameters: this._dtlsParameters,\n                plainRtpParameters: this._plainRtpParameters,\n                planB: this._planB,\n                mid,\n                kind,\n                offerRtpParameters,\n                streamId,\n                trackId\n            });\n            // Let's try to recycle a closed media section (if any).\n            // NOTE: Yes, we can recycle a closed m=audio section with a new m=video.\n            const oldMediaSection = this._mediaSections.find((m) => (m.closed));\n            if (oldMediaSection) {\n                this._replaceMediaSection(mediaSection, oldMediaSection.mid);\n            }\n            else {\n                this._addMediaSection(mediaSection);\n            }\n        }\n        // Plan-B.\n        else {\n            mediaSection.planBReceive({ offerRtpParameters, streamId, trackId });\n            this._replaceMediaSection(mediaSection);\n        }\n    }\n    pauseMediaSection(mid) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.pause();\n    }\n    resumeSendingMediaSection(mid) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.resume();\n    }\n    resumeReceivingMediaSection(mid) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.resume();\n    }\n    disableMediaSection(mid) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.disable();\n    }\n    /**\n     * Closes media section. Returns true if the given MID corresponds to a m\n     * section that has been indeed closed. False otherwise.\n     *\n     * NOTE: Closing the first m section is a pain since it invalidates the bundled\n     * transport, so instead closing it we just disable it.\n     */\n    closeMediaSection(mid) {\n        const mediaSection = this._findMediaSection(mid);\n        // NOTE: Closing the first m section is a pain since it invalidates the\n        // bundled transport, so let's avoid it.\n        if (mid === this._firstMid) {\n            logger.debug('closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]', mid);\n            this.disableMediaSection(mid);\n            return false;\n        }\n        mediaSection.close();\n        // Regenerate BUNDLE mids.\n        this._regenerateBundleMids();\n        return true;\n    }\n    muxMediaSectionSimulcast(mid, encodings) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.muxSimulcastStreams(encodings);\n        this._replaceMediaSection(mediaSection);\n    }\n    planBStopReceiving({ mid, offerRtpParameters }) {\n        const mediaSection = this._findMediaSection(mid);\n        mediaSection.planBStopReceiving({ offerRtpParameters });\n        this._replaceMediaSection(mediaSection);\n    }\n    sendSctpAssociation({ offerMediaObject }) {\n        const mediaSection = new MediaSection_1.AnswerMediaSection({\n            iceParameters: this._iceParameters,\n            iceCandidates: this._iceCandidates,\n            dtlsParameters: this._dtlsParameters,\n            sctpParameters: this._sctpParameters,\n            plainRtpParameters: this._plainRtpParameters,\n            offerMediaObject\n        });\n        this._addMediaSection(mediaSection);\n    }\n    receiveSctpAssociation({ oldDataChannelSpec = false } = {}) {\n        const mediaSection = new MediaSection_1.OfferMediaSection({\n            iceParameters: this._iceParameters,\n            iceCandidates: this._iceCandidates,\n            dtlsParameters: this._dtlsParameters,\n            sctpParameters: this._sctpParameters,\n            plainRtpParameters: this._plainRtpParameters,\n            mid: 'datachannel',\n            kind: 'application',\n            oldDataChannelSpec\n        });\n        this._addMediaSection(mediaSection);\n    }\n    getSdp() {\n        // Increase SDP version.\n        this._sdpObject.origin.sessionVersion++;\n        return sdpTransform.write(this._sdpObject);\n    }\n    _addMediaSection(newMediaSection) {\n        if (!this._firstMid) {\n            this._firstMid = newMediaSection.mid;\n        }\n        // Add to the vector.\n        this._mediaSections.push(newMediaSection);\n        // Add to the map.\n        this._midToIndex.set(newMediaSection.mid, this._mediaSections.length - 1);\n        // Add to the SDP object.\n        this._sdpObject.media.push(newMediaSection.getObject());\n        // Regenerate BUNDLE mids.\n        this._regenerateBundleMids();\n    }\n    _replaceMediaSection(newMediaSection, reuseMid) {\n        // Store it in the map.\n        if (typeof reuseMid === 'string') {\n            const idx = this._midToIndex.get(reuseMid);\n            if (idx === undefined) {\n                throw new Error(`no media section found for reuseMid '${reuseMid}'`);\n            }\n            const oldMediaSection = this._mediaSections[idx];\n            // Replace the index in the vector with the new media section.\n            this._mediaSections[idx] = newMediaSection;\n            // Update the map.\n            this._midToIndex.delete(oldMediaSection.mid);\n            this._midToIndex.set(newMediaSection.mid, idx);\n            // Update the SDP object.\n            this._sdpObject.media[idx] = newMediaSection.getObject();\n            // Regenerate BUNDLE mids.\n            this._regenerateBundleMids();\n        }\n        else {\n            const idx = this._midToIndex.get(newMediaSection.mid);\n            if (idx === undefined) {\n                throw new Error(`no media section found with mid '${newMediaSection.mid}'`);\n            }\n            // Replace the index in the vector with the new media section.\n            this._mediaSections[idx] = newMediaSection;\n            // Update the SDP object.\n            this._sdpObject.media[idx] = newMediaSection.getObject();\n        }\n    }\n    _findMediaSection(mid) {\n        const idx = this._midToIndex.get(mid);\n        if (idx === undefined) {\n            throw new Error(`no media section found with mid '${mid}'`);\n        }\n        return this._mediaSections[idx];\n    }\n    _regenerateBundleMids() {\n        if (!this._dtlsParameters) {\n            return;\n        }\n        this._sdpObject.groups[0].mids = this._mediaSections\n            .filter((mediaSection) => !mediaSection.closed)\n            .map((mediaSection) => mediaSection.mid)\n            .join(' ');\n    }\n}\nexports.RemoteSdp = RemoteSdp;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OfferMediaSection = exports.AnswerMediaSection = exports.MediaSection = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst utils = __importStar(require(\"../../utils\"));\nclass MediaSection {\n    constructor({ iceParameters, iceCandidates, dtlsParameters, planB = false }) {\n        this._mediaObject = {};\n        this._planB = planB;\n        if (iceParameters) {\n            this.setIceParameters(iceParameters);\n        }\n        if (iceCandidates) {\n            this._mediaObject.candidates = [];\n            for (const candidate of iceCandidates) {\n                const candidateObject = {};\n                // mediasoup does mandates rtcp-mux so candidates component is always\n                // RTP (1).\n                candidateObject.component = 1;\n                candidateObject.foundation = candidate.foundation;\n                candidateObject.ip = candidate.ip;\n                candidateObject.port = candidate.port;\n                candidateObject.priority = candidate.priority;\n                candidateObject.transport = candidate.protocol;\n                candidateObject.type = candidate.type;\n                if (candidate.tcpType) {\n                    candidateObject.tcptype = candidate.tcpType;\n                }\n                this._mediaObject.candidates.push(candidateObject);\n            }\n            this._mediaObject.endOfCandidates = 'end-of-candidates';\n            this._mediaObject.iceOptions = 'renomination';\n        }\n        if (dtlsParameters) {\n            this.setDtlsRole(dtlsParameters.role);\n        }\n    }\n    get mid() {\n        return String(this._mediaObject.mid);\n    }\n    get closed() {\n        return this._mediaObject.port === 0;\n    }\n    getObject() {\n        return this._mediaObject;\n    }\n    setIceParameters(iceParameters) {\n        this._mediaObject.iceUfrag = iceParameters.usernameFragment;\n        this._mediaObject.icePwd = iceParameters.password;\n    }\n    pause() {\n        this._mediaObject.direction = 'inactive';\n    }\n    disable() {\n        this.pause();\n        delete this._mediaObject.ext;\n        delete this._mediaObject.ssrcs;\n        delete this._mediaObject.ssrcGroups;\n        delete this._mediaObject.simulcast;\n        delete this._mediaObject.simulcast_03;\n        delete this._mediaObject.rids;\n        delete this._mediaObject.extmapAllowMixed;\n    }\n    close() {\n        this.disable();\n        this._mediaObject.port = 0;\n    }\n}\nexports.MediaSection = MediaSection;\nclass AnswerMediaSection extends MediaSection {\n    constructor({ iceParameters, iceCandidates, dtlsParameters, sctpParameters, plainRtpParameters, planB = false, offerMediaObject, offerRtpParameters, answerRtpParameters, codecOptions, extmapAllowMixed = false }) {\n        super({ iceParameters, iceCandidates, dtlsParameters, planB });\n        this._mediaObject.mid = String(offerMediaObject.mid);\n        this._mediaObject.type = offerMediaObject.type;\n        this._mediaObject.protocol = offerMediaObject.protocol;\n        if (!plainRtpParameters) {\n            this._mediaObject.connection = { ip: '127.0.0.1', version: 4 };\n            this._mediaObject.port = 7;\n        }\n        else {\n            this._mediaObject.connection =\n                {\n                    ip: plainRtpParameters.ip,\n                    version: plainRtpParameters.ipVersion\n                };\n            this._mediaObject.port = plainRtpParameters.port;\n        }\n        switch (offerMediaObject.type) {\n            case 'audio':\n            case 'video':\n                {\n                    this._mediaObject.direction = 'recvonly';\n                    this._mediaObject.rtp = [];\n                    this._mediaObject.rtcpFb = [];\n                    this._mediaObject.fmtp = [];\n                    for (const codec of answerRtpParameters.codecs) {\n                        const rtp = {\n                            payload: codec.payloadType,\n                            codec: getCodecName(codec),\n                            rate: codec.clockRate\n                        };\n                        if (codec.channels > 1) {\n                            rtp.encoding = codec.channels;\n                        }\n                        this._mediaObject.rtp.push(rtp);\n                        const codecParameters = utils.clone(codec.parameters, {});\n                        let codecRtcpFeedback = utils.clone(codec.rtcpFeedback, []);\n                        if (codecOptions) {\n                            const { opusStereo, opusFec, opusDtx, opusMaxPlaybackRate, opusMaxAverageBitrate, opusPtime, opusNack, videoGoogleStartBitrate, videoGoogleMaxBitrate, videoGoogleMinBitrate } = codecOptions;\n                            const offerCodec = offerRtpParameters.codecs\n                                .find((c) => (c.payloadType === codec.payloadType));\n                            switch (codec.mimeType.toLowerCase()) {\n                                case 'audio/opus':\n                                case 'audio/multiopus':\n                                    {\n                                        if (opusStereo !== undefined) {\n                                            offerCodec.parameters['sprop-stereo'] = opusStereo ? 1 : 0;\n                                            codecParameters.stereo = opusStereo ? 1 : 0;\n                                        }\n                                        if (opusFec !== undefined) {\n                                            offerCodec.parameters.useinbandfec = opusFec ? 1 : 0;\n                                            codecParameters.useinbandfec = opusFec ? 1 : 0;\n                                        }\n                                        if (opusDtx !== undefined) {\n                                            offerCodec.parameters.usedtx = opusDtx ? 1 : 0;\n                                            codecParameters.usedtx = opusDtx ? 1 : 0;\n                                        }\n                                        if (opusMaxPlaybackRate !== undefined) {\n                                            codecParameters.maxplaybackrate = opusMaxPlaybackRate;\n                                        }\n                                        if (opusMaxAverageBitrate !== undefined) {\n                                            codecParameters.maxaveragebitrate = opusMaxAverageBitrate;\n                                        }\n                                        if (opusPtime !== undefined) {\n                                            offerCodec.parameters.ptime = opusPtime;\n                                            codecParameters.ptime = opusPtime;\n                                        }\n                                        // If opusNack is not set, we must remove NACK support for OPUS.\n                                        // Otherwise it would be enabled for those handlers that artificially\n                                        // announce it in their RTP capabilities.\n                                        if (!opusNack) {\n                                            offerCodec.rtcpFeedback = offerCodec\n                                                .rtcpFeedback\n                                                .filter((fb) => fb.type !== 'nack' || fb.parameter);\n                                            codecRtcpFeedback = codecRtcpFeedback\n                                                .filter((fb) => fb.type !== 'nack' || fb.parameter);\n                                        }\n                                        break;\n                                    }\n                                case 'video/vp8':\n                                case 'video/vp9':\n                                case 'video/h264':\n                                case 'video/h265':\n                                    {\n                                        if (videoGoogleStartBitrate !== undefined) {\n                                            codecParameters['x-google-start-bitrate'] = videoGoogleStartBitrate;\n                                        }\n                                        if (videoGoogleMaxBitrate !== undefined) {\n                                            codecParameters['x-google-max-bitrate'] = videoGoogleMaxBitrate;\n                                        }\n                                        if (videoGoogleMinBitrate !== undefined) {\n                                            codecParameters['x-google-min-bitrate'] = videoGoogleMinBitrate;\n                                        }\n                                        break;\n                                    }\n                            }\n                        }\n                        const fmtp = {\n                            payload: codec.payloadType,\n                            config: ''\n                        };\n                        for (const key of Object.keys(codecParameters)) {\n                            if (fmtp.config) {\n                                fmtp.config += ';';\n                            }\n                            fmtp.config += `${key}=${codecParameters[key]}`;\n                        }\n                        if (fmtp.config) {\n                            this._mediaObject.fmtp.push(fmtp);\n                        }\n                        for (const fb of codecRtcpFeedback) {\n                            this._mediaObject.rtcpFb.push({\n                                payload: codec.payloadType,\n                                type: fb.type,\n                                subtype: fb.parameter\n                            });\n                        }\n                    }\n                    this._mediaObject.payloads = answerRtpParameters.codecs\n                        .map((codec) => codec.payloadType)\n                        .join(' ');\n                    this._mediaObject.ext = [];\n                    for (const ext of answerRtpParameters.headerExtensions) {\n                        // Don't add a header extension if not present in the offer.\n                        const found = (offerMediaObject.ext || [])\n                            .some((localExt) => localExt.uri === ext.uri);\n                        if (!found) {\n                            continue;\n                        }\n                        this._mediaObject.ext.push({\n                            uri: ext.uri,\n                            value: ext.id\n                        });\n                    }\n                    // Allow both 1 byte and 2 bytes length header extensions.\n                    if (extmapAllowMixed &&\n                        offerMediaObject.extmapAllowMixed === 'extmap-allow-mixed') {\n                        this._mediaObject.extmapAllowMixed = 'extmap-allow-mixed';\n                    }\n                    // Simulcast.\n                    if (offerMediaObject.simulcast) {\n                        this._mediaObject.simulcast =\n                            {\n                                dir1: 'recv',\n                                list1: offerMediaObject.simulcast.list1\n                            };\n                        this._mediaObject.rids = [];\n                        for (const rid of offerMediaObject.rids || []) {\n                            if (rid.direction !== 'send') {\n                                continue;\n                            }\n                            this._mediaObject.rids.push({\n                                id: rid.id,\n                                direction: 'recv'\n                            });\n                        }\n                    }\n                    // Simulcast (draft version 03).\n                    else if (offerMediaObject.simulcast_03) {\n                        // eslint-disable-next-line camelcase\n                        this._mediaObject.simulcast_03 =\n                            {\n                                value: offerMediaObject.simulcast_03.value.replace(/send/g, 'recv')\n                            };\n                        this._mediaObject.rids = [];\n                        for (const rid of offerMediaObject.rids || []) {\n                            if (rid.direction !== 'send') {\n                                continue;\n                            }\n                            this._mediaObject.rids.push({\n                                id: rid.id,\n                                direction: 'recv'\n                            });\n                        }\n                    }\n                    this._mediaObject.rtcpMux = 'rtcp-mux';\n                    this._mediaObject.rtcpRsize = 'rtcp-rsize';\n                    if (this._planB && this._mediaObject.type === 'video') {\n                        this._mediaObject.xGoogleFlag = 'conference';\n                    }\n                    break;\n                }\n            case 'application':\n                {\n                    // New spec.\n                    if (typeof offerMediaObject.sctpPort === 'number') {\n                        this._mediaObject.payloads = 'webrtc-datachannel';\n                        this._mediaObject.sctpPort = sctpParameters.port;\n                        this._mediaObject.maxMessageSize = sctpParameters.maxMessageSize;\n                    }\n                    // Old spec.\n                    else if (offerMediaObject.sctpmap) {\n                        this._mediaObject.payloads = sctpParameters.port;\n                        this._mediaObject.sctpmap =\n                            {\n                                app: 'webrtc-datachannel',\n                                sctpmapNumber: sctpParameters.port,\n                                maxMessageSize: sctpParameters.maxMessageSize\n                            };\n                    }\n                    break;\n                }\n        }\n    }\n    setDtlsRole(role) {\n        switch (role) {\n            case 'client':\n                this._mediaObject.setup = 'active';\n                break;\n            case 'server':\n                this._mediaObject.setup = 'passive';\n                break;\n            case 'auto':\n                this._mediaObject.setup = 'actpass';\n                break;\n        }\n    }\n    resume() {\n        this._mediaObject.direction = 'recvonly';\n    }\n    muxSimulcastStreams(encodings) {\n        var _a;\n        if (!this._mediaObject.simulcast || !this._mediaObject.simulcast.list1) {\n            return;\n        }\n        const layers = {};\n        for (const encoding of encodings) {\n            if (encoding.rid) {\n                layers[encoding.rid] = encoding;\n            }\n        }\n        const raw = this._mediaObject.simulcast.list1;\n        // NOTE: Ignore bug in @types/sdp-transform.\n        // Ongoing PR: https://github.com/DefinitelyTyped/DefinitelyTyped/pull/64119\n        // @ts-ignore\n        const simulcastStreams = sdpTransform.parseSimulcastStreamList(raw);\n        for (const simulcastStream of simulcastStreams) {\n            for (const simulcastFormat of simulcastStream) {\n                simulcastFormat.paused = !((_a = layers[simulcastFormat.scid]) === null || _a === void 0 ? void 0 : _a.active);\n            }\n        }\n        this._mediaObject.simulcast.list1 = simulcastStreams.map((simulcastFormats) => simulcastFormats.map((f) => `${f.paused ? '~' : ''}${f.scid}`).join(',')).join(';');\n    }\n}\nexports.AnswerMediaSection = AnswerMediaSection;\nclass OfferMediaSection extends MediaSection {\n    constructor({ iceParameters, iceCandidates, dtlsParameters, sctpParameters, plainRtpParameters, planB = false, mid, kind, offerRtpParameters, streamId, trackId, oldDataChannelSpec = false }) {\n        super({ iceParameters, iceCandidates, dtlsParameters, planB });\n        this._mediaObject.mid = String(mid);\n        this._mediaObject.type = kind;\n        if (!plainRtpParameters) {\n            this._mediaObject.connection = { ip: '127.0.0.1', version: 4 };\n            if (!sctpParameters) {\n                this._mediaObject.protocol = 'UDP/TLS/RTP/SAVPF';\n            }\n            else {\n                this._mediaObject.protocol = 'UDP/DTLS/SCTP';\n            }\n            this._mediaObject.port = 7;\n        }\n        else {\n            this._mediaObject.connection =\n                {\n                    ip: plainRtpParameters.ip,\n                    version: plainRtpParameters.ipVersion\n                };\n            this._mediaObject.protocol = 'RTP/AVP';\n            this._mediaObject.port = plainRtpParameters.port;\n        }\n        switch (kind) {\n            case 'audio':\n            case 'video':\n                {\n                    this._mediaObject.direction = 'sendonly';\n                    this._mediaObject.rtp = [];\n                    this._mediaObject.rtcpFb = [];\n                    this._mediaObject.fmtp = [];\n                    if (!this._planB) {\n                        this._mediaObject.msid = `${streamId || '-'} ${trackId}`;\n                    }\n                    for (const codec of offerRtpParameters.codecs) {\n                        const rtp = {\n                            payload: codec.payloadType,\n                            codec: getCodecName(codec),\n                            rate: codec.clockRate\n                        };\n                        if (codec.channels > 1) {\n                            rtp.encoding = codec.channels;\n                        }\n                        this._mediaObject.rtp.push(rtp);\n                        const fmtp = {\n                            payload: codec.payloadType,\n                            config: ''\n                        };\n                        for (const key of Object.keys(codec.parameters)) {\n                            if (fmtp.config) {\n                                fmtp.config += ';';\n                            }\n                            fmtp.config += `${key}=${codec.parameters[key]}`;\n                        }\n                        if (fmtp.config) {\n                            this._mediaObject.fmtp.push(fmtp);\n                        }\n                        for (const fb of codec.rtcpFeedback) {\n                            this._mediaObject.rtcpFb.push({\n                                payload: codec.payloadType,\n                                type: fb.type,\n                                subtype: fb.parameter\n                            });\n                        }\n                    }\n                    this._mediaObject.payloads = offerRtpParameters.codecs\n                        .map((codec) => codec.payloadType)\n                        .join(' ');\n                    this._mediaObject.ext = [];\n                    for (const ext of offerRtpParameters.headerExtensions) {\n                        this._mediaObject.ext.push({\n                            uri: ext.uri,\n                            value: ext.id\n                        });\n                    }\n                    this._mediaObject.rtcpMux = 'rtcp-mux';\n                    this._mediaObject.rtcpRsize = 'rtcp-rsize';\n                    const encoding = offerRtpParameters.encodings[0];\n                    const ssrc = encoding.ssrc;\n                    const rtxSsrc = (encoding.rtx && encoding.rtx.ssrc)\n                        ? encoding.rtx.ssrc\n                        : undefined;\n                    this._mediaObject.ssrcs = [];\n                    this._mediaObject.ssrcGroups = [];\n                    if (offerRtpParameters.rtcp.cname) {\n                        this._mediaObject.ssrcs.push({\n                            id: ssrc,\n                            attribute: 'cname',\n                            value: offerRtpParameters.rtcp.cname\n                        });\n                    }\n                    if (this._planB) {\n                        this._mediaObject.ssrcs.push({\n                            id: ssrc,\n                            attribute: 'msid',\n                            value: `${streamId || '-'} ${trackId}`\n                        });\n                    }\n                    if (rtxSsrc) {\n                        if (offerRtpParameters.rtcp.cname) {\n                            this._mediaObject.ssrcs.push({\n                                id: rtxSsrc,\n                                attribute: 'cname',\n                                value: offerRtpParameters.rtcp.cname\n                            });\n                        }\n                        if (this._planB) {\n                            this._mediaObject.ssrcs.push({\n                                id: rtxSsrc,\n                                attribute: 'msid',\n                                value: `${streamId || '-'} ${trackId}`\n                            });\n                        }\n                        // Associate original and retransmission SSRCs.\n                        this._mediaObject.ssrcGroups.push({\n                            semantics: 'FID',\n                            ssrcs: `${ssrc} ${rtxSsrc}`\n                        });\n                    }\n                    break;\n                }\n            case 'application':\n                {\n                    // New spec.\n                    if (!oldDataChannelSpec) {\n                        this._mediaObject.payloads = 'webrtc-datachannel';\n                        this._mediaObject.sctpPort = sctpParameters.port;\n                        this._mediaObject.maxMessageSize = sctpParameters.maxMessageSize;\n                    }\n                    // Old spec.\n                    else {\n                        this._mediaObject.payloads = sctpParameters.port;\n                        this._mediaObject.sctpmap =\n                            {\n                                app: 'webrtc-datachannel',\n                                sctpmapNumber: sctpParameters.port,\n                                maxMessageSize: sctpParameters.maxMessageSize\n                            };\n                    }\n                    break;\n                }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setDtlsRole(role) {\n        // Always 'actpass'.\n        this._mediaObject.setup = 'actpass';\n    }\n    resume() {\n        this._mediaObject.direction = 'sendonly';\n    }\n    planBReceive({ offerRtpParameters, streamId, trackId }) {\n        const encoding = offerRtpParameters.encodings[0];\n        const ssrc = encoding.ssrc;\n        const rtxSsrc = (encoding.rtx && encoding.rtx.ssrc)\n            ? encoding.rtx.ssrc\n            : undefined;\n        const payloads = this._mediaObject.payloads.split(' ');\n        for (const codec of offerRtpParameters.codecs) {\n            if (payloads.includes(String(codec.payloadType))) {\n                continue;\n            }\n            const rtp = {\n                payload: codec.payloadType,\n                codec: getCodecName(codec),\n                rate: codec.clockRate\n            };\n            if (codec.channels > 1) {\n                rtp.encoding = codec.channels;\n            }\n            this._mediaObject.rtp.push(rtp);\n            const fmtp = {\n                payload: codec.payloadType,\n                config: ''\n            };\n            for (const key of Object.keys(codec.parameters)) {\n                if (fmtp.config) {\n                    fmtp.config += ';';\n                }\n                fmtp.config += `${key}=${codec.parameters[key]}`;\n            }\n            if (fmtp.config) {\n                this._mediaObject.fmtp.push(fmtp);\n            }\n            for (const fb of codec.rtcpFeedback) {\n                this._mediaObject.rtcpFb.push({\n                    payload: codec.payloadType,\n                    type: fb.type,\n                    subtype: fb.parameter\n                });\n            }\n        }\n        this._mediaObject.payloads += ` ${offerRtpParameters\n            .codecs\n            .filter((codec) => !this._mediaObject.payloads.includes(codec.payloadType))\n            .map((codec) => codec.payloadType)\n            .join(' ')}`;\n        this._mediaObject.payloads = this._mediaObject.payloads.trim();\n        if (offerRtpParameters.rtcp.cname) {\n            this._mediaObject.ssrcs.push({\n                id: ssrc,\n                attribute: 'cname',\n                value: offerRtpParameters.rtcp.cname\n            });\n        }\n        this._mediaObject.ssrcs.push({\n            id: ssrc,\n            attribute: 'msid',\n            value: `${streamId || '-'} ${trackId}`\n        });\n        if (rtxSsrc) {\n            if (offerRtpParameters.rtcp.cname) {\n                this._mediaObject.ssrcs.push({\n                    id: rtxSsrc,\n                    attribute: 'cname',\n                    value: offerRtpParameters.rtcp.cname\n                });\n            }\n            this._mediaObject.ssrcs.push({\n                id: rtxSsrc,\n                attribute: 'msid',\n                value: `${streamId || '-'} ${trackId}`\n            });\n            // Associate original and retransmission SSRCs.\n            this._mediaObject.ssrcGroups.push({\n                semantics: 'FID',\n                ssrcs: `${ssrc} ${rtxSsrc}`\n            });\n        }\n    }\n    planBStopReceiving({ offerRtpParameters }) {\n        const encoding = offerRtpParameters.encodings[0];\n        const ssrc = encoding.ssrc;\n        const rtxSsrc = (encoding.rtx && encoding.rtx.ssrc)\n            ? encoding.rtx.ssrc\n            : undefined;\n        this._mediaObject.ssrcs = this._mediaObject.ssrcs\n            .filter((s) => s.id !== ssrc && s.id !== rtxSsrc);\n        if (rtxSsrc) {\n            this._mediaObject.ssrcGroups = this._mediaObject.ssrcGroups\n                .filter((group) => group.ssrcs !== `${ssrc} ${rtxSsrc}`);\n        }\n    }\n}\nexports.OfferMediaSection = OfferMediaSection;\nfunction getCodecName(codec) {\n    const MimeTypeRegex = new RegExp('^(audio|video)/(.+)', 'i');\n    const mimeTypeMatch = MimeTypeRegex.exec(codec.mimeType);\n    if (!mimeTypeMatch) {\n        throw new TypeError('invalid codec.mimeType');\n    }\n    return mimeTypeMatch[2];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\nconst ScalabilityModeRegex = new RegExp('^[LS]([1-9]\\\\d{0,1})T([1-9]\\\\d{0,1})');\nfunction parse(scalabilityMode) {\n    const match = ScalabilityModeRegex.exec(scalabilityMode || '');\n    if (match) {\n        return {\n            spatialLayers: Number(match[1]),\n            temporalLayers: Number(match[2])\n        };\n    }\n    else {\n        return {\n            spatialLayers: 1,\n            temporalLayers: 1\n        };\n    }\n}\nexports.parse = parse;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chrome74 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst ortcUtils = __importStar(require(\"./ortc/utils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('Chrome74');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Chrome74 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Chrome74();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Chrome74';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan'\n        });\n        try {\n            pc.addTransceiver('audio');\n            pc.addTransceiver('video');\n            const offer = await pc.createOffer();\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            // libwebrtc supports NACK for OPUS but doesn't announce it.\n            ortcUtils.addNackSuppportForOpus(nativeRtpCapabilities);\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (encodings && encodings.length > 1) {\n            encodings.forEach((encoding, idx) => {\n                encoding.rid = `r${idx}`;\n            });\n        }\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        const mediaSectionIdx = this._remoteSdp.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, {\n            direction: 'sendonly',\n            streams: [this._sendStream],\n            sendEncodings: encodings\n        });\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        // Special case for VP9 with SVC.\n        let hackVp9Svc = false;\n        const layers = (0, scalabilityModes_1.parse)((encodings || [{}])[0].scalabilityMode);\n        if (encodings &&\n            encodings.length === 1 &&\n            layers.spatialLayers > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp9') {\n            logger.debug('send() | enabling legacy simulcast for VP9 SVC');\n            hackVp9Svc = true;\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n            sdpUnifiedPlanUtils.addLegacySimulcast({\n                offerMediaObject,\n                numStreams: layers.spatialLayers\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings by parsing the SDP offer if no encodings are given.\n        if (!encodings) {\n            sendingRtpParameters.encodings =\n                sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        }\n        // Set RTP encodings by parsing the SDP offer and complete them with given\n        // one if just a single encoding has been given.\n        else if (encodings.length === 1) {\n            let newEncodings = sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n            Object.assign(newEncodings[0], encodings[0]);\n            // Hack for VP9 SVC.\n            if (hackVp9Svc) {\n                newEncodings = [newEncodings[0]];\n            }\n            sendingRtpParameters.encodings = newEncodings;\n        }\n        // Otherwise if more than 1 encoding are given use them verbatim.\n        else {\n            sendingRtpParameters.encodings = encodings;\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                if (encoding.scalabilityMode) {\n                    encoding.scalabilityMode = `L1T${layers.temporalLayers}`;\n                }\n                else {\n                    encoding.scalabilityMode = 'L1T3';\n                }\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            reuseMid: mediaSectionIdx.reuseMid,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions,\n            extmapAllowMixed: true\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        this._pc.removeTrack(transceiver.sender);\n        const mediaSectionClosed = this._remoteSdp.closeMediaSection(transceiver.mid);\n        if (mediaSectionClosed) {\n            try {\n                transceiver.stop();\n            }\n            catch (error) { }\n        }\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    async pauseSending(localId) {\n        this.assertSendDirection();\n        logger.debug('pauseSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'inactive';\n        this._remoteSdp.pauseMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async resumeSending(localId) {\n        this.assertSendDirection();\n        logger.debug('resumeSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        this._remoteSdp.resumeSendingMediaSection(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'sendonly';\n        const offer = await this._pc.createOffer();\n        logger.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            else {\n                // Store in the map.\n                this._mapMidTransceiver.set(localId, transceiver);\n                results.push({\n                    localId,\n                    track: transceiver.receiver.track,\n                    rtpReceiver: transceiver.receiver\n                });\n            }\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('pauseReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'inactive';\n            this._remoteSdp.pauseMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async resumeReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('resumeReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'recvonly';\n            this._remoteSdp.resumeReceivingMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Chrome74 = Chrome74;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chrome70 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('Chrome70');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Chrome70 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Chrome70();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Chrome70';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan'\n        });\n        try {\n            pc.addTransceiver('audio');\n            pc.addTransceiver('video');\n            const offer = await pc.createOffer();\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        const mediaSectionIdx = this._remoteSdp.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, { direction: 'sendonly', streams: [this._sendStream] });\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        if (encodings && encodings.length > 1) {\n            logger.debug('send() | enabling legacy simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n            sdpUnifiedPlanUtils.addLegacySimulcast({\n                offerMediaObject,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        // Special case for VP9 with SVC.\n        let hackVp9Svc = false;\n        const layers = (0, scalabilityModes_1.parse)((encodings || [{}])[0].scalabilityMode);\n        if (encodings &&\n            encodings.length === 1 &&\n            layers.spatialLayers > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp9') {\n            logger.debug('send() | enabling legacy simulcast for VP9 SVC');\n            hackVp9Svc = true;\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n            sdpUnifiedPlanUtils.addLegacySimulcast({\n                offerMediaObject,\n                numStreams: layers.spatialLayers\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // If encodings are given, apply them now.\n        if (encodings) {\n            logger.debug('send() | applying given encodings');\n            const parameters = transceiver.sender.getParameters();\n            for (let idx = 0; idx < (parameters.encodings || []).length; ++idx) {\n                const encoding = parameters.encodings[idx];\n                const desiredEncoding = encodings[idx];\n                // Should not happen but just in case.\n                if (!desiredEncoding) {\n                    break;\n                }\n                parameters.encodings[idx] = Object.assign(encoding, desiredEncoding);\n            }\n            await transceiver.sender.setParameters(parameters);\n        }\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // Hack for VP9 SVC.\n        if (hackVp9Svc) {\n            sendingRtpParameters.encodings = [sendingRtpParameters.encodings[0]];\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                encoding.scalabilityMode = 'L1T3';\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            reuseMid: mediaSectionIdx.reuseMid,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        this._pc.removeTrack(transceiver.sender);\n        const mediaSectionClosed = this._remoteSdp.closeMediaSection(transceiver.mid);\n        if (mediaSectionClosed) {\n            try {\n                transceiver.stop();\n            }\n            catch (error) { }\n        }\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            // Store in the map.\n            this._mapMidTransceiver.set(localId, transceiver);\n            results.push({\n                localId,\n                track: transceiver.receiver.track,\n                rtpReceiver: transceiver.receiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Chrome70 = Chrome70;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chrome67 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpPlanBUtils = __importStar(require(\"./sdp/planBUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst logger = new Logger_1.Logger('Chrome67');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Chrome67 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Chrome67();\n    }\n    constructor() {\n        super();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Map of RTCRtpSender indexed by localId.\n        this._mapSendLocalIdRtpSender = new Map();\n        // Next sending localId.\n        this._nextSendLocalId = 0;\n        // Map of MID, RTP parameters and RTCRtpReceiver indexed by local id.\n        // Value is an Object with mid, rtpParameters and rtpReceiver.\n        this._mapRecvLocalIdInfo = new Map();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Chrome67';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b'\n        });\n        try {\n            const offer = await pc.createOffer({\n                offerToReceiveAudio: true,\n                offerToReceiveVideo: true\n            });\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            planB: true\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (codec) {\n            logger.warn('send() | codec selection is not available in %s handler', this.name);\n        }\n        this._sendStream.addTrack(track);\n        this._pc.addTrack(track, this._sendStream);\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs);\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        if (track.kind === 'video' && encodings && encodings.length > 1) {\n            logger.debug('send() | enabling simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'video');\n            sdpPlanBUtils.addLegacySimulcast({\n                offerMediaObject,\n                track,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media\n            .find((m) => m.type === track.kind);\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpPlanBUtils.getRtpEncodings({ offerMediaObject, track });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // If VP8 and there is effective simulcast, add scalabilityMode to each\n        // encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8') {\n            for (const encoding of sendingRtpParameters.encodings) {\n                encoding.scalabilityMode = 'L1T3';\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        const localId = String(this._nextSendLocalId);\n        this._nextSendLocalId++;\n        const rtpSender = this._pc.getSenders()\n            .find((s) => s.track === track);\n        // Insert into the map.\n        this._mapSendLocalIdRtpSender.set(localId, rtpSender);\n        return {\n            localId: localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        this._pc.removeTrack(rtpSender);\n        if (rtpSender.track) {\n            this._sendStream.removeTrack(rtpSender.track);\n        }\n        this._mapSendLocalIdRtpSender.delete(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        try {\n            await this._pc.setLocalDescription(offer);\n        }\n        catch (error) {\n            // NOTE: If there are no sending tracks, setLocalDescription() will fail with\n            // \"Failed to create channels\". If so, ignore it.\n            if (this._sendStream.getTracks().length === 0) {\n                logger.warn('stopSending() | ignoring expected error due no sending tracks: %s', error.toString());\n                return;\n            }\n            throw error;\n        }\n        if (this._pc.signalingState === 'stable') {\n            return;\n        }\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const oldTrack = rtpSender.track;\n        await rtpSender.replaceTrack(track);\n        // Remove the old track from the local stream.\n        if (oldTrack) {\n            this._sendStream.removeTrack(oldTrack);\n        }\n        // Add the new track to the local stream.\n        if (track) {\n            this._sendStream.addTrack(track);\n        }\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        return rtpSender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const mid = kind;\n            this._remoteSdp.receive({\n                mid,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { kind, rtpParameters } = options;\n            const mid = kind;\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === mid);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { kind, trackId, rtpParameters } = options;\n            const localId = trackId;\n            const mid = kind;\n            const rtpReceiver = this._pc.getReceivers()\n                .find((r) => r.track && r.track.id === localId);\n            if (!rtpReceiver) {\n                throw new Error('new RTCRtpReceiver not');\n            }\n            // Insert into the map.\n            this._mapRecvLocalIdInfo.set(localId, { mid, rtpParameters, rtpReceiver });\n            results.push({\n                localId,\n                track: rtpReceiver.track,\n                rtpReceiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const { mid, rtpParameters } = this._mapRecvLocalIdInfo.get(localId) || {};\n            // Remove from the map.\n            this._mapRecvLocalIdInfo.delete(localId);\n            this._remoteSdp.planBStopReceiving({ mid: mid, offerRtpParameters: rtpParameters });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const { rtpReceiver } = this._mapRecvLocalIdInfo.get(localId) || {};\n        if (!rtpReceiver) {\n            throw new Error('associated RTCRtpReceiver not found');\n        }\n        return rtpReceiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation({ oldDataChannelSpec: true });\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Chrome67 = Chrome67;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addLegacySimulcast = exports.getRtpEncodings = void 0;\nfunction getRtpEncodings({ offerMediaObject, track }) {\n    // First media SSRC (or the only one).\n    let firstSsrc;\n    const ssrcs = new Set();\n    for (const line of offerMediaObject.ssrcs || []) {\n        if (line.attribute !== 'msid') {\n            continue;\n        }\n        const trackId = line.value.split(' ')[1];\n        if (trackId === track.id) {\n            const ssrc = line.id;\n            ssrcs.add(ssrc);\n            if (!firstSsrc) {\n                firstSsrc = ssrc;\n            }\n        }\n    }\n    if (ssrcs.size === 0) {\n        throw new Error(`a=ssrc line with msid information not found [track.id:${track.id}]`);\n    }\n    const ssrcToRtxSsrc = new Map();\n    // First assume RTX is used.\n    for (const line of offerMediaObject.ssrcGroups || []) {\n        if (line.semantics !== 'FID') {\n            continue;\n        }\n        let [ssrc, rtxSsrc] = line.ssrcs.split(/\\s+/);\n        ssrc = Number(ssrc);\n        rtxSsrc = Number(rtxSsrc);\n        if (ssrcs.has(ssrc)) {\n            // Remove both the SSRC and RTX SSRC from the set so later we know that they\n            // are already handled.\n            ssrcs.delete(ssrc);\n            ssrcs.delete(rtxSsrc);\n            // Add to the map.\n            ssrcToRtxSsrc.set(ssrc, rtxSsrc);\n        }\n    }\n    // If the set of SSRCs is not empty it means that RTX is not being used, so take\n    // media SSRCs from there.\n    for (const ssrc of ssrcs) {\n        // Add to the map.\n        ssrcToRtxSsrc.set(ssrc, null);\n    }\n    const encodings = [];\n    for (const [ssrc, rtxSsrc] of ssrcToRtxSsrc) {\n        const encoding = { ssrc };\n        if (rtxSsrc) {\n            encoding.rtx = { ssrc: rtxSsrc };\n        }\n        encodings.push(encoding);\n    }\n    return encodings;\n}\nexports.getRtpEncodings = getRtpEncodings;\n/**\n * Adds multi-ssrc based simulcast into the given SDP media section offer.\n */\nfunction addLegacySimulcast({ offerMediaObject, track, numStreams }) {\n    if (numStreams <= 1) {\n        throw new TypeError('numStreams must be greater than 1');\n    }\n    let firstSsrc;\n    let firstRtxSsrc;\n    let streamId;\n    // Get the SSRC.\n    const ssrcMsidLine = (offerMediaObject.ssrcs || [])\n        .find((line) => {\n        if (line.attribute !== 'msid') {\n            return false;\n        }\n        const trackId = line.value.split(' ')[1];\n        if (trackId === track.id) {\n            firstSsrc = line.id;\n            streamId = line.value.split(' ')[0];\n            return true;\n        }\n        else {\n            return false;\n        }\n    });\n    if (!ssrcMsidLine) {\n        throw new Error(`a=ssrc line with msid information not found [track.id:${track.id}]`);\n    }\n    // Get the SSRC for RTX.\n    (offerMediaObject.ssrcGroups || [])\n        .some((line) => {\n        if (line.semantics !== 'FID') {\n            return false;\n        }\n        const ssrcs = line.ssrcs.split(/\\s+/);\n        if (Number(ssrcs[0]) === firstSsrc) {\n            firstRtxSsrc = Number(ssrcs[1]);\n            return true;\n        }\n        else {\n            return false;\n        }\n    });\n    const ssrcCnameLine = offerMediaObject.ssrcs\n        .find((line) => (line.attribute === 'cname' && line.id === firstSsrc));\n    if (!ssrcCnameLine) {\n        throw new Error(`a=ssrc line with cname information not found [track.id:${track.id}]`);\n    }\n    const cname = ssrcCnameLine.value;\n    const ssrcs = [];\n    const rtxSsrcs = [];\n    for (let i = 0; i < numStreams; ++i) {\n        ssrcs.push(firstSsrc + i);\n        if (firstRtxSsrc) {\n            rtxSsrcs.push(firstRtxSsrc + i);\n        }\n    }\n    offerMediaObject.ssrcGroups = offerMediaObject.ssrcGroups || [];\n    offerMediaObject.ssrcs = offerMediaObject.ssrcs || [];\n    offerMediaObject.ssrcGroups.push({\n        semantics: 'SIM',\n        ssrcs: ssrcs.join(' ')\n    });\n    for (let i = 0; i < ssrcs.length; ++i) {\n        const ssrc = ssrcs[i];\n        offerMediaObject.ssrcs.push({\n            id: ssrc,\n            attribute: 'cname',\n            value: cname\n        });\n        offerMediaObject.ssrcs.push({\n            id: ssrc,\n            attribute: 'msid',\n            value: `${streamId} ${track.id}`\n        });\n    }\n    for (let i = 0; i < rtxSsrcs.length; ++i) {\n        const ssrc = ssrcs[i];\n        const rtxSsrc = rtxSsrcs[i];\n        offerMediaObject.ssrcs.push({\n            id: rtxSsrc,\n            attribute: 'cname',\n            value: cname\n        });\n        offerMediaObject.ssrcs.push({\n            id: rtxSsrc,\n            attribute: 'msid',\n            value: `${streamId} ${track.id}`\n        });\n        offerMediaObject.ssrcGroups.push({\n            semantics: 'FID',\n            ssrcs: `${ssrc} ${rtxSsrc}`\n        });\n    }\n}\nexports.addLegacySimulcast = addLegacySimulcast;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chrome55 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst errors_1 = require(\"../errors\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpPlanBUtils = __importStar(require(\"./sdp/planBUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst logger = new Logger_1.Logger('Chrome55');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Chrome55 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Chrome55();\n    }\n    constructor() {\n        super();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Map of sending MediaStreamTracks indexed by localId.\n        this._mapSendLocalIdTrack = new Map();\n        // Next sending localId.\n        this._nextSendLocalId = 0;\n        // Map of MID, RTP parameters and RTCRtpReceiver indexed by local id.\n        // Value is an Object with mid, rtpParameters and rtpReceiver.\n        this._mapRecvLocalIdInfo = new Map();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Chrome55';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b'\n        });\n        try {\n            const offer = await pc.createOffer({\n                offerToReceiveAudio: true,\n                offerToReceiveVideo: true\n            });\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            planB: true\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (codec) {\n            logger.warn('send() | codec selection is not available in %s handler', this.name);\n        }\n        this._sendStream.addTrack(track);\n        this._pc.addStream(this._sendStream);\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs);\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        if (track.kind === 'video' && encodings && encodings.length > 1) {\n            logger.debug('send() | enabling simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media.find((m) => m.type === 'video');\n            sdpPlanBUtils.addLegacySimulcast({\n                offerMediaObject,\n                track,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media\n            .find((m) => m.type === track.kind);\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpPlanBUtils.getRtpEncodings({ offerMediaObject, track });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // If VP8 and there is effective simulcast, add scalabilityMode to each\n        // encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8') {\n            for (const encoding of sendingRtpParameters.encodings) {\n                encoding.scalabilityMode = 'L1T3';\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        const localId = String(this._nextSendLocalId);\n        this._nextSendLocalId++;\n        // Insert into the map.\n        this._mapSendLocalIdTrack.set(localId, track);\n        return {\n            localId: localId,\n            rtpParameters: sendingRtpParameters\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const track = this._mapSendLocalIdTrack.get(localId);\n        if (!track) {\n            throw new Error('track not found');\n        }\n        this._mapSendLocalIdTrack.delete(localId);\n        this._sendStream.removeTrack(track);\n        this._pc.addStream(this._sendStream);\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        try {\n            await this._pc.setLocalDescription(offer);\n        }\n        catch (error) {\n            // NOTE: If there are no sending tracks, setLocalDescription() will fail with\n            // \"Failed to create channels\". If so, ignore it.\n            if (this._sendStream.getTracks().length === 0) {\n                logger.warn('stopSending() | ignoring expected error due no sending tracks: %s', error.toString());\n                return;\n            }\n            throw error;\n        }\n        if (this._pc.signalingState === 'stable') {\n            return;\n        }\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localId, track) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        throw new errors_1.UnsupportedError(' not implemented');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async setRtpEncodingParameters(localId, params) {\n        throw new errors_1.UnsupportedError('not supported');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async getSenderStats(localId) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const mid = kind;\n            this._remoteSdp.receive({\n                mid,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { kind, rtpParameters } = options;\n            const mid = kind;\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === mid);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { kind, trackId, rtpParameters } = options;\n            const mid = kind;\n            const localId = trackId;\n            const streamId = options.streamId || rtpParameters.rtcp.cname;\n            const stream = this._pc.getRemoteStreams()\n                .find((s) => s.id === streamId);\n            const track = stream.getTrackById(localId);\n            if (!track) {\n                throw new Error('remote track not found');\n            }\n            // Insert into the map.\n            this._mapRecvLocalIdInfo.set(localId, { mid, rtpParameters });\n            results.push({ localId, track });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const { mid, rtpParameters } = this._mapRecvLocalIdInfo.get(localId) || {};\n            // Remove from the map.\n            this._mapRecvLocalIdInfo.delete(localId);\n            this._remoteSdp.planBStopReceiving({ mid: mid, offerRtpParameters: rtpParameters });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async getReceiverStats(localId) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation({ oldDataChannelSpec: true });\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Chrome55 = Chrome55;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Firefox60 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst errors_1 = require(\"../errors\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('Firefox60');\nconst SCTP_NUM_STREAMS = { OS: 16, MIS: 2048 };\nclass Firefox60 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Firefox60();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Firefox60';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require'\n        });\n        // NOTE: We need to add a real video track to get the RID extension mapping.\n        const canvas = document.createElement('canvas');\n        // NOTE: Otherwise Firefox fails in next line.\n        canvas.getContext('2d');\n        const fakeStream = canvas.captureStream();\n        const fakeVideoTrack = fakeStream.getVideoTracks()[0];\n        try {\n            pc.addTransceiver('audio', { direction: 'sendrecv' });\n            const videoTransceiver = pc.addTransceiver(fakeVideoTrack, { direction: 'sendrecv' });\n            const parameters = videoTransceiver.sender.getParameters();\n            const encodings = [\n                { rid: 'r0', maxBitrate: 100000 },\n                { rid: 'r1', maxBitrate: 500000 }\n            ];\n            parameters.encodings = encodings;\n            await videoTransceiver.sender.setParameters(parameters);\n            const offer = await pc.createOffer();\n            try {\n                canvas.remove();\n            }\n            catch (error) { }\n            try {\n                fakeVideoTrack.stop();\n            }\n            catch (error) { }\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                canvas.remove();\n            }\n            catch (error2) { }\n            try {\n                fakeVideoTrack.stop();\n            }\n            catch (error2) { }\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async updateIceServers(iceServers) {\n        // NOTE: Firefox does not implement pc.setConfiguration().\n        throw new errors_1.UnsupportedError('not supported');\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (encodings) {\n            encodings = utils.clone(encodings, []);\n            if (encodings.length > 1) {\n                encodings.forEach((encoding, idx) => {\n                    encoding.rid = `r${idx}`;\n                });\n                // Clone the encodings and reverse them because Firefox likes them\n                // from high to low.\n                encodings.reverse();\n            }\n        }\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        // NOTE: Firefox fails sometimes to properly anticipate the closed media\n        // section that it should use, so don't reuse closed media sections.\n        //   https://github.com/versatica/mediasoup-client/issues/104\n        //\n        // const mediaSectionIdx = this._remoteSdp!.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, { direction: 'sendonly', streams: [this._sendStream] });\n        // NOTE: This is not spec compliants. Encodings should be given in addTransceiver\n        // second argument, but Firefox does not support it.\n        if (encodings) {\n            const parameters = transceiver.sender.getParameters();\n            parameters.encodings = encodings;\n            await transceiver.sender.setParameters(parameters);\n        }\n        const offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        // In Firefox use DTLS role client even if we are the \"offerer\" since\n        // Firefox does not respect ICE-Lite.\n        if (!this._transportReady) {\n            await this.setupTransport({ localDtlsRole: 'client', localSdpObject });\n        }\n        const layers = (0, scalabilityModes_1.parse)((encodings || [{}])[0].scalabilityMode);\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        const offerMediaObject = localSdpObject.media[localSdpObject.media.length - 1];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings by parsing the SDP offer if no encodings are given.\n        if (!encodings) {\n            sendingRtpParameters.encodings =\n                sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        }\n        // Set RTP encodings by parsing the SDP offer and complete them with given\n        // one if just a single encoding has been given.\n        else if (encodings.length === 1) {\n            const newEncodings = sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n            Object.assign(newEncodings[0], encodings[0]);\n            sendingRtpParameters.encodings = newEncodings;\n        }\n        // Otherwise if more than 1 encoding are given use them verbatim (but\n        // reverse them back since we reversed them above to satisfy Firefox).\n        else {\n            sendingRtpParameters.encodings = encodings.reverse();\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                if (encoding.scalabilityMode) {\n                    encoding.scalabilityMode = `L1T${layers.temporalLayers}`;\n                }\n                else {\n                    encoding.scalabilityMode = 'L1T3';\n                }\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions,\n            extmapAllowMixed: true\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated transceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        // NOTE: Cannot use stop() the transceiver due to the the note above in\n        // send() method.\n        // try\n        // {\n        // \ttransceiver.stop();\n        // }\n        // catch (error)\n        // {}\n        this._pc.removeTrack(transceiver.sender);\n        // NOTE: Cannot use closeMediaSection() due to the the note above in send()\n        // method.\n        // this._remoteSdp!.closeMediaSection(transceiver.mid);\n        this._remoteSdp.disableMediaSection(transceiver.mid);\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        this.assertSendDirection();\n        logger.debug('pauseSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'inactive';\n        this._remoteSdp.pauseMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        this.assertSendDirection();\n        logger.debug('resumeSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'sendonly';\n        this._remoteSdp.resumeSendingMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated transceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        // NOTE: We require encodings given from low to high, however Firefox\n        // requires them in reverse order, so do magic here.\n        spatialLayer = parameters.encodings.length - 1 - spatialLayer;\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx >= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({ localDtlsRole: 'client', localSdpObject });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    optionsList) {\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n            answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        if (!this._transportReady) {\n            await this.setupTransport({ localDtlsRole: 'client', localSdpObject });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            // Store in the map.\n            this._mapMidTransceiver.set(localId, transceiver);\n            results.push({\n                localId,\n                track: transceiver.receiver.track,\n                rtpReceiver: transceiver.receiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('pauseReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'inactive';\n            this._remoteSdp.pauseMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async resumeReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('resumeReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'recvonly';\n            this._remoteSdp.resumeReceivingMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({ localDtlsRole: 'client', localSdpObject });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Firefox60 = Firefox60;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Safari12 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst ortcUtils = __importStar(require(\"./ortc/utils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('Safari12');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Safari12 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Safari12();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Safari12';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require'\n        });\n        try {\n            pc.addTransceiver('audio');\n            pc.addTransceiver('video');\n            const offer = await pc.createOffer();\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            // libwebrtc supports NACK for OPUS but doesn't announce it.\n            ortcUtils.addNackSuppportForOpus(nativeRtpCapabilities);\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        const mediaSectionIdx = this._remoteSdp.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, { direction: 'sendonly', streams: [this._sendStream] });\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        const layers = (0, scalabilityModes_1.parse)((encodings || [{}])[0].scalabilityMode);\n        if (encodings && encodings.length > 1) {\n            logger.debug('send() | enabling legacy simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n            sdpUnifiedPlanUtils.addLegacySimulcast({\n                offerMediaObject,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                if (encoding.scalabilityMode) {\n                    encoding.scalabilityMode = `L1T${layers.temporalLayers}`;\n                }\n                else {\n                    encoding.scalabilityMode = 'L1T3';\n                }\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            reuseMid: mediaSectionIdx.reuseMid,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        this._pc.removeTrack(transceiver.sender);\n        const mediaSectionClosed = this._remoteSdp.closeMediaSection(transceiver.mid);\n        if (mediaSectionClosed) {\n            try {\n                transceiver.stop();\n            }\n            catch (error) { }\n        }\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        this.assertSendDirection();\n        logger.debug('pauseSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'inactive';\n        this._remoteSdp.pauseMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        this.assertSendDirection();\n        logger.debug('resumeSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'sendonly';\n        this._remoteSdp.resumeSendingMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            // Store in the map.\n            this._mapMidTransceiver.set(localId, transceiver);\n            results.push({\n                localId,\n                track: transceiver.receiver.track,\n                rtpReceiver: transceiver.receiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('pauseReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'inactive';\n            this._remoteSdp.pauseMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async resumeReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('resumeReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'recvonly';\n            this._remoteSdp.resumeReceivingMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Safari12 = Safari12;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Safari11 = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpPlanBUtils = __importStar(require(\"./sdp/planBUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst logger = new Logger_1.Logger('Safari11');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass Safari11 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Safari11();\n    }\n    constructor() {\n        super();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Map of RTCRtpSender indexed by localId.\n        this._mapSendLocalIdRtpSender = new Map();\n        // Next sending localId.\n        this._nextSendLocalId = 0;\n        // Map of MID, RTP parameters and RTCRtpReceiver indexed by local id.\n        // Value is an Object with mid, rtpParameters and rtpReceiver.\n        this._mapRecvLocalIdInfo = new Map();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Safari11';\n    }\n    close() {\n        logger.debug('close()');\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b'\n        });\n        try {\n            const offer = await pc.createOffer({\n                offerToReceiveAudio: true,\n                offerToReceiveVideo: true\n            });\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            planB: true\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (codec) {\n            logger.warn('send() | codec selection is not available in %s handler', this.name);\n        }\n        this._sendStream.addTrack(track);\n        this._pc.addTrack(track, this._sendStream);\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs);\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        if (track.kind === 'video' && encodings && encodings.length > 1) {\n            logger.debug('send() | enabling simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media.find((m) => m.type === 'video');\n            sdpPlanBUtils.addLegacySimulcast({\n                offerMediaObject,\n                track,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media\n            .find((m) => m.type === track.kind);\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpPlanBUtils.getRtpEncodings({ offerMediaObject, track });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // If VP8 and there is effective simulcast, add scalabilityMode to each\n        // encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8') {\n            for (const encoding of sendingRtpParameters.encodings) {\n                encoding.scalabilityMode = 'L1T3';\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        const localId = String(this._nextSendLocalId);\n        this._nextSendLocalId++;\n        const rtpSender = this._pc.getSenders()\n            .find((s) => s.track === track);\n        // Insert into the map.\n        this._mapSendLocalIdRtpSender.set(localId, rtpSender);\n        return {\n            localId: localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        if (rtpSender.track) {\n            this._sendStream.removeTrack(rtpSender.track);\n        }\n        this._mapSendLocalIdRtpSender.delete(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        try {\n            await this._pc.setLocalDescription(offer);\n        }\n        catch (error) {\n            // NOTE: If there are no sending tracks, setLocalDescription() will fail with\n            // \"Failed to create channels\". If so, ignore it.\n            if (this._sendStream.getTracks().length === 0) {\n                logger.warn('stopSending() | ignoring expected error due no sending tracks: %s', error.toString());\n                return;\n            }\n            throw error;\n        }\n        if (this._pc.signalingState === 'stable') {\n            return;\n        }\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const oldTrack = rtpSender.track;\n        await rtpSender.replaceTrack(track);\n        // Remove the old track from the local stream.\n        if (oldTrack) {\n            this._sendStream.removeTrack(oldTrack);\n        }\n        // Add the new track to the local stream.\n        if (track) {\n            this._sendStream.addTrack(track);\n        }\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const rtpSender = this._mapSendLocalIdRtpSender.get(localId);\n        if (!rtpSender) {\n            throw new Error('associated RTCRtpSender not found');\n        }\n        return rtpSender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const mid = kind;\n            this._remoteSdp.receive({\n                mid,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { kind, rtpParameters } = options;\n            const mid = kind;\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === mid);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { kind, trackId, rtpParameters } = options;\n            const mid = kind;\n            const localId = trackId;\n            const rtpReceiver = this._pc.getReceivers()\n                .find((r) => r.track && r.track.id === localId);\n            if (!rtpReceiver) {\n                throw new Error('new RTCRtpReceiver not');\n            }\n            // Insert into the map.\n            this._mapRecvLocalIdInfo.set(localId, { mid, rtpParameters, rtpReceiver });\n            results.push({\n                localId,\n                track: rtpReceiver.track,\n                rtpReceiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const { mid, rtpParameters } = this._mapRecvLocalIdInfo.get(localId) || {};\n            // Remove from the map.\n            this._mapRecvLocalIdInfo.delete(localId);\n            this._remoteSdp.planBStopReceiving({ mid: mid, offerRtpParameters: rtpParameters });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const { rtpReceiver } = this._mapRecvLocalIdInfo.get(localId) || {};\n        if (!rtpReceiver) {\n            throw new Error('associated RTCRtpReceiver not found');\n        }\n        return rtpReceiver.getStats();\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation({ oldDataChannelSpec: true });\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.Safari11 = Safari11;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Edge11 = void 0;\nconst Logger_1 = require(\"../Logger\");\nconst errors_1 = require(\"../errors\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst edgeUtils = __importStar(require(\"./ortc/edgeUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst logger = new Logger_1.Logger('Edge11');\nclass Edge11 extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new Edge11();\n    }\n    constructor() {\n        super();\n        // Map of RTCRtpSenders indexed by id.\n        this._rtpSenders = new Map();\n        // Map of RTCRtpReceivers indexed by id.\n        this._rtpReceivers = new Map();\n        // Next localId for sending tracks.\n        this._nextSendLocalId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'Edge11';\n    }\n    close() {\n        logger.debug('close()');\n        // Close the ICE gatherer.\n        // NOTE: Not yet implemented by Edge.\n        try {\n            this._iceGatherer.close();\n        }\n        catch (error) { }\n        // Close the ICE transport.\n        try {\n            this._iceTransport.stop();\n        }\n        catch (error) { }\n        // Close the DTLS transport.\n        try {\n            this._dtlsTransport.stop();\n        }\n        catch (error) { }\n        // Close RTCRtpSenders.\n        for (const rtpSender of this._rtpSenders.values()) {\n            try {\n                rtpSender.stop();\n            }\n            catch (error) { }\n        }\n        // Close RTCRtpReceivers.\n        for (const rtpReceiver of this._rtpReceivers.values()) {\n            try {\n                rtpReceiver.stop();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        return edgeUtils.getCapabilities();\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: { OS: 0, MIS: 0 }\n        };\n    }\n    run({ direction, // eslint-disable-line @typescript-eslint/no-unused-vars\n    iceParameters, iceCandidates, dtlsParameters, sctpParameters, // eslint-disable-line @typescript-eslint/no-unused-vars\n    iceServers, iceTransportPolicy, additionalSettings, // eslint-disable-line @typescript-eslint/no-unused-vars\n    proprietaryConstraints, // eslint-disable-line @typescript-eslint/no-unused-vars\n    extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._remoteIceParameters = iceParameters;\n        this._remoteIceCandidates = iceCandidates;\n        this._remoteDtlsParameters = dtlsParameters;\n        this._cname = `CNAME-${utils.generateRandomNumber()}`;\n        this.setIceGatherer({ iceServers, iceTransportPolicy });\n        this.setIceTransport();\n        this.setDtlsTransport();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async updateIceServers(iceServers) {\n        // NOTE: Edge 11 does not implement iceGatherer.gater().\n        throw new errors_1.UnsupportedError('not supported');\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        this._remoteIceParameters = iceParameters;\n        if (!this._transportReady) {\n            return;\n        }\n        logger.debug('restartIce() | calling iceTransport.start()');\n        this._iceTransport.start(this._iceGatherer, iceParameters, 'controlling');\n        for (const candidate of this._remoteIceCandidates) {\n            this._iceTransport.addRemoteCandidate(candidate);\n        }\n        this._iceTransport.addRemoteCandidate({});\n    }\n    async getTransportStats() {\n        return this._iceTransport.getStats();\n    }\n    async send(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    { track, encodings, codecOptions, codec }) {\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (!this._transportReady) {\n            await this.setupTransport({ localDtlsRole: 'server' });\n        }\n        logger.debug('send() | calling new RTCRtpSender()');\n        const rtpSender = new RTCRtpSender(track, this._dtlsTransport);\n        const rtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        rtpParameters.codecs = ortc.reduceCodecs(rtpParameters.codecs, codec);\n        const useRtx = rtpParameters.codecs\n            .some((_codec) => /.+\\/rtx$/i.test(_codec.mimeType));\n        if (!encodings) {\n            encodings = [{}];\n        }\n        for (const encoding of encodings) {\n            encoding.ssrc = utils.generateRandomNumber();\n            if (useRtx) {\n                encoding.rtx = { ssrc: utils.generateRandomNumber() };\n            }\n        }\n        rtpParameters.encodings = encodings;\n        // Fill RTCRtpParameters.rtcp.\n        rtpParameters.rtcp =\n            {\n                cname: this._cname,\n                reducedSize: true,\n                mux: true\n            };\n        // NOTE: Convert our standard RTCRtpParameters into those that Edge\n        // expects.\n        const edgeRtpParameters = edgeUtils.mangleRtpParameters(rtpParameters);\n        logger.debug('send() | calling rtpSender.send() [params:%o]', edgeRtpParameters);\n        await rtpSender.send(edgeRtpParameters);\n        const localId = String(this._nextSendLocalId);\n        this._nextSendLocalId++;\n        // Store it.\n        this._rtpSenders.set(localId, rtpSender);\n        return { localId, rtpParameters, rtpSender };\n    }\n    async stopSending(localId) {\n        logger.debug('stopSending() [localId:%s]', localId);\n        const rtpSender = this._rtpSenders.get(localId);\n        if (!rtpSender) {\n            throw new Error('RTCRtpSender not found');\n        }\n        this._rtpSenders.delete(localId);\n        try {\n            logger.debug('stopSending() | calling rtpSender.stop()');\n            rtpSender.stop();\n        }\n        catch (error) {\n            logger.warn('stopSending() | rtpSender.stop() failed:%o', error);\n            throw error;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(localId, track) {\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const rtpSender = this._rtpSenders.get(localId);\n        if (!rtpSender) {\n            throw new Error('RTCRtpSender not found');\n        }\n        rtpSender.setTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const rtpSender = this._rtpSenders.get(localId);\n        if (!rtpSender) {\n            throw new Error('RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings\n            .forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const rtpSender = this._rtpSenders.get(localId);\n        if (!rtpSender) {\n            throw new Error('RTCRtpSender not found');\n        }\n        const parameters = rtpSender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await rtpSender.setParameters(parameters);\n    }\n    async getSenderStats(localId) {\n        const rtpSender = this._rtpSenders.get(localId);\n        if (!rtpSender) {\n            throw new Error('RTCRtpSender not found');\n        }\n        return rtpSender.getStats();\n    }\n    async sendDataChannel(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    options) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    async receive(optionsList) {\n        const results = [];\n        for (const options of optionsList) {\n            const { trackId, kind } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n        }\n        if (!this._transportReady) {\n            await this.setupTransport({ localDtlsRole: 'server' });\n        }\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters } = options;\n            logger.debug('receive() | calling new RTCRtpReceiver()');\n            const rtpReceiver = new RTCRtpReceiver(this._dtlsTransport, kind);\n            rtpReceiver.addEventListener('error', (event) => {\n                logger.error('rtpReceiver \"error\" event [event:%o]', event);\n            });\n            // NOTE: Convert our standard RTCRtpParameters into those that Edge\n            // expects.\n            const edgeRtpParameters = edgeUtils.mangleRtpParameters(rtpParameters);\n            logger.debug('receive() | calling rtpReceiver.receive() [params:%o]', edgeRtpParameters);\n            await rtpReceiver.receive(edgeRtpParameters);\n            const localId = trackId;\n            // Store it.\n            this._rtpReceivers.set(localId, rtpReceiver);\n            results.push({\n                localId,\n                track: rtpReceiver.track,\n                rtpReceiver\n            });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const rtpReceiver = this._rtpReceivers.get(localId);\n            if (!rtpReceiver) {\n                throw new Error('RTCRtpReceiver not found');\n            }\n            this._rtpReceivers.delete(localId);\n            try {\n                logger.debug('stopReceiving() | calling rtpReceiver.stop()');\n                rtpReceiver.stop();\n            }\n            catch (error) {\n                logger.warn('stopReceiving() | rtpReceiver.stop() failed:%o', error);\n            }\n        }\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async getReceiverStats(localId) {\n        const rtpReceiver = this._rtpReceivers.get(localId);\n        if (!rtpReceiver) {\n            throw new Error('RTCRtpReceiver not found');\n        }\n        return rtpReceiver.getStats();\n    }\n    async receiveDataChannel(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    options) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    setIceGatherer({ iceServers, iceTransportPolicy }) {\n        // @ts-ignore\n        const iceGatherer = new RTCIceGatherer({\n            iceServers: iceServers || [],\n            gatherPolicy: iceTransportPolicy || 'all'\n        });\n        iceGatherer.addEventListener('error', (event) => {\n            logger.error('iceGatherer \"error\" event [event:%o]', event);\n        });\n        // NOTE: Not yet implemented by Edge, which starts gathering automatically.\n        try {\n            iceGatherer.gather();\n        }\n        catch (error) {\n            logger.debug('setIceGatherer() | iceGatherer.gather() failed: %s', error.toString());\n        }\n        this._iceGatherer = iceGatherer;\n    }\n    setIceTransport() {\n        const iceTransport = new RTCIceTransport(this._iceGatherer);\n        // NOTE: Not yet implemented by Edge.\n        iceTransport.addEventListener('statechange', () => {\n            switch (iceTransport.state) {\n                case 'checking':\n                    this.emit('@connectionstatechange', 'connecting');\n                    break;\n                case 'connected':\n                case 'completed':\n                    this.emit('@connectionstatechange', 'connected');\n                    break;\n                case 'failed':\n                    this.emit('@connectionstatechange', 'failed');\n                    break;\n                case 'disconnected':\n                    this.emit('@connectionstatechange', 'disconnected');\n                    break;\n                case 'closed':\n                    this.emit('@connectionstatechange', 'closed');\n                    break;\n            }\n        });\n        // NOTE: Not standard, but implemented by Edge.\n        iceTransport.addEventListener('icestatechange', () => {\n            switch (iceTransport.state) {\n                case 'checking':\n                    this.emit('@connectionstatechange', 'connecting');\n                    break;\n                case 'connected':\n                case 'completed':\n                    this.emit('@connectionstatechange', 'connected');\n                    break;\n                case 'failed':\n                    this.emit('@connectionstatechange', 'failed');\n                    break;\n                case 'disconnected':\n                    this.emit('@connectionstatechange', 'disconnected');\n                    break;\n                case 'closed':\n                    this.emit('@connectionstatechange', 'closed');\n                    break;\n            }\n        });\n        iceTransport.addEventListener('candidatepairchange', (event) => {\n            logger.debug('iceTransport \"candidatepairchange\" event [pair:%o]', event.pair);\n        });\n        this._iceTransport = iceTransport;\n    }\n    setDtlsTransport() {\n        const dtlsTransport = new RTCDtlsTransport(this._iceTransport);\n        // NOTE: Not yet implemented by Edge.\n        dtlsTransport.addEventListener('statechange', () => {\n            logger.debug('dtlsTransport \"statechange\" event [state:%s]', dtlsTransport.state);\n        });\n        // NOTE: Not standard, but implemented by Edge.\n        dtlsTransport.addEventListener('dtlsstatechange', () => {\n            logger.debug('dtlsTransport \"dtlsstatechange\" event [state:%s]', dtlsTransport.state);\n            if (dtlsTransport.state === 'closed') {\n                this.emit('@connectionstatechange', 'closed');\n            }\n        });\n        dtlsTransport.addEventListener('error', (event) => {\n            logger.error('dtlsTransport \"error\" event [event:%o]', event);\n        });\n        this._dtlsTransport = dtlsTransport;\n    }\n    async setupTransport({ localDtlsRole }) {\n        logger.debug('setupTransport()');\n        // Get our local DTLS parameters.\n        const dtlsParameters = this._dtlsTransport.getLocalParameters();\n        dtlsParameters.role = localDtlsRole;\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        // Start the RTCIceTransport.\n        this._iceTransport.start(this._iceGatherer, this._remoteIceParameters, 'controlling');\n        // Add remote ICE candidates.\n        for (const candidate of this._remoteIceCandidates) {\n            this._iceTransport.addRemoteCandidate(candidate);\n        }\n        // Also signal a 'complete' candidate as per spec.\n        // NOTE: It should be {complete: true} but Edge prefers {}.\n        // NOTE: If we don't signal end of candidates, the Edge RTCIceTransport\n        // won't enter the 'completed' state.\n        this._iceTransport.addRemoteCandidate({});\n        // NOTE: Edge does not like SHA less than 256.\n        this._remoteDtlsParameters.fingerprints = this._remoteDtlsParameters.fingerprints\n            .filter((fingerprint) => {\n            return (fingerprint.algorithm === 'sha-256' ||\n                fingerprint.algorithm === 'sha-384' ||\n                fingerprint.algorithm === 'sha-512');\n        });\n        // Start the RTCDtlsTransport.\n        this._dtlsTransport.start(this._remoteDtlsParameters);\n        this._transportReady = true;\n    }\n}\nexports.Edge11 = Edge11;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mangleRtpParameters = exports.getCapabilities = void 0;\nconst utils = __importStar(require(\"../../utils\"));\n/**\n * Normalize ORTC based Edge's RTCRtpReceiver.getCapabilities() to produce a full\n * compliant ORTC RTCRtpCapabilities.\n */\nfunction getCapabilities() {\n    const nativeCaps = RTCRtpReceiver.getCapabilities();\n    const caps = utils.clone(nativeCaps, {});\n    for (const codec of caps.codecs) {\n        // Rename numChannels to channels.\n        codec.channels = codec.numChannels;\n        delete codec.numChannels;\n        // Add mimeType.\n        codec.mimeType = codec.mimeType || `${codec.kind}/${codec.name}`;\n        // NOTE: Edge sets some numeric parameters as string rather than number. Fix them.\n        if (codec.parameters) {\n            const parameters = codec.parameters;\n            if (parameters.apt) {\n                parameters.apt = Number(parameters.apt);\n            }\n            if (parameters['packetization-mode']) {\n                parameters['packetization-mode'] = Number(parameters['packetization-mode']);\n            }\n        }\n        // Delete emty parameter String in rtcpFeedback.\n        for (const feedback of codec.rtcpFeedback || []) {\n            if (!feedback.parameter) {\n                feedback.parameter = '';\n            }\n        }\n    }\n    return caps;\n}\nexports.getCapabilities = getCapabilities;\n/**\n * Generate RTCRtpParameters as ORTC based Edge likes.\n */\nfunction mangleRtpParameters(rtpParameters) {\n    const params = utils.clone(rtpParameters, {});\n    // Rename mid to muxId.\n    if (params.mid) {\n        params.muxId = params.mid;\n        delete params.mid;\n    }\n    for (const codec of params.codecs) {\n        // Rename channels to numChannels.\n        if (codec.channels) {\n            codec.numChannels = codec.channels;\n            delete codec.channels;\n        }\n        // Add codec.name (requried by Edge).\n        if (codec.mimeType && !codec.name) {\n            codec.name = codec.mimeType.split('/')[1];\n        }\n        // Remove mimeType.\n        delete codec.mimeType;\n    }\n    return params;\n}\nexports.mangleRtpParameters = mangleRtpParameters;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReactNativeUnifiedPlan = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpUnifiedPlanUtils = __importStar(require(\"./sdp/unifiedPlanUtils\"));\nconst ortcUtils = __importStar(require(\"./ortc/utils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst scalabilityModes_1 = require(\"../scalabilityModes\");\nconst logger = new Logger_1.Logger('ReactNativeUnifiedPlan');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass ReactNativeUnifiedPlan extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new ReactNativeUnifiedPlan();\n    }\n    constructor() {\n        super();\n        // Map of RTCTransceivers indexed by MID.\n        this._mapMidTransceiver = new Map();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'ReactNativeUnifiedPlan';\n    }\n    close() {\n        logger.debug('close()');\n        // Free/dispose native MediaStream but DO NOT free/dispose native\n        // MediaStreamTracks (that is parent's business).\n        // @ts-ignore (proprietary API in react-native-webrtc).\n        this._sendStream.release(/* releaseTracks */ false);\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan'\n        });\n        try {\n            pc.addTransceiver('audio');\n            pc.addTransceiver('video');\n            const offer = await pc.createOffer();\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            // libwebrtc supports NACK for OPUS but doesn't announce it.\n            ortcUtils.addNackSuppportForOpus(nativeRtpCapabilities);\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'unified-plan',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (encodings && encodings.length > 1) {\n            encodings.forEach((encoding, idx) => {\n                encoding.rid = `r${idx}`;\n            });\n        }\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs, codec);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        // This may throw.\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs, codec);\n        const mediaSectionIdx = this._remoteSdp.getNextMediaSectionIdx();\n        const transceiver = this._pc.addTransceiver(track, {\n            direction: 'sendonly',\n            streams: [this._sendStream],\n            sendEncodings: encodings\n        });\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        // Special case for VP9 with SVC.\n        let hackVp9Svc = false;\n        const layers = (0, scalabilityModes_1.parse)((encodings || [{}])[0].scalabilityMode);\n        if (encodings &&\n            encodings.length === 1 &&\n            layers.spatialLayers > 1 &&\n            sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp9') {\n            logger.debug('send() | enabling legacy simulcast for VP9 SVC');\n            hackVp9Svc = true;\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n            sdpUnifiedPlanUtils.addLegacySimulcast({\n                offerMediaObject,\n                numStreams: layers.spatialLayers\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        // We can now get the transceiver.mid.\n        const localId = transceiver.mid;\n        // Set MID.\n        sendingRtpParameters.mid = localId;\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media[mediaSectionIdx.idx];\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings by parsing the SDP offer if no encodings are given.\n        if (!encodings) {\n            sendingRtpParameters.encodings =\n                sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n        }\n        // Set RTP encodings by parsing the SDP offer and complete them with given\n        // one if just a single encoding has been given.\n        else if (encodings.length === 1) {\n            let newEncodings = sdpUnifiedPlanUtils.getRtpEncodings({ offerMediaObject });\n            Object.assign(newEncodings[0], encodings[0]);\n            // Hack for VP9 SVC.\n            if (hackVp9Svc) {\n                newEncodings = [newEncodings[0]];\n            }\n            sendingRtpParameters.encodings = newEncodings;\n        }\n        // Otherwise if more than 1 encoding are given use them verbatim.\n        else {\n            sendingRtpParameters.encodings = encodings;\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                if (encoding.scalabilityMode) {\n                    encoding.scalabilityMode = `L1T${layers.temporalLayers}`;\n                }\n                else {\n                    encoding.scalabilityMode = 'L1T3';\n                }\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            reuseMid: mediaSectionIdx.reuseMid,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions,\n            extmapAllowMixed: true\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        // Store in the map.\n        this._mapMidTransceiver.set(localId, transceiver);\n        return {\n            localId,\n            rtpParameters: sendingRtpParameters,\n            rtpSender: transceiver.sender\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.sender.replaceTrack(null);\n        this._pc.removeTrack(transceiver.sender);\n        const mediaSectionClosed = this._remoteSdp.closeMediaSection(transceiver.mid);\n        if (mediaSectionClosed) {\n            try {\n                transceiver.stop();\n            }\n            catch (error) { }\n        }\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        this._mapMidTransceiver.delete(localId);\n    }\n    async pauseSending(localId) {\n        this.assertSendDirection();\n        logger.debug('pauseSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'inactive';\n        this._remoteSdp.pauseMediaSection(localId);\n        const offer = await this._pc.createOffer();\n        logger.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async resumeSending(localId) {\n        this.assertSendDirection();\n        logger.debug('resumeSending() [localId:%s]', localId);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        this._remoteSdp.resumeSendingMediaSection(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        transceiver.direction = 'sendonly';\n        const offer = await this._pc.createOffer();\n        logger.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async replaceTrack(localId, track) {\n        this.assertSendDirection();\n        if (track) {\n            logger.debug('replaceTrack() [localId:%s, track.id:%s]', localId, track.id);\n        }\n        else {\n            logger.debug('replaceTrack() [localId:%s, no track]', localId);\n        }\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        await transceiver.sender.replaceTrack(track);\n    }\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        this.assertSendDirection();\n        logger.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]', localId, spatialLayer);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            if (idx <= spatialLayer) {\n                encoding.active = true;\n            }\n            else {\n                encoding.active = false;\n            }\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async setRtpEncodingParameters(localId, params) {\n        this.assertSendDirection();\n        logger.debug('setRtpEncodingParameters() [localId:%s, params:%o]', localId, params);\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        const parameters = transceiver.sender.getParameters();\n        parameters.encodings.forEach((encoding, idx) => {\n            parameters.encodings[idx] = { ...encoding, ...params };\n        });\n        await transceiver.sender.setParameters(parameters);\n        this._remoteSdp.muxMediaSectionSimulcast(localId, parameters.encodings);\n        const offer = await this._pc.createOffer();\n        logger.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    async getSenderStats(localId) {\n        this.assertSendDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.sender.getStats();\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapLocalId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters, streamId } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const localId = rtpParameters.mid || String(this._mapMidTransceiver.size);\n            mapLocalId.set(trackId, localId);\n            this._remoteSdp.receive({\n                mid: localId,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId: streamId || rtpParameters.rtcp.cname,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { trackId, rtpParameters } = options;\n            const localId = mapLocalId.get(trackId);\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === localId);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { trackId } = options;\n            const localId = mapLocalId.get(trackId);\n            const transceiver = this._pc.getTransceivers()\n                .find((t) => t.mid === localId);\n            if (!transceiver) {\n                throw new Error('new RTCRtpTransceiver not found');\n            }\n            else {\n                // Store in the map.\n                this._mapMidTransceiver.set(localId, transceiver);\n                results.push({\n                    localId,\n                    track: transceiver.receiver.track,\n                    rtpReceiver: transceiver.receiver\n                });\n            }\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            this._remoteSdp.closeMediaSection(transceiver.mid);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const localId of localIds) {\n            this._mapMidTransceiver.delete(localId);\n        }\n    }\n    async pauseReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('pauseReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'inactive';\n            this._remoteSdp.pauseMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async resumeReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('resumeReceiving() [localId:%s]', localId);\n            const transceiver = this._mapMidTransceiver.get(localId);\n            if (!transceiver) {\n                throw new Error('associated RTCRtpTransceiver not found');\n            }\n            transceiver.direction = 'recvonly';\n            this._remoteSdp.resumeReceivingMediaSection(localId);\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async getReceiverStats(localId) {\n        this.assertRecvDirection();\n        const transceiver = this._mapMidTransceiver.get(localId);\n        if (!transceiver) {\n            throw new Error('associated RTCRtpTransceiver not found');\n        }\n        return transceiver.receiver.getStats();\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation();\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.ReactNativeUnifiedPlan = ReactNativeUnifiedPlan;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReactNative = void 0;\nconst sdpTransform = __importStar(require(\"sdp-transform\"));\nconst Logger_1 = require(\"../Logger\");\nconst errors_1 = require(\"../errors\");\nconst utils = __importStar(require(\"../utils\"));\nconst ortc = __importStar(require(\"../ortc\"));\nconst sdpCommonUtils = __importStar(require(\"./sdp/commonUtils\"));\nconst sdpPlanBUtils = __importStar(require(\"./sdp/planBUtils\"));\nconst HandlerInterface_1 = require(\"./HandlerInterface\");\nconst RemoteSdp_1 = require(\"./sdp/RemoteSdp\");\nconst logger = new Logger_1.Logger('ReactNative');\nconst SCTP_NUM_STREAMS = { OS: 1024, MIS: 1024 };\nclass ReactNative extends HandlerInterface_1.HandlerInterface {\n    /**\n     * Creates a factory function.\n     */\n    static createFactory() {\n        return () => new ReactNative();\n    }\n    constructor() {\n        super();\n        // Local stream for sending.\n        this._sendStream = new MediaStream();\n        // Map of sending MediaStreamTracks indexed by localId.\n        this._mapSendLocalIdTrack = new Map();\n        // Next sending localId.\n        this._nextSendLocalId = 0;\n        // Map of MID, RTP parameters and RTCRtpReceiver indexed by local id.\n        // Value is an Object with mid, rtpParameters and rtpReceiver.\n        this._mapRecvLocalIdInfo = new Map();\n        // Whether a DataChannel m=application section has been created.\n        this._hasDataChannelMediaSection = false;\n        // Sending DataChannel id value counter. Incremented for each new DataChannel.\n        this._nextSendSctpStreamId = 0;\n        // Got transport local and remote parameters.\n        this._transportReady = false;\n    }\n    get name() {\n        return 'ReactNative';\n    }\n    close() {\n        logger.debug('close()');\n        // Free/dispose native MediaStream but DO NOT free/dispose native\n        // MediaStreamTracks (that is parent's business).\n        // @ts-ignore (proprietary API in react-native-webrtc).\n        this._sendStream.release(/* releaseTracks */ false);\n        // Close RTCPeerConnection.\n        if (this._pc) {\n            try {\n                this._pc.close();\n            }\n            catch (error) { }\n        }\n        this.emit('@close');\n    }\n    async getNativeRtpCapabilities() {\n        logger.debug('getNativeRtpCapabilities()');\n        const pc = new RTCPeerConnection({\n            iceServers: [],\n            iceTransportPolicy: 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b'\n        });\n        try {\n            const offer = await pc.createOffer({\n                offerToReceiveAudio: true,\n                offerToReceiveVideo: true\n            });\n            try {\n                pc.close();\n            }\n            catch (error) { }\n            const sdpObject = sdpTransform.parse(offer.sdp);\n            const nativeRtpCapabilities = sdpCommonUtils.extractRtpCapabilities({ sdpObject });\n            return nativeRtpCapabilities;\n        }\n        catch (error) {\n            try {\n                pc.close();\n            }\n            catch (error2) { }\n            throw error;\n        }\n    }\n    async getNativeSctpCapabilities() {\n        logger.debug('getNativeSctpCapabilities()');\n        return {\n            numStreams: SCTP_NUM_STREAMS\n        };\n    }\n    run({ direction, iceParameters, iceCandidates, dtlsParameters, sctpParameters, iceServers, iceTransportPolicy, additionalSettings, proprietaryConstraints, extendedRtpCapabilities }) {\n        logger.debug('run()');\n        this._direction = direction;\n        this._remoteSdp = new RemoteSdp_1.RemoteSdp({\n            iceParameters,\n            iceCandidates,\n            dtlsParameters,\n            sctpParameters,\n            planB: true\n        });\n        this._sendingRtpParametersByKind =\n            {\n                audio: ortc.getSendingRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRtpParameters('video', extendedRtpCapabilities)\n            };\n        this._sendingRemoteRtpParametersByKind =\n            {\n                audio: ortc.getSendingRemoteRtpParameters('audio', extendedRtpCapabilities),\n                video: ortc.getSendingRemoteRtpParameters('video', extendedRtpCapabilities)\n            };\n        if (dtlsParameters.role && dtlsParameters.role !== 'auto') {\n            this._forcedLocalDtlsRole = dtlsParameters.role === 'server'\n                ? 'client'\n                : 'server';\n        }\n        this._pc = new RTCPeerConnection({\n            iceServers: iceServers || [],\n            iceTransportPolicy: iceTransportPolicy || 'all',\n            bundlePolicy: 'max-bundle',\n            rtcpMuxPolicy: 'require',\n            sdpSemantics: 'plan-b',\n            ...additionalSettings\n        }, proprietaryConstraints);\n        if (this._pc.connectionState) {\n            this._pc.addEventListener('connectionstatechange', () => {\n                this.emit('@connectionstatechange', this._pc.connectionState);\n            });\n        }\n        else {\n            this._pc.addEventListener('iceconnectionstatechange', () => {\n                logger.warn('run() | pc.connectionState not supported, using pc.iceConnectionState');\n                switch (this._pc.iceConnectionState) {\n                    case 'checking':\n                        this.emit('@connectionstatechange', 'connecting');\n                        break;\n                    case 'connected':\n                    case 'completed':\n                        this.emit('@connectionstatechange', 'connected');\n                        break;\n                    case 'failed':\n                        this.emit('@connectionstatechange', 'failed');\n                        break;\n                    case 'disconnected':\n                        this.emit('@connectionstatechange', 'disconnected');\n                        break;\n                    case 'closed':\n                        this.emit('@connectionstatechange', 'closed');\n                        break;\n                }\n            });\n        }\n    }\n    async updateIceServers(iceServers) {\n        logger.debug('updateIceServers()');\n        const configuration = this._pc.getConfiguration();\n        configuration.iceServers = iceServers;\n        this._pc.setConfiguration(configuration);\n    }\n    async restartIce(iceParameters) {\n        logger.debug('restartIce()');\n        // Provide the remote SDP handler with new remote ICE parameters.\n        this._remoteSdp.updateIceParameters(iceParameters);\n        if (!this._transportReady) {\n            return;\n        }\n        if (this._direction === 'send') {\n            const offer = await this._pc.createOffer({ iceRestart: true });\n            logger.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n        }\n        else {\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            logger.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n        }\n    }\n    async getTransportStats() {\n        return this._pc.getStats();\n    }\n    async send({ track, encodings, codecOptions, codec }) {\n        var _a;\n        this.assertSendDirection();\n        logger.debug('send() [kind:%s, track.id:%s]', track.kind, track.id);\n        if (codec) {\n            logger.warn('send() | codec selection is not available in %s handler', this.name);\n        }\n        this._sendStream.addTrack(track);\n        this._pc.addStream(this._sendStream);\n        let offer = await this._pc.createOffer();\n        let localSdpObject = sdpTransform.parse(offer.sdp);\n        let offerMediaObject;\n        const sendingRtpParameters = utils.clone(this._sendingRtpParametersByKind[track.kind], {});\n        sendingRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRtpParameters.codecs);\n        const sendingRemoteRtpParameters = utils.clone(this._sendingRemoteRtpParametersByKind[track.kind], {});\n        sendingRemoteRtpParameters.codecs =\n            ortc.reduceCodecs(sendingRemoteRtpParameters.codecs);\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        if (track.kind === 'video' && encodings && encodings.length > 1) {\n            logger.debug('send() | enabling simulcast');\n            localSdpObject = sdpTransform.parse(offer.sdp);\n            offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'video');\n            sdpPlanBUtils.addLegacySimulcast({\n                offerMediaObject,\n                track,\n                numStreams: encodings.length\n            });\n            offer = { type: 'offer', sdp: sdpTransform.write(localSdpObject) };\n        }\n        logger.debug('send() | calling pc.setLocalDescription() [offer:%o]', offer);\n        await this._pc.setLocalDescription(offer);\n        localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        offerMediaObject = localSdpObject.media\n            .find((m) => m.type === track.kind);\n        // Set RTCP CNAME.\n        sendingRtpParameters.rtcp.cname =\n            sdpCommonUtils.getCname({ offerMediaObject });\n        // Set RTP encodings.\n        sendingRtpParameters.encodings =\n            sdpPlanBUtils.getRtpEncodings({ offerMediaObject, track });\n        // Complete encodings with given values.\n        if (encodings) {\n            for (let idx = 0; idx < sendingRtpParameters.encodings.length; ++idx) {\n                if (encodings[idx]) {\n                    Object.assign(sendingRtpParameters.encodings[idx], encodings[idx]);\n                }\n            }\n        }\n        // If VP8 or H264 and there is effective simulcast, add scalabilityMode to\n        // each encoding.\n        if (sendingRtpParameters.encodings.length > 1 &&\n            (sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/vp8' ||\n                sendingRtpParameters.codecs[0].mimeType.toLowerCase() === 'video/h264')) {\n            for (const encoding of sendingRtpParameters.encodings) {\n                encoding.scalabilityMode = 'L1T3';\n            }\n        }\n        this._remoteSdp.send({\n            offerMediaObject,\n            offerRtpParameters: sendingRtpParameters,\n            answerRtpParameters: sendingRemoteRtpParameters,\n            codecOptions\n        });\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('send() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n        const localId = String(this._nextSendLocalId);\n        this._nextSendLocalId++;\n        // Insert into the map.\n        this._mapSendLocalIdTrack.set(localId, track);\n        return {\n            localId: localId,\n            rtpParameters: sendingRtpParameters\n        };\n    }\n    async stopSending(localId) {\n        this.assertSendDirection();\n        logger.debug('stopSending() [localId:%s]', localId);\n        const track = this._mapSendLocalIdTrack.get(localId);\n        if (!track) {\n            throw new Error('track not found');\n        }\n        this._mapSendLocalIdTrack.delete(localId);\n        this._sendStream.removeTrack(track);\n        this._pc.addStream(this._sendStream);\n        const offer = await this._pc.createOffer();\n        logger.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]', offer);\n        try {\n            await this._pc.setLocalDescription(offer);\n        }\n        catch (error) {\n            // NOTE: If there are no sending tracks, setLocalDescription() will fail with\n            // \"Failed to create channels\". If so, ignore it.\n            if (this._sendStream.getTracks().length === 0) {\n                logger.warn('stopSending() | ignoring expected error due no sending tracks: %s', error.toString());\n                return;\n            }\n            throw error;\n        }\n        if (this._pc.signalingState === 'stable') {\n            return;\n        }\n        const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]', answer);\n        await this._pc.setRemoteDescription(answer);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async pauseSending(localId) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async resumeSending(localId) {\n        // Unimplemented.\n    }\n    async replaceTrack(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localId, track) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async setMaxSpatialLayer(localId, spatialLayer) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async setRtpEncodingParameters(localId, params) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async getSenderStats(localId) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    async sendDataChannel({ ordered, maxPacketLifeTime, maxRetransmits, label, protocol }) {\n        var _a;\n        this.assertSendDirection();\n        const options = {\n            negotiated: true,\n            id: this._nextSendSctpStreamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('sendDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // Increase next id.\n        this._nextSendSctpStreamId =\n            ++this._nextSendSctpStreamId % SCTP_NUM_STREAMS.MIS;\n        // If this is the first DataChannel we need to create the SDP answer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            const offer = await this._pc.createOffer();\n            const localSdpObject = sdpTransform.parse(offer.sdp);\n            const offerMediaObject = localSdpObject.media\n                .find((m) => m.type === 'application');\n            if (!this._transportReady) {\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]', offer);\n            await this._pc.setLocalDescription(offer);\n            this._remoteSdp.sendSctpAssociation({ offerMediaObject });\n            const answer = { type: 'answer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setRemoteDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        const sctpStreamParameters = {\n            streamId: options.id,\n            ordered: options.ordered,\n            maxPacketLifeTime: options.maxPacketLifeTime,\n            maxRetransmits: options.maxRetransmits\n        };\n        return { dataChannel, sctpStreamParameters };\n    }\n    async receive(optionsList) {\n        var _a;\n        this.assertRecvDirection();\n        const results = [];\n        const mapStreamId = new Map();\n        for (const options of optionsList) {\n            const { trackId, kind, rtpParameters } = options;\n            logger.debug('receive() [trackId:%s, kind:%s]', trackId, kind);\n            const mid = kind;\n            let streamId = options.streamId || rtpParameters.rtcp.cname;\n            // NOTE: In React-Native we cannot reuse the same remote MediaStream for new\n            // remote tracks. This is because react-native-webrtc does not react on new\n            // tracks generated within already existing streams, so force the streamId\n            // to be different. See:\n            // https://github.com/react-native-webrtc/react-native-webrtc/issues/401\n            logger.debug('receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc');\n            streamId += `-hack-${utils.generateRandomNumber()}`;\n            mapStreamId.set(trackId, streamId);\n            this._remoteSdp.receive({\n                mid,\n                kind,\n                offerRtpParameters: rtpParameters,\n                streamId,\n                trackId\n            });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('receive() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        let answer = await this._pc.createAnswer();\n        const localSdpObject = sdpTransform.parse(answer.sdp);\n        for (const options of optionsList) {\n            const { kind, rtpParameters } = options;\n            const mid = kind;\n            const answerMediaObject = localSdpObject.media\n                .find((m) => String(m.mid) === mid);\n            // May need to modify codec parameters in the answer based on codec\n            // parameters in the offer.\n            sdpCommonUtils.applyCodecParameters({\n                offerRtpParameters: rtpParameters,\n                answerMediaObject\n            });\n        }\n        answer = { type: 'answer', sdp: sdpTransform.write(localSdpObject) };\n        if (!this._transportReady) {\n            await this.setupTransport({\n                localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                localSdpObject\n            });\n        }\n        logger.debug('receive() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n        for (const options of optionsList) {\n            const { kind, trackId, rtpParameters } = options;\n            const localId = trackId;\n            const mid = kind;\n            const streamId = mapStreamId.get(trackId);\n            const stream = this._pc.getRemoteStreams()\n                .find((s) => s.id === streamId);\n            const track = stream.getTrackById(localId);\n            if (!track) {\n                throw new Error('remote track not found');\n            }\n            // Insert into the map.\n            this._mapRecvLocalIdInfo.set(localId, { mid, rtpParameters });\n            results.push({ localId, track });\n        }\n        return results;\n    }\n    async stopReceiving(localIds) {\n        this.assertRecvDirection();\n        for (const localId of localIds) {\n            logger.debug('stopReceiving() [localId:%s]', localId);\n            const { mid, rtpParameters } = this._mapRecvLocalIdInfo.get(localId) || {};\n            // Remove from the map.\n            this._mapRecvLocalIdInfo.delete(localId);\n            this._remoteSdp.planBStopReceiving({ mid: mid, offerRtpParameters: rtpParameters });\n        }\n        const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n        logger.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]', offer);\n        await this._pc.setRemoteDescription(offer);\n        const answer = await this._pc.createAnswer();\n        logger.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]', answer);\n        await this._pc.setLocalDescription(answer);\n    }\n    async pauseReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    async resumeReceiving(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    localIds) {\n        // Unimplemented.\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async getReceiverStats(localId) {\n        throw new errors_1.UnsupportedError('not implemented');\n    }\n    async receiveDataChannel({ sctpStreamParameters, label, protocol }) {\n        var _a;\n        this.assertRecvDirection();\n        const { streamId, ordered, maxPacketLifeTime, maxRetransmits } = sctpStreamParameters;\n        const options = {\n            negotiated: true,\n            id: streamId,\n            ordered,\n            maxPacketLifeTime,\n            maxRetransmitTime: maxPacketLifeTime,\n            maxRetransmits,\n            protocol\n        };\n        logger.debug('receiveDataChannel() [options:%o]', options);\n        const dataChannel = this._pc.createDataChannel(label, options);\n        // If this is the first DataChannel we need to create the SDP offer with\n        // m=application section.\n        if (!this._hasDataChannelMediaSection) {\n            this._remoteSdp.receiveSctpAssociation({ oldDataChannelSpec: true });\n            const offer = { type: 'offer', sdp: this._remoteSdp.getSdp() };\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]', offer);\n            await this._pc.setRemoteDescription(offer);\n            const answer = await this._pc.createAnswer();\n            if (!this._transportReady) {\n                const localSdpObject = sdpTransform.parse(answer.sdp);\n                await this.setupTransport({\n                    localDtlsRole: (_a = this._forcedLocalDtlsRole) !== null && _a !== void 0 ? _a : 'client',\n                    localSdpObject\n                });\n            }\n            logger.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]', answer);\n            await this._pc.setLocalDescription(answer);\n            this._hasDataChannelMediaSection = true;\n        }\n        return { dataChannel };\n    }\n    async setupTransport({ localDtlsRole, localSdpObject }) {\n        if (!localSdpObject) {\n            localSdpObject = sdpTransform.parse(this._pc.localDescription.sdp);\n        }\n        // Get our local DTLS parameters.\n        const dtlsParameters = sdpCommonUtils.extractDtlsParameters({ sdpObject: localSdpObject });\n        // Set our DTLS role.\n        dtlsParameters.role = localDtlsRole;\n        // Update the remote DTLS role in the SDP.\n        this._remoteSdp.updateDtlsRole(localDtlsRole === 'client' ? 'server' : 'client');\n        // Need to tell the remote transport about our parameters.\n        await new Promise((resolve, reject) => {\n            this.safeEmit('@connect', { dtlsParameters }, resolve, reject);\n        });\n        this._transportReady = true;\n    }\n    assertSendDirection() {\n        if (this._direction !== 'send') {\n            throw new Error('method can just be called for handlers with \"send\" direction');\n        }\n    }\n    assertRecvDirection() {\n        if (this._direction !== 'recv') {\n            throw new Error('method can just be called for handlers with \"recv\" direction');\n        }\n    }\n}\nexports.ReactNative = ReactNative;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Device\"), exports);\n__exportStar(require(\"./Transport\"), exports);\n__exportStar(require(\"./Producer\"), exports);\n__exportStar(require(\"./Consumer\"), exports);\n__exportStar(require(\"./DataProducer\"), exports);\n__exportStar(require(\"./DataConsumer\"), exports);\n__exportStar(require(\"./RtpParameters\"), exports);\n__exportStar(require(\"./SctpParameters\"), exports);\n__exportStar(require(\"./handlers/HandlerInterface\"), exports);\n__exportStar(require(\"./errors\"), exports);\n","\"use strict\";\n/**\n * The RTP capabilities define what mediasoup or an endpoint can receive at\n * media level.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","/**\n * @description [japanese]\n * 以下のいずれかを指定可能\n * - disable: ログの出力を無効化する。\n * - error: 回復不能なエラーに関する情報を出力する。\n * - warn: SDK 内部で発生した、一時的なエラーに関する情報を出力する。基本的には SDK が内部でリトライ処理を行うことで回復する。\n * - info: SDK が提供しているメソッドの呼び出しに関する情報を出力する。\n * - debug: SDK の内部のメソッド呼び出しや、リクエスト・レスポンスに関する情報など、最も詳細なログを出力する。\n */\nexport const logLevelTypes = [\n  'disable',\n  'error',\n  'warn',\n  'info',\n  'debug',\n] as const;\nexport type LogLevel = (typeof logLevelTypes)[number];\nexport type LogFormat = 'object' | 'string';\n\nexport class Logger {\n  static level: LogLevel = 'error';\n  static format: LogFormat = 'object';\n  static onLog: (props: {\n    level: string;\n    timestamp: string;\n    message: any[];\n    id: string;\n  }) => void = () => {};\n\n  /**@internal */\n  static readonly id = Math.random().toString().slice(2, 7);\n\n  /**@internal */\n  prefix: string;\n\n  /**@internal */\n  constructor(prefix: string) {\n    this.prefix = prefix;\n  }\n\n  /**@internal */\n  debug = (...msg: any[]) => {\n    this._log('debug', ...msg);\n    return Date.now();\n  };\n\n  /**@internal */\n  info = (...msg: any[]) => {\n    this._log('info', ...msg);\n    return Date.now();\n  };\n\n  /**@internal */\n  warn = (...msg: any[]) => {\n    this._log('warn', ...msg);\n  };\n\n  /**@internal */\n  error = (...msg: any[]) => {\n    this._log('error', ...msg);\n  };\n\n  /**@internal */\n  elapsed = (timestamp: number, ...msg: any[]) => {\n    const elapsed = Date.now() - timestamp;\n    this._log('info', `elapsed ms:${elapsed}`, ...msg);\n  };\n\n  private _log(level: LogLevel, ...msg: any[]) {\n    const logType = logLevelTypes.indexOf(level);\n    const logLevel = logLevelTypes.indexOf(Logger.level);\n\n    if (logLevel >= logType) {\n      const timestamp =\n        new Date(Date.now() + 60 * 9 * 60_000).toISOString() + '+JST';\n\n      const parsed = [this.prefix, ...msg].map((m) => {\n        if (m instanceof Error) {\n          if ((m as any).toJSON) {\n            return (m as any).toJSON() as object;\n          }\n          return { name: m.name, message: m.message, stack: m.stack };\n        }\n        if (typeof m === 'object') {\n          try {\n            return JSON.parse(JSON.stringify(m)) as object;\n          } catch (error) {\n            return 'json error';\n          }\n        }\n\n        return m as object;\n      });\n      msg = parsed;\n\n      let log = [timestamp, level, ...msg];\n      if (Logger.format === 'string') {\n        log = [timestamp + ' ' + level + ' ' + JSON.stringify(msg)];\n      }\n\n      switch (level) {\n        case 'debug':\n          console.log(...log);\n          break;\n        case 'info':\n          console.info(...log);\n          break;\n        case 'warn':\n          console.warn(...log);\n          break;\n        case 'error':\n          console.error(...log);\n          break;\n      }\n\n      Logger.onLog({ id: Logger.id, timestamp, level, message: msg });\n    }\n  }\n\n  /**@internal */\n  createBlock(info: object) {\n    return {\n      warn: (...msg: any[]) => {\n        this.warn({ ...info }, ...msg);\n      },\n      debug: (...msg: any[]) => {\n        this.debug({ ...info }, ...msg);\n      },\n      info: (...msg: any[]) => {\n        this.info({ ...info }, ...msg);\n      },\n      error: (...msg: any[]) => {\n        this.error({ ...info }, ...msg);\n      },\n    };\n  }\n}\n","import { Logger } from './logger';\n\nconst log = new Logger('packages/common/src/error.ts');\n\nexport class SkyWayError<\n  PayloadType extends Record<string, any> = Record<string, any>\n> extends Error {\n  private readonly id = Math.random().toString().slice(2, 10);\n  payload?: PayloadType;\n  path?: string;\n  error?: Error;\n  info!: ErrorInfo;\n\n  /**@internal */\n  constructor(\n    init: Pick<SkyWayError<PayloadType>, 'path' | 'payload' | 'error' | 'info'>,\n    logging = true\n  ) {\n    super(init.info.detail);\n    Object.assign(this, init);\n    this.name = this.info.name;\n\n    if (logging) {\n      const messages: any[] = [\n        'SkyWayError',\n        `name:${this.info.name}, detail:${this.info.detail}, solution:${this.info.solution}`,\n      ];\n      if (this.path) {\n        messages.push(this.path);\n      }\n      if (this.error) {\n        messages.push(this.error);\n      }\n      if (this.payload) {\n        messages.push(this.payload);\n      }\n      messages.push(this.id);\n\n      log.warn(...messages);\n    }\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      info: this.info,\n      path: this.path,\n      payload: this.payload,\n      error: this.error,\n      stack: this.stack,\n    };\n  }\n}\n\n/**@internal */\nexport interface ErrorInfo {\n  name: string;\n  detail: string;\n  solution: string;\n}\n","import { Logger } from './logger';\n\nconst log = new Logger('packages/common/src/event.ts');\n\ntype EventExecute<T extends any> = (arg: T) => void;\n\nexport class Event<T extends any> {\n  private _stack: {\n    execute: EventExecute<T>;\n    id: number;\n  }[] = [];\n  private _eventIndex = 0;\n\n  /**@internal */\n  constructor(private _onSetListener: () => void = () => {}) {}\n\n  /**@internal */\n  emit = (arg: T) => {\n    for (const task of this._stack) {\n      try {\n        task.execute(arg);\n      } catch (error) {\n        log.error('task throws error', error);\n      }\n    }\n  };\n\n  /**@internal */\n  removeAllListeners = () => {\n    this._stack = [];\n  };\n\n  /**@internal */\n  pipe = (event: Event<T>) => {\n    return this.add((arg) => event.emit(arg));\n  };\n\n  /**\n   * イベントが起きた時に実行する関数を登録する。\n   * 戻り値として関数の登録を解除する関数が帰ってくる\n   */\n  add = (callback: (args: T) => void) => {\n    const id = this._eventIndex;\n    this._stack.push({ execute: callback, id });\n    this._eventIndex++;\n\n    const removeListener = () => {\n      this._stack = this._stack.filter((item) => item.id !== id && item);\n    };\n\n    const disposer = (disposer: EventDisposer) => {\n      disposer.push(removeListener);\n    };\n\n    this._onSetListener();\n\n    return { removeListener, disposer };\n  };\n\n  /**イベントが起きた時に一度だけ実行される関数を登録する */\n  once = (callback: (arg: T) => void) => {\n    const off = this.add((arg) => {\n      off.removeListener();\n      callback(arg);\n    });\n    return off;\n  };\n\n  /**\n   * イベントが起きた時に Promise が resolve される\n   * @param timeLimit ms\n   */\n  asPromise = (timeLimit?: number) =>\n    new Promise<T>((resolve, reject) => {\n      const timeout =\n        timeLimit &&\n        setTimeout(() => {\n          reject(\n            new SerializableError('Event asPromise timeout : ' + timeLimit)\n          );\n        }, timeLimit);\n      this.once((arg) => {\n        if (timeout) clearTimeout(timeout);\n        resolve(arg);\n      });\n    });\n\n  /**\n   * イベントが起きた時に実行される boolean を返す関数を登録する。\n   * 登録した関数が true を返した時に Promise が resolve される\n   * */\n  watch = (\n    callback: (arg: T) => boolean | undefined | null,\n    /**ms */\n    timeLimit?: number\n  ) =>\n    new Promise<T>((resolve, reject) => {\n      const timeout =\n        timeLimit &&\n        setTimeout(() => {\n          reject(new SerializableError('Event watch timeout : ' + timeLimit));\n        }, timeLimit);\n\n      const { removeListener } = this.add((arg) => {\n        const done = callback(arg);\n        if (done) {\n          if (timeout) clearTimeout(timeout);\n          removeListener();\n          resolve(arg);\n        }\n      });\n    });\n\n  /**@internal */\n  get length() {\n    return this._stack.length;\n  }\n}\n\n/**@internal */\nexport class Events {\n  events: Event<any>[] = [];\n\n  make<T extends any>() {\n    const event = new Event<T>();\n    this.events.push(event);\n    return event;\n  }\n\n  dispose() {\n    this.events.forEach((event) => event.removeAllListeners());\n    this.events = [];\n  }\n}\n\n/**@internal */\nexport class EventDisposer {\n  private _disposer: (() => void)[] = [];\n\n  push(disposer: () => void) {\n    this._disposer.push(disposer);\n  }\n\n  dispose() {\n    this._disposer.forEach((d) => d());\n    this._disposer = [];\n  }\n}\n\nclass SerializableError extends Error {\n  toJSON() {\n    return {\n      name: this.name,\n      message: this.message,\n      stack: this.stack,\n    };\n  }\n}\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// eslint-disable-next-line strict\nexport default null;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    let {responseType, withXSRFToken} = config;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils.isFormData(requestData)) {\n      if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if ((contentType = requestHeaders.getContentType()) !== false) {\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n        requestHeaders.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if(platform.hasStandardBrowserEnv) {\n      withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(config));\n\n      if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(fullPath))) {\n        // Add xsrf header\n        const xsrfValue = config.xsrfHeaderName && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n        if (xsrfValue) {\n          requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n        }\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.6.7\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n\n        if (!err.stack) {\n          err.stack = stack;\n          // match without the 2 top stack lines\n        } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n          err.stack += '\\n' + stack\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","import axios, {\n  AxiosError,\n  AxiosInstance,\n  AxiosRequestConfig,\n  AxiosResponse,\n} from 'axios';\n\nimport { Logger } from './logger';\n\nconst log = new Logger('packages/common/src/http.ts');\n\n/**@internal */\nexport class HttpClient {\n  api: AxiosInstance;\n\n  constructor(baseURL: string) {\n    this.api = axios.create({ baseURL });\n  }\n\n  /**@throws {@link HttpResponse} */\n  async get<T extends unknown>(\n    url: string,\n    config?:\n      | (AxiosRequestConfig<any> & {\n          retry?: (err: HttpResponse) => Promise<boolean>;\n        })\n      | undefined\n  ): Promise<T> {\n    const res = await this.api\n      .get<T>(url, config)\n      .catch((err) => err as AxiosError);\n\n    if (axios.isAxiosError(res)) {\n      const error = { ...res.response, message: res.message } as HttpResponse;\n      if (config?.retry) {\n        const retry = await config.retry(error);\n        if (retry) {\n          log.warn('retry get', { url });\n          return this.get(url, config);\n        } else {\n          log.warn('retry get failed', { url });\n          throw error;\n        }\n      }\n      log.warn('response error', { error });\n      throw error;\n    } else {\n      return res.data;\n    }\n  }\n\n  /**@throws {@link HttpResponse} */\n  async post<T extends unknown>(\n    url: string,\n    data?: any,\n    config?:\n      | (AxiosRequestConfig<any> & {\n          retry?: (err: HttpResponse) => Promise<boolean>;\n        })\n      | undefined\n  ): Promise<T> {\n    const res = await this.api\n      .post<T>(url, data, config)\n      .catch((err) => err as AxiosError);\n\n    if (axios.isAxiosError(res)) {\n      const error = {\n        data: res.response?.data,\n        status: res.response?.status,\n        statusText: res.response?.statusText,\n        message: res.message,\n      } as HttpResponse;\n      log.warn('error received', error);\n\n      if (config?.retry) {\n        const needRetry = await config.retry(error);\n        if (needRetry) {\n          log.warn('retry post', url, { data, error, needRetry });\n          return this.post(url, data, config);\n        } else {\n          throw error;\n        }\n      }\n\n      throw error;\n    } else {\n      return res.data;\n    }\n  }\n\n  /**@throws {@link HttpResponse} */\n  async put<T extends unknown>(\n    url: string,\n    data?: any,\n    config?:\n      | (AxiosRequestConfig<any> & {\n          retry?: (err: HttpResponse) => Promise<boolean>;\n        })\n      | undefined\n  ): Promise<T> {\n    const res = await this.api\n      .put<T>(url, data, config)\n      .catch((err) => err as AxiosError);\n\n    if (axios.isAxiosError(res)) {\n      const error = { ...res.response, message: res.message } as HttpResponse;\n      if (config?.retry) {\n        const retry = await config.retry(error);\n        if (retry) {\n          log.warn('retry put', { url, data });\n          return this.put(url, data, config);\n        } else {\n          log.warn('retry put failed', { url, data });\n          throw error;\n        }\n      }\n      log.warn('response error', { error });\n      throw error;\n    } else {\n      return res.data;\n    }\n  }\n\n  /**@throws {@link HttpResponse} */\n  async delete<T extends unknown>(\n    url: string,\n    config?:\n      | (AxiosRequestConfig<any> & {\n          retry?: (err: HttpResponse) => Promise<boolean>;\n        })\n      | undefined\n  ): Promise<T> {\n    const res = await this.api\n      .delete<T>(url, config)\n      .catch((err) => err as AxiosError);\n\n    if (axios.isAxiosError(res)) {\n      const error = { ...res.response, message: res.message } as HttpResponse;\n      if (config?.retry) {\n        const retry = await config.retry(error);\n        if (retry) {\n          log.warn('retry delete', { url });\n          return this.delete(url, config);\n        } else {\n          log.warn('retry delete failed', { url });\n          throw error;\n        }\n      }\n      log.warn('response error', { error });\n      throw error;\n    } else {\n      return res.data;\n    }\n  }\n}\n\n/**@internal */\nexport type HttpResponse = AxiosResponse & { message: string };\n","import { Logger } from './logger';\n\nconst log = new Logger('packages/common/src/promise.ts');\n\n/**@internal */\nexport class PromiseQueue {\n  private id = Math.random().toString().slice(2);\n  queue: {\n    promise: () => Promise<unknown>;\n    done: (...args: any[]) => void;\n    failed: (...args: any[]) => void;\n  }[] = [];\n  running = false;\n\n  push = <T extends any>(promise: () => Promise<T>) =>\n    new Promise<T>((r, f) => {\n      this.queue.push({ promise, done: r, failed: f });\n      if (!this.running) {\n        this.run().catch((e) => {\n          log.error('push', e);\n        });\n      }\n    });\n\n  private async run() {\n    const task = this.queue.shift();\n    if (task) {\n      this.running = true;\n      // log.debug('[start] task', { id: this.id, task });\n\n      try {\n        const res = await task.promise();\n        task.done(res);\n      } catch (error) {\n        task.failed(error);\n      }\n\n      // log.debug('[end] task', { id: this.id, task });\n\n      await this.run();\n    } else {\n      this.running = false;\n    }\n  }\n}\n","/**@internal */\nexport class BackOff {\n  count = 0;\n  readonly times: number = 8;\n  /**ms */\n  readonly interval: number = 100;\n  /**ms */\n  readonly jitter: number = 0;\n\n  /**20.4 sec {var sum=0;for(i=0;i<=8;i++){sum +=i ** 2 * 100}} */\n  constructor(\n    props: Partial<Pick<BackOff, 'times' | 'interval' | 'jitter'>> = {}\n  ) {\n    Object.assign(this, props);\n  }\n\n  /**if need wait return true */\n  async wait() {\n    if (this.exceeded) {\n      return false;\n    }\n    const timeout = this.timeout;\n    this.count++;\n\n    await new Promise((r) => setTimeout(r, timeout));\n    return true;\n  }\n\n  get timeout() {\n    const timeout =\n      this.count ** 2 * this.interval +\n      this.count ** 2 * this.jitter * Math.random();\n    return timeout;\n  }\n\n  get exceeded() {\n    return this.count >= this.times;\n  }\n\n  reset() {\n    this.count = 0;\n  }\n}\n\n/**@internal */\nexport const deepCopy = <T = object>(o: T): T => JSON.parse(JSON.stringify(o));\n\n/**@internal */\nexport interface RuntimeInfo {\n  browserName: string;\n  browserVersion: string;\n  osName: string;\n  osVersion: string;\n}\n","export const errors = {\n  internal: {\n    name: 'internal',\n    detail: '',\n    solution: '',\n  },\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  missingProperty: { name: 'missingProperty', detail: '', solution: '' },\n  notFound: { name: 'notFound', detail: '', solution: '' },\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  invalidArgumentValue: {\n    name: 'invalidArgumentValue',\n    detail: '引数の値が不正です',\n    solution: '正しい値を引数に渡してください',\n  },\n  invalidContentType: {\n    name: 'invalidContentType',\n    detail: 'contentTypeが正しくありません',\n    solution: 'ContentTypeを確認してください',\n  },\n  localPersonNotJoinedChannel: {\n    name: 'localPersonNotJoinedChannel',\n    detail:\n      '操作しようとしたPersonがChannelに居ないので、操作できません The person who tried to operate is not in the channel, so the operation is not possible',\n    solution:\n      'Channelに居ないPersonを操作している可能性があるので確認してください Please check as you may be operating a person which is not in the channel',\n  },\n  alreadyLocalPersonExist: {\n    name: 'alreadyLocalPersonExist',\n    detail:\n      'ChannelにすでにLocalPersonが存在します。一つのChannelインスタンスにはLocalPersonが一つしかJoinできません',\n    solution:\n      '複数のLocalPersonを用意したい場合は個別にChannelインスタンスを用意してください。',\n  },\n  alreadySameNameMemberExist: {\n    name: 'alreadySameNameMemberExist',\n    detail: 'Channelにすでに同じNameのMemberが存在します',\n    solution: '別のNameを使用してください',\n  },\n  alreadyPublishedStream: {\n    name: 'alreadyPublishedStream',\n    detail:\n      'すでにPublishしたStreamを再度Publishすることはできません You cannot re-publish a stream that has already been published',\n    solution:\n      'そのStreamをPublishしたPublicationをUnpublishするか、別の新しいStreamを作ってPublishしてください Unpublish the publication that published that stream, or create another new stream and publish it',\n  },\n  alreadySubscribedPublication: {\n    name: 'alreadySubscribedPublication',\n    detail: 'すでにSubscribeしたPublicationをSubscribeすることはできません',\n    solution: 'ありません',\n  },\n  invalidTrackKind: {\n    name: 'invalidTrackKind',\n    detail: 'Streamの種類とMediaStreamTrackの種類が一致しません',\n    solution: 'Streamの種類と同じMediaStreamTrackを利用してください',\n  },\n\n  cantMoveSameIdChannel: {\n    name: 'cantMoveSameIdChannel',\n    detail: 'moveChannelで同じidのChannelに移動することは出来ません',\n    solution: '移動先のChannelが正しいか確かめてください',\n  },\n  alreadyChannelClosed: {\n    name: 'alreadyChannelClosed',\n    detail: 'ChannelがすでにCloseされています',\n    solution: 'ありません',\n  },\n  disabledDataStream: {\n    name: 'disabledDataStream',\n    detail: '関連するPublicationがDisableなDataStreamには書き込みできません',\n    solution: '関連するPublicationをEnableしてから書き込んでください',\n  },\n  publicationNotExist: {\n    name: 'publicationNotExist',\n    detail: 'channelに該当するPublicationが存在しません',\n    solution: 'publicationIdが正しいか確かめてください',\n  },\n  subscriptionNotExist: {\n    name: 'subscriptionNotExist',\n    detail: 'channelに該当するSubscriptionが存在しません',\n    solution: 'subscriptionIdが正しいか確かめてください',\n  },\n  unknownMemberType: {\n    name: 'unknownMemberType',\n    detail: '対象のMemberのSubtypeのプラグインが登録されていません',\n    solution:\n      '対象のMemberのSubtypeのプラグイン(SfuBotなど)をSkyWayContextに登録してください',\n  },\n  streamNotExistInSubscription: {\n    name: 'streamNotExistInSubscription',\n    detail:\n      'SubscriptionにStreamがありません。RemoteMemberのSubscriptionのStreamにはアクセスできません',\n    solution: '参照しているSubscriptionが目的のものか確かめてください。',\n  },\n  streamNotExistInPublication: {\n    name: 'streamNotExistInPublication',\n    detail:\n      'PublicationにStreamがありません。RemoteMemberのPublicationのStreamにはアクセスできません',\n    solution: '参照しているPublicationが目的のものか確かめてください。',\n  },\n  dataStreamNotSupportEncoding: {\n    name: 'dataStreamNotSupportEncoding',\n    detail: 'dataStreamはEncode設定の変更に対応していません',\n    solution: 'ありません',\n  },\n  correspondingEncodeNotExistForId: {\n    name: 'correspondingEncodeNotExistForId',\n    detail: '指定されたIDに対応するEncode設定が存在しません',\n    solution: '正しいEncodingIDを指定してください',\n  },\n  updateIceParamsFailed: {\n    name: 'updateIceParamsFailed',\n    detail: 'iceParamsの更新に失敗しました',\n    solution: 'ありません',\n  },\n  invalidElement: {\n    name: 'invalidElement',\n    detail: '渡されたHTML Elementが正しくありません',\n    solution: '要求された正しいElementを渡してください',\n  },\n  connectRtcApiFailed: {\n    name: 'connectRtcApiFailed',\n    detail: 'RtcAPIへの接続に失敗しました',\n    solution:\n      'インターネットへの接続できているか、もしくはTokenのパラメータが正しいかを確かめてください',\n  },\n  rtcApiFatalError: {\n    name: 'rtcApiFatalError',\n    detail: 'RtcAPIの回復不能なエラーです。サーバー側の問題の可能性があります',\n    solution: 'インターネットへの接続が出来ているかを確かめてください',\n  },\n  invalidExpireTokenValue: {\n    name: 'invalidExpireTokenValue',\n    detail: 'tokenのExpire時刻が不正です',\n    solution: '正しい時刻を指定してください',\n  },\n  invalidRemindExpireTokenValue: {\n    name: 'invalidRemindExpireTokenValue',\n    detail: 'tokenのExpireをリマインドする時間の値が不正です',\n    solution: '正しい時間を指定してください',\n  },\n  invalidTokenAppId: {\n    name: 'invalidTokenAppId',\n    detail: 'tokenのappIdが正しくありません',\n    solution: '正しいappIdを含むTokenを使用してください',\n  },\n  mediaDevicesNotFound: {\n    name: 'mediaDevicesNotFound',\n    detail: 'navigator.mediaDevicesがみつかりません',\n    solution:\n      'アプリケーションをhttps,localhost,127.0.0.1のいずれかの環境で動作させてください',\n  },\n  canNotUseReplaceStream: {\n    name: 'canNotUseReplaceStream',\n    detail: 'remoteのPublicationからreplaceStreamできません',\n    solution: '対象のPublicationがLocalのものか確認してください',\n  },\n  canNotEnableRemotePublication: {\n    name: 'canNotEnableRemotePublication',\n    detail: 'remoteのPublicationをenableすることはできません',\n    solution: '対象のPublicationがLocalのものか確認してください',\n  },\n} as const;\n","import {\n  ErrorInfo,\n  Logger,\n  RuntimeInfo,\n  SkyWayError,\n} from '@skyway-sdk/common';\nimport Bowser from 'bowser';\nimport sdpTransform, { MediaAttributes } from 'sdp-transform';\nimport { UAParser } from 'ua-parser-js';\n\nimport { Channel, SkyWayChannelImpl } from './channel';\nimport { SkyWayContext } from './context';\nimport { errors } from './errors';\nimport { Codec } from './media';\nimport { LocalStream, RemoteStream, WebRTCStats } from './media/stream';\nimport { Member } from './member';\n\nconst log = new Logger('packages/core/src/util.ts');\n\n/**@internal */\nexport function getBitrateFromPeerConnection(\n  stream: LocalStream | RemoteStream,\n  direction: 'inbound' | 'outbound',\n  cb: (bitrate: number) => void,\n  selector: Member | string\n) {\n  let preBytes = 0;\n  const id = setInterval(async () => {\n    const stats = await stream.getStats(selector);\n    const stat = stats.find((v) => {\n      if (direction === 'inbound') {\n        return (\n          v?.id.includes('InboundRTPVideo') || v?.type.includes('inbound-rtp')\n        );\n      }\n      return (\n        v?.id.includes('OutboundRTPVideo') || v?.type.includes('outbound-rtp')\n      );\n    });\n    if (!stat) {\n      return;\n    }\n    const totalBytes =\n      direction === 'inbound' ? stat.bytesReceived : stat.bytesSent;\n    const bitrate = (totalBytes - preBytes) * 8;\n    cb(bitrate);\n    preBytes = totalBytes;\n  }, 1000);\n  return () => clearInterval(id);\n}\n\n/**@internal */\nexport function statsToArray(stats: RTCStatsReport) {\n  const arr: WebRTCStats = [];\n  stats.forEach((stat) => {\n    arr.push(stat);\n  });\n  return arr;\n}\n\n/**@internal */\nexport async function createLogPayload({\n  operationName,\n  channel,\n}: {\n  operationName: string;\n  channel: Channel;\n}) {\n  const payload: any = {\n    operationName,\n    appId: channel.appId,\n    channelId: channel.id,\n  };\n\n  if (channel.localPerson) {\n    const member = channel.localPerson;\n    const publishing = await Promise.all(\n      member.publications.map(async (p) => {\n        const publication: any = {\n          id: p.id,\n          contentType: p.contentType,\n          state: p.state,\n          stats: {},\n          connectionStats: {},\n        };\n        if (p.stream) {\n          for (const { memberId, stats } of await p.stream._getStatsAll()) {\n            const localCandidate = stats.find((s) =>\n              s.type.includes('local-candidate')\n            );\n\n            publication.stats[memberId] = {\n              transportType: localCandidate?.protocol ?? 'none',\n              relayProtocol: localCandidate?.relayProtocol ?? 'none',\n              callType: p.subscriptions.find(\n                (s) => s.subscriber.id === memberId\n              )?.subscriber.subtype,\n              outbound: stats.find((s) => s.type.includes('outbound-rtp')),\n              localCandidate,\n            };\n          }\n        }\n        if (p.stream) {\n          for (const {\n            memberId,\n            connectionState,\n          } of p.stream._getConnectionStateAll()) {\n            publication.connectionStats[memberId] = connectionState;\n          }\n        }\n        return publication;\n      })\n    );\n    payload['publishing'] = publishing;\n\n    const subscribing = await Promise.all(\n      member.subscriptions.map(async (s) => {\n        const subscription: any = {\n          id: s.id,\n          contentType: s.contentType,\n          stats: {},\n        };\n        subscription['callType'] = s.publication.publisher.subtype;\n        if (s.stream) {\n          const stats = await s.stream.getStats();\n          subscription.stats = stats.find((s) =>\n            s.type.includes('inbound-rtp')\n          );\n          const iceCandidate = stats.find((s) =>\n            s.type.includes('local-candidate')\n          );\n          subscription['transportType'] = iceCandidate?.protocol;\n          subscription['relayProtocol'] = iceCandidate?.relayProtocol;\n        }\n        if (s.stream) {\n          subscription['connectionState'] = s.stream.getConnectionState();\n        }\n        return subscription;\n      })\n    );\n    payload['subscribing'] = subscribing;\n  }\n\n  return payload;\n}\n\n/**@internal */\nexport function createWarnPayload({\n  member,\n  detail,\n  channel,\n  operationName,\n  payload,\n}: {\n  operationName: string;\n  member?: Member;\n  channel?: SkyWayChannelImpl;\n  detail: string;\n  payload?: any;\n}) {\n  const warn: any = {\n    operationName,\n    payload,\n    detail,\n  };\n  if (member) {\n    warn['appId'] = member.channel.appId;\n    warn['channelId'] = member.channel.id;\n    warn['memberId'] = member.id;\n  }\n  if (channel) {\n    warn['appId'] = channel.appId;\n    warn['channelId'] = channel.id;\n  }\n\n  return warn;\n}\n\n/**@internal */\nexport function createError({\n  operationName,\n  context,\n  info,\n  error,\n  path,\n  payload,\n  channel,\n}: {\n  operationName: string;\n  path: string;\n  info: ErrorInfo;\n  context?: SkyWayContext;\n  channel?: Channel;\n  error?: Error;\n  payload?: any;\n}) {\n  const errPayload: any = {\n    operationName,\n    payload,\n  };\n\n  if (channel) {\n    errPayload['appId'] = channel.appId;\n    errPayload['channelId'] = channel.id;\n    if (channel.localPerson) {\n      errPayload['memberId'] = channel.localPerson.id;\n    }\n  }\n  if (context) {\n    errPayload['info'] = context.info;\n    errPayload['plugins'] = context.plugins.map((p) => p.subtype);\n  }\n\n  return new SkyWayError({ error, info, payload: errPayload, path });\n}\n\n/**@internal */\nexport const waitForLocalStats = async ({\n  stream,\n  remoteMember,\n  end,\n  interval,\n  timeout,\n}: {\n  stream: LocalStream;\n  remoteMember: string;\n  end: (stats: WebRTCStats) => boolean;\n  /**ms */\n  interval?: number;\n  /**ms */\n  timeout?: number;\n}) =>\n  new Promise<WebRTCStats>(async (r, f) => {\n    interval ??= 100;\n    timeout ??= 10_000;\n\n    for (let elapsed = 0; ; elapsed += interval) {\n      if (elapsed >= timeout) {\n        f(\n          createError({\n            operationName: 'Peer.waitForStats',\n            info: {\n              ...errors.timeout,\n              detail: 'waitForStats timeout',\n            },\n            path: log.prefix,\n          })\n        );\n        break;\n      }\n\n      const stats = await stream._getStats(remoteMember);\n      if (end(stats)) {\n        r(stats);\n        break;\n      }\n      await new Promise((r) => setTimeout(r, interval));\n    }\n  });\n\n/**@internal */\nexport async function getRtcRtpCapabilities(): Promise<{\n  audio: (Codec & { payload: number })[];\n  video: (Codec & { payload: number })[];\n}> {\n  const pc = new RTCPeerConnection();\n\n  pc.addTransceiver('audio');\n  pc.addTransceiver('video');\n\n  const offer = await pc.createOffer();\n\n  try {\n    pc.close();\n  } catch (error) {}\n\n  const sdpObject = sdpTransform.parse(offer.sdp!);\n  const [audio, video] = sdpObject.media;\n\n  return {\n    audio: audio.rtp.map(\n      (r) =>\n        ({\n          ...r,\n          payload: r.payload,\n          mimeType: 'audio/' + r.codec,\n          parameters: getParameters(audio.fmtp, r.payload),\n        } as Codec & { payload: number })\n    ),\n    video: video.rtp\n      .filter((r) => !['red', 'rtx', 'ulpfec'].includes(r.codec))\n      .map(\n        (r) =>\n          ({\n            ...r,\n            payload: r.payload,\n            mimeType: 'video/' + r.codec,\n            parameters: getParameters(video.fmtp, r.payload),\n          } as Codec & { payload: number })\n      ),\n  };\n}\n\n/**@internal */\nexport const getParameters = (fmtp: MediaAttributes['fmtp'], payload: number) =>\n  fmtpConfigParser(fmtp.find((f) => f.payload === payload)?.config ?? '');\n\n/**@internal */\nexport const fmtpConfigParser = (config: string) => {\n  const parameters = config\n    .split(';')\n    .reduce((acc: { [k: string]: number | string | undefined }, cur) => {\n      const [k, v] = cur.split('=');\n      if (k) {\n        acc[k] = Number(v);\n        if (k === 'profile-level-id') {\n          acc[k] = v;\n        }\n      }\n      return acc;\n    }, {});\n  return parameters;\n};\n\n/**@internal */\nexport function createTestVideoTrack(width: number, height: number) {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext('2d')!;\n\n  const drawAnimation = () => {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = 'rgb(200, 200, 200)';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    const date = new Date();\n    ctx.font = '45px Monaco,Consolas';\n    ctx.textAlign = 'center';\n    ctx.fillStyle = 'red';\n    const hours = ('0' + date.getHours()).slice(-2);\n    const minutes = ('0' + date.getMinutes()).slice(-2);\n    const seconds = ('0' + date.getSeconds()).slice(-2);\n    const milliseconds = ('00' + date.getMilliseconds()).slice(-3);\n    ctx.fillText(\n      `${hours}:${minutes}:${seconds}.${milliseconds}`,\n      canvas.width / 2,\n      canvas.height / 2\n    );\n\n    requestAnimationFrame(drawAnimation);\n  };\n  setTimeout(() => drawAnimation(), 0);\n\n  const [track] = canvas.captureStream().getVideoTracks();\n  return track;\n}\n\n/**\n * @internal\n * @description browser only\n */\nexport const getRuntimeInfo = ({\n  isNotBrowser,\n}: Partial<{\n  isNotBrowser: RuntimeInfo;\n}> = {}): RuntimeInfo => {\n  if (isNotBrowser) {\n    return isNotBrowser;\n  }\n\n  const browser = Bowser.getParser(window.navigator.userAgent);\n  const osName = browser.getOSName();\n  const osVersion = browser.getOSVersion();\n  const browserName = browser.getBrowserName();\n  const browserVersion = browser.getBrowserVersion();\n  return {\n    browserName,\n    browserVersion,\n    osName,\n    osVersion,\n  };\n};\n\n/**\n * @internal\n * @description from mediasoup-client\n */\nexport function detectDevice(): BuiltinHandlerName | undefined {\n  // React-Native.\n  // NOTE: react-native-webrtc >= 1.75.0 is required.\n  // NOTE: react-native-webrtc with Unified Plan requires version >= 106.0.0.\n  if (typeof navigator === 'object' && navigator.product === 'ReactNative') {\n    if (typeof RTCPeerConnection === 'undefined') {\n      return undefined;\n    }\n\n    if (typeof RTCRtpTransceiver !== 'undefined') {\n      return 'ReactNativeUnifiedPlan';\n    } else {\n      return 'ReactNative';\n    }\n  }\n  // Browser.\n  else if (\n    typeof navigator === 'object' &&\n    typeof navigator.userAgent === 'string'\n  ) {\n    const ua = navigator.userAgent;\n\n    const uaParser = new UAParser(ua);\n\n    const browser = uaParser.getBrowser();\n    const browserName = browser.name?.toLowerCase() ?? '';\n    const browserVersion = parseInt(browser.major ?? '0');\n    const engine = uaParser.getEngine();\n    const engineName = engine.name?.toLowerCase() ?? '';\n    const os = uaParser.getOS();\n    const osName = os.name?.toLowerCase() ?? '';\n    const osVersion = parseFloat(os.version ?? '0');\n\n    const isIOS = osName === 'ios';\n\n    const isChrome = [\n      'chrome',\n      'chromium',\n      'mobile chrome',\n      'chrome webview',\n      'chrome headless',\n    ].includes(browserName);\n\n    const isFirefox = ['firefox', 'mobile firefox', 'mobile focus'].includes(\n      browserName\n    );\n\n    const isSafari = ['safari', 'mobile safari'].includes(browserName);\n\n    const isEdge = ['edge'].includes(browserName);\n\n    // Chrome, Chromium, and Edge.\n    if ((isChrome || isEdge) && !isIOS && browserVersion >= 111) {\n      return 'Chrome111';\n    } else if (\n      (isChrome && !isIOS && browserVersion >= 74) ||\n      (isEdge && !isIOS && browserVersion >= 88)\n    ) {\n      return 'Chrome74';\n    } else if (isChrome && !isIOS && browserVersion >= 70) {\n      return 'Chrome70';\n    } else if (isChrome && !isIOS && browserVersion >= 67) {\n      return 'Chrome67';\n    } else if (isChrome && !isIOS && browserVersion >= 55) {\n      return 'Chrome55';\n    }\n    // Firefox.\n    else if (isFirefox && !isIOS && browserVersion >= 60) {\n      return 'Firefox60';\n    }\n    // Firefox on iOS (so Safari).\n    else if (isFirefox && isIOS && osVersion >= 14.3) {\n      return 'Safari12';\n    }\n    // Safari with Unified-Plan support enabled.\n    else if (\n      isSafari &&\n      browserVersion >= 12 &&\n      typeof RTCRtpTransceiver !== 'undefined' &&\n      // eslint-disable-next-line no-prototype-builtins\n      RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection')\n    ) {\n      return 'Safari12';\n    }\n    // Safari with Plab-B support.\n    else if (isSafari && browserVersion >= 11) {\n      return 'Safari11';\n    }\n    // Old Edge with ORTC support.\n    else if (isEdge && !isIOS && browserVersion >= 11 && browserVersion <= 18) {\n      return 'Edge11';\n    }\n    // Best effort for WebKit based browsers in iOS.\n    else if (\n      engineName === 'webkit' &&\n      isIOS &&\n      osVersion >= 14.3 &&\n      typeof RTCRtpTransceiver !== 'undefined' &&\n      // eslint-disable-next-line no-prototype-builtins\n      RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection')\n    ) {\n      return 'Safari12';\n    }\n    // Best effort for Chromium based browsers.\n    else if (engineName === 'blink') {\n      const match = ua.match(/(?:(?:Chrome|Chromium))[ /](\\w+)/i);\n\n      if (match) {\n        const version = Number(match[1]);\n\n        if (version >= 111) {\n          return 'Chrome111';\n        } else if (version >= 74) {\n          return 'Chrome74';\n        } else if (version >= 70) {\n          return 'Chrome70';\n        } else if (version >= 67) {\n          return 'Chrome67';\n        } else {\n          return 'Chrome55';\n        }\n      } else {\n        return 'Chrome111';\n      }\n    }\n    // Unsupported browser.\n    else {\n      return undefined;\n    }\n  }\n  // Unknown device.\n  else {\n    return undefined;\n  }\n}\n\n/**@internal */\nexport type BuiltinHandlerName =\n  | 'Chrome111'\n  | 'Chrome74'\n  | 'Chrome70'\n  | 'Chrome67'\n  | 'Chrome55'\n  | 'Firefox60'\n  | 'Safari12'\n  | 'Safari11'\n  | 'Edge11'\n  | 'ReactNativeUnifiedPlan'\n  | 'ReactNative';\n","import { Event, Events, Logger } from '@skyway-sdk/common';\nimport model from '@skyway-sdk/model';\n\nimport { Channel, SkyWayChannelImpl } from '../channel';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { LocalStream } from '../media/stream';\nimport {\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteVideoStream,\n} from '../media/stream';\nimport { Publication } from '../publication';\nimport { Subscription } from '../subscription';\nimport { createError, createLogPayload } from '../util';\n\nconst log = new Logger('packages/core/src/member/index.ts');\n\nexport interface Member {\n  id: string;\n  name?: string;\n  channel: Channel;\n  type: MemberType;\n  subtype: string;\n  side: MemberSide;\n  metadata?: string;\n  state: MemberState;\n\n  // events\n\n  /**@description [japanese] Channelから離脱したときに発火するイベント */\n  onLeft: Event<void>;\n  /**@description [japanese] Metadataが変化したときに発火するイベント */\n  onMetadataUpdated: Event<string>;\n  /**@description [japanese] このMemberのPublicationのリスト */\n  publications: Publication<LocalStream>[];\n  /**@description [japanese] このMemberのSubscriptionのリスト */\n  subscriptions: Subscription<\n    RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >[];\n\n  /**\n   * @description [japanese] metadataを更新する\n   */\n  updateMetadata: (metadata: string) => Promise<void>;\n  /**\n   * @description [japanese] memberをChannelから退去させる\n   */\n  leave: () => Promise<void>;\n}\n\n/**@internal */\nexport abstract class MemberImpl implements Member {\n  readonly channel: SkyWayChannelImpl;\n  readonly id: string;\n  readonly name?: string;\n  readonly type!: MemberType;\n  readonly context: SkyWayContext;\n  abstract readonly side: MemberSide;\n  readonly subtype!: string;\n  private _metadata?: string;\n  private _state: MemberState = 'joined';\n\n  /**@internal */\n  readonly _events = new Events();\n  readonly onLeft = this._events.make<void>();\n  readonly onMetadataUpdated = this._events.make<string>();\n\n  constructor(args: {\n    channel: SkyWayChannelImpl;\n    name?: string;\n    id: string;\n    metadata?: string;\n    context: SkyWayContext;\n  }) {\n    this.channel = args.channel;\n    this.id = args.id;\n    this.name = args.name;\n    this._metadata = args.metadata;\n    this.context = args.context;\n  }\n\n  get metadata() {\n    return this._metadata;\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  get publications() {\n    return this.channel.publications.filter((p) => p.publisher.id === this.id);\n  }\n  get subscriptions() {\n    return this.channel.subscriptions.filter(\n      (p) => p.subscriber.id === this.id\n    );\n  }\n\n  /**@internal */\n  toJSON(): model.Member {\n    return {\n      id: this.id,\n      name: this.name,\n      type: this.type,\n      subtype: this.subtype,\n      metadata: this.metadata,\n    };\n  }\n\n  /** @private*/\n  _left() {\n    this._state = 'left';\n\n    this.onLeft.emit();\n    this._events.dispose();\n  }\n\n  /** @private*/\n  _metadataUpdated(metadata: string) {\n    this._metadata = metadata;\n\n    this.onMetadataUpdated.emit(metadata);\n  }\n\n  async updateMetadata(metadata: string) {\n    await this.channel._updateMemberMetadata(this.id, metadata);\n  }\n\n  /**@throws {@link SkyWayError} */\n  async leave() {\n    const timestamp = log.info(\n      '[start] leave',\n      await createLogPayload({\n        operationName: 'localPerson.leave',\n        channel: this.channel,\n      })\n    );\n    if (this.state === 'left') {\n      throw createError({\n        operationName: 'localPerson.leave',\n        info: errors.localPersonNotJoinedChannel,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n      });\n    }\n    await this.channel.leave(this);\n    log.elapsed(timestamp, '[end] leave');\n  }\n}\n\nexport type MemberState = 'joined' | 'left';\nexport type MemberType = 'person' | 'bot';\nexport type MemberSide = 'local' | 'remote';\n","import { Event, Logger } from '@skyway-sdk/common';\n\nimport { LocalPersonImpl } from '../../../member/localPerson';\nimport { RemoteMemberImplInterface } from '../../../member/remoteMember';\nimport { PublicationImpl } from '../../../publication';\nimport { SubscriptionImpl } from '../../../subscription';\nimport { SkyWayConnection } from '../../interface';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/unknown/connection.ts'\n);\n\nexport class UnknownConnection implements SkyWayConnection {\n  readonly type: string = 'unknown';\n  readonly onDisconnect = new Event<void>();\n  readonly onClose = new Event<void>();\n  closed = false;\n\n  constructor(\n    readonly localPerson: LocalPersonImpl,\n    readonly remoteMember: RemoteMemberImplInterface\n  ) {}\n\n  close() {\n    this.closed = true;\n    this.onClose.emit();\n  }\n\n  async startPublishing(publication: PublicationImpl) {\n    log.debug(\n      `this is unknown type connection. should install ${this.remoteMember.subtype} plugin`,\n      { publication }\n    );\n  }\n\n  async stopPublishing(publication: PublicationImpl) {\n    log.debug(\n      `this is unknown type connection. should install ${this.remoteMember.subtype} plugin`,\n      { publication }\n    );\n  }\n\n  async startSubscribing(subscription: SubscriptionImpl) {\n    log.debug(\n      `this is unknown type connection. should install ${this.remoteMember.subtype} plugin`,\n      { subscription }\n    );\n  }\n\n  async stopSubscribing(subscription: SubscriptionImpl) {\n    log.debug(\n      `this is unknown type connection. should install ${this.remoteMember.subtype} plugin`,\n      { subscription }\n    );\n  }\n}\n","import { SkyWayChannelImpl } from '../../../channel';\nimport { SkyWayContext } from '../../../context';\nimport { MemberImpl } from '../../../member';\nimport { LocalPersonImpl } from '../../../member/localPerson';\nimport { RemoteMemberImplInterface } from '../../../member/remoteMember';\nimport { UnknownConnection } from './connection';\nimport { UnknownPlugin } from './plugin';\n\nexport class UnknownMemberImpl\n  extends MemberImpl\n  implements RemoteMemberImplInterface\n{\n  readonly type = 'bot';\n  readonly subtype: string;\n  readonly side = 'remote';\n  readonly plugin: UnknownPlugin;\n\n  private _connections: { [localPersonSystemId: string]: UnknownConnection } =\n    {};\n\n  constructor(args: {\n    channel: SkyWayChannelImpl;\n    name?: string;\n    id: string;\n    metadata?: string;\n    plugin: UnknownPlugin;\n    subtype: string;\n    context: SkyWayContext;\n  }) {\n    super(args);\n\n    this.plugin = args.plugin;\n    this.subtype = args.subtype;\n  }\n\n  /**@private */\n  _getConnection(localPersonId: string): UnknownConnection | undefined {\n    return this._connections[localPersonId];\n  }\n\n  /**@private */\n  _getOrCreateConnection(localPerson: LocalPersonImpl): UnknownConnection {\n    const connection =\n      this._getConnection(localPerson.id) ??\n      this._createConnection(localPerson, this);\n    return connection;\n  }\n\n  private _createConnection(\n    localPerson: LocalPersonImpl,\n    endpointMember: RemoteMemberImplInterface\n  ): UnknownConnection {\n    return new UnknownConnection(localPerson, endpointMember);\n  }\n\n  _dispose() {}\n}\n","import { Logger } from '@skyway-sdk/common';\n\nimport { errors } from '../../errors';\nimport { createError } from '../../util';\n\nconst log = new Logger('packages/core/src/media/stream/base.ts');\n\nexport interface Stream {\n  id: string;\n  side: StreamSide;\n  contentType: ContentType;\n}\n\nexport type StreamSide = 'remote' | 'local';\nexport type ContentType = 'audio' | 'data' | 'video';\n\nexport type WebRTCStats = { id: string; type: string; [key: string]: any }[];\n\n/**@internal */\nexport function attachElement(\n  element: HTMLAudioElement | HTMLVideoElement,\n  track: MediaStreamTrack\n) {\n  if ((element ?? {})?.srcObject === undefined) {\n    throw createError({\n      operationName: 'attachElement',\n      info: errors.invalidElement,\n      payload: { element },\n      path: log.prefix,\n    });\n  }\n\n  if (element.srcObject) {\n    const stream = element.srcObject as MediaStream;\n\n    const ended = stream.getTracks().find((t) => t.readyState === 'ended');\n    if (ended) {\n      stream.removeTrack(ended);\n    }\n\n    const duplicate = stream.getTracks().find((t) => t.kind === track.kind);\n    if (duplicate) {\n      stream.removeTrack(duplicate);\n    }\n\n    stream.addTrack(track);\n  } else {\n    element.srcObject = new MediaStream([track]);\n  }\n}\n\n/**@internal */\nexport function detachElement(\n  element: HTMLAudioElement | HTMLVideoElement,\n  track: MediaStreamTrack\n) {\n  if ((element ?? {})?.srcObject === undefined) {\n    throw createError({\n      operationName: 'attachElement',\n      info: errors.invalidElement,\n      payload: { element },\n      path: log.prefix,\n    });\n  }\n\n  const stream = element.srcObject as MediaStream;\n  if (stream.getTracks().length > 0) {\n    stream.removeTrack(track);\n  }\n\n  if (stream.getTracks().length === 0) {\n    element.srcObject = null;\n  }\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","\nvar navigator = {};\nnavigator.userAgent = false;\n\nvar window = {};\n/*\n * jsrsasign(all) 11.0.0 (2024-01-16) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license\n */\nvar VERSION = \"11.0.0\";\nvar VERSION_FULL = \"jsrsasign(all) 11.0.0 (2024-01-16) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license\";\n\n/*! CryptoJS v3.1.2 core-fix.js\n * code.google.com/p/crypto-js\n * (c) 2009-2013 by Jeff Mott. All rights reserved.\n * code.google.com/p/crypto-js/wiki/License\n * THIS IS FIX of 'core.js' to fix Hmac issue.\n * https://code.google.com/p/crypto-js/issues/detail?id=84\n * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js\n */\nvar CryptoJS=CryptoJS||(function(e,g){var a={};var b=a.lib={};var j=b.Base=(function(){function n(){}return{extend:function(p){n.prototype=this;var o=new n();if(p){o.mixIn(p)}if(!o.hasOwnProperty(\"init\")){o.init=function(){o.$super.init.apply(this,arguments)}}o.init.prototype=o;o.$super=this;return o},create:function(){var o=this.extend();o.init.apply(o,arguments);return o},init:function(){},mixIn:function(p){for(var o in p){if(p.hasOwnProperty(o)){this[o]=p[o]}}if(p.hasOwnProperty(\"toString\")){this.toString=p.toString}},clone:function(){return this.init.prototype.extend(this)}}}());var l=b.WordArray=j.extend({init:function(o,n){o=this.words=o||[];if(n!=g){this.sigBytes=n}else{this.sigBytes=o.length*4}},toString:function(n){return(n||h).stringify(this)},concat:function(t){var q=this.words;var p=t.words;var n=this.sigBytes;var s=t.sigBytes;this.clamp();if(n%4){for(var r=0;r<s;r++){var o=(p[r>>>2]>>>(24-(r%4)*8))&255;q[(n+r)>>>2]|=o<<(24-((n+r)%4)*8)}}else{for(var r=0;r<s;r+=4){q[(n+r)>>>2]=p[r>>>2]}}this.sigBytes+=s;return this},clamp:function(){var o=this.words;var n=this.sigBytes;o[n>>>2]&=4294967295<<(32-(n%4)*8);o.length=e.ceil(n/4)},clone:function(){var n=j.clone.call(this);n.words=this.words.slice(0);return n},random:function(p){var o=[];for(var n=0;n<p;n+=4){o.push((e.random()*4294967296)|0)}return new l.init(o,p)}});var m=a.enc={};var h=m.Hex={stringify:function(p){var r=p.words;var o=p.sigBytes;var q=[];for(var n=0;n<o;n++){var s=(r[n>>>2]>>>(24-(n%4)*8))&255;q.push((s>>>4).toString(16));q.push((s&15).toString(16))}return q.join(\"\")},parse:function(p){var n=p.length;var q=[];for(var o=0;o<n;o+=2){q[o>>>3]|=parseInt(p.substr(o,2),16)<<(24-(o%8)*4)}return new l.init(q,n/2)}};var d=m.Latin1={stringify:function(q){var r=q.words;var p=q.sigBytes;var n=[];for(var o=0;o<p;o++){var s=(r[o>>>2]>>>(24-(o%4)*8))&255;n.push(String.fromCharCode(s))}return n.join(\"\")},parse:function(p){var n=p.length;var q=[];for(var o=0;o<n;o++){q[o>>>2]|=(p.charCodeAt(o)&255)<<(24-(o%4)*8)}return new l.init(q,n)}};var c=m.Utf8={stringify:function(n){try{return decodeURIComponent(escape(d.stringify(n)))}catch(o){throw new Error(\"Malformed UTF-8 data\")}},parse:function(n){return d.parse(unescape(encodeURIComponent(n)))}};var i=b.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new l.init();this._nDataBytes=0},_append:function(n){if(typeof n==\"string\"){n=c.parse(n)}this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(w){var q=this._data;var x=q.words;var n=q.sigBytes;var t=this.blockSize;var v=t*4;var u=n/v;if(w){u=e.ceil(u)}else{u=e.max((u|0)-this._minBufferSize,0)}var s=u*t;var r=e.min(s*4,n);if(s){for(var p=0;p<s;p+=t){this._doProcessBlock(x,p)}var o=x.splice(0,s);q.sigBytes-=r}return new l.init(o,r)},clone:function(){var n=j.clone.call(this);n._data=this._data.clone();return n},_minBufferSize:0});var f=b.Hasher=i.extend({cfg:j.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){i.reset.call(this);this._doReset()},update:function(n){this._append(n);this._process();return this},finalize:function(n){if(n){this._append(n)}var o=this._doFinalize();return o},blockSize:512/32,_createHelper:function(n){return function(p,o){return new n.init(o).finalize(p)}},_createHmacHelper:function(n){return function(p,o){return new k.HMAC.init(n,o).finalize(p)}}});var k=a.algo={};return a}(Math));\n/*\nCryptoJS v3.1.2 x64-core-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(g){var a=CryptoJS,f=a.lib,e=f.Base,h=f.WordArray,a=a.x64={};a.Word=e.extend({init:function(b,c){this.high=b;this.low=c}});a.WordArray=e.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=g?c:8*b.length},toX32:function(){for(var b=this.words,c=b.length,a=[],d=0;d<c;d++){var e=b[d];a.push(e.high);a.push(e.low)}return h.create(a,this.sigBytes)},clone:function(){for(var b=e.clone.call(this),c=b.words=this.words.slice(0),a=c.length,d=0;d<a;d++)c[d]=c[d].clone();return b}})})();\n\n/*\nCryptoJS v3.1.2 cipher-core.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nCryptoJS.lib.Cipher||function(u){var g=CryptoJS,f=g.lib,k=f.Base,l=f.WordArray,q=f.BufferedBlockAlgorithm,r=g.enc.Base64,v=g.algo.EvpKDF,n=f.Cipher=q.extend({cfg:k.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c);this._xformMode=a;this._key=b;this.reset()},reset:function(){q.reset.call(this);this._doReset()},process:function(a){this._append(a);\nreturn this._process()},finalize:function(a){a&&this._append(a);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,d){return(\"string\"==typeof c?s:j).encrypt(a,b,c,d)},decrypt:function(b,c,d){return(\"string\"==typeof c?s:j).decrypt(a,b,c,d)}}}});f.StreamCipher=n.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var m=g.mode={},t=function(a,b,c){var d=this._iv;d?this._iv=u:d=this._prevBlock;for(var e=\n0;e<c;e++)a[b+e]^=d[e]},h=(f.BlockCipherMode=k.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a;this._iv=b}})).extend();h.Encryptor=h.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize;t.call(this,a,b,d);c.encryptBlock(a,b);this._prevBlock=a.slice(b,b+d)}});h.Decryptor=h.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=a.slice(b,b+d);c.decryptBlock(a,\nb);t.call(this,a,b,d);this._prevBlock=e}});m=m.CBC=h;h=(g.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,e=[],f=0;f<c;f+=4)e.push(d);c=l.create(e,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};f.BlockCipher=n.extend({cfg:n.cfg.extend({mode:m,padding:h}),reset:function(){n.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;\nthis._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var p=f.CipherParams=k.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),m=(g.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;\nreturn(a?l.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=l.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return p.create({ciphertext:a,salt:c})}},j=f.SerializableCipher=k.extend({cfg:k.extend({format:m}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);b=e.finalize(b);e=e.cfg;return p.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,\nblockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),g=(g.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=l.random(8));a=v.create({keySize:b+c}).compute(a,d);c=l.create(a.words.slice(b),4*c);a.sigBytes=4*b;return p.create({key:a,iv:c,salt:d})}},s=f.PasswordBasedCipher=j.extend({cfg:j.cfg.extend({kdf:g}),encrypt:function(a,\nb,c,d){d=this.cfg.extend(d);c=d.kdf.execute(c,a.keySize,a.ivSize);d.iv=c.iv;a=j.encrypt.call(this,a,b,c.key,d);a.mixIn(c);return a},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt);d.iv=c.iv;return j.decrypt.call(this,a,b,c.key,d)}})}();\n\n/*\nCryptoJS v3.1.2 aes.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){for(var q=CryptoJS,x=q.lib.BlockCipher,r=q.algo,j=[],y=[],z=[],A=[],B=[],C=[],s=[],u=[],v=[],w=[],g=[],k=0;256>k;k++)g[k]=128>k?k<<1:k<<1^283;for(var n=0,l=0,k=0;256>k;k++){var f=l^l<<1^l<<2^l<<3^l<<4,f=f>>>8^f&255^99;j[n]=f;y[f]=n;var t=g[n],D=g[t],E=g[D],b=257*g[f]^16843008*f;z[n]=b<<24|b>>>8;A[n]=b<<16|b>>>16;B[n]=b<<8|b>>>24;C[n]=b;b=16843009*E^65537*D^257*t^16843008*n;s[f]=b<<24|b>>>8;u[f]=b<<16|b>>>16;v[f]=b<<8|b>>>24;w[f]=b;n?(n=t^g[g[g[E^t]]],l^=g[g[l]]):n=l=1}var F=[0,1,2,4,8,\n16,32,64,128,27,54],r=r.AES=x.extend({_doReset:function(){for(var c=this._key,e=c.words,a=c.sigBytes/4,c=4*((this._nRounds=a+6)+1),b=this._keySchedule=[],h=0;h<c;h++)if(h<a)b[h]=e[h];else{var d=b[h-1];h%a?6<a&&4==h%a&&(d=j[d>>>24]<<24|j[d>>>16&255]<<16|j[d>>>8&255]<<8|j[d&255]):(d=d<<8|d>>>24,d=j[d>>>24]<<24|j[d>>>16&255]<<16|j[d>>>8&255]<<8|j[d&255],d^=F[h/a|0]<<24);b[h]=b[h-a]^d}e=this._invKeySchedule=[];for(a=0;a<c;a++)h=c-a,d=a%4?b[h]:b[h-4],e[a]=4>a||4>=h?d:s[j[d>>>24]]^u[j[d>>>16&255]]^v[j[d>>>\n8&255]]^w[j[d&255]]},encryptBlock:function(c,e){this._doCryptBlock(c,e,this._keySchedule,z,A,B,C,j)},decryptBlock:function(c,e){var a=c[e+1];c[e+1]=c[e+3];c[e+3]=a;this._doCryptBlock(c,e,this._invKeySchedule,s,u,v,w,y);a=c[e+1];c[e+1]=c[e+3];c[e+3]=a},_doCryptBlock:function(c,e,a,b,h,d,j,m){for(var n=this._nRounds,f=c[e]^a[0],g=c[e+1]^a[1],k=c[e+2]^a[2],p=c[e+3]^a[3],l=4,t=1;t<n;t++)var q=b[f>>>24]^h[g>>>16&255]^d[k>>>8&255]^j[p&255]^a[l++],r=b[g>>>24]^h[k>>>16&255]^d[p>>>8&255]^j[f&255]^a[l++],s=\nb[k>>>24]^h[p>>>16&255]^d[f>>>8&255]^j[g&255]^a[l++],p=b[p>>>24]^h[f>>>16&255]^d[g>>>8&255]^j[k&255]^a[l++],f=q,g=r,k=s;q=(m[f>>>24]<<24|m[g>>>16&255]<<16|m[k>>>8&255]<<8|m[p&255])^a[l++];r=(m[g>>>24]<<24|m[k>>>16&255]<<16|m[p>>>8&255]<<8|m[f&255])^a[l++];s=(m[k>>>24]<<24|m[p>>>16&255]<<16|m[f>>>8&255]<<8|m[g&255])^a[l++];p=(m[p>>>24]<<24|m[f>>>16&255]<<16|m[g>>>8&255]<<8|m[k&255])^a[l++];c[e]=q;c[e+1]=r;c[e+2]=s;c[e+3]=p},keySize:8});q.AES=x._createHelper(r)})();\n\n/*\nCryptoJS v3.1.2 tripledes-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){function j(b,c){var a=(this._lBlock>>>b^this._rBlock)&c;this._rBlock^=a;this._lBlock^=a<<b}function l(b,c){var a=(this._rBlock>>>b^this._lBlock)&c;this._lBlock^=a;this._rBlock^=a<<b}var h=CryptoJS,e=h.lib,n=e.WordArray,e=e.BlockCipher,g=h.algo,q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,\n55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],s=[{\"0\":8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,\n2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,\n1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{\"0\":1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,\n75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,\n276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{\"0\":260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,\n14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,\n17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{\"0\":2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,\n98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,\n1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{\"0\":128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,\n10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,\n83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{\"0\":268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,\n2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{\"0\":1048576,\n16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,\n496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{\"0\":134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,\n2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,\n2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],t=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=g.DES=e.extend({_doReset:function(){for(var b=this._key.words,c=[],a=0;56>a;a++){var f=q[a]-1;c[a]=b[f>>>5]>>>31-f%32&1}b=this._subKeys=[];for(f=0;16>f;f++){for(var d=b[f]=[],e=r[f],a=0;24>a;a++)d[a/6|0]|=c[(p[a]-1+e)%28]<<31-a%6,d[4+(a/6|0)]|=c[28+(p[a+24]-1+e)%28]<<31-a%6;d[0]=d[0]<<1|d[0]>>>31;for(a=1;7>a;a++)d[a]>>>=\n4*(a-1)+3;d[7]=d[7]<<5|d[7]>>>27}c=this._invSubKeys=[];for(a=0;16>a;a++)c[a]=b[15-a]},encryptBlock:function(b,c){this._doCryptBlock(b,c,this._subKeys)},decryptBlock:function(b,c){this._doCryptBlock(b,c,this._invSubKeys)},_doCryptBlock:function(b,c,a){this._lBlock=b[c];this._rBlock=b[c+1];j.call(this,4,252645135);j.call(this,16,65535);l.call(this,2,858993459);l.call(this,8,16711935);j.call(this,1,1431655765);for(var f=0;16>f;f++){for(var d=a[f],e=this._lBlock,h=this._rBlock,g=0,k=0;8>k;k++)g|=s[k][((h^\nd[k])&t[k])>>>0];this._lBlock=h;this._rBlock=e^g}a=this._lBlock;this._lBlock=this._rBlock;this._rBlock=a;j.call(this,1,1431655765);l.call(this,8,16711935);l.call(this,2,858993459);j.call(this,16,65535);j.call(this,4,252645135);b[c]=this._lBlock;b[c+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});h.DES=e._createHelper(m);g=g.TripleDES=e.extend({_doReset:function(){var b=this._key.words;this._des1=m.createEncryptor(n.create(b.slice(0,2)));this._des2=m.createEncryptor(n.create(b.slice(2,4)));this._des3=\nm.createEncryptor(n.create(b.slice(4,6)))},encryptBlock:function(b,c){this._des1.encryptBlock(b,c);this._des2.decryptBlock(b,c);this._des3.encryptBlock(b,c)},decryptBlock:function(b,c){this._des3.decryptBlock(b,c);this._des2.encryptBlock(b,c);this._des1.decryptBlock(b,c)},keySize:6,ivSize:2,blockSize:2});h.TripleDES=e._createHelper(g)})();\n\n/*\nCryptoJS v3.1.2 enc-base64.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n\n/*\nCryptoJS v3.1.2 md5.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(E){function h(a,f,g,j,p,h,k){a=a+(f&g|~f&j)+p+k;return(a<<h|a>>>32-h)+f}function k(a,f,g,j,p,h,k){a=a+(f&j|g&~j)+p+k;return(a<<h|a>>>32-h)+f}function l(a,f,g,j,h,k,l){a=a+(f^g^j)+h+l;return(a<<k|a>>>32-k)+f}function n(a,f,g,j,h,k,l){a=a+(g^(f|~j))+h+l;return(a<<k|a>>>32-k)+f}for(var r=CryptoJS,q=r.lib,F=q.WordArray,s=q.Hasher,q=r.algo,a=[],t=0;64>t;t++)a[t]=4294967296*E.abs(E.sin(t+1))|0;q=q.MD5=s.extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(m,f){for(var g=0;16>g;g++){var j=f+g,p=m[j];m[j]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var g=this._hash.words,j=m[f+0],p=m[f+1],q=m[f+2],r=m[f+3],s=m[f+4],t=m[f+5],u=m[f+6],v=m[f+7],w=m[f+8],x=m[f+9],y=m[f+10],z=m[f+11],A=m[f+12],B=m[f+13],C=m[f+14],D=m[f+15],b=g[0],c=g[1],d=g[2],e=g[3],b=h(b,c,d,e,j,7,a[0]),e=h(e,b,c,d,p,12,a[1]),d=h(d,e,b,c,q,17,a[2]),c=h(c,d,e,b,r,22,a[3]),b=h(b,c,d,e,s,7,a[4]),e=h(e,b,c,d,t,12,a[5]),d=h(d,e,b,c,u,17,a[6]),c=h(c,d,e,b,v,22,a[7]),\nb=h(b,c,d,e,w,7,a[8]),e=h(e,b,c,d,x,12,a[9]),d=h(d,e,b,c,y,17,a[10]),c=h(c,d,e,b,z,22,a[11]),b=h(b,c,d,e,A,7,a[12]),e=h(e,b,c,d,B,12,a[13]),d=h(d,e,b,c,C,17,a[14]),c=h(c,d,e,b,D,22,a[15]),b=k(b,c,d,e,p,5,a[16]),e=k(e,b,c,d,u,9,a[17]),d=k(d,e,b,c,z,14,a[18]),c=k(c,d,e,b,j,20,a[19]),b=k(b,c,d,e,t,5,a[20]),e=k(e,b,c,d,y,9,a[21]),d=k(d,e,b,c,D,14,a[22]),c=k(c,d,e,b,s,20,a[23]),b=k(b,c,d,e,x,5,a[24]),e=k(e,b,c,d,C,9,a[25]),d=k(d,e,b,c,r,14,a[26]),c=k(c,d,e,b,w,20,a[27]),b=k(b,c,d,e,B,5,a[28]),e=k(e,b,\nc,d,q,9,a[29]),d=k(d,e,b,c,v,14,a[30]),c=k(c,d,e,b,A,20,a[31]),b=l(b,c,d,e,t,4,a[32]),e=l(e,b,c,d,w,11,a[33]),d=l(d,e,b,c,z,16,a[34]),c=l(c,d,e,b,C,23,a[35]),b=l(b,c,d,e,p,4,a[36]),e=l(e,b,c,d,s,11,a[37]),d=l(d,e,b,c,v,16,a[38]),c=l(c,d,e,b,y,23,a[39]),b=l(b,c,d,e,B,4,a[40]),e=l(e,b,c,d,j,11,a[41]),d=l(d,e,b,c,r,16,a[42]),c=l(c,d,e,b,u,23,a[43]),b=l(b,c,d,e,x,4,a[44]),e=l(e,b,c,d,A,11,a[45]),d=l(d,e,b,c,D,16,a[46]),c=l(c,d,e,b,q,23,a[47]),b=n(b,c,d,e,j,6,a[48]),e=n(e,b,c,d,v,10,a[49]),d=n(d,e,b,c,\nC,15,a[50]),c=n(c,d,e,b,t,21,a[51]),b=n(b,c,d,e,A,6,a[52]),e=n(e,b,c,d,r,10,a[53]),d=n(d,e,b,c,y,15,a[54]),c=n(c,d,e,b,p,21,a[55]),b=n(b,c,d,e,w,6,a[56]),e=n(e,b,c,d,D,10,a[57]),d=n(d,e,b,c,u,15,a[58]),c=n(c,d,e,b,B,21,a[59]),b=n(b,c,d,e,s,6,a[60]),e=n(e,b,c,d,z,10,a[61]),d=n(d,e,b,c,q,15,a[62]),c=n(c,d,e,b,x,21,a[63]);g[0]=g[0]+b|0;g[1]=g[1]+c|0;g[2]=g[2]+d|0;g[3]=g[3]+e|0},_doFinalize:function(){var a=this._data,f=a.words,g=8*this._nDataBytes,j=8*a.sigBytes;f[j>>>5]|=128<<24-j%32;var h=E.floor(g/\n4294967296);f[(j+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;f[(j+64>>>9<<4)+14]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;a.sigBytes=4*(f.length+1);this._process();a=this._hash;f=a.words;for(g=0;4>g;g++)j=f[g],f[g]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360;return a},clone:function(){var a=s.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=s._createHelper(q);r.HmacMD5=s._createHmacHelper(q)})(Math);\n\n/*\nCryptoJS v3.1.2 sha1-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var k=CryptoJS,b=k.lib,m=b.WordArray,l=b.Hasher,d=[],b=k.algo.SHA1=l.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(n,p){for(var a=this._hash.words,e=a[0],f=a[1],h=a[2],j=a[3],b=a[4],c=0;80>c;c++){if(16>c)d[c]=n[p+c]|0;else{var g=d[c-3]^d[c-8]^d[c-14]^d[c-16];d[c]=g<<1|g>>>31}g=(e<<5|e>>>27)+b+d[c];g=20>c?g+((f&h|~f&j)+1518500249):40>c?g+((f^h^j)+1859775393):60>c?g+((f&h|f&j|h&j)-1894007588):g+((f^h^\nj)-899497514);b=j;j=h;h=f<<30|f>>>2;f=e;e=g}a[0]=a[0]+e|0;a[1]=a[1]+f|0;a[2]=a[2]+h|0;a[3]=a[3]+j|0;a[4]=a[4]+b|0},_doFinalize:function(){var b=this._data,d=b.words,a=8*this._nDataBytes,e=8*b.sigBytes;d[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=Math.floor(a/4294967296);d[(e+64>>>9<<4)+15]=a;b.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var b=l.clone.call(this);b._hash=this._hash.clone();return b}});k.SHA1=l._createHelper(b);k.HmacSHA1=l._createHmacHelper(b)})();\n\n/*\nCryptoJS v3.1.2 sha256-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(k){for(var g=CryptoJS,h=g.lib,v=h.WordArray,j=h.Hasher,h=g.algo,s=[],t=[],u=function(q){return 4294967296*(q-(q|0))|0},l=2,b=0;64>b;){var d;a:{d=l;for(var w=k.sqrt(d),r=2;r<=w;r++)if(!(d%r)){d=!1;break a}d=!0}d&&(8>b&&(s[b]=u(k.pow(l,0.5))),t[b]=u(k.pow(l,1/3)),b++);l++}var n=[],h=h.SHA256=j.extend({_doReset:function(){this._hash=new v.init(s.slice(0))},_doProcessBlock:function(q,h){for(var a=this._hash.words,c=a[0],d=a[1],b=a[2],k=a[3],f=a[4],g=a[5],j=a[6],l=a[7],e=0;64>e;e++){if(16>e)n[e]=\nq[h+e]|0;else{var m=n[e-15],p=n[e-2];n[e]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+n[e-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+n[e-16]}m=l+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&g^~f&j)+t[e]+n[e];p=((c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22))+(c&d^c&b^d&b);l=j;j=g;g=f;f=k+m|0;k=b;b=d;d=c;c=m+p|0}a[0]=a[0]+c|0;a[1]=a[1]+d|0;a[2]=a[2]+b|0;a[3]=a[3]+k|0;a[4]=a[4]+f|0;a[5]=a[5]+g|0;a[6]=a[6]+j|0;a[7]=a[7]+l|0},_doFinalize:function(){var d=this._data,b=d.words,a=8*this._nDataBytes,c=8*d.sigBytes;\nb[c>>>5]|=128<<24-c%32;b[(c+64>>>9<<4)+14]=k.floor(a/4294967296);b[(c+64>>>9<<4)+15]=a;d.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var b=j.clone.call(this);b._hash=this._hash.clone();return b}});g.SHA256=j._createHelper(h);g.HmacSHA256=j._createHmacHelper(h)})(Math);\n\n/*\nCryptoJS v3.1.2 sha224-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var b=CryptoJS,d=b.lib.WordArray,a=b.algo,c=a.SHA256,a=a.SHA224=c.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=c._doFinalize.call(this);a.sigBytes-=4;return a}});b.SHA224=c._createHelper(a);b.HmacSHA224=c._createHmacHelper(a)})();\n\n/*\nCryptoJS v3.1.2 sha512-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){function a(){return d.create.apply(d,arguments)}for(var n=CryptoJS,r=n.lib.Hasher,e=n.x64,d=e.Word,T=e.WordArray,e=n.algo,ea=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),\na(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,\n2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),\na(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,\n3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],v=[],w=0;80>w;w++)v[w]=a();e=e.SHA512=r.extend({_doReset:function(){this._hash=new T.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(a,d){for(var f=this._hash.words,\nF=f[0],e=f[1],n=f[2],r=f[3],G=f[4],H=f[5],I=f[6],f=f[7],w=F.high,J=F.low,X=e.high,K=e.low,Y=n.high,L=n.low,Z=r.high,M=r.low,$=G.high,N=G.low,aa=H.high,O=H.low,ba=I.high,P=I.low,ca=f.high,Q=f.low,k=w,g=J,z=X,x=K,A=Y,y=L,U=Z,B=M,l=$,h=N,R=aa,C=O,S=ba,D=P,V=ca,E=Q,m=0;80>m;m++){var s=v[m];if(16>m)var j=s.high=a[d+2*m]|0,b=s.low=a[d+2*m+1]|0;else{var j=v[m-15],b=j.high,p=j.low,j=(b>>>1|p<<31)^(b>>>8|p<<24)^b>>>7,p=(p>>>1|b<<31)^(p>>>8|b<<24)^(p>>>7|b<<25),u=v[m-2],b=u.high,c=u.low,u=(b>>>19|c<<13)^(b<<\n3|c>>>29)^b>>>6,c=(c>>>19|b<<13)^(c<<3|b>>>29)^(c>>>6|b<<26),b=v[m-7],W=b.high,t=v[m-16],q=t.high,t=t.low,b=p+b.low,j=j+W+(b>>>0<p>>>0?1:0),b=b+c,j=j+u+(b>>>0<c>>>0?1:0),b=b+t,j=j+q+(b>>>0<t>>>0?1:0);s.high=j;s.low=b}var W=l&R^~l&S,t=h&C^~h&D,s=k&z^k&A^z&A,T=g&x^g&y^x&y,p=(k>>>28|g<<4)^(k<<30|g>>>2)^(k<<25|g>>>7),u=(g>>>28|k<<4)^(g<<30|k>>>2)^(g<<25|k>>>7),c=ea[m],fa=c.high,da=c.low,c=E+((h>>>14|l<<18)^(h>>>18|l<<14)^(h<<23|l>>>9)),q=V+((l>>>14|h<<18)^(l>>>18|h<<14)^(l<<23|h>>>9))+(c>>>0<E>>>0?1:\n0),c=c+t,q=q+W+(c>>>0<t>>>0?1:0),c=c+da,q=q+fa+(c>>>0<da>>>0?1:0),c=c+b,q=q+j+(c>>>0<b>>>0?1:0),b=u+T,s=p+s+(b>>>0<u>>>0?1:0),V=S,E=D,S=R,D=C,R=l,C=h,h=B+c|0,l=U+q+(h>>>0<B>>>0?1:0)|0,U=A,B=y,A=z,y=x,z=k,x=g,g=c+b|0,k=q+s+(g>>>0<c>>>0?1:0)|0}J=F.low=J+g;F.high=w+k+(J>>>0<g>>>0?1:0);K=e.low=K+x;e.high=X+z+(K>>>0<x>>>0?1:0);L=n.low=L+y;n.high=Y+A+(L>>>0<y>>>0?1:0);M=r.low=M+B;r.high=Z+U+(M>>>0<B>>>0?1:0);N=G.low=N+h;G.high=$+l+(N>>>0<h>>>0?1:0);O=H.low=O+C;H.high=aa+R+(O>>>0<C>>>0?1:0);P=I.low=P+D;\nI.high=ba+S+(P>>>0<D>>>0?1:0);Q=f.low=Q+E;f.high=ca+V+(Q>>>0<E>>>0?1:0)},_doFinalize:function(){var a=this._data,d=a.words,f=8*this._nDataBytes,e=8*a.sigBytes;d[e>>>5]|=128<<24-e%32;d[(e+128>>>10<<5)+30]=Math.floor(f/4294967296);d[(e+128>>>10<<5)+31]=f;a.sigBytes=4*d.length;this._process();return this._hash.toX32()},clone:function(){var a=r.clone.call(this);a._hash=this._hash.clone();return a},blockSize:32});n.SHA512=r._createHelper(e);n.HmacSHA512=r._createHmacHelper(e)})();\n\n/*\nCryptoJS v3.1.2 sha384-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var c=CryptoJS,a=c.x64,b=a.Word,e=a.WordArray,a=c.algo,d=a.SHA512,a=a.SHA384=d.extend({_doReset:function(){this._hash=new e.init([new b.init(3418070365,3238371032),new b.init(1654270250,914150663),new b.init(2438529370,812702999),new b.init(355462360,4144912697),new b.init(1731405415,4290775857),new b.init(2394180231,1750603025),new b.init(3675008525,1694076839),new b.init(1203062813,3204075428)])},_doFinalize:function(){var a=d._doFinalize.call(this);a.sigBytes-=16;return a}});c.SHA384=\nd._createHelper(a);c.HmacSHA384=d._createHmacHelper(a)})();\n\n/*\nCryptoJS v3.1.2 ripemd160-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n/*\n\n(c) 2012 by Cedric Mesnil. All rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n(function(){var q=CryptoJS,d=q.lib,n=d.WordArray,p=d.Hasher,d=q.algo,x=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),z=n.create([11,14,15,12,\n5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),A=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),B=n.create([0,1518500249,1859775393,2400959708,2840853838]),C=n.create([1352829926,1548603684,1836072691,\n2053994217,0]),d=d.RIPEMD160=p.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,v){for(var b=0;16>b;b++){var c=v+b,f=e[c];e[c]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var c=this._hash.words,f=B.words,d=C.words,n=x.words,q=y.words,p=z.words,w=A.words,t,g,h,j,r,u,k,l,m,s;u=t=c[0];k=g=c[1];l=h=c[2];m=j=c[3];s=r=c[4];for(var a,b=0;80>b;b+=1)a=t+e[v+n[b]]|0,a=16>b?a+((g^h^j)+f[0]):32>b?a+((g&h|~g&j)+f[1]):48>b?\na+(((g|~h)^j)+f[2]):64>b?a+((g&j|h&~j)+f[3]):a+((g^(h|~j))+f[4]),a|=0,a=a<<p[b]|a>>>32-p[b],a=a+r|0,t=r,r=j,j=h<<10|h>>>22,h=g,g=a,a=u+e[v+q[b]]|0,a=16>b?a+((k^(l|~m))+d[0]):32>b?a+((k&m|l&~m)+d[1]):48>b?a+(((k|~l)^m)+d[2]):64>b?a+((k&l|~k&m)+d[3]):a+((k^l^m)+d[4]),a|=0,a=a<<w[b]|a>>>32-w[b],a=a+s|0,u=s,s=m,m=l<<10|l>>>22,l=k,k=a;a=c[1]+h+m|0;c[1]=c[2]+j+s|0;c[2]=c[3]+r+u|0;c[3]=c[4]+t+k|0;c[4]=c[0]+g+l|0;c[0]=a},_doFinalize:function(){var e=this._data,d=e.words,b=8*this._nDataBytes,c=8*e.sigBytes;\nd[c>>>5]|=128<<24-c%32;d[(c+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;e.sigBytes=4*(d.length+1);this._process();e=this._hash;d=e.words;for(b=0;5>b;b++)c=d[b],d[b]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return e},clone:function(){var d=p.clone.call(this);d._hash=this._hash.clone();return d}});q.RIPEMD160=p._createHelper(d);q.HmacRIPEMD160=p._createHmacHelper(d)})(Math);\n\n/*\nCryptoJS v3.1.2 hmac.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var c=CryptoJS,k=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(a,b){a=this._hasher=new a.init;\"string\"==typeof b&&(b=k.parse(b));var c=a.blockSize,e=4*c;b.sigBytes>e&&(b=a.finalize(b));b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,j=g.words,d=0;d<c;d++)h[d]^=1549556828,j[d]^=909522486;f.sigBytes=g.sigBytes=e;this.reset()},reset:function(){var a=this._hasher;a.reset();a.update(this._iKey)},update:function(a){this._hasher.update(a);return this},finalize:function(a){var b=\nthis._hasher;a=b.finalize(a);b.reset();return b.finalize(this._oKey.clone().concat(a))}})})();\n\n/*\nCryptoJS v3.1.2 pbkdf2-min.js\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var b=CryptoJS,a=b.lib,d=a.Base,m=a.WordArray,a=b.algo,q=a.HMAC,l=a.PBKDF2=d.extend({cfg:d.extend({keySize:4,hasher:a.SHA1,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,f=q.create(c.hasher,a),g=m.create(),d=m.create([1]),l=g.words,r=d.words,n=c.keySize,c=c.iterations;l.length<n;){var h=f.update(b).finalize(d);f.reset();for(var j=h.words,s=j.length,k=h,p=1;p<c;p++){k=f.finalize(k);f.reset();for(var t=k.words,e=0;e<s;e++)j[e]^=t[e]}g.concat(h);\nr[0]++}g.sigBytes=4*n;return g}});b.PBKDF2=function(a,b,c){return l.create(c).compute(a,b)}})();\n\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar b64map=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";var b64pad=\"=\";function hex2b64(d){var b;var e;var a=\"\";for(b=0;b+3<=d.length;b+=3){e=parseInt(d.substring(b,b+3),16);a+=b64map.charAt(e>>6)+b64map.charAt(e&63)}if(b+1==d.length){e=parseInt(d.substring(b,b+1),16);a+=b64map.charAt(e<<2)}else{if(b+2==d.length){e=parseInt(d.substring(b,b+2),16);a+=b64map.charAt(e>>2)+b64map.charAt((e&3)<<4)}}if(b64pad){while((a.length&3)>0){a+=b64pad}}return a}function b64tohex(f){var d=\"\";var e;var b=0;var c;var a;for(e=0;e<f.length;++e){if(f.charAt(e)==b64pad){break}a=b64map.indexOf(f.charAt(e));if(a<0){continue}if(b==0){d+=int2char(a>>2);c=a&3;b=1}else{if(b==1){d+=int2char((c<<2)|(a>>4));c=a&15;b=2}else{if(b==2){d+=int2char(c);d+=int2char(a>>2);c=a&3;b=3}else{d+=int2char((c<<2)|(a>>4));d+=int2char(a&15);b=0}}}}if(b==1){d+=int2char(c<<2)}return d}function b64toBA(e){var d=b64tohex(e);var c;var b=new Array();for(c=0;2*c<d.length;++c){b[c]=parseInt(d.substring(2*c,2*c+2),16)}return b};\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(e,d,f){if(e!=null){if(\"number\"==typeof e){this.fromNumber(e,d,f)}else{if(d==null&&\"string\"!=typeof e){this.fromString(e,256)}else{this.fromString(e,d)}}}}function nbi(){return new BigInteger(null)}function am1(f,a,b,e,h,g){while(--g>=0){var d=a*this[f++]+b[e]+h;h=Math.floor(d/67108864);b[e++]=d&67108863}return h}function am2(f,q,r,e,o,a){var k=q&32767,p=q>>15;while(--a>=0){var d=this[f]&32767;var g=this[f++]>>15;var b=p*d+g*k;d=k*d+((b&32767)<<15)+r[e]+(o&1073741823);o=(d>>>30)+(b>>>15)+p*g+(o>>>30);r[e++]=d&1073741823}return o}function am3(f,q,r,e,o,a){var k=q&16383,p=q>>14;while(--a>=0){var d=this[f]&16383;var g=this[f++]>>14;var b=p*d+g*k;d=k*d+((b&16383)<<14)+r[e]+o;o=(d>>28)+(b>>14)+p*g;r[e++]=d&268435455}return o}if(j_lm&&(navigator.appName==\"Microsoft Internet Explorer\")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!=\"Netscape\")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM=\"0123456789abcdefghijklmnopqrstuvwxyz\";var BI_RC=new Array();var rr,vv;rr=\"0\".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr=\"a\".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr=\"A\".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(a){return BI_RM.charAt(a)}function intAt(b,a){var d=BI_RC[b.charCodeAt(a)];return(d==null)?-1:d}function bnpCopyTo(b){for(var a=this.t-1;a>=0;--a){b[a]=this[a]}b.t=this.t;b.s=this.s}function bnpFromInt(a){this.t=1;this.s=(a<0)?-1:0;if(a>0){this[0]=a}else{if(a<-1){this[0]=a+this.DV}else{this.t=0}}}function nbv(a){var b=nbi();b.fromInt(a);return b}function bnpFromString(h,c){var e;if(c==16){e=4}else{if(c==8){e=3}else{if(c==256){e=8}else{if(c==2){e=1}else{if(c==32){e=5}else{if(c==4){e=2}else{this.fromRadix(h,c);return}}}}}}this.t=0;this.s=0;var g=h.length,d=false,f=0;while(--g>=0){var a=(e==8)?h[g]&255:intAt(h,g);if(a<0){if(h.charAt(g)==\"-\"){d=true}continue}d=false;if(f==0){this[this.t++]=a}else{if(f+e>this.DB){this[this.t-1]|=(a&((1<<(this.DB-f))-1))<<f;this[this.t++]=(a>>(this.DB-f))}else{this[this.t-1]|=a<<f}}f+=e;if(f>=this.DB){f-=this.DB}}if(e==8&&(h[0]&128)!=0){this.s=-1;if(f>0){this[this.t-1]|=((1<<(this.DB-f))-1)<<f}}this.clamp();if(d){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var a=this.s&this.DM;while(this.t>0&&this[this.t-1]==a){--this.t}}function bnToString(c){if(this.s<0){return\"-\"+this.negate().toString(c)}var e;if(c==16){e=4}else{if(c==8){e=3}else{if(c==2){e=1}else{if(c==32){e=5}else{if(c==4){e=2}else{return this.toRadix(c)}}}}}var g=(1<<e)-1,l,a=false,h=\"\",f=this.t;var j=this.DB-(f*this.DB)%e;if(f-->0){if(j<this.DB&&(l=this[f]>>j)>0){a=true;h=int2char(l)}while(f>=0){if(j<e){l=(this[f]&((1<<j)-1))<<(e-j);l|=this[--f]>>(j+=this.DB-e)}else{l=(this[f]>>(j-=e))&g;if(j<=0){j+=this.DB;--f}}if(l>0){a=true}if(a){h+=int2char(l)}}}return a?h:\"0\"}function bnNegate(){var a=nbi();BigInteger.ZERO.subTo(this,a);return a}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(b){var d=this.s-b.s;if(d!=0){return d}var c=this.t;d=c-b.t;if(d!=0){return(this.s<0)?-d:d}while(--c>=0){if((d=this[c]-b[c])!=0){return d}}return 0}function nbits(a){var c=1,b;if((b=a>>>16)!=0){a=b;c+=16}if((b=a>>8)!=0){a=b;c+=8}if((b=a>>4)!=0){a=b;c+=4}if((b=a>>2)!=0){a=b;c+=2}if((b=a>>1)!=0){a=b;c+=1}return c}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(c,b){var a;for(a=this.t-1;a>=0;--a){b[a+c]=this[a]}for(a=c-1;a>=0;--a){b[a]=0}b.t=this.t+c;b.s=this.s}function bnpDRShiftTo(c,b){for(var a=c;a<this.t;++a){b[a-c]=this[a]}b.t=Math.max(this.t-c,0);b.s=this.s}function bnpLShiftTo(j,e){var b=j%this.DB;var a=this.DB-b;var g=(1<<a)-1;var f=Math.floor(j/this.DB),h=(this.s<<b)&this.DM,d;for(d=this.t-1;d>=0;--d){e[d+f+1]=(this[d]>>a)|h;h=(this[d]&g)<<b}for(d=f-1;d>=0;--d){e[d]=0}e[f]=h;e.t=this.t+f+1;e.s=this.s;e.clamp()}function bnpRShiftTo(g,d){d.s=this.s;var e=Math.floor(g/this.DB);if(e>=this.t){d.t=0;return}var b=g%this.DB;var a=this.DB-b;var f=(1<<b)-1;d[0]=this[e]>>b;for(var c=e+1;c<this.t;++c){d[c-e-1]|=(this[c]&f)<<a;d[c-e]=this[c]>>b}if(b>0){d[this.t-e-1]|=(this.s&f)<<a}d.t=this.t-e;d.clamp()}function bnpSubTo(d,f){var e=0,g=0,b=Math.min(d.t,this.t);while(e<b){g+=this[e]-d[e];f[e++]=g&this.DM;g>>=this.DB}if(d.t<this.t){g-=d.s;while(e<this.t){g+=this[e];f[e++]=g&this.DM;g>>=this.DB}g+=this.s}else{g+=this.s;while(e<d.t){g-=d[e];f[e++]=g&this.DM;g>>=this.DB}g-=d.s}f.s=(g<0)?-1:0;if(g<-1){f[e++]=this.DV+g}else{if(g>0){f[e++]=g}}f.t=e;f.clamp()}function bnpMultiplyTo(c,e){var b=this.abs(),f=c.abs();var d=b.t;e.t=d+f.t;while(--d>=0){e[d]=0}for(d=0;d<f.t;++d){e[d+b.t]=b.am(0,f[d],e,d,0,b.t)}e.s=0;e.clamp();if(this.s!=c.s){BigInteger.ZERO.subTo(e,e)}}function bnpSquareTo(d){var a=this.abs();var b=d.t=2*a.t;while(--b>=0){d[b]=0}for(b=0;b<a.t-1;++b){var e=a.am(b,a[b],d,2*b,0,1);if((d[b+a.t]+=a.am(b+1,2*a[b],d,2*b+1,e,a.t-b-1))>=a.DV){d[b+a.t]-=a.DV;d[b+a.t+1]=1}}if(d.t>0){d[d.t-1]+=a.am(b,a[b],d,2*b,0,1)}d.s=0;d.clamp()}function bnpDivRemTo(n,h,g){var w=n.abs();if(w.t<=0){return}var k=this.abs();if(k.t<w.t){if(h!=null){h.fromInt(0)}if(g!=null){this.copyTo(g)}return}if(g==null){g=nbi()}var d=nbi(),a=this.s,l=n.s;var v=this.DB-nbits(w[w.t-1]);if(v>0){w.lShiftTo(v,d);k.lShiftTo(v,g)}else{w.copyTo(d);k.copyTo(g)}var p=d.t;var b=d[p-1];if(b==0){return}var o=b*(1<<this.F1)+((p>1)?d[p-2]>>this.F2:0);var A=this.FV/o,z=(1<<this.F1)/o,x=1<<this.F2;var u=g.t,s=u-p,f=(h==null)?nbi():h;d.dlShiftTo(s,f);if(g.compareTo(f)>=0){g[g.t++]=1;g.subTo(f,g)}BigInteger.ONE.dlShiftTo(p,f);f.subTo(d,d);while(d.t<p){d[d.t++]=0}while(--s>=0){var c=(g[--u]==b)?this.DM:Math.floor(g[u]*A+(g[u-1]+x)*z);if((g[u]+=d.am(0,c,g,s,0,p))<c){d.dlShiftTo(s,f);g.subTo(f,g);while(g[u]<--c){g.subTo(f,g)}}}if(h!=null){g.drShiftTo(p,h);if(a!=l){BigInteger.ZERO.subTo(h,h)}}g.t=p;g.clamp();if(v>0){g.rShiftTo(v,g)}if(a<0){BigInteger.ZERO.subTo(g,g)}}function bnMod(b){var c=nbi();this.abs().divRemTo(b,null,c);if(this.s<0&&c.compareTo(BigInteger.ZERO)>0){b.subTo(c,c)}return c}function Classic(a){this.m=a}function cConvert(a){if(a.s<0||a.compareTo(this.m)>=0){return a.mod(this.m)}else{return a}}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,c,b){a.multiplyTo(c,b);this.reduce(b)}function cSqrTo(a,b){a.squareTo(b);this.reduce(b)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var a=this[0];if((a&1)==0){return 0}var b=a&3;b=(b*(2-(a&15)*b))&15;b=(b*(2-(a&255)*b))&255;b=(b*(2-(((a&65535)*b)&65535)))&65535;b=(b*(2-a*b%this.DV))%this.DV;return(b>0)?this.DV-b:-b}function Montgomery(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(a.DB-15))-1;this.mt2=2*a.t}function montConvert(a){var b=nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);if(a.s<0&&b.compareTo(BigInteger.ZERO)>0){this.m.subTo(b,b)}return b}function montRevert(a){var b=nbi();a.copyTo(b);this.reduce(b);return b}function montReduce(a){while(a.t<=this.mt2){a[a.t++]=0}for(var c=0;c<this.m.t;++c){var b=a[c]&32767;var d=(b*this.mpl+(((b*this.mph+(a[c]>>15)*this.mpl)&this.um)<<15))&a.DM;b=c+this.m.t;a[b]+=this.m.am(0,d,a,c,0,this.m.t);while(a[b]>=a.DV){a[b]-=a.DV;a[++b]++}}a.clamp();a.drShiftTo(this.m.t,a);if(a.compareTo(this.m)>=0){a.subTo(this.m,a)}}function montSqrTo(a,b){a.squareTo(b);this.reduce(b)}function montMulTo(a,c,b){a.multiplyTo(c,b);this.reduce(b)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(h,j){if(h>4294967295||h<1){return BigInteger.ONE}var f=nbi(),a=nbi(),d=j.convert(this),c=nbits(h)-1;d.copyTo(f);while(--c>=0){j.sqrTo(f,a);if((h&(1<<c))>0){j.mulTo(a,d,f)}else{var b=f;f=a;a=b}}return j.revert(f)}function bnModPowInt(b,a){var c;if(b<256||a.isEven()){c=new Classic(a)}else{c=new Montgomery(a)}return this.exp(b,c)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction bnClone(){var a=nbi();this.copyTo(a);return a}function bnIntValue(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bnByteValue(){return(this.t==0)?this.s:(this[0]<<24)>>24}function bnShortValue(){return(this.t==0)?this.s:(this[0]<<16)>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function bnSigNum(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function bnpToRadix(c){if(c==null){c=10}if(this.signum()==0||c<2||c>36){return\"0\"}var f=this.chunkSize(c);var e=Math.pow(c,f);var i=nbv(e),j=nbi(),h=nbi(),g=\"\";this.divRemTo(i,j,h);while(j.signum()>0){g=(e+h.intValue()).toString(c).substr(1)+g;j.divRemTo(i,j,h)}return h.intValue().toString(c)+g}function bnpFromRadix(m,h){this.fromInt(0);if(h==null){h=10}var f=this.chunkSize(h);var g=Math.pow(h,f),e=false,a=0,l=0;for(var c=0;c<m.length;++c){var k=intAt(m,c);if(k<0){if(m.charAt(c)==\"-\"&&this.signum()==0){e=true}continue}l=h*l+k;if(++a>=f){this.dMultiply(g);this.dAddOffset(l,0);a=0;l=0}}if(a>0){this.dMultiply(Math.pow(h,a));this.dAddOffset(l,0)}if(e){BigInteger.ZERO.subTo(this,this)}}function bnpFromNumber(f,e,h){if(\"number\"==typeof e){if(f<2){this.fromInt(1)}else{this.fromNumber(f,h);if(!this.testBit(f-1)){this.bitwiseTo(BigInteger.ONE.shiftLeft(f-1),op_or,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(e)){this.dAddOffset(2,0);if(this.bitLength()>f){this.subTo(BigInteger.ONE.shiftLeft(f-1),this)}}}}else{var d=new Array(),g=f&7;d.length=(f>>3)+1;e.nextBytes(d);if(g>0){d[0]&=((1<<g)-1)}else{d[0]=0}this.fromString(d,256)}}function bnToByteArray(){var b=this.t,c=new Array();c[0]=this.s;var e=this.DB-(b*this.DB)%8,f,a=0;if(b-->0){if(e<this.DB&&(f=this[b]>>e)!=(this.s&this.DM)>>e){c[a++]=f|(this.s<<(this.DB-e))}while(b>=0){if(e<8){f=(this[b]&((1<<e)-1))<<(8-e);f|=this[--b]>>(e+=this.DB-8)}else{f=(this[b]>>(e-=8))&255;if(e<=0){e+=this.DB;--b}}if((f&128)!=0){f|=-256}if(a==0&&(this.s&128)!=(f&128)){++a}if(a>0||f!=this.s){c[a++]=f}}}return c}function bnEquals(b){return(this.compareTo(b)==0)}function bnMin(b){return(this.compareTo(b)<0)?this:b}function bnMax(b){return(this.compareTo(b)>0)?this:b}function bnpBitwiseTo(c,h,e){var d,g,b=Math.min(c.t,this.t);for(d=0;d<b;++d){e[d]=h(this[d],c[d])}if(c.t<this.t){g=c.s&this.DM;for(d=b;d<this.t;++d){e[d]=h(this[d],g)}e.t=this.t}else{g=this.s&this.DM;for(d=b;d<c.t;++d){e[d]=h(g,c[d])}e.t=c.t}e.s=h(this.s,c.s);e.clamp()}function op_and(a,b){return a&b}function bnAnd(b){var c=nbi();this.bitwiseTo(b,op_and,c);return c}function op_or(a,b){return a|b}function bnOr(b){var c=nbi();this.bitwiseTo(b,op_or,c);return c}function op_xor(a,b){return a^b}function bnXor(b){var c=nbi();this.bitwiseTo(b,op_xor,c);return c}function op_andnot(a,b){return a&~b}function bnAndNot(b){var c=nbi();this.bitwiseTo(b,op_andnot,c);return c}function bnNot(){var b=nbi();for(var a=0;a<this.t;++a){b[a]=this.DM&~this[a]}b.t=this.t;b.s=~this.s;return b}function bnShiftLeft(b){var a=nbi();if(b<0){this.rShiftTo(-b,a)}else{this.lShiftTo(b,a)}return a}function bnShiftRight(b){var a=nbi();if(b<0){this.lShiftTo(-b,a)}else{this.rShiftTo(b,a)}return a}function lbit(a){if(a==0){return -1}var b=0;if((a&65535)==0){a>>=16;b+=16}if((a&255)==0){a>>=8;b+=8}if((a&15)==0){a>>=4;b+=4}if((a&3)==0){a>>=2;b+=2}if((a&1)==0){++b}return b}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a){if(this[a]!=0){return a*this.DB+lbit(this[a])}}if(this.s<0){return this.t*this.DB}return -1}function cbit(a){var b=0;while(a!=0){a&=a-1;++b}return b}function bnBitCount(){var c=0,a=this.s&this.DM;for(var b=0;b<this.t;++b){c+=cbit(this[b]^a)}return c}function bnTestBit(b){var a=Math.floor(b/this.DB);if(a>=this.t){return(this.s!=0)}return((this[a]&(1<<(b%this.DB)))!=0)}function bnpChangeBit(c,b){var a=BigInteger.ONE.shiftLeft(c);this.bitwiseTo(a,b,a);return a}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}function bnpAddTo(d,f){var e=0,g=0,b=Math.min(d.t,this.t);while(e<b){g+=this[e]+d[e];f[e++]=g&this.DM;g>>=this.DB}if(d.t<this.t){g+=d.s;while(e<this.t){g+=this[e];f[e++]=g&this.DM;g>>=this.DB}g+=this.s}else{g+=this.s;while(e<d.t){g+=d[e];f[e++]=g&this.DM;g>>=this.DB}g+=d.s}f.s=(g<0)?-1:0;if(g>0){f[e++]=g}else{if(g<-1){f[e++]=this.DV+g}}f.t=e;f.clamp()}function bnAdd(b){var c=nbi();this.addTo(b,c);return c}function bnSubtract(b){var c=nbi();this.subTo(b,c);return c}function bnMultiply(b){var c=nbi();this.multiplyTo(b,c);return c}function bnSquare(){var a=nbi();this.squareTo(a);return a}function bnDivide(b){var c=nbi();this.divRemTo(b,c,null);return c}function bnRemainder(b){var c=nbi();this.divRemTo(b,null,c);return c}function bnDivideAndRemainder(b){var d=nbi(),c=nbi();this.divRemTo(b,d,c);return new Array(d,c)}function bnpDMultiply(a){this[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(b,a){if(b==0){return}while(this.t<=a){this[this.t++]=0}this[a]+=b;while(this[a]>=this.DV){this[a]-=this.DV;if(++a>=this.t){this[this.t++]=0}++this[a]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,c,b){a.multiplyTo(c,b)}function nSqrTo(a,b){a.squareTo(b)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(a){return this.exp(a,new NullExp())}function bnpMultiplyLowerTo(b,f,e){var d=Math.min(this.t+b.t,f);e.s=0;e.t=d;while(d>0){e[--d]=0}var c;for(c=e.t-this.t;d<c;++d){e[d+this.t]=this.am(0,b[d],e,d,0,this.t)}for(c=Math.min(b.t,f);d<c;++d){this.am(0,b[d],e,d,0,f-d)}e.clamp()}function bnpMultiplyUpperTo(b,e,d){--e;var c=d.t=this.t+b.t-e;d.s=0;while(--c>=0){d[c]=0}for(c=Math.max(e-this.t,0);c<b.t;++c){d[this.t+c-e]=this.am(e-c,b[c],d,0,0,this.t+c-e)}d.clamp();d.drShiftTo(1,d)}function Barrett(a){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a);this.m=a}function barrettConvert(a){if(a.s<0||a.t>2*this.m.t){return a.mod(this.m)}else{if(a.compareTo(this.m)<0){return a}else{var b=nbi();a.copyTo(b);this.reduce(b);return b}}}function barrettRevert(a){return a}function barrettReduce(a){a.drShiftTo(this.m.t-1,this.r2);if(a.t>this.m.t+1){a.t=this.m.t+1;a.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(a.compareTo(this.r2)<0){a.dAddOffset(1,this.m.t+1)}a.subTo(this.r2,a);while(a.compareTo(this.m)>=0){a.subTo(this.m,a)}}function barrettSqrTo(a,b){a.squareTo(b);this.reduce(b)}function barrettMulTo(a,c,b){a.multiplyTo(c,b);this.reduce(b)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(q,f){var o=q.bitLength(),h,b=nbv(1),v;if(o<=0){return b}else{if(o<18){h=1}else{if(o<48){h=3}else{if(o<144){h=4}else{if(o<768){h=5}else{h=6}}}}}if(o<8){v=new Classic(f)}else{if(f.isEven()){v=new Barrett(f)}else{v=new Montgomery(f)}}var p=new Array(),d=3,s=h-1,a=(1<<h)-1;p[1]=v.convert(this);if(h>1){var A=nbi();v.sqrTo(p[1],A);while(d<=a){p[d]=nbi();v.mulTo(A,p[d-2],p[d]);d+=2}}var l=q.t-1,x,u=true,c=nbi(),y;o=nbits(q[l])-1;while(l>=0){if(o>=s){x=(q[l]>>(o-s))&a}else{x=(q[l]&((1<<(o+1))-1))<<(s-o);if(l>0){x|=q[l-1]>>(this.DB+o-s)}}d=h;while((x&1)==0){x>>=1;--d}if((o-=d)<0){o+=this.DB;--l}if(u){p[x].copyTo(b);u=false}else{while(d>1){v.sqrTo(b,c);v.sqrTo(c,b);d-=2}if(d>0){v.sqrTo(b,c)}else{y=b;b=c;c=y}v.mulTo(c,p[x],b)}while(l>=0&&(q[l]&(1<<o))==0){v.sqrTo(b,c);y=b;b=c;c=y;if(--o<0){o=this.DB-1;--l}}}return v.revert(b)}function bnGCD(c){var b=(this.s<0)?this.negate():this.clone();var h=(c.s<0)?c.negate():c.clone();if(b.compareTo(h)<0){var e=b;b=h;h=e}var d=b.getLowestSetBit(),f=h.getLowestSetBit();if(f<0){return b}if(d<f){f=d}if(f>0){b.rShiftTo(f,b);h.rShiftTo(f,h)}while(b.signum()>0){if((d=b.getLowestSetBit())>0){b.rShiftTo(d,b)}if((d=h.getLowestSetBit())>0){h.rShiftTo(d,h)}if(b.compareTo(h)>=0){b.subTo(h,b);b.rShiftTo(1,b)}else{h.subTo(b,h);h.rShiftTo(1,h)}}if(f>0){h.lShiftTo(f,h)}return h}function bnpModInt(e){if(e<=0){return 0}var c=this.DV%e,b=(this.s<0)?e-1:0;if(this.t>0){if(c==0){b=this[0]%e}else{for(var a=this.t-1;a>=0;--a){b=(c*b+this[a])%e}}}return b}function bnModInverse(f){var j=f.isEven();if((this.isEven()&&j)||f.signum()==0){return BigInteger.ZERO}var i=f.clone(),h=this.clone();var g=nbv(1),e=nbv(0),l=nbv(0),k=nbv(1);while(i.signum()!=0){while(i.isEven()){i.rShiftTo(1,i);if(j){if(!g.isEven()||!e.isEven()){g.addTo(this,g);e.subTo(f,e)}g.rShiftTo(1,g)}else{if(!e.isEven()){e.subTo(f,e)}}e.rShiftTo(1,e)}while(h.isEven()){h.rShiftTo(1,h);if(j){if(!l.isEven()||!k.isEven()){l.addTo(this,l);k.subTo(f,k)}l.rShiftTo(1,l)}else{if(!k.isEven()){k.subTo(f,k)}}k.rShiftTo(1,k)}if(i.compareTo(h)>=0){i.subTo(h,i);if(j){g.subTo(l,g)}e.subTo(k,e)}else{h.subTo(i,h);if(j){l.subTo(g,l)}k.subTo(e,k)}}if(h.compareTo(BigInteger.ONE)!=0){return BigInteger.ZERO}if(k.compareTo(f)>=0){return k.subtract(f)}if(k.signum()<0){k.addTo(f,k)}else{return k}if(k.signum()<0){return k.add(f)}else{return k}}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(e){var d,b=this.abs();if(b.t==1&&b[0]<=lowprimes[lowprimes.length-1]){for(d=0;d<lowprimes.length;++d){if(b[0]==lowprimes[d]){return true}}return false}if(b.isEven()){return false}d=1;while(d<lowprimes.length){var a=lowprimes[d],c=d+1;while(c<lowprimes.length&&a<lplim){a*=lowprimes[c++]}a=b.modInt(a);while(d<c){if(a%lowprimes[d++]==0){return false}}}return b.millerRabin(e)}function bnpMillerRabin(f){var g=this.subtract(BigInteger.ONE);var c=g.getLowestSetBit();if(c<=0){return false}var h=g.shiftRight(c);f=(f+1)>>1;if(f>lowprimes.length){f=lowprimes.length}var b=nbi();for(var e=0;e<f;++e){b.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var l=b.modPow(h,this);if(l.compareTo(BigInteger.ONE)!=0&&l.compareTo(g)!=0){var d=1;while(d++<c&&l.compareTo(g)!=0){l=l.modPowInt(2,this);if(l.compareTo(BigInteger.ONE)==0){return false}}if(l.compareTo(g)!=0){return false}}}return true}BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Arcfour(){this.i=0;this.j=0;this.S=new Array()}function ARC4init(d){var c,a,b;for(c=0;c<256;++c){this.S[c]=c}a=0;for(c=0;c<256;++c){a=(a+this.S[c]+d[c%d.length])&255;b=this.S[c];this.S[c]=this.S[a];this.S[a]=b}this.i=0;this.j=0}function ARC4next(){var a;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;a=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=a;return this.S[(a+this.S[this.i])&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour()}var rng_psize=256;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar rng_state;var rng_pool;var rng_pptr;function rng_seed_int(a){rng_pool[rng_pptr++]^=a&255;rng_pool[rng_pptr++]^=(a>>8)&255;rng_pool[rng_pptr++]^=(a>>16)&255;rng_pool[rng_pptr++]^=(a>>24)&255;if(rng_pptr>=rng_psize){rng_pptr-=rng_psize}}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array();rng_pptr=0;var t;if(window!==undefined&&(window.crypto!==undefined||window.msCrypto!==undefined)){var crypto=window.crypto||window.msCrypto;if(crypto.getRandomValues){var ua=new Uint8Array(32);crypto.getRandomValues(ua);for(t=0;t<32;++t){rng_pool[rng_pptr++]=ua[t]}}else{if(navigator.appName==\"Netscape\"&&navigator.appVersion<\"5\"){var z=window.crypto.random(32);for(t=0;t<z.length;++t){rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}}}while(rng_pptr<rng_psize){t=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=t>>>8;rng_pool[rng_pptr++]=t&255}rng_pptr=0;rng_seed_time()}function rng_get_byte(){if(rng_state==null){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr){rng_pool[rng_pptr]=0}rng_pptr=0}return rng_state.next()}function rng_get_bytes(b){var a;for(a=0;a<b.length;++a){b[a]=rng_get_byte()}}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction parseBigInt(b,a){return new BigInteger(b,a)}function linebrk(c,d){var a=\"\";var b=0;while(b+d<c.length){a+=c.substring(b,b+d)+\"\\n\";b+=d}return a+c.substring(b,c.length)}function byte2Hex(a){if(a<16){return\"0\"+a.toString(16)}else{return a.toString(16)}}function pkcs1pad2(e,h){if(h<e.length+11){throw\"Message too long for RSA\";return null}var g=new Array();var d=e.length-1;while(d>=0&&h>0){var f=e.charCodeAt(d--);if(f<128){g[--h]=f}else{if((f>127)&&(f<2048)){g[--h]=(f&63)|128;g[--h]=(f>>6)|192}else{g[--h]=(f&63)|128;g[--h]=((f>>6)&63)|128;g[--h]=(f>>12)|224}}}g[--h]=0;var b=new SecureRandom();var a=new Array();while(h>2){a[0]=0;while(a[0]==0){b.nextBytes(a)}g[--h]=a[0]}g[--h]=2;g[--h]=0;return new BigInteger(g)}function oaep_mgf1_arr(c,a,e){var b=\"\",d=0;while(b.length<a){b+=e(String.fromCharCode.apply(String,c.concat([(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255])));d+=1}return b}function oaep_pad(q,a,f,l){var c=KJUR.crypto.MessageDigest;var o=KJUR.crypto.Util;var b=null;if(!f){f=\"sha1\"}if(typeof f===\"string\"){b=c.getCanonicalAlgName(f);l=c.getHashLength(b);f=function(i){return hextorstr(o.hashHex(rstrtohex(i),b))}}if(q.length+2*l+2>a){throw\"Message too long for RSA\"}var k=\"\",e;for(e=0;e<a-q.length-2*l-2;e+=1){k+=\"\\x00\"}var h=f(\"\")+k+\"\\x01\"+q;var g=new Array(l);new SecureRandom().nextBytes(g);var j=oaep_mgf1_arr(g,h.length,f);var p=[];for(e=0;e<h.length;e+=1){p[e]=h.charCodeAt(e)^j.charCodeAt(e)}var m=oaep_mgf1_arr(p,g.length,f);var d=[0];for(e=0;e<g.length;e+=1){d[e+1]=g[e]^m.charCodeAt(e)}return new BigInteger(d.concat(p))}function RSAKey(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function RSASetPublic(b,a){this.isPublic=true;this.isPrivate=false;if(typeof b!==\"string\"){this.n=b;this.e=a}else{if(b!=null&&a!=null&&b.length>0&&a.length>0){this.n=parseBigInt(b,16);this.e=parseInt(a,16)}else{throw\"Invalid RSA public key\"}}}function RSADoPublic(a){return a.modPowInt(this.e,this.n)}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.type=\"RSA\";\n/*! (c) Tom Wu, Kenji Urushima | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction pkcs1unpad2(g,j){var a=g.toByteArray();var f=0;while(f<a.length&&a[f]==0){++f}if(a.length-f!=j-1||a[f]!=2){return null}++f;while(a[f]!=0){if(++f>=a.length){return null}}var e=\"\";while(++f<a.length){var h=a[f]&255;if(h<128){e+=String.fromCharCode(h)}else{if((h>191)&&(h<224)){e+=String.fromCharCode(((h&31)<<6)|(a[f+1]&63));++f}else{e+=String.fromCharCode(((h&15)<<12)|((a[f+1]&63)<<6)|(a[f+2]&63));f+=2}}}return e}function oaep_mgf1_str(c,a,e){var b=\"\",d=0;while(b.length<a){b+=e(c+String.fromCharCode.apply(String,[(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]));d+=1}return b}function oaep_unpad(o,b,g,p){var e=KJUR.crypto.MessageDigest;var r=KJUR.crypto.Util;var c=null;if(!g){g=\"sha1\"}if(typeof g===\"string\"){c=e.getCanonicalAlgName(g);p=e.getHashLength(c);g=function(d){return hextorstr(r.hashHex(rstrtohex(d),c))}}o=o.toByteArray();var h;for(h=0;h<o.length;h+=1){o[h]&=255}while(o.length<b){o.unshift(0)}o=String.fromCharCode.apply(String,o);if(o.length<2*p+2){throw\"Cipher too short\"}var f=o.substr(1,p);var s=o.substr(p+1);var q=oaep_mgf1_str(s,p,g);var k=[],h;for(h=0;h<f.length;h+=1){k[h]=f.charCodeAt(h)^q.charCodeAt(h)}var l=oaep_mgf1_str(String.fromCharCode.apply(String,k),o.length-p,g);var j=[];for(h=0;h<s.length;h+=1){j[h]=s.charCodeAt(h)^l.charCodeAt(h)}j=String.fromCharCode.apply(String,j);if(j.substr(0,p)!==g(\"\")){throw\"Hash mismatch\"}j=j.substr(p);var a=j.indexOf(\"\\x01\");var m=(a!=-1)?j.substr(0,a).lastIndexOf(\"\\x00\"):-1;if(m+1!=a){throw\"Malformed data\"}return j.substr(a+1)}function RSASetPrivate(c,a,b){this.isPrivate=true;if(typeof c!==\"string\"){this.n=c;this.e=a;this.d=b}else{if(c!=null&&a!=null&&c.length>0&&a.length>0){this.n=parseBigInt(c,16);this.e=parseInt(a,16);this.d=parseBigInt(b,16)}else{throw\"Invalid RSA private key\"}}}function RSASetPrivateEx(g,d,e,c,b,a,h,f){this.isPrivate=true;this.isPublic=false;if(g==null){throw\"RSASetPrivateEx N == null\"}if(d==null){throw\"RSASetPrivateEx E == null\"}if(g.length==0){throw\"RSASetPrivateEx N.length == 0\"}if(d.length==0){throw\"RSASetPrivateEx E.length == 0\"}if(g!=null&&d!=null&&g.length>0&&d.length>0){this.n=parseBigInt(g,16);this.e=parseInt(d,16);this.d=parseBigInt(e,16);this.p=parseBigInt(c,16);this.q=parseBigInt(b,16);this.dmp1=parseBigInt(a,16);this.dmq1=parseBigInt(h,16);this.coeff=parseBigInt(f,16)}else{throw\"Invalid RSA private key in RSASetPrivateEx\"}}function RSAGenerate(b,l){var a=new SecureRandom();var g=b>>1;this.e=parseInt(l,16);var c=new BigInteger(l,16);var d=(b/2)-100;var k=BigInteger.ONE.shiftLeft(d);for(;;){for(;;){this.p=new BigInteger(b-g,1,a);if(this.p.subtract(BigInteger.ONE).gcd(c).compareTo(BigInteger.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new BigInteger(g,1,a);if(this.q.subtract(BigInteger.ONE).gcd(c).compareTo(BigInteger.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var j=this.p;this.p=this.q;this.q=j}var h=this.q.subtract(this.p).abs();if(h.bitLength()<d||h.compareTo(k)<=0){continue}var i=this.p.subtract(BigInteger.ONE);var e=this.q.subtract(BigInteger.ONE);var f=i.multiply(e);if(f.gcd(c).compareTo(BigInteger.ONE)==0){this.n=this.p.multiply(this.q);if(this.n.bitLength()==b){this.d=c.modInverse(f);this.dmp1=this.d.mod(i);this.dmq1=this.d.mod(e);this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=true}function RSADoPrivate(a){if(this.p==null||this.q==null){return a.modPow(this.d,this.n)}var c=a.mod(this.p).modPow(this.dmp1,this.p);var b=a.mod(this.q).modPow(this.dmq1,this.q);while(c.compareTo(b)<0){c=c.add(this.p)}return c.subtract(b).multiply(this.coeff).mod(this.p).multiply(this.q).add(b)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction ECFieldElementFp(b,a){this.x=a;this.q=b}function feFpEquals(a){if(a==this){return true}return(this.q.equals(a.q)&&this.x.equals(a.x))}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(a){return new ECFieldElementFp(this.q,this.x.add(a.toBigInteger()).mod(this.q))}function feFpSubtract(a){return new ECFieldElementFp(this.q,this.x.subtract(a.toBigInteger()).mod(this.q))}function feFpMultiply(a){return new ECFieldElementFp(this.q,this.x.multiply(a.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(a){return new ECFieldElementFp(this.q,this.x.multiply(a.toBigInteger().modInverse(this.q)).mod(this.q))}ECFieldElementFp.prototype.equals=feFpEquals;ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger;ECFieldElementFp.prototype.negate=feFpNegate;ECFieldElementFp.prototype.add=feFpAdd;ECFieldElementFp.prototype.subtract=feFpSubtract;ECFieldElementFp.prototype.multiply=feFpMultiply;ECFieldElementFp.prototype.square=feFpSquare;ECFieldElementFp.prototype.divide=feFpDivide;ECFieldElementFp.prototype.sqrt=function(){return new ECFieldElementFp(this.q,this.x.sqrt().mod(this.q))};function ECPointFp(c,a,d,b){this.curve=c;this.x=a;this.y=d;if(b==null){this.z=BigInteger.ONE}else{this.z=b}this.zinv=null}function pointFpGetX(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpGetY(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpEquals(a){if(a==this){return true}if(this.isInfinity()){return a.isInfinity()}if(a.isInfinity()){return this.isInfinity()}var c,b;c=a.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(a.z)).mod(this.curve.q);if(!c.equals(BigInteger.ZERO)){return false}b=a.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(a.z)).mod(this.curve.q);return b.equals(BigInteger.ZERO)}function pointFpIsInfinity(){if((this.x==null)&&(this.y==null)){return true}return this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(l){if(this.isInfinity()){return l}if(l.isInfinity()){return this}var p=l.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(l.z)).mod(this.curve.q);var o=l.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(l.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(o)){if(BigInteger.ZERO.equals(p)){return this.twice()}return this.curve.getInfinity()}var j=new BigInteger(\"3\");var e=this.x.toBigInteger();var n=this.y.toBigInteger();var c=l.x.toBigInteger();var k=l.y.toBigInteger();var m=o.square();var i=m.multiply(o);var d=e.multiply(m);var g=p.square().multiply(this.z);var a=g.subtract(d.shiftLeft(1)).multiply(l.z).subtract(i).multiply(o).mod(this.curve.q);var h=d.multiply(j).multiply(p).subtract(n.multiply(i)).subtract(g.multiply(p)).multiply(l.z).add(p.multiply(i)).mod(this.curve.q);var f=i.multiply(this.z).multiply(l.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(h),f)}function pointFpTwice(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var g=new BigInteger(\"3\");var c=this.x.toBigInteger();var h=this.y.toBigInteger();var e=h.multiply(this.z);var j=e.multiply(h).mod(this.curve.q);var i=this.curve.a.toBigInteger();var k=c.square().multiply(g);if(!BigInteger.ZERO.equals(i)){k=k.add(this.z.square().multiply(i))}k=k.mod(this.curve.q);var b=k.square().subtract(c.shiftLeft(3).multiply(j)).shiftLeft(1).multiply(e).mod(this.curve.q);var f=k.multiply(g).multiply(c).subtract(j.shiftLeft(1)).shiftLeft(2).multiply(j).subtract(k.square().multiply(k)).mod(this.curve.q);var d=e.square().multiply(e).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(b),this.curve.fromBigInteger(f),d)}function pointFpMultiply(d){if(this.isInfinity()){return this}if(d.signum()==0){return this.curve.getInfinity()}var m=d;var l=m.multiply(new BigInteger(\"3\"));var b=this.negate();var j=this;var q=this.curve.q.subtract(d);var o=q.multiply(new BigInteger(\"3\"));var c=new ECPointFp(this.curve,this.x,this.y);var a=c.negate();var g;for(g=l.bitLength()-2;g>0;--g){j=j.twice();var n=l.testBit(g);var f=m.testBit(g);if(n!=f){j=j.add(n?this:b)}}for(g=o.bitLength()-2;g>0;--g){c=c.twice();var p=o.testBit(g);var r=q.testBit(g);if(p!=r){c=c.add(p?c:a)}}return j}function pointFpMultiplyTwo(c,a,b){var d;if(c.bitLength()>b.bitLength()){d=c.bitLength()-1}else{d=b.bitLength()-1}var f=this.curve.getInfinity();var e=this.add(a);while(d>=0){f=f.twice();if(c.testBit(d)){if(b.testBit(d)){f=f.add(e)}else{f=f.add(this)}}else{if(b.testBit(d)){f=f.add(a)}}--d}return f}ECPointFp.prototype.getX=pointFpGetX;ECPointFp.prototype.getY=pointFpGetY;ECPointFp.prototype.equals=pointFpEquals;ECPointFp.prototype.isInfinity=pointFpIsInfinity;ECPointFp.prototype.negate=pointFpNegate;ECPointFp.prototype.add=pointFpAdd;ECPointFp.prototype.twice=pointFpTwice;ECPointFp.prototype.multiply=pointFpMultiply;ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo;function ECCurveFp(e,d,c){this.q=e;this.a=this.fromBigInteger(d);this.b=this.fromBigInteger(c);this.infinity=new ECPointFp(this,null,null)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(a){if(a==this){return true}return(this.q.equals(a.q)&&this.a.equals(a.a)&&this.b.equals(a.b))}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(a){return new ECFieldElementFp(this.q,a)}function curveFpDecodePointHex(m){switch(parseInt(m.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var c=m.substr(0,2);var l=m.substr(2);var j=this.fromBigInteger(new BigInteger(k,16));var i=this.getA();var h=this.getB();var e=j.square().add(i).multiply(j).add(h);var g=e.sqrt();if(c==\"03\"){g=g.negate()}return new ECPointFp(this,j,g);case 4:case 6:case 7:var d=(m.length-2)/2;var k=m.substr(2,d);var f=m.substr(d+2,d);return new ECPointFp(this,this.fromBigInteger(new BigInteger(k,16)),this.fromBigInteger(new BigInteger(f,16)));default:return null}}ECCurveFp.prototype.getQ=curveFpGetQ;ECCurveFp.prototype.getA=curveFpGetA;ECCurveFp.prototype.getB=curveFpGetB;ECCurveFp.prototype.equals=curveFpEquals;ECCurveFp.prototype.getInfinity=curveFpGetInfinity;ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger;ECCurveFp.prototype.decodePointHex=curveFpDecodePointHex;\n/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n */\nECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ECPointFp.prototype.getEncoded=function(c){var d=function(h,f){var g=h.toByteArrayUnsigned();if(f<g.length){g=g.slice(g.length-f)}else{while(f>g.length){g.unshift(0)}}return g};var a=this.getX().toBigInteger();var e=this.getY().toBigInteger();var b=d(a,32);if(c){if(e.isEven()){b.unshift(2)}else{b.unshift(3)}}else{b.unshift(4);b=b.concat(d(e,32))}return b};ECPointFp.decodeFrom=function(g,c){var f=c[0];var e=c.length-1;var d=c.slice(1,1+e/2);var b=c.slice(1+e/2,1+e);d.unshift(0);b.unshift(0);var a=new BigInteger(d);var h=new BigInteger(b);return new ECPointFp(g,g.fromBigInteger(a),g.fromBigInteger(h))};ECPointFp.decodeFromHex=function(g,c){var f=c.substr(0,2);var e=c.length-2;var d=c.substr(2,e/2);var b=c.substr(2+e/2,e/2);var a=new BigInteger(d,16);var h=new BigInteger(b,16);return new ECPointFp(g,g.fromBigInteger(a),g.fromBigInteger(h))};ECPointFp.prototype.add2D=function(c){if(this.isInfinity()){return c}if(c.isInfinity()){return this}if(this.x.equals(c.x)){if(this.y.equals(c.y)){return this.twice()}return this.curve.getInfinity()}var g=c.x.subtract(this.x);var e=c.y.subtract(this.y);var a=e.divide(g);var d=a.square().subtract(this.x).subtract(c.x);var f=a.multiply(this.x.subtract(d)).subtract(this.y);return new ECPointFp(this.curve,d,f)};ECPointFp.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var b=this.curve.fromBigInteger(BigInteger.valueOf(2));var e=this.curve.fromBigInteger(BigInteger.valueOf(3));var a=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(b));var c=a.square().subtract(this.x.multiply(b));var d=a.multiply(this.x.subtract(c)).subtract(this.y);return new ECPointFp(this.curve,c,d)};ECPointFp.prototype.multiply2D=function(b){if(this.isInfinity()){return this}if(b.signum()==0){return this.curve.getInfinity()}var g=b;var f=g.multiply(new BigInteger(\"3\"));var l=this.negate();var d=this;var c;for(c=f.bitLength()-2;c>0;--c){d=d.twice();var a=f.testBit(c);var j=g.testBit(c);if(a!=j){d=d.add2D(a?this:l)}}return d};ECPointFp.prototype.isOnCurve=function(){var d=this.getX().toBigInteger();var i=this.getY().toBigInteger();var f=this.curve.getA().toBigInteger();var c=this.curve.getB().toBigInteger();var h=this.curve.getQ();var e=i.multiply(i).mod(h);var g=d.multiply(d).multiply(d).add(f.multiply(d)).add(c).mod(h);return e.equals(g)};ECPointFp.prototype.toString=function(){return\"(\"+this.getX().toBigInteger().toString()+\",\"+this.getY().toBigInteger().toString()+\")\"};ECPointFp.prototype.validate=function(){var c=this.curve.getQ();if(this.isInfinity()){throw new Error(\"Point is at infinity.\")}var a=this.getX().toBigInteger();var b=this.getY().toBigInteger();if(a.compareTo(BigInteger.ONE)<0||a.compareTo(c.subtract(BigInteger.ONE))>0){throw new Error(\"x coordinate out of bounds\")}if(b.compareTo(BigInteger.ONE)<0||b.compareTo(c.subtract(BigInteger.ONE))>0){throw new Error(\"y coordinate out of bounds\")}if(!this.isOnCurve()){throw new Error(\"Point is not on the curve.\")}if(this.multiply(c).isInfinity()){throw new Error(\"Point is not a scalar multiple of G.\")}return true};\n/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n */\nvar jsonParse=(function(){var e=\"(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)\";var j='(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var i='(?:\"'+j+'*\")';var d=new RegExp(\"(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|\"+e+\"|\"+i+\")\",\"g\");var k=new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\",\"g\");var g={'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"};function h(l,m,n){return m?g[m]:String.fromCharCode(parseInt(n,16))}var c=new String(\"\");var a=\"\\\\\";var f={\"{\":Object,\"[\":Array};var b=Object.hasOwnProperty;return function(u,q){var p=u.match(d);var x;var v=p[0];var l=false;if(\"{\"===v){x={}}else{if(\"[\"===v){x=[]}else{x=[];l=true}}var t;var r=[x];for(var o=1-l,m=p.length;o<m;++o){v=p[o];var w;switch(v.charCodeAt(0)){default:w=r[0];w[t||w.length]=+(v);t=void 0;break;case 34:v=v.substring(1,v.length-1);if(v.indexOf(a)!==-1){v=v.replace(k,h)}w=r[0];if(!t){if(w instanceof Array){t=w.length}else{t=v||c;break}}w[t]=v;t=void 0;break;case 91:w=r[0];r.unshift(w[t||w.length]=[]);t=void 0;break;case 93:r.shift();break;case 102:w=r[0];w[t||w.length]=false;t=void 0;break;case 110:w=r[0];w[t||w.length]=null;t=void 0;break;case 116:w=r[0];w[t||w.length]=true;t=void 0;break;case 123:w=r[0];r.unshift(w[t||w.length]={});t=void 0;break;case 125:r.shift();break}}if(l){if(r.length!==1){throw new Error()}x=x[0]}else{if(r.length){throw new Error()}}if(q){var s=function(C,B){var D=C[B];if(D&&typeof D===\"object\"){var n=null;for(var z in D){if(b.call(D,z)&&D!==C){var y=s(D,z);if(y!==void 0){D[z]=y}else{if(!n){n=[]}n.push(z)}}}if(n){for(var A=n.length;--A>=0;){delete D[n[A]]}}}return q.call(C,B,D)};x=s({\"\":x},\"\")}return x}})();\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(a){var b=a.toString(16);if((b.length%2)==1){b=\"0\"+b}return b};this.bigIntToMinTwosComplementsHex=function(a){return twoscompl(a)};this.getPEMStringFromHex=function(a,b){return hextopem(a,b)};this.newObject=function(k){var F=KJUR,o=F.asn1,v=o.ASN1Object,B=o.DERBoolean,e=o.DERInteger,t=o.DERBitString,h=o.DEROctetString,x=o.DERNull,y=o.DERObjectIdentifier,m=o.DEREnumerated,g=o.DERUTF8String,f=o.DERNumericString,A=o.DERPrintableString,w=o.DERTeletexString,q=o.DERIA5String,E=o.DERUTCTime,j=o.DERGeneralizedTime,b=o.DERVisibleString,l=o.DERBMPString,n=o.DERSequence,c=o.DERSet,s=o.DERTaggedObject,p=o.ASN1Util.newObject;if(k instanceof o.ASN1Object){return k}var u=Object.keys(k);if(u.length!=1){throw new Error(\"key of param shall be only one.\")}var H=u[0];if(\":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:\".indexOf(\":\"+H+\":\")==-1){throw new Error(\"undefined key: \"+H)}if(H==\"bool\"){return new B(k[H])}if(H==\"int\"){return new e(k[H])}if(H==\"bitstr\"){return new t(k[H])}if(H==\"octstr\"){return new h(k[H])}if(H==\"null\"){return new x(k[H])}if(H==\"oid\"){return new y(k[H])}if(H==\"enum\"){return new m(k[H])}if(H==\"utf8str\"){return new g(k[H])}if(H==\"numstr\"){return new f(k[H])}if(H==\"prnstr\"){return new A(k[H])}if(H==\"telstr\"){return new w(k[H])}if(H==\"ia5str\"){return new q(k[H])}if(H==\"utctime\"){return new E(k[H])}if(H==\"gentime\"){return new j(k[H])}if(H==\"visstr\"){return new b(k[H])}if(H==\"bmpstr\"){return new l(k[H])}if(H==\"asn1\"){return new v(k[H])}if(H==\"seq\"){var d=k[H];var G=[];for(var z=0;z<d.length;z++){var D=p(d[z]);G.push(D)}return new n({array:G})}if(H==\"set\"){var d=k[H];var G=[];for(var z=0;z<d.length;z++){var D=p(d[z]);G.push(D)}return new c({array:G})}if(H==\"tag\"){var C=k[H];if(Object.prototype.toString.call(C)===\"[object Array]\"&&C.length==3){var r=p(C[2]);return new s({tag:C[0],explicit:C[1],obj:r})}else{return new s(C)}}};this.jsonToASN1HEX=function(b){var a=this.newObject(b);return a.tohex()}};KJUR.asn1.ASN1Util.oidHexToInt=function(a){var j=\"\";var k=parseInt(a.substr(0,2),16);var d=Math.floor(k/40);var c=k%40;var j=d+\".\"+c;var e=\"\";for(var f=2;f<a.length;f+=2){var g=parseInt(a.substr(f,2),16);var h=(\"00000000\"+g.toString(2)).slice(-8);e=e+h.substr(1,7);if(h.substr(0,1)==\"0\"){var b=new BigInteger(e,2);j=j+\".\"+b.toString(10);e=\"\"}}return j};KJUR.asn1.ASN1Util.oidIntToHex=function(f){var e=function(a){var k=a.toString(16);if(k.length==1){k=\"0\"+k}return k};var d=function(o){var n=\"\";var k=new BigInteger(o,10);var a=k.toString(2);var l=7-a.length%7;if(l==7){l=0}var q=\"\";for(var m=0;m<l;m++){q+=\"0\"}a=q+a;for(var m=0;m<a.length-1;m+=7){var p=a.substr(m,7);if(m!=a.length-7){p=\"1\"+p}n+=e(parseInt(p,2))}return n};if(!f.match(/^[0-9.]+$/)){throw\"malformed oid string: \"+f}var g=\"\";var b=f.split(\".\");var j=parseInt(b[0])*40+parseInt(b[1]);g+=e(j);b.splice(0,2);for(var c=0;c<b.length;c++){g+=d(b[c])}return g};KJUR.asn1.ASN1Object=function(e){var c=true;var b=null;var d=\"00\";var f=\"00\";var a=\"\";this.params=null;this.getLengthHexFromValue=function(){if(typeof this.hV==\"undefined\"||this.hV==null){throw new Error(\"this.hV is null or undefined\")}if(this.hV.length%2==1){throw new Error(\"value hex must be even length: n=\"+a.length+\",v=\"+this.hV)}var j=this.hV.length/2;var i=j.toString(16);if(i.length%2==1){i=\"0\"+i}if(j<128){return i}else{var h=i.length/2;if(h>15){throw new Error(\"ASN.1 length too long to represent by 8x: n = \"+j.toString(16))}var g=128+h;return g.toString(16)+i}};this.tohex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false}return this.hTLV};this.getEncodedHex=function(){return this.tohex()};this.getValueHex=function(){this.tohex();return this.hV};this.getFreshValueHex=function(){return\"\"};this.setByParam=function(g){this.params=g};if(e!=undefined){if(e.tlv!=undefined){this.hTLV=e.tlv;this.isModified=false}}};KJUR.asn1.DERAbstractString=function(c){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);var b=null;var a=null;this.getString=function(){return this.s};this.setString=function(d){this.hTLV=null;this.isModified=true;this.s=d;this.hV=utf8tohex(this.s).toLowerCase()};this.setStringHex=function(d){this.hTLV=null;this.isModified=true;this.s=null;this.hV=d};this.getFreshValueHex=function(){return this.hV};if(typeof c!=\"undefined\"){if(typeof c==\"string\"){this.setString(c)}else{if(typeof c.str!=\"undefined\"){this.setString(c.str)}else{if(typeof c.hex!=\"undefined\"){this.setStringHex(c.hex)}}}}};extendClass(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractTime=function(c){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);var b=null;var a=null;this.localDateToUTC=function(g){var e=g.getTime()+(g.getTimezoneOffset()*60000);var f=new Date(e);return f};this.formatDate=function(m,o,e){var g=this.zeroPadding;var n=this.localDateToUTC(m);var p=String(n.getFullYear());if(o==\"utc\"){p=p.substr(2,2)}var l=g(String(n.getMonth()+1),2);var q=g(String(n.getDate()),2);var h=g(String(n.getHours()),2);var i=g(String(n.getMinutes()),2);var j=g(String(n.getSeconds()),2);var r=p+l+q+h+i+j;if(e===true){var f=n.getMilliseconds();if(f!=0){var k=g(String(f),3);k=k.replace(/[0]+$/,\"\");r=r+\".\"+k}}return r+\"Z\"};this.zeroPadding=function(e,d){if(e.length>=d){return e}return new Array(d-e.length+1).join(\"0\")+e};this.setByParam=function(d){this.hV=null;this.hTLV=null;this.params=d};this.getString=function(){return undefined};this.setString=function(d){this.hTLV=null;this.isModified=true;if(this.params==undefined){this.params={}}this.params.str=d};this.setByDate=function(d){this.hTLV=null;this.isModified=true;if(this.params==undefined){this.params={}}this.params.date=d};this.setByDateValue=function(h,j,e,d,f,g){var i=new Date(Date.UTC(h,j-1,e,d,f,g,0));this.setByDate(i)};this.getFreshValueHex=function(){return this.hV}};extendClass(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractStructured=function(b){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);var a=null;this.setByASN1ObjectArray=function(c){this.hTLV=null;this.isModified=true;this.asn1Array=c};this.appendASN1Object=function(c){this.hTLV=null;this.isModified=true;this.asn1Array.push(c)};this.asn1Array=new Array();if(typeof b!=\"undefined\"){if(typeof b.array!=\"undefined\"){this.asn1Array=b.array}}};extendClass(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object);KJUR.asn1.DERBoolean=function(a){KJUR.asn1.DERBoolean.superclass.constructor.call(this);this.hT=\"01\";if(a==false){this.hTLV=\"010100\"}else{this.hTLV=\"0101ff\"}};extendClass(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object);KJUR.asn1.DERInteger=function(b){KJUR.asn1.DERInteger.superclass.constructor.call(this);this.hT=\"02\";this.params=null;var a=twoscompl;this.setByBigInteger=function(c){this.isModified=true;this.params={bigint:c}};this.setByInteger=function(c){this.isModified=true;this.params=c};this.setValueHex=function(c){this.isModified=true;this.params={hex:c}};this.getFreshValueHex=function(){var d=this.params;var c=null;if(d==null){throw new Error(\"value not set\")}if(typeof d==\"object\"&&d.hex!=undefined){this.hV=d.hex;return this.hV}if(typeof d==\"number\"){c=new BigInteger(String(d),10)}else{if(d[\"int\"]!=undefined){c=new BigInteger(String(d[\"int\"]),10)}else{if(d.bigint!=undefined){c=d.bigint}else{throw new Error(\"wrong parameter\")}}}this.hV=a(c);return this.hV};if(b!=undefined){this.params=b}};extendClass(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object);KJUR.asn1.DERBitString=function(b){if(b!==undefined&&typeof b.obj!==\"undefined\"){var a=KJUR.asn1.ASN1Util.newObject(b.obj);b.hex=\"00\"+a.tohex()}KJUR.asn1.DERBitString.superclass.constructor.call(this);this.hT=\"03\";this.setHexValueIncludingUnusedBits=function(c){this.hTLV=null;this.isModified=true;this.hV=c};this.setUnusedBitsAndHexValue=function(c,e){if(c<0||7<c){throw\"unused bits shall be from 0 to 7: u = \"+c}var d=\"0\"+c;this.hTLV=null;this.isModified=true;this.hV=d+e};this.setByBinaryString=function(e){e=e.replace(/0+$/,\"\");var f=8-e.length%8;if(f==8){f=0}e+=\"0000000\".substr(0,f);var j=\"\";for(var g=0;g<e.length-1;g+=8){var d=e.substr(g,8);var c=parseInt(d,2).toString(16);if(c.length==1){c=\"0\"+c}j+=c}this.hTLV=null;this.isModified=true;this.hV=\"0\"+f+j};this.setByBooleanArray=function(e){var d=\"\";for(var c=0;c<e.length;c++){if(e[c]==true){d+=\"1\"}else{d+=\"0\"}}this.setByBinaryString(d)};this.newFalseArray=function(e){var c=new Array(e);for(var d=0;d<e;d++){c[d]=false}return c};this.getFreshValueHex=function(){return this.hV};if(typeof b!=\"undefined\"){if(typeof b==\"string\"&&b.toLowerCase().match(/^[0-9a-f]+$/)){this.setHexValueIncludingUnusedBits(b)}else{if(typeof b.hex!=\"undefined\"){this.setHexValueIncludingUnusedBits(b.hex)}else{if(typeof b.bin!=\"undefined\"){this.setByBinaryString(b.bin)}else{if(typeof b.array!=\"undefined\"){this.setByBooleanArray(b.array)}}}}}};extendClass(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object);KJUR.asn1.DEROctetString=function(b){if(b!==undefined&&typeof b.obj!==\"undefined\"){var a=KJUR.asn1.ASN1Util.newObject(b.obj);b.hex=a.tohex()}KJUR.asn1.DEROctetString.superclass.constructor.call(this,b);this.hT=\"04\"};extendClass(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this);this.hT=\"05\";this.hTLV=\"0500\"};extendClass(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object);KJUR.asn1.DERObjectIdentifier=function(a){KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT=\"06\";this.setValueHex=function(b){this.hTLV=null;this.isModified=true;this.s=null;this.hV=b};this.setValueOidString=function(b){var c=oidtohex(b);if(c==null){throw new Error(\"malformed oid string: \"+b)}this.hTLV=null;this.isModified=true;this.s=null;this.hV=c};this.setValueName=function(c){var b=KJUR.asn1.x509.OID.name2oid(c);if(b!==\"\"){this.setValueOidString(b)}else{throw new Error(\"DERObjectIdentifier oidName undefined: \"+c)}};this.setValueNameOrOid=function(b){if(b.match(/^[0-2].[0-9.]+$/)){this.setValueOidString(b)}else{this.setValueName(b)}};this.getFreshValueHex=function(){return this.hV};this.setByParam=function(b){if(typeof b===\"string\"){this.setValueNameOrOid(b)}else{if(b.oid!==undefined){this.setValueNameOrOid(b.oid)}else{if(b.name!==undefined){this.setValueNameOrOid(b.name)}else{if(b.hex!==undefined){this.setValueHex(b.hex)}}}}};if(a!==undefined){this.setByParam(a)}};extendClass(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.DEREnumerated=function(a){KJUR.asn1.DEREnumerated.superclass.constructor.call(this);this.hT=\"0a\";this.setByBigInteger=function(b){this.hTLV=null;this.isModified=true;this.hV=twoscompl(b)};this.setByInteger=function(c){var b=new BigInteger(String(c),10);this.setByBigInteger(b)};this.setValueHex=function(b){this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof a!=\"undefined\"){if(typeof a[\"int\"]!=\"undefined\"){this.setByInteger(a[\"int\"])}else{if(typeof a==\"number\"){this.setByInteger(a)}else{if(typeof a.hex!=\"undefined\"){this.setValueHex(a.hex)}}}}};extendClass(KJUR.asn1.DEREnumerated,KJUR.asn1.ASN1Object);KJUR.asn1.DERUTF8String=function(a){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,a);this.hT=\"0c\"};extendClass(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNumericString=function(a){KJUR.asn1.DERNumericString.superclass.constructor.call(this,a);this.hT=\"12\"};extendClass(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERPrintableString=function(a){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,a);this.hT=\"13\"};extendClass(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERTeletexString=function(a){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,a);this.hT=\"14\"};extendClass(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERIA5String=function(a){KJUR.asn1.DERIA5String.superclass.constructor.call(this,a);this.hT=\"16\"};extendClass(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERVisibleString=function(a){KJUR.asn1.DERIA5String.superclass.constructor.call(this,a);this.hT=\"1a\"};extendClass(KJUR.asn1.DERVisibleString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERBMPString=function(a){KJUR.asn1.DERBMPString.superclass.constructor.call(this,a);this.hT=\"1e\"};extendClass(KJUR.asn1.DERBMPString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERUTCTime=function(a){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,a);this.hT=\"17\";this.params=undefined;this.getFreshValueHex=function(){var d=this.params;if(this.params==undefined){d={date:new Date()}}if(typeof d==\"string\"){if(d.match(/^[0-9]{12}Z$/)||d.match(/^[0-9]{12}\\.[0-9]+Z$/)){this.hV=stohex(d)}else{throw new Error(\"malformed string for UTCTime: \"+d)}}else{if(d.str!=undefined){this.hV=stohex(d.str)}else{if(d.date==undefined&&d.millis==true){var c=new Date();this.hV=stohex(this.formatDate(c,\"utc\",true))}else{if(d.date!=undefined&&d.date instanceof Date){var b=(d.millis===true);this.hV=stohex(this.formatDate(d.date,\"utc\",b))}else{if(d instanceof Date){this.hV=stohex(this.formatDate(d,\"utc\"))}}}}}if(this.hV==undefined){throw new Error(\"parameter not specified properly for UTCTime\")}return this.hV};if(a!=undefined){this.setByParam(a)}};extendClass(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERGeneralizedTime=function(a){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,a);this.hT=\"18\";this.params=a;this.getFreshValueHex=function(){var d=this.params;if(this.params==undefined){d={date:new Date()}}if(typeof d==\"string\"){if(d.match(/^[0-9]{14}Z$/)||d.match(/^[0-9]{14}\\.[0-9]+Z$/)){this.hV=stohex(d)}else{throw new Error(\"malformed string for GeneralizedTime: \"+d)}}else{if(d.str!=undefined){this.hV=stohex(d.str)}else{if(d.date==undefined&&d.millis==true){var c=new Date();this.hV=stohex(this.formatDate(c,\"gen\",true))}else{if(d.date!=undefined&&d.date instanceof Date){var b=(d.millis===true);this.hV=stohex(this.formatDate(d.date,\"gen\",b))}else{if(d instanceof Date){this.hV=stohex(this.formatDate(d,\"gen\"))}}}}}if(this.hV==undefined){throw new Error(\"parameter not specified properly for GeneralizedTime\")}return this.hV};if(a!=undefined){this.setByParam(a)}};extendClass(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERSequence=function(a){KJUR.asn1.DERSequence.superclass.constructor.call(this,a);this.hT=\"30\";this.getFreshValueHex=function(){var c=\"\";for(var b=0;b<this.asn1Array.length;b++){var d=this.asn1Array[b];c+=d.tohex()}this.hV=c;return this.hV}};extendClass(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERSet=function(a){KJUR.asn1.DERSet.superclass.constructor.call(this,a);this.hT=\"31\";this.sortFlag=true;this.getFreshValueHex=function(){var b=new Array();for(var c=0;c<this.asn1Array.length;c++){var d=this.asn1Array[c];b.push(d.tohex())}if(this.sortFlag==true){b.sort()}this.hV=b.join(\"\");return this.hV};if(typeof a!=\"undefined\"){if(typeof a.sortflag!=\"undefined\"&&a.sortflag==false){this.sortFlag=false}}};extendClass(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERTaggedObject=function(f){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);var d=KJUR.asn1,e=ASN1HEX,a=e.getV,c=e.isASN1HEX,b=d.ASN1Util.newObject;this.hT=\"a0\";this.hV=\"\";this.isExplicit=true;this.asn1Object=null;this.params={tag:\"a0\",explicit:true};this.setASN1Object=function(g,h,i){this.params={tag:h,explicit:g,obj:i}};this.getFreshValueHex=function(){var h=this.params;if(h.explicit==undefined){h.explicit=true}if(h.tage!=undefined){h.tag=h.tage;h.explicit=true}if(h.tagi!=undefined){h.tag=h.tagi;h.explicit=false}if(h.str!=undefined){this.hV=utf8tohex(h.str)}else{if(h.hex!=undefined){this.hV=h.hex}else{if(h.obj!=undefined){var g;if(h.obj instanceof d.ASN1Object){g=h.obj.tohex()}else{if(typeof h.obj==\"object\"){g=b(h.obj).tohex()}}if(h.explicit){this.hV=g}else{this.hV=a(g,0)}}else{throw new Error(\"str, hex nor obj not specified\")}}}if(h.tag==undefined){h.tag=\"a0\"}this.hT=h.tag;this.hTLV=null;this.isModified=true;return this.hV};this.setByParam=function(g){this.params=g};if(f!==undefined){this.setByParam(f)}};extendClass(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object);\nvar ASN1HEX=new function(){};ASN1HEX.getLblen=function(c,a){if(c.substr(a+2,1)!=\"8\"){return 1}var b=parseInt(c.substr(a+3,1));if(b==0){return -1}if(0<b&&b<10){return b+1}return -2};ASN1HEX.getL=function(c,b){var a=ASN1HEX.getLblen(c,b);if(a<1){return\"\"}return c.substr(b+2,a*2)};ASN1HEX.getVblen=function(d,a){var c,b;c=ASN1HEX.getL(d,a);if(c==\"\"){return -1}if(c.substr(0,1)===\"8\"){b=new BigInteger(c.substr(2),16)}else{b=new BigInteger(c,16)}return b.intValue()};ASN1HEX.getVidx=function(c,b){var a=ASN1HEX.getLblen(c,b);if(a<0){return a}return b+(a+1)*2};ASN1HEX.getV=function(d,a){var c=ASN1HEX.getVidx(d,a);var b=ASN1HEX.getVblen(d,a);return d.substr(c,b*2)};ASN1HEX.getTLV=function(b,a){return b.substr(a,2)+ASN1HEX.getL(b,a)+ASN1HEX.getV(b,a)};ASN1HEX.getTLVblen=function(b,a){return 2+ASN1HEX.getLblen(b,a)*2+ASN1HEX.getVblen(b,a)*2};ASN1HEX.getNextSiblingIdx=function(d,a){var c=ASN1HEX.getVidx(d,a);var b=ASN1HEX.getVblen(d,a);return c+b*2};ASN1HEX.getChildIdx=function(e,k){var l=ASN1HEX;var j=[];var c,f,g;c=l.getVidx(e,k);f=l.getVblen(e,k)*2;if(e.substr(k,2)==\"03\"){c+=2;f-=2}g=0;var d=c;while(g<=f){var b=l.getTLVblen(e,d);g+=b;if(g<=f){j.push(d)}d+=b;if(g>=f){break}}return j};ASN1HEX.getNthChildIdx=function(d,b,e){var c=ASN1HEX.getChildIdx(d,b);return c[e]};ASN1HEX.getIdxbyList=function(e,d,c,i){var g=ASN1HEX;var f,b;if(c.length==0){if(i!==undefined){if(e.substr(d,2)!==i){return -1}}return d}f=c.shift();b=g.getChildIdx(e,d);if(f>=b.length){return -1}return g.getIdxbyList(e,b[f],c,i)};ASN1HEX.getIdxbyListEx=function(f,k,b,g){var m=ASN1HEX;var d,l;if(b.length==0){if(g!==undefined){if(f.substr(k,2)!==g){return -1}}return k}d=b.shift();l=m.getChildIdx(f,k);var j=0;for(var e=0;e<l.length;e++){var c=f.substr(l[e],2);if((typeof d==\"number\"&&(!m.isContextTag(c))&&j==d)||(typeof d==\"string\"&&m.isContextTag(c,d))){return m.getIdxbyListEx(f,l[e],b,g)}if(!m.isContextTag(c)){j++}}return -1};ASN1HEX.getTLVbyList=function(d,c,b,f){var e=ASN1HEX;var a=e.getIdxbyList(d,c,b,f);if(a==-1){return null}if(a>=d.length){return null}return e.getTLV(d,a)};ASN1HEX.getTLVbyListEx=function(d,c,b,f){var e=ASN1HEX;var a=e.getIdxbyListEx(d,c,b,f);if(a==-1){return null}return e.getTLV(d,a)};ASN1HEX.getVbyList=function(e,c,b,g,i){var f=ASN1HEX;var a,d;a=f.getIdxbyList(e,c,b,g);if(a==-1){return null}if(a>=e.length){return null}d=f.getV(e,a);if(i===true){d=d.substr(2)}return d};ASN1HEX.getVbyListEx=function(b,e,a,d,f){var j=ASN1HEX;var g,c,i;g=j.getIdxbyListEx(b,e,a,d);if(g==-1){return null}i=j.getV(b,g);if(b.substr(g,2)==\"03\"&&f!==false){i=i.substr(2)}return i};ASN1HEX.getInt=function(e,b,f){if(f==undefined){f=-1}try{var c=e.substr(b,2);if(c!=\"02\"&&c!=\"03\"){return f}var a=ASN1HEX.getV(e,b);if(c==\"02\"){return parseInt(a,16)}else{return bitstrtoint(a)}}catch(d){return f}};ASN1HEX.getOID=function(c,a,d){if(d==undefined){d=null}try{if(c.substr(a,2)!=\"06\"){return d}var e=ASN1HEX.getV(c,a);return hextooid(e)}catch(b){return d}};ASN1HEX.getOIDName=function(d,a,f){if(f==undefined){f=null}try{var e=ASN1HEX.getOID(d,a,f);if(e==f){return f}var b=KJUR.asn1.x509.OID.oid2name(e);if(b==\"\"){return e}return b}catch(c){return f}};ASN1HEX.getString=function(d,b,e){if(e==undefined){e=null}try{var a=ASN1HEX.getV(d,b);return hextorstr(a)}catch(c){return e}};ASN1HEX.hextooidstr=function(e){var h=function(b,a){if(b.length>=a){return b}return new Array(a-b.length+1).join(\"0\")+b};var l=[];var o=e.substr(0,2);var f=parseInt(o,16);l[0]=new String(Math.floor(f/40));l[1]=new String(f%40);var m=e.substr(2);var k=[];for(var g=0;g<m.length/2;g++){k.push(parseInt(m.substr(g*2,2),16))}var j=[];var d=\"\";for(var g=0;g<k.length;g++){if(k[g]&128){d=d+h((k[g]&127).toString(2),7)}else{d=d+h((k[g]&127).toString(2),7);j.push(new String(parseInt(d,2)));d=\"\"}}var n=l.join(\".\");if(j.length>0){n=n+\".\"+j.join(\".\")}return n};ASN1HEX.dump=function(t,c,l,g){var p=ASN1HEX;var j=p.getV;var y=p.dump;var w=p.getChildIdx;var e=t;if(t instanceof KJUR.asn1.ASN1Object){e=t.tohex()}var q=function(A,i){if(A.length<=i*2){return A}else{var v=A.substr(0,i)+\"..(total \"+A.length/2+\"bytes)..\"+A.substr(A.length-i,i);return v}};if(c===undefined){c={ommit_long_octet:32}}if(l===undefined){l=0}if(g===undefined){g=\"\"}var x=c.ommit_long_octet;var z=e.substr(l,2);if(z==\"01\"){var h=j(e,l);if(h==\"00\"){return g+\"BOOLEAN FALSE\\n\"}else{return g+\"BOOLEAN TRUE\\n\"}}if(z==\"02\"){var h=j(e,l);return g+\"INTEGER \"+q(h,x)+\"\\n\"}if(z==\"03\"){var h=j(e,l);if(p.isASN1HEX(h.substr(2))){var k=g+\"BITSTRING, encapsulates\\n\";k=k+y(h.substr(2),c,0,g+\"  \");return k}else{return g+\"BITSTRING \"+q(h,x)+\"\\n\"}}if(z==\"04\"){var h=j(e,l);if(p.isASN1HEX(h)){var k=g+\"OCTETSTRING, encapsulates\\n\";k=k+y(h,c,0,g+\"  \");return k}else{return g+\"OCTETSTRING \"+q(h,x)+\"\\n\"}}if(z==\"05\"){return g+\"NULL\\n\"}if(z==\"06\"){var m=j(e,l);var b=KJUR.asn1.ASN1Util.oidHexToInt(m);var o=KJUR.asn1.x509.OID.oid2name(b);var a=b.replace(/\\./g,\" \");if(o!=\"\"){return g+\"ObjectIdentifier \"+o+\" (\"+a+\")\\n\"}else{return g+\"ObjectIdentifier (\"+a+\")\\n\"}}if(z==\"0a\"){return g+\"ENUMERATED \"+parseInt(j(e,l))+\"\\n\"}if(z==\"0c\"){return g+\"UTF8String '\"+hextoutf8(j(e,l))+\"'\\n\"}if(z==\"13\"){return g+\"PrintableString '\"+hextoutf8(j(e,l))+\"'\\n\"}if(z==\"14\"){return g+\"TeletexString '\"+hextoutf8(j(e,l))+\"'\\n\"}if(z==\"16\"){return g+\"IA5String '\"+hextoutf8(j(e,l))+\"'\\n\"}if(z==\"17\"){return g+\"UTCTime \"+hextoutf8(j(e,l))+\"\\n\"}if(z==\"18\"){return g+\"GeneralizedTime \"+hextoutf8(j(e,l))+\"\\n\"}if(z==\"1a\"){return g+\"VisualString '\"+hextoutf8(j(e,l))+\"'\\n\"}if(z==\"1e\"){return g+\"BMPString '\"+ucs2hextoutf8(j(e,l))+\"'\\n\"}if(z==\"30\"){if(e.substr(l,4)==\"3000\"){return g+\"SEQUENCE {}\\n\"}var k=g+\"SEQUENCE\\n\";var d=w(e,l);var f=c;if((d.length==2||d.length==3)&&e.substr(d[0],2)==\"06\"&&e.substr(d[d.length-1],2)==\"04\"){var o=p.oidname(j(e,d[0]));var r=JSON.parse(JSON.stringify(c));r.x509ExtName=o;f=r}for(var u=0;u<d.length;u++){k=k+y(e,f,d[u],g+\"  \")}return k}if(z==\"31\"){var k=g+\"SET\\n\";var d=w(e,l);for(var u=0;u<d.length;u++){k=k+y(e,c,d[u],g+\"  \")}return k}var z=parseInt(z,16);if((z&128)!=0){var n=z&31;if((z&32)!=0){var k=g+\"[\"+n+\"]\\n\";var d=w(e,l);for(var u=0;u<d.length;u++){k=k+y(e,c,d[u],g+\"  \")}return k}else{var h=j(e,l);if(ASN1HEX.isASN1HEX(h)){var k=g+\"[\"+n+\"]\\n\";k=k+y(h,c,0,g+\"  \");return k}else{if(h.substr(0,8)==\"68747470\"){h=hextoutf8(h)}else{if(c.x509ExtName===\"subjectAltName\"&&n==2){h=hextoutf8(h)}}}var k=g+\"[\"+n+\"] \"+h+\"\\n\";return k}}return g+\"UNKNOWN(\"+z+\") \"+j(e,l)+\"\\n\"};ASN1HEX.parse=function(x){var t=ASN1HEX,f=t.parse,a=t.isASN1HEX,l=t.getV,b=t.getTLV,y=t.getChildIdx,i=KJUR.asn1,e=i.ASN1Util.oidHexToInt,B=i.x509.OID.oid2name,k=hextoutf8,n=ucs2hextoutf8,q=iso88591hextoutf8;var c={\"0c\":\"utf8str\",\"12\":\"numstr\",\"13\":\"prnstr\",\"14\":\"telstr\",\"16\":\"ia5str\",\"17\":\"utctime\",\"18\":\"gentime\",\"1a\":\"visstr\",\"1e\":\"bmpstr\",\"30\":\"seq\",\"31\":\"set\"};var u=function(H){var D=[];var E=y(H,0);for(var G=0;G<E.length;G++){var s=E[G];var d=b(H,s);var F=f(d);D.push(F)}return D};var C=x.substr(0,2);var j={};var p=l(x,0);if(C==\"01\"){if(x==\"0101ff\"){return{bool:true}}return{bool:false}}else{if(C==\"02\"){return{\"int\":{hex:p}}}else{if(C==\"03\"){try{if(p.substr(0,2)!=\"00\"){throw\"not encap\"}var v=p.substr(2);if(!a(v)){throw\"not encap\"}return{bitstr:{obj:f(v)}}}catch(z){var m=null;if(p.length<=10){m=bitstrtobinstr(p)}if(m==null){return{bitstr:{hex:p}}}else{return{bitstr:{bin:m}}}}}else{if(C==\"04\"){try{if(!a(p)){throw\"not encap\"}return{octstr:{obj:f(p)}}}catch(z){return{octstr:{hex:p}}}}else{if(C==\"05\"){return{\"null\":\"\"}}else{if(C==\"06\"){var g=e(p);var r=B(g);if(r==\"\"){return{oid:g}}else{return{oid:r}}}else{if(C==\"0a\"){if(p.length>4){return{\"enum\":{hex:p}}}else{return{\"enum\":parseInt(p,16)}}}else{if(C==\"30\"||C==\"31\"){j[c[C]]=u(x);return j}else{if(C==\"14\"){var o=q(p);j[c[C]]={str:o};return j}else{if(C==\"1e\"){var o=n(p);j[c[C]]={str:o};return j}else{if(\":0c:12:13:16:17:18:1a:\".indexOf(C)!=-1){var o=k(p);j[c[C]]={str:o};return j}else{if(C.match(/^8[0-9]$/)){var o=k(p);if(o==null|o==\"\"){return{tag:{tag:C,explicit:false,hex:p}}}else{if(o.match(/[\\x00-\\x1F\\x7F-\\x9F]/)!=null||o.match(/[\\u0000-\\u001F\\u0080–\\u009F]/)!=null){return{tag:{tag:C,explicit:false,hex:p}}}else{return{tag:{tag:C,explicit:false,str:o}}}}}else{if(C.match(/^a[0-9]$/)){try{if(!a(p)){throw new Error(\"not encap\")}return{tag:{tag:C,explicit:true,obj:f(p)}}}catch(z){return{tag:{tag:C,explicit:true,hex:p}}}}else{var A=new KJUR.asn1.ASN1Object();A.hV=p;var w=A.getLengthHexFromValue();return{asn1:{tlv:C+w+p}}}}}}}}}}}}}}}};ASN1HEX.isContextTag=function(c,b){c=c.toLowerCase();var f,e;try{f=parseInt(c,16)}catch(d){return -1}if(b===undefined){if((f&192)==128){return true}else{return false}}try{var a=b.match(/^\\[[0-9]+\\]$/);if(a==null){return false}e=parseInt(b.substr(1,b.length-1),10);if(e>31){return false}if(((f&192)==128)&&((f&31)==e)){return true}return false}catch(d){return false}};ASN1HEX.isASN1HEX=function(e){var d=ASN1HEX;if(e.length%2==1){return false}var c=d.getVblen(e,0);var b=e.substr(0,2);var f=d.getL(e,0);var a=e.length-b.length-f.length;if(a==c*2){return true}return false};ASN1HEX.checkStrictDER=function(g,o,d,c,r){var s=ASN1HEX;if(d===undefined){if(typeof g!=\"string\"){throw new Error(\"not hex string\")}g=g.toLowerCase();if(!KJUR.lang.String.isHex(g)){throw new Error(\"not hex string\")}d=g.length;c=g.length/2;if(c<128){r=1}else{r=Math.ceil(c.toString(16))+1}}var k=s.getL(g,o);if(k.length>r*2){throw new Error(\"L of TLV too long: idx=\"+o)}var n=s.getVblen(g,o);if(n>c){throw new Error(\"value of L too long than hex: idx=\"+o)}var q=s.getTLV(g,o);var f=q.length-2-s.getL(g,o).length;if(f!==(n*2)){throw new Error(\"V string length and L's value not the same:\"+f+\"/\"+(n*2))}if(o===0){if(g.length!=q.length){throw new Error(\"total length and TLV length unmatch:\"+g.length+\"!=\"+q.length)}}var b=g.substr(o,2);if(b===\"02\"){var a=s.getVidx(g,o);if(g.substr(a,2)==\"00\"&&g.charCodeAt(a+2)<56){throw new Error(\"not least zeros for DER INTEGER\")}}if(parseInt(b,16)&32){var p=s.getVblen(g,o);var m=0;var l=s.getChildIdx(g,o);for(var e=0;e<l.length;e++){var j=s.getTLV(g,l[e]);m+=j.length;s.checkStrictDER(g,l[e],d,c,r)}if((p*2)!=m){throw new Error(\"sum of children's TLV length and L unmatch: \"+(p*2)+\"!=\"+m)}}};ASN1HEX.oidname=function(a){var c=KJUR.asn1;if(KJUR.lang.String.isHex(a)){a=c.ASN1Util.oidHexToInt(a)}var b=c.x509.OID.oid2name(a);if(b===\"\"){b=a}return b};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.x509==\"undefined\"||!KJUR.asn1.x509){KJUR.asn1.x509={}}KJUR.asn1.x509.Certificate=function(h){KJUR.asn1.x509.Certificate.superclass.constructor.call(this);var d=KJUR,c=d.asn1,f=c.DERBitString,b=c.DERSequence,g=c.x509,a=g.TBSCertificate,e=g.AlgorithmIdentifier;this.params=undefined;this.setByParam=function(i){this.params=i};this.sign=function(){var l=this.params;var k=l.sigalg;if(l.sigalg.name!=undefined){k=l.sigalg.name}var i=l.tbsobj.tohex();var j=new KJUR.crypto.Signature({alg:k});j.init(l.cakey);j.updateHex(i);l.sighex=j.sign()};this.getPEM=function(){return hextopem(this.tohex(),\"CERTIFICATE\")};this.tohex=function(){var k=this.params;if(k.tbsobj==undefined||k.tbsobj==null){k.tbsobj=new a(k)}if(k.sighex==undefined&&k.cakey!=undefined){this.sign()}if(k.sighex==undefined){throw new Error(\"sighex or cakey parameter not defined\")}var i=[];i.push(k.tbsobj);i.push(new e({name:k.sigalg}));i.push(new f({hex:\"00\"+k.sighex}));var j=new b({array:i});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};if(h!=undefined){this.params=h}};extendClass(KJUR.asn1.x509.Certificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertificate=function(f){KJUR.asn1.x509.TBSCertificate.superclass.constructor.call(this);var b=KJUR,i=b.asn1,d=i.x509,c=i.DERTaggedObject,h=i.DERInteger,g=i.DERSequence,l=d.AlgorithmIdentifier,e=d.Time,a=d.X500Name,j=d.Extensions,k=d.SubjectPublicKeyInfo;this.params=null;this.setByParam=function(m){this.params=m};this.tohex=function(){var n=[];var q=this.params;if(q.version!=undefined||q.version!=1){var m=2;if(q.version!=undefined){m=q.version-1}var p=new c({obj:new h({\"int\":m})});n.push(p)}n.push(new h(q.serial));n.push(new l({name:q.sigalg}));n.push(new a(q.issuer));n.push(new g({array:[new e(q.notbefore),new e(q.notafter)]}));n.push(new a(q.subject));n.push(new k(KEYUTIL.getKey(q.sbjpubkey)));if(q.ext!==undefined&&q.ext.length>0){n.push(new c({tag:\"a3\",obj:new j(q.ext)}))}var o=new KJUR.asn1.DERSequence({array:n});return o.tohex()};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){this.setByParam(f)}};extendClass(KJUR.asn1.x509.TBSCertificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extensions=function(d){KJUR.asn1.x509.Extensions.superclass.constructor.call(this);var c=KJUR,b=c.asn1,a=b.DERSequence,e=b.x509;this.aParam=[];this.setByParam=function(f){this.aParam=f};this.tohex=function(){var f=[];for(var h=0;h<this.aParam.length;h++){var l=this.aParam[h];var k=l.extname;var j=null;if(l.extn!=undefined){j=new e.PrivateExtension(l)}else{if(k==\"subjectKeyIdentifier\"){j=new e.SubjectKeyIdentifier(l)}else{if(k==\"keyUsage\"){j=new e.KeyUsage(l)}else{if(k==\"subjectAltName\"){j=new e.SubjectAltName(l)}else{if(k==\"issuerAltName\"){j=new e.IssuerAltName(l)}else{if(k==\"basicConstraints\"){j=new e.BasicConstraints(l)}else{if(k==\"nameConstraints\"){j=new e.NameConstraints(l)}else{if(k==\"cRLDistributionPoints\"){j=new e.CRLDistributionPoints(l)}else{if(k==\"certificatePolicies\"){j=new e.CertificatePolicies(l)}else{if(k==\"policyMappings\"){j=new e.PolicyMappings(l)}else{if(k==\"policyConstraints\"){j=new e.PolicyConstraints(l)}else{if(k==\"inhibitAnyPolicy\"){j=new e.InhibitAnyPolicy(l)}else{if(k==\"authorityKeyIdentifier\"){j=new e.AuthorityKeyIdentifier(l)}else{if(k==\"extKeyUsage\"){j=new e.ExtKeyUsage(l)}else{if(k==\"authorityInfoAccess\"){j=new e.AuthorityInfoAccess(l)}else{if(k==\"cRLNumber\"){j=new e.CRLNumber(l)}else{if(k==\"cRLReason\"){j=new e.CRLReason(l)}else{if(k==\"ocspNonce\"){j=new e.OCSPNonce(l)}else{if(k==\"ocspNoCheck\"){j=new e.OCSPNoCheck(l)}else{if(k==\"adobeTimeStamp\"){j=new e.AdobeTimeStamp(l)}else{if(k==\"subjectDirectoryAttributes\"){j=new e.SubjectDirectoryAttributes(l)}else{throw new Error(\"extension not supported:\"+JSON.stringify(l))}}}}}}}}}}}}}}}}}}}}}if(j!=null){f.push(j)}}var g=new a({array:f});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!=undefined){this.setByParam(d)}};extendClass(KJUR.asn1.x509.Extensions,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extension=function(d){KJUR.asn1.x509.Extension.superclass.constructor.call(this);var f=null,a=KJUR,e=a.asn1,h=e.DERObjectIdentifier,i=e.DEROctetString,b=e.DERBitString,g=e.DERBoolean,c=e.DERSequence;this.tohex=function(){var m=new h({oid:this.oid});var l=new i({hex:this.getExtnValueHex()});var k=new Array();k.push(m);if(this.critical){k.push(new g())}k.push(l);var j=new c({array:k});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};this.critical=false;if(d!==undefined){if(d.critical!==undefined){this.critical=d.critical}}};extendClass(KJUR.asn1.x509.Extension,KJUR.asn1.ASN1Object);KJUR.asn1.x509.KeyUsage=function(c){KJUR.asn1.x509.KeyUsage.superclass.constructor.call(this,c);var b=Error;var a={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var d=this.getBinValue();this.asn1ExtnValue=new KJUR.asn1.DERBitString({bin:d});return this.asn1ExtnValue.tohex()};this.getBinValue=function(){var d=this.params;if(typeof d!=\"object\"||(typeof d.names!=\"object\"&&typeof d.bin!=\"string\")){throw new b(\"parameter not yet set\")}if(d.names!=undefined){return namearraytobinstr(d.names,a)}else{if(d.bin!=undefined){return d.bin}else{throw new b(\"parameter not set properly\")}}};this.oid=\"2.5.29.15\";if(c!==undefined){this.params=c}};extendClass(KJUR.asn1.x509.KeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.BasicConstraints=function(g){KJUR.asn1.x509.BasicConstraints.superclass.constructor.call(this,g);var c=KJUR.asn1,e=c.DERBoolean,f=c.DERInteger,b=c.DERSequence;var a=false;var d=-1;this.getExtnValueHex=function(){var i=new Array();if(this.cA){i.push(new e())}if(this.pathLen>-1){i.push(new f({\"int\":this.pathLen}))}var h=new b({array:i});this.asn1ExtnValue=h;return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.19\";this.cA=false;this.pathLen=-1;if(g!==undefined){if(g.cA!==undefined){this.cA=g.cA}if(g.pathLen!==undefined){this.pathLen=g.pathLen}}};extendClass(KJUR.asn1.x509.BasicConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRLDistributionPoints=function(d){KJUR.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,d);var b=KJUR,a=b.asn1,c=a.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()};this.setByDPArray=function(e){var f=[];for(var g=0;g<e.length;g++){if(e[g] instanceof KJUR.asn1.ASN1Object){f.push(e[g])}else{var h=new c.DistributionPoint(e[g]);f.push(h)}}this.asn1ExtnValue=new a.DERSequence({array:f})};this.setByOneURI=function(f){var e=new c.DistributionPoint({fulluri:f});this.setByDPArray([e])};this.oid=\"2.5.29.31\";if(d!==undefined){if(d.array!==undefined){this.setByDPArray(d.array)}else{if(d.uri!==undefined){this.setByOneURI(d.uri)}}}};extendClass(KJUR.asn1.x509.CRLDistributionPoints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.DistributionPoint=function(e){KJUR.asn1.x509.DistributionPoint.superclass.constructor.call(this);var a=null,c=KJUR,b=c.asn1,d=b.x509.DistributionPointName;this.tohex=function(){var f=new b.DERSequence();if(this.asn1DP!=null){var g=new b.DERTaggedObject({explicit:true,tag:\"a0\",obj:this.asn1DP});f.appendASN1Object(g)}this.hTLV=f.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){if(e.dpobj!==undefined){this.asn1DP=e.dpobj}else{if(e.dpname!==undefined){this.asn1DP=new d(e.dpname)}else{if(e.fulluri!==undefined){this.asn1DP=new d({full:[{uri:e.fulluri}]})}}}}};extendClass(KJUR.asn1.x509.DistributionPoint,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DistributionPointName=function(h){KJUR.asn1.x509.DistributionPointName.superclass.constructor.call(this);var g=null,d=null,a=null,f=null,c=KJUR,b=c.asn1,e=b.DERTaggedObject;this.tohex=function(){if(this.type!=\"full\"){throw new Error(\"currently type shall be 'full': \"+this.type)}this.asn1Obj=new e({explicit:false,tag:this.tag,obj:this.asn1V});this.hTLV=this.asn1Obj.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(h!==undefined){if(b.x509.GeneralNames.prototype.isPrototypeOf(h)){this.type=\"full\";this.tag=\"a0\";this.asn1V=h}else{if(h.full!==undefined){this.type=\"full\";this.tag=\"a0\";this.asn1V=new b.x509.GeneralNames(h.full)}else{throw new Error(\"This class supports GeneralNames only as argument\")}}}};extendClass(KJUR.asn1.x509.DistributionPointName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CertificatePolicies=function(f){KJUR.asn1.x509.CertificatePolicies.superclass.constructor.call(this,f);var c=KJUR,b=c.asn1,e=b.x509,a=b.DERSequence,d=e.PolicyInformation;this.params=null;this.getExtnValueHex=function(){var j=[];for(var h=0;h<this.params.array.length;h++){j.push(new d(this.params.array[h]))}var g=new a({array:j});this.asn1ExtnValue=g;return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.32\";if(f!==undefined){this.params=f}};extendClass(KJUR.asn1.x509.CertificatePolicies,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PolicyInformation=function(d){KJUR.asn1.x509.PolicyInformation.superclass.constructor.call(this,d);var c=KJUR.asn1,b=c.DERSequence,e=c.DERObjectIdentifier,a=c.x509.PolicyQualifierInfo;this.params=null;this.tohex=function(){if(this.params.policyoid===undefined&&this.params.array===undefined){throw new Error(\"parameter oid and array missing\")}var f=[new e(this.params.policyoid)];if(this.params.array!==undefined){var j=[];for(var h=0;h<this.params.array.length;h++){j.push(new a(this.params.array[h]))}if(j.length>0){f.push(new b({array:j}))}}var g=new b({array:f});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!==undefined){this.params=d}};extendClass(KJUR.asn1.x509.PolicyInformation,KJUR.asn1.ASN1Object);KJUR.asn1.x509.PolicyQualifierInfo=function(e){KJUR.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var c=KJUR.asn1,b=c.DERSequence,d=c.DERIA5String,f=c.DERObjectIdentifier,a=c.x509.UserNotice;this.params=null;this.tohex=function(){if(this.params.cps!==undefined){var g=new b({array:[new f({oid:\"1.3.6.1.5.5.7.2.1\"}),new d({str:this.params.cps})]});return g.tohex()}if(this.params.unotice!=undefined){var g=new b({array:[new f({oid:\"1.3.6.1.5.5.7.2.2\"}),new a(this.params.unotice)]});return g.tohex()}};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.PolicyQualifierInfo,KJUR.asn1.ASN1Object);KJUR.asn1.x509.UserNotice=function(e){KJUR.asn1.x509.UserNotice.superclass.constructor.call(this,e);var a=KJUR.asn1.DERSequence,d=KJUR.asn1.DERInteger,c=KJUR.asn1.x509.DisplayText,b=KJUR.asn1.x509.NoticeReference;this.params=null;this.tohex=function(){var f=[];if(this.params.noticeref!==undefined){f.push(new b(this.params.noticeref))}if(this.params.exptext!==undefined){f.push(new c(this.params.exptext))}var g=new a({array:f});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.UserNotice,KJUR.asn1.ASN1Object);KJUR.asn1.x509.NoticeReference=function(d){KJUR.asn1.x509.NoticeReference.superclass.constructor.call(this,d);var a=KJUR.asn1.DERSequence,c=KJUR.asn1.DERInteger,b=KJUR.asn1.x509.DisplayText;this.params=null;this.tohex=function(){var f=[];if(this.params.org!==undefined){f.push(new b(this.params.org))}if(this.params.noticenum!==undefined){var h=[];var e=this.params.noticenum;for(var j=0;j<e.length;j++){h.push(new c(e[j]))}f.push(new a({array:h}))}if(f.length==0){throw new Error(\"parameter is empty\")}var g=new a({array:f});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!==undefined){this.params=d}};extendClass(KJUR.asn1.x509.NoticeReference,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DisplayText=function(a){KJUR.asn1.x509.DisplayText.superclass.constructor.call(this,a);this.hT=\"0c\";if(a!==undefined){if(a.type===\"ia5\"){this.hT=\"16\"}else{if(a.type===\"vis\"){this.hT=\"1a\"}else{if(a.type===\"bmp\"){this.hT=\"1e\"}}}}};extendClass(KJUR.asn1.x509.DisplayText,KJUR.asn1.DERAbstractString);KJUR.asn1.x509.PolicyMappings=function(e){KJUR.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var c=KJUR,b=c.asn1,d=b.x509,a=b.ASN1Util.newObject;this.params=null;this.getExtnValueHex=function(){var j=this.params;var f=[];for(var g=0;g<j.array.length;g++){var h=j.array[g];f.push({seq:[{oid:h[0]},{oid:h[1]}]})}this.asn1ExtnValue=a({seq:f});return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.33\";if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.PolicyMappings,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PolicyConstraints=function(e){KJUR.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var c=KJUR,b=c.asn1,d=b.x509,a=b.ASN1Util.newObject;this.params=null;this.getExtnValueHex=function(){var g=this.params;var f=[];if(g.reqexp!=undefined){f.push({tag:{tagi:\"80\",obj:{\"int\":g.reqexp}}})}if(g.inhibit!=undefined){f.push({tag:{tagi:\"81\",obj:{\"int\":g.inhibit}}})}this.asn1ExtnValue=a({seq:f});return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.36\";if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.PolicyConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.InhibitAnyPolicy=function(e){KJUR.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var c=KJUR,b=c.asn1,d=b.x509,a=b.ASN1Util.newObject;this.params=null;this.getExtnValueHex=function(){this.asn1ExtnValue=a({\"int\":this.params.skip});return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.54\";if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.InhibitAnyPolicy,KJUR.asn1.x509.Extension);KJUR.asn1.x509.NameConstraints=function(f){KJUR.asn1.x509.NameConstraints.superclass.constructor.call(this,f);var c=KJUR,b=c.asn1,e=b.x509,a=b.ASN1Util.newObject,d=e.GeneralSubtree;this.params=null;this.getExtnValueHex=function(){var l=this.params;var g=[];if(l.permit!=undefined&&l.permit.length!=undefined){var k=[];for(var h=0;h<l.permit.length;h++){k.push(new d(l.permit[h]))}g.push({tag:{tagi:\"a0\",obj:{seq:k}}})}if(l.exclude!=undefined&&l.exclude.length!=undefined){var j=[];for(var h=0;h<l.exclude.length;h++){j.push(new d(l.exclude[h]))}g.push({tag:{tagi:\"a1\",obj:{seq:j}}})}this.asn1ExtnValue=a({seq:g});return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.30\";if(f!==undefined){this.params=f}};extendClass(KJUR.asn1.x509.NameConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.GeneralSubtree=function(e){KJUR.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var b=KJUR.asn1,d=b.x509,c=d.GeneralName,a=b.ASN1Util.newObject;this.params=null;this.setByParam=function(f){this.params=f};this.tohex=function(){var h=this.params;var f=[new c(h)];if(h.min!=undefined){f.push({tag:{tagi:\"80\",obj:{\"int\":h.min}}})}if(h.max!=undefined){f.push({tag:{tagi:\"81\",obj:{\"int\":h.max}}})}var g=a({seq:f});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.setByParam(e)}};extendClass(KJUR.asn1.x509.GeneralSubtree,KJUR.asn1.ASN1Object);KJUR.asn1.x509.ExtKeyUsage=function(c){KJUR.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,c);var b=KJUR,a=b.asn1;this.setPurposeArray=function(d){this.asn1ExtnValue=new a.DERSequence();for(var e=0;e<d.length;e++){var f=new a.DERObjectIdentifier(d[e]);this.asn1ExtnValue.appendASN1Object(f)}};this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.37\";if(c!==undefined){if(c.array!==undefined){this.setPurposeArray(c.array)}}};extendClass(KJUR.asn1.x509.ExtKeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityKeyIdentifier=function(f){KJUR.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,f);var b=KJUR,a=b.asn1,d=a.DERTaggedObject,e=a.x509.GeneralNames,c=b.crypto.Util.isKey;this.asn1KID=null;this.asn1CertIssuer=null;this.asn1CertSN=null;this.getExtnValueHex=function(){var h=new Array();if(this.asn1KID){h.push(new d({explicit:false,tag:\"80\",obj:this.asn1KID}))}if(this.asn1CertIssuer){h.push(new d({explicit:false,tag:\"a1\",obj:new e([{dn:this.asn1CertIssuer}])}))}if(this.asn1CertSN){h.push(new d({explicit:false,tag:\"82\",obj:this.asn1CertSN}))}var g=new a.DERSequence({array:h});this.asn1ExtnValue=g;return this.asn1ExtnValue.tohex()};this.setKIDByParam=function(i){if(i.str!==undefined||i.hex!==undefined){this.asn1KID=new KJUR.asn1.DEROctetString(i)}else{if((typeof i===\"object\"&&KJUR.crypto.Util.isKey(i))||(typeof i===\"string\"&&i.indexOf(\"BEGIN \")!=-1)){var h=i;if(typeof i===\"string\"){h=KEYUTIL.getKey(i)}var g=KEYUTIL.getKeyID(h);this.asn1KID=new KJUR.asn1.DEROctetString({hex:g})}}};this.setCertIssuerByParam=function(g){if(g.str!==undefined||g.ldapstr!==undefined||g.hex!==undefined||g.certsubject!==undefined||g.certissuer!==undefined){this.asn1CertIssuer=new KJUR.asn1.x509.X500Name(g)}else{if(typeof g===\"string\"&&g.indexOf(\"BEGIN \")!=-1&&g.indexOf(\"CERTIFICATE\")!=-1){this.asn1CertIssuer=new KJUR.asn1.x509.X500Name({certissuer:g})}}};this.setCertSNByParam=function(i){if(i.str!==undefined||i.bigint!==undefined||i.hex!==undefined){this.asn1CertSN=new KJUR.asn1.DERInteger(i)}else{if(typeof i===\"string\"&&i.indexOf(\"BEGIN \")!=-1&&i.indexOf(\"CERTIFICATE\")){var g=new X509();g.readCertPEM(i);var h=g.getSerialNumberHex();this.asn1CertSN=new KJUR.asn1.DERInteger({hex:h})}}};this.oid=\"2.5.29.35\";if(f!==undefined){if(f.kid!==undefined){this.setKIDByParam(f.kid)}if(f.issuer!==undefined){this.setCertIssuerByParam(f.issuer)}if(f.sn!==undefined){this.setCertSNByParam(f.sn)}if(f.issuersn!==undefined&&typeof f.issuersn===\"string\"&&f.issuersn.indexOf(\"BEGIN \")!=-1&&f.issuersn.indexOf(\"CERTIFICATE\")){this.setCertSNByParam(f.issuersn);this.setCertIssuerByParam(f.issuersn)}}};extendClass(KJUR.asn1.x509.AuthorityKeyIdentifier,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectKeyIdentifier=function(d){KJUR.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,d);var b=KJUR,a=b.asn1,c=a.DEROctetString;this.asn1KID=null;this.getExtnValueHex=function(){this.asn1ExtnValue=this.asn1KID;return this.asn1ExtnValue.tohex()};this.setKIDByParam=function(g){if(g.str!==undefined||g.hex!==undefined){this.asn1KID=new c(g)}else{if((typeof g===\"object\"&&KJUR.crypto.Util.isKey(g))||(typeof g===\"string\"&&g.indexOf(\"BEGIN\")!=-1)){var f=g;if(typeof g===\"string\"){f=KEYUTIL.getKey(g)}var e=KEYUTIL.getKeyID(f);this.asn1KID=new KJUR.asn1.DEROctetString({hex:e})}}};this.oid=\"2.5.29.14\";if(d!==undefined){if(d.kid!==undefined){this.setKIDByParam(d.kid)}}};extendClass(KJUR.asn1.x509.SubjectKeyIdentifier,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityInfoAccess=function(a){KJUR.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,a);this.setAccessDescriptionArray=function(k){var d=new Array(),b=KJUR,g=b.asn1,c=g.DERSequence,j=g.DERObjectIdentifier,l=g.x509.GeneralName;for(var f=0;f<k.length;f++){var e;var h=k[f];if(h.ocsp!==undefined){e=new c({array:[new j({oid:\"1.3.6.1.5.5.7.48.1\"}),new l({uri:h.ocsp})]})}else{if(h.caissuer!==undefined){e=new c({array:[new j({oid:\"1.3.6.1.5.5.7.48.2\"}),new l({uri:h.caissuer})]})}else{throw new Error(\"unknown AccessMethod parameter: \"+JSON.stringify(h))}}d.push(e)}this.asn1ExtnValue=new c({array:d})};this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()};this.oid=\"1.3.6.1.5.5.7.1.1\";if(a!==undefined){if(a.array!==undefined){this.setAccessDescriptionArray(a.array)}}};extendClass(KJUR.asn1.x509.AuthorityInfoAccess,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectAltName=function(a){KJUR.asn1.x509.SubjectAltName.superclass.constructor.call(this,a);this.setNameArray=function(b){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.17\";if(a!==undefined){if(a.array!==undefined){this.setNameArray(a.array)}}};extendClass(KJUR.asn1.x509.SubjectAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.IssuerAltName=function(a){KJUR.asn1.x509.IssuerAltName.superclass.constructor.call(this,a);this.setNameArray=function(b){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(b)};this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.18\";if(a!==undefined){if(a.array!==undefined){this.setNameArray(a.array)}}};extendClass(KJUR.asn1.x509.IssuerAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectDirectoryAttributes=function(e){KJUR.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var c=KJUR.asn1,a=c.DERSequence,b=c.ASN1Util.newObject,d=c.x509.OID.name2oid;this.params=null;this.getExtnValueHex=function(){var f=[];for(var j=0;j<this.params.array.length;j++){var l=this.params.array[j];if(l.attr!=undefined&&l.array!=undefined){var k={seq:[{oid:l.attr},{set:l.array}]};f.push(b(k));continue}var h={seq:[{oid:\"1.2.3.4\"},{set:[{utf8str:\"DE\"}]}]};if(l.attr==\"dateOfBirth\"){h.seq[0].oid=d(l.attr);h.seq[1].set[0]={gentime:l.str}}else{if(l.attr==\"placeOfBirth\"){h.seq[0].oid=d(l.attr);h.seq[1].set[0]={utf8str:l.str}}else{if(l.attr==\"gender\"){h.seq[0].oid=d(l.attr);h.seq[1].set[0]={prnstr:l.str}}else{if(l.attr==\"countryOfCitizenship\"){h.seq[0].oid=d(l.attr);h.seq[1].set[0]={prnstr:l.str}}else{if(l.attr==\"countryOfResidence\"){h.seq[0].oid=d(l.attr);h.seq[1].set[0]={prnstr:l.str}}else{throw new Error(\"unsupported attribute: \"+l.attr)}}}}}f.push(new b(h))}var g=new a({array:f});this.asn1ExtnValue=g;return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.9\";if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.x509.SubjectDirectoryAttributes,KJUR.asn1.x509.Extension);KJUR.asn1.x509.PrivateExtension=function(f){KJUR.asn1.x509.PrivateExtension.superclass.constructor.call(this,f);var c=KJUR,e=c.lang.String.isHex,b=c.asn1,d=b.x509.OID.name2oid,a=b.ASN1Util.newObject;this.params=null;this.setByParam=function(g){this.oid=d(g.extname);this.params=g};this.getExtnValueHex=function(){if(this.params.extname==undefined||this.params.extn==undefined){throw new Error(\"extname or extnhex not specified\")}var h=this.params.extn;if(typeof h==\"string\"&&e(h)){return h}else{if(typeof h==\"object\"){try{return a(h).tohex()}catch(g){}}}throw new Error(\"unsupported extn value\")};if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.x509.PrivateExtension,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRL=function(g){KJUR.asn1.x509.CRL.superclass.constructor.call(this);var c=KJUR,b=c.asn1,a=b.DERSequence,e=b.DERBitString,f=b.x509,d=f.AlgorithmIdentifier,h=f.TBSCertList;this.params=undefined;this.setByParam=function(i){this.params=i};this.sign=function(){var j=(new h(this.params)).tohex();var k=new KJUR.crypto.Signature({alg:this.params.sigalg});k.init(this.params.cakey);k.updateHex(j);var i=k.sign();this.params.sighex=i};this.getPEM=function(){return hextopem(this.tohex(),\"X509 CRL\")};this.tohex=function(){var k=this.params;if(k.tbsobj==undefined){k.tbsobj=new h(k)}if(k.sighex==undefined&&k.cakey!=undefined){this.sign()}if(k.sighex==undefined){throw new Error(\"sighex or cakey parameter not defined\")}var i=[];i.push(k.tbsobj);i.push(new d({name:k.sigalg}));i.push(new e({hex:\"00\"+k.sighex}));var j=new a({array:i});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.params=g}};extendClass(KJUR.asn1.x509.CRL,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertList=function(f){KJUR.asn1.x509.TBSCertList.superclass.constructor.call(this);var b=KJUR,i=b.asn1,h=i.DERInteger,g=i.DERSequence,c=i.DERTaggedObject,k=i.DERObjectIdentifier,d=i.x509,l=d.AlgorithmIdentifier,e=d.Time,j=d.Extensions,a=d.X500Name;this.params=null;this.setByParam=function(m){this.params=m};this.getRevCertSequence=function(){var m=[];var n=this.params.revcert;for(var o=0;o<n.length;o++){var p=[new h(n[o].sn),new e(n[o].date)];if(n[o].ext!=undefined){p.push(new j(n[o].ext))}m.push(new g({array:p}))}return new g({array:m})};this.tohex=function(){var n=[];var r=this.params;if(r.version!=undefined){var m=r.version-1;var p=new h({\"int\":m});n.push(p)}n.push(new l({name:r.sigalg}));n.push(new a(r.issuer));n.push(new e(r.thisupdate));if(r.nextupdate!=undefined){n.push(new e(r.nextupdate))}if(r.revcert!=undefined){n.push(this.getRevCertSequence())}if(r.ext!=undefined){var q=new j(r.ext);n.push(new c({tag:\"a0\",explicit:true,obj:q}))}var o=new g({array:n});return o.tohex()};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){this.setByParam(f)}};extendClass(KJUR.asn1.x509.TBSCertList,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CRLEntry=function(e){KJUR.asn1.x509.CRLEntry.superclass.constructor.call(this);var d=null,c=null,b=KJUR,a=b.asn1;this.setCertSerial=function(f){this.sn=new a.DERInteger(f)};this.setRevocationDate=function(f){this.time=new a.x509.Time(f)};this.tohex=function(){var f=new a.DERSequence({array:[this.sn,this.time]});this.TLV=f.tohex();return this.TLV};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){if(e.time!==undefined){this.setRevocationDate(e.time)}if(e.sn!==undefined){this.setCertSerial(e.sn)}}};extendClass(KJUR.asn1.x509.CRLEntry,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CRLNumber=function(a){KJUR.asn1.x509.CRLNumber.superclass.constructor.call(this,a);this.params=undefined;this.getExtnValueHex=function(){this.asn1ExtnValue=new KJUR.asn1.DERInteger(this.params.num);return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.20\";if(a!=undefined){this.params=a}};extendClass(KJUR.asn1.x509.CRLNumber,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRLReason=function(a){KJUR.asn1.x509.CRLReason.superclass.constructor.call(this,a);this.params=undefined;this.getExtnValueHex=function(){this.asn1ExtnValue=new KJUR.asn1.DEREnumerated(this.params.code);return this.asn1ExtnValue.tohex()};this.oid=\"2.5.29.21\";if(a!=undefined){this.params=a}};extendClass(KJUR.asn1.x509.CRLReason,KJUR.asn1.x509.Extension);KJUR.asn1.x509.OCSPNonce=function(a){KJUR.asn1.x509.OCSPNonce.superclass.constructor.call(this,a);this.params=undefined;this.getExtnValueHex=function(){this.asn1ExtnValue=new KJUR.asn1.DEROctetString(this.params);return this.asn1ExtnValue.tohex()};this.oid=\"1.3.6.1.5.5.7.48.1.2\";if(a!=undefined){this.params=a}};extendClass(KJUR.asn1.x509.OCSPNonce,KJUR.asn1.x509.Extension);KJUR.asn1.x509.OCSPNoCheck=function(a){KJUR.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,a);this.params=undefined;this.getExtnValueHex=function(){this.asn1ExtnValue=new KJUR.asn1.DERNull();return this.asn1ExtnValue.tohex()};this.oid=\"1.3.6.1.5.5.7.48.1.5\";if(a!=undefined){this.params=a}};extendClass(KJUR.asn1.x509.OCSPNoCheck,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AdobeTimeStamp=function(g){KJUR.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,g);var c=KJUR,b=c.asn1,f=b.DERInteger,d=b.DERBoolean,a=b.DERSequence,e=b.x509.GeneralName;this.params=null;this.getExtnValueHex=function(){var i=this.params;var h=[new f(1)];h.push(new e({uri:i.uri}));if(i.reqauth!=undefined){h.push(new d(i.reqauth))}this.asn1ExtnValue=new a({array:h});return this.asn1ExtnValue.tohex()};this.oid=\"1.2.840.113583.1.1.9.1\";if(g!==undefined){this.setByParam(g)}};extendClass(KJUR.asn1.x509.AdobeTimeStamp,KJUR.asn1.x509.Extension);KJUR.asn1.x509.X500Name=function(f){KJUR.asn1.x509.X500Name.superclass.constructor.call(this);this.asn1Array=[];this.paramArray=[];this.sRule=\"utf8\";var c=KJUR,b=c.asn1,e=b.x509,d=e.RDN,a=pemtohex;this.setByString=function(g,l){if(l!==undefined){this.sRule=l}var k=g.split(\"/\");k.shift();var j=[];for(var m=0;m<k.length;m++){if(k[m].match(/^[^=]+=.+$/)){j.push(k[m])}else{var h=j.length-1;j[h]=j[h]+\"/\"+k[m]}}for(var m=0;m<j.length;m++){this.asn1Array.push(new d({str:j[m],rule:this.sRule}))}};this.setByLdapString=function(g,h){if(h!==undefined){this.sRule=h}var i=e.X500Name.ldapToCompat(g);this.setByString(i,h)};this.setByObject=function(j,i){if(i!==undefined){this.sRule=i}for(var g in j){if(j.hasOwnProperty(g)){var h=new d({str:g+\"=\"+j[g],rule:this.sRule});this.asn1Array?this.asn1Array.push(h):this.asn1Array=[h]}}};this.setByParam=function(h){if(h.rule!==undefined){this.sRule=h.rule}if(h.array!==undefined){this.paramArray=h.array}else{if(h.str!==undefined){this.setByString(h.str)}else{if(h.ldapstr!==undefined){this.setByLdapString(h.ldapstr)}else{if(h.hex!==undefined){this.hTLV=h.hex}else{if(h.certissuer!==undefined){var g=new X509();g.readCertPEM(h.certissuer);this.hTLV=g.getIssuerHex()}else{if(h.certsubject!==undefined){var g=new X509();g.readCertPEM(h.certsubject);this.hTLV=g.getSubjectHex()}else{if(typeof h===\"object\"&&h.certsubject===undefined&&h.certissuer===undefined){this.setByObject(h)}}}}}}}};this.tohex=function(){if(typeof this.hTLV==\"string\"){return this.hTLV}if(this.asn1Array.length==0&&this.paramArray.length>0){for(var g=0;g<this.paramArray.length;g++){var k={array:this.paramArray[g]};if(this.sRule!=\"utf8\"){k.rule=this.sRule}var h=new d(k);this.asn1Array.push(h)}}var j=new b.DERSequence({array:this.asn1Array});this.hTLV=j.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){this.setByParam(f)}};extendClass(KJUR.asn1.x509.X500Name,KJUR.asn1.ASN1Object);KJUR.asn1.x509.X500Name.compatToLDAP=function(d){if(d.substr(0,1)!==\"/\"){throw\"malformed input\"}var b=\"\";d=d.substr(1);var c=d.split(\"/\");c.reverse();c=c.map(function(a){return a.replace(/,/,\"\\\\,\")});return c.join(\",\")};KJUR.asn1.x509.X500Name.onelineToLDAP=function(a){return KJUR.asn1.x509.X500Name.compatToLDAP(a)};KJUR.asn1.x509.X500Name.ldapToCompat=function(g){var c=g.split(\",\");var e=false;var b=[];for(var f=0;c.length>0;f++){var h=c.shift();if(e===true){var d=b.pop();var j=(d+\",\"+h).replace(/\\\\,/g,\",\");b.push(j);e=false}else{b.push(h)}if(h.substr(-1,1)===\"\\\\\"){e=true}}b=b.map(function(a){return a.replace(\"/\",\"\\\\/\")});b.reverse();return\"/\"+b.join(\"/\")};KJUR.asn1.x509.X500Name.ldapToOneline=function(a){return KJUR.asn1.x509.X500Name.ldapToCompat(a)};KJUR.asn1.x509.RDN=function(b){KJUR.asn1.x509.RDN.superclass.constructor.call(this);this.asn1Array=[];this.paramArray=[];this.sRule=\"utf8\";var a=KJUR.asn1.x509.AttributeTypeAndValue;this.setByParam=function(c){if(c.rule!==undefined){this.sRule=c.rule}if(c.str!==undefined){this.addByMultiValuedString(c.str)}if(c.array!==undefined){this.paramArray=c.array}};this.addByString=function(c){this.asn1Array.push(new KJUR.asn1.x509.AttributeTypeAndValue({str:c,rule:this.sRule}))};this.addByMultiValuedString=function(e){var c=KJUR.asn1.x509.RDN.parseString(e);for(var d=0;d<c.length;d++){this.addByString(c[d])}};this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0){for(var d=0;d<this.paramArray.length;d++){var f=this.paramArray[d];if(f.rule!==undefined&&this.sRule!=\"utf8\"){f.rule=this.sRule}var c=new a(f);this.asn1Array.push(c)}}var e=new KJUR.asn1.DERSet({array:this.asn1Array});this.TLV=e.tohex();return this.TLV};this.getEncodedHex=function(){return this.tohex()};if(b!==undefined){this.setByParam(b)}};extendClass(KJUR.asn1.x509.RDN,KJUR.asn1.ASN1Object);KJUR.asn1.x509.RDN.parseString=function(m){var j=m.split(/\\+/);var h=false;var c=[];for(var g=0;j.length>0;g++){var k=j.shift();if(h===true){var f=c.pop();var d=(f+\"+\"+k).replace(/\\\\\\+/g,\"+\");c.push(d);h=false}else{c.push(k)}if(k.substr(-1,1)===\"\\\\\"){h=true}}var l=false;var b=[];for(var g=0;c.length>0;g++){var k=c.shift();if(l===true){var e=b.pop();if(k.match(/\"$/)){var d=(e+\"+\"+k).replace(/^([^=]+)=\"(.*)\"$/,\"$1=$2\");b.push(d);l=false}else{b.push(e+\"+\"+k)}}else{b.push(k)}if(k.match(/^[^=]+=\"/)){l=true}}return b};KJUR.asn1.x509.AttributeTypeAndValue=function(c){KJUR.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);this.sRule=\"utf8\";this.sType=null;this.sValue=null;this.dsType=null;var a=KJUR,g=a.asn1,d=g.DERSequence,l=g.DERUTF8String,i=g.DERPrintableString,h=g.DERTeletexString,b=g.DERIA5String,e=g.DERVisibleString,k=g.DERBMPString,f=a.lang.String.isMail,j=a.lang.String.isPrintable;this.setByParam=function(o){if(o.rule!==undefined){this.sRule=o.rule}if(o.ds!==undefined){this.dsType=o.ds}if(o.value===undefined&&o.str!==undefined){var n=o.str;var m=n.match(/^([^=]+)=(.+)$/);if(m){this.sType=m[1];this.sValue=m[2]}else{throw new Error(\"malformed attrTypeAndValueStr: \"+attrTypeAndValueStr)}}else{this.sType=o.type;this.sValue=o.value}};this.setByString=function(n,o){if(o!==undefined){this.sRule=o}var m=n.match(/^([^=]+)=(.+)$/);if(m){this.setByAttrTypeAndValueStr(m[1],m[2])}else{throw new Error(\"malformed attrTypeAndValueStr: \"+attrTypeAndValueStr)}};this._getDsType=function(){var o=this.sType;var n=this.sValue;var m=this.sRule;if(m===\"prn\"){if(o==\"CN\"&&f(n)){return\"ia5\"}if(j(n)){return\"prn\"}return\"utf8\"}else{if(m===\"utf8\"){if(o==\"CN\"&&f(n)){return\"ia5\"}if(o==\"C\"){return\"prn\"}return\"utf8\"}}return\"utf8\"};this.setByAttrTypeAndValueStr=function(o,n,m){if(m!==undefined){this.sRule=m}this.sType=o;this.sValue=n};this.getValueObj=function(n,m){if(n==\"utf8\"){return new l({str:m})}if(n==\"prn\"){return new i({str:m})}if(n==\"tel\"){return new h({str:m})}if(n==\"ia5\"){return new b({str:m})}if(n==\"vis\"){return new e({str:m})}if(n==\"bmp\"){return new k({str:m})}throw new Error(\"unsupported directory string type: type=\"+n+\" value=\"+m)};this.tohex=function(){if(this.dsType==null){this.dsType=this._getDsType()}var n=KJUR.asn1.x509.OID.atype2obj(this.sType);var m=this.getValueObj(this.dsType,this.sValue);var p=new d({array:[n,m]});this.TLV=p.tohex();return this.TLV};this.getEncodedHex=function(){return this.tohex()};if(c!==undefined){this.setByParam(c)}};extendClass(KJUR.asn1.x509.AttributeTypeAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.x509.SubjectPublicKeyInfo=function(f){KJUR.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var l=null,k=null,a=KJUR,j=a.asn1,i=j.DERInteger,b=j.DERBitString,m=j.DERObjectIdentifier,e=j.DERSequence,h=j.ASN1Util.newObject,d=j.x509,o=d.AlgorithmIdentifier,g=a.crypto,n=g.ECDSA,c=g.DSA;this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null){throw\"algId and/or subjPubKey not set\"}var p=new e({array:[this.asn1AlgId,this.asn1SubjPKey]});return p};this.tohex=function(){var p=this.getASN1Object();this.hTLV=p.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};this.setPubKey=function(q){try{if(q instanceof RSAKey){var u=h({seq:[{\"int\":{bigint:q.n}},{\"int\":{\"int\":q.e}}]});var s=u.tohex();this.asn1AlgId=new o({name:\"rsaEncryption\"});this.asn1SubjPKey=new b({hex:\"00\"+s})}}catch(p){}try{if(q instanceof KJUR.crypto.ECDSA){var r=new m({name:q.curveName});this.asn1AlgId=new o({name:\"ecPublicKey\",asn1params:r});this.asn1SubjPKey=new b({hex:\"00\"+q.pubKeyHex})}}catch(p){}try{if(q instanceof KJUR.crypto.DSA){var r=new h({seq:[{\"int\":{bigint:q.p}},{\"int\":{bigint:q.q}},{\"int\":{bigint:q.g}}]});this.asn1AlgId=new o({name:\"dsa\",asn1params:r});var t=new i({bigint:q.y});this.asn1SubjPKey=new b({hex:\"00\"+t.tohex()})}}catch(p){}};if(f!==undefined){this.setPubKey(f)}};extendClass(KJUR.asn1.x509.SubjectPublicKeyInfo,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Time=function(f){KJUR.asn1.x509.Time.superclass.constructor.call(this);var e=null,a=null,d=KJUR,c=d.asn1,b=c.DERUTCTime,g=c.DERGeneralizedTime;this.params=null;this.type=null;this.setTimeParams=function(h){this.timeParams=h};this.setByParam=function(h){this.params=h};this.getType=function(h){if(h.match(/^[0-9]{12}Z$/)){return\"utc\"}if(h.match(/^[0-9]{14}Z$/)){return\"gen\"}if(h.match(/^[0-9]{12}\\.[0-9]+Z$/)){return\"utc\"}if(h.match(/^[0-9]{14}\\.[0-9]+Z$/)){return\"gen\"}return null};this.tohex=function(){var i=this.params;var h=null;if(typeof i==\"string\"){i={str:i}}if(i!=null&&i.str&&(i.type==null||i.type==undefined)){i.type=this.getType(i.str)}if(i!=null&&i.str){if(i.type==\"utc\"){h=new b(i.str)}if(i.type==\"gen\"){h=new g(i.str)}}else{if(this.type==\"gen\"){h=new g()}else{h=new b()}}if(h==null){throw new Error(\"wrong setting for Time\")}this.TLV=h.tohex();return this.TLV};this.getEncodedHex=function(){return this.tohex()};if(f!=undefined){this.setByParam(f)}};KJUR.asn1.x509.Time_bak=function(f){KJUR.asn1.x509.Time_bak.superclass.constructor.call(this);var e=null,a=null,d=KJUR,c=d.asn1,b=c.DERUTCTime,g=c.DERGeneralizedTime;this.setTimeParams=function(h){this.timeParams=h};this.tohex=function(){var h=null;if(this.timeParams!=null){if(this.type==\"utc\"){h=new b(this.timeParams)}else{h=new g(this.timeParams)}}else{if(this.type==\"utc\"){h=new b()}else{h=new g()}}this.TLV=h.tohex();return this.TLV};this.getEncodedHex=function(){return this.tohex()};this.type=\"utc\";if(f!==undefined){if(f.type!==undefined){this.type=f.type}else{if(f.str!==undefined){if(f.str.match(/^[0-9]{12}Z$/)){this.type=\"utc\"}if(f.str.match(/^[0-9]{14}Z$/)){this.type=\"gen\"}}}this.timeParams=f}};extendClass(KJUR.asn1.x509.Time,KJUR.asn1.ASN1Object);KJUR.asn1.x509.AlgorithmIdentifier=function(e){KJUR.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);this.nameAlg=null;this.asn1Alg=null;this.asn1Params=null;this.paramEmpty=false;var b=KJUR,a=b.asn1,c=a.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null){throw new Error(\"algorithm not specified\")}if(this.nameAlg!==null){var f=null;for(var h in c){if(h===this.nameAlg){f=c[h]}}if(f!==null){this.hTLV=f;return this.hTLV}}if(this.nameAlg!==null&&this.asn1Alg===null){this.asn1Alg=a.x509.OID.name2obj(this.nameAlg)}var g=[this.asn1Alg];if(this.asn1Params!==null){g.push(this.asn1Params)}var i=new a.DERSequence({array:g});this.hTLV=i.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){if(e.name!==undefined){this.nameAlg=e.name}if(e.asn1params!==undefined){this.asn1Params=e.asn1params}if(e.paramempty!==undefined){this.paramEmpty=e.paramempty}}if(this.asn1Params===null&&this.paramEmpty===false&&this.nameAlg!==null){if(this.nameAlg.name!==undefined){this.nameAlg=this.nameAlg.name}var d=this.nameAlg.toLowerCase();if(d.substr(-7,7)!==\"withdsa\"&&d.substr(-9,9)!==\"withecdsa\"){this.asn1Params=new a.DERNull()}}};extendClass(KJUR.asn1.x509.AlgorithmIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:\"300d06092a864886f70d01010a3000\",SHA256withRSAandMGF1:\"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120\",SHA384withRSAandMGF1:\"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130\",SHA512withRSAandMGF1:\"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140\"};KJUR.asn1.x509.GeneralName=function(f){KJUR.asn1.x509.GeneralName.superclass.constructor.call(this);var l={rfc822:\"81\",dns:\"82\",dn:\"a4\",uri:\"86\",ip:\"87\",otherName:\"a0\"},b=KJUR,h=b.asn1,d=h.x509,a=d.X500Name,g=d.OtherName,e=h.DERIA5String,i=h.DERPrintableString,k=h.DEROctetString,c=h.DERTaggedObject,m=h.ASN1Object,j=Error;this.params=null;this.setByParam=function(n){this.params=n};this.tohex=function(){var p=this.params;var A,y,q;var y=false;if(p.other!==undefined){A=\"a0\",q=new g(p.other)}else{if(p.rfc822!==undefined){A=\"81\";q=new e({str:p.rfc822})}else{if(p.dns!==undefined){A=\"82\";q=new e({str:p.dns})}else{if(p.dn!==undefined){A=\"a4\";y=true;if(typeof p.dn===\"string\"){q=new a({str:p.dn})}else{if(p.dn instanceof KJUR.asn1.x509.X500Name){q=p.dn}else{q=new a(p.dn)}}}else{if(p.ldapdn!==undefined){A=\"a4\";y=true;q=new a({ldapstr:p.ldapdn})}else{if(p.certissuer!==undefined||p.certsubj!==undefined){A=\"a4\";y=true;var n,o;var z=null;if(p.certsubj!==undefined){n=false;o=p.certsubj}else{n=true;o=p.certissuer}if(o.match(/^[0-9A-Fa-f]+$/)){z==o}if(o.indexOf(\"-----BEGIN \")!=-1){z=pemtohex(o)}if(z==null){throw new Error(\"certsubj/certissuer not cert\")}var w=new X509();w.hex=z;var s;if(n){s=w.getIssuerHex()}else{s=w.getSubjectHex()}q=new m();q.hTLV=s}else{if(p.uri!==undefined){A=\"86\";q=new e({str:p.uri})}else{if(p.ip!==undefined){A=\"87\";var v;var t=p.ip;try{if(t.match(/^[0-9a-f]+$/)){var r=t.length;if(r==8||r==16||r==32||r==64){v=t}else{throw\"err\"}}else{v=iptohex(t)}}catch(u){throw new j(\"malformed IP address: \"+p.ip+\":\"+u.message)}q=new k({hex:v})}else{throw new j(\"improper params\")}}}}}}}}var B=new c({tag:A,explicit:y,obj:q});return B.tohex()};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){this.setByParam(f)}};extendClass(KJUR.asn1.x509.GeneralName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.GeneralNames=function(d){KJUR.asn1.x509.GeneralNames.superclass.constructor.call(this);var a=null,c=KJUR,b=c.asn1;this.setByParamArray=function(g){for(var e=0;e<g.length;e++){var f=new b.x509.GeneralName(g[e]);this.asn1Array.push(f)}};this.tohex=function(){var e=new b.DERSequence({array:this.asn1Array});return e.tohex()};this.getEncodedHex=function(){return this.tohex()};this.asn1Array=new Array();if(typeof d!=\"undefined\"){this.setByParamArray(d)}};extendClass(KJUR.asn1.x509.GeneralNames,KJUR.asn1.ASN1Object);KJUR.asn1.x509.OtherName=function(g){KJUR.asn1.x509.OtherName.superclass.constructor.call(this);var f=null,e=null,d=KJUR,c=d.asn1,h=c.DERObjectIdentifier,a=c.DERSequence,b=c.ASN1Util.newObject;this.params=null;this.setByParam=function(i){this.params=i};this.tohex=function(){var k=this.params;if(k.oid==undefined||k.value==undefined){throw new Error(\"oid or value not specified\")}var l=new h({oid:k.oid});var i=b({tag:{tag:\"a0\",explicit:true,obj:k.value}});var j=new a({array:[l,i]});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!==undefined){this.setByParam(g)}};extendClass(KJUR.asn1.x509.OtherName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.OID=new function(){var a=KJUR.asn1.DERObjectIdentifier;this.name2oidList={\"aes128-CBC\":\"2.16.840.1.101.3.4.1.2\",\"aes256-CBC\":\"2.16.840.1.101.3.4.1.42\",sha1:\"1.3.14.3.2.26\",sha256:\"2.16.840.1.101.3.4.2.1\",sha384:\"2.16.840.1.101.3.4.2.2\",sha512:\"2.16.840.1.101.3.4.2.3\",sha224:\"2.16.840.1.101.3.4.2.4\",md5:\"1.2.840.113549.2.5\",md2:\"1.3.14.7.2.2.1\",ripemd160:\"1.3.36.3.2.1\",hmacWithSHA1:\"1.2.840.113549.2.7\",hmacWithSHA224:\"1.2.840.113549.2.8\",hmacWithSHA256:\"1.2.840.113549.2.9\",hmacWithSHA384:\"1.2.840.113549.2.10\",hmacWithSHA512:\"1.2.840.113549.2.11\",MD2withRSA:\"1.2.840.113549.1.1.2\",MD4withRSA:\"1.2.840.113549.1.1.3\",MD5withRSA:\"1.2.840.113549.1.1.4\",SHA1withRSA:\"1.2.840.113549.1.1.5\",\"pkcs1-MGF\":\"1.2.840.113549.1.1.8\",rsaPSS:\"1.2.840.113549.1.1.10\",SHA224withRSA:\"1.2.840.113549.1.1.14\",SHA256withRSA:\"1.2.840.113549.1.1.11\",SHA384withRSA:\"1.2.840.113549.1.1.12\",SHA512withRSA:\"1.2.840.113549.1.1.13\",SHA1withECDSA:\"1.2.840.10045.4.1\",SHA224withECDSA:\"1.2.840.10045.4.3.1\",SHA256withECDSA:\"1.2.840.10045.4.3.2\",SHA384withECDSA:\"1.2.840.10045.4.3.3\",SHA512withECDSA:\"1.2.840.10045.4.3.4\",dsa:\"1.2.840.10040.4.1\",SHA1withDSA:\"1.2.840.10040.4.3\",SHA224withDSA:\"2.16.840.1.101.3.4.3.1\",SHA256withDSA:\"2.16.840.1.101.3.4.3.2\",rsaEncryption:\"1.2.840.113549.1.1.1\",commonName:\"2.5.4.3\",countryName:\"2.5.4.6\",localityName:\"2.5.4.7\",stateOrProvinceName:\"2.5.4.8\",streetAddress:\"2.5.4.9\",organizationName:\"2.5.4.10\",organizationalUnitName:\"2.5.4.11\",domainComponent:\"0.9.2342.19200300.100.1.25\",userId:\"0.9.2342.19200300.100.1.1\",surname:\"2.5.4.4\",givenName:\"2.5.4.42\",title:\"2.5.4.12\",distinguishedName:\"2.5.4.49\",emailAddress:\"1.2.840.113549.1.9.1\",description:\"2.5.4.13\",businessCategory:\"2.5.4.15\",postalCode:\"2.5.4.17\",uniqueIdentifier:\"2.5.4.45\",organizationIdentifier:\"2.5.4.97\",jurisdictionOfIncorporationL:\"1.3.6.1.4.1.311.60.2.1.1\",jurisdictionOfIncorporationSP:\"1.3.6.1.4.1.311.60.2.1.2\",jurisdictionOfIncorporationC:\"1.3.6.1.4.1.311.60.2.1.3\",subjectDirectoryAttributes:\"2.5.29.9\",subjectKeyIdentifier:\"2.5.29.14\",keyUsage:\"2.5.29.15\",subjectAltName:\"2.5.29.17\",issuerAltName:\"2.5.29.18\",basicConstraints:\"2.5.29.19\",cRLNumber:\"2.5.29.20\",cRLReason:\"2.5.29.21\",nameConstraints:\"2.5.29.30\",cRLDistributionPoints:\"2.5.29.31\",certificatePolicies:\"2.5.29.32\",anyPolicy:\"2.5.29.32.0\",policyMappings:\"2.5.29.33\",authorityKeyIdentifier:\"2.5.29.35\",policyConstraints:\"2.5.29.36\",extKeyUsage:\"2.5.29.37\",inhibitAnyPolicy:\"2.5.29.54\",authorityInfoAccess:\"1.3.6.1.5.5.7.1.1\",ocsp:\"1.3.6.1.5.5.7.48.1\",ocspBasic:\"1.3.6.1.5.5.7.48.1.1\",ocspNonce:\"1.3.6.1.5.5.7.48.1.2\",ocspNoCheck:\"1.3.6.1.5.5.7.48.1.5\",caIssuers:\"1.3.6.1.5.5.7.48.2\",anyExtendedKeyUsage:\"2.5.29.37.0\",serverAuth:\"1.3.6.1.5.5.7.3.1\",clientAuth:\"1.3.6.1.5.5.7.3.2\",codeSigning:\"1.3.6.1.5.5.7.3.3\",emailProtection:\"1.3.6.1.5.5.7.3.4\",timeStamping:\"1.3.6.1.5.5.7.3.8\",ocspSigning:\"1.3.6.1.5.5.7.3.9\",smtpUTF8Mailbox:\"1.3.6.1.5.5.7.8.9\",dateOfBirth:\"1.3.6.1.5.5.7.9.1\",placeOfBirth:\"1.3.6.1.5.5.7.9.2\",gender:\"1.3.6.1.5.5.7.9.3\",countryOfCitizenship:\"1.3.6.1.5.5.7.9.4\",countryOfResidence:\"1.3.6.1.5.5.7.9.5\",ecPublicKey:\"1.2.840.10045.2.1\",\"P-256\":\"1.2.840.10045.3.1.7\",secp256r1:\"1.2.840.10045.3.1.7\",secp256k1:\"1.3.132.0.10\",secp384r1:\"1.3.132.0.34\",secp521r1:\"1.3.132.0.35\",pkcs5PBES2:\"1.2.840.113549.1.5.13\",pkcs5PBKDF2:\"1.2.840.113549.1.5.12\",\"des-EDE3-CBC\":\"1.2.840.113549.3.7\",data:\"1.2.840.113549.1.7.1\",\"signed-data\":\"1.2.840.113549.1.7.2\",\"enveloped-data\":\"1.2.840.113549.1.7.3\",\"digested-data\":\"1.2.840.113549.1.7.5\",\"encrypted-data\":\"1.2.840.113549.1.7.6\",\"authenticated-data\":\"1.2.840.113549.1.9.16.1.2\",tstinfo:\"1.2.840.113549.1.9.16.1.4\",signingCertificate:\"1.2.840.113549.1.9.16.2.12\",timeStampToken:\"1.2.840.113549.1.9.16.2.14\",signaturePolicyIdentifier:\"1.2.840.113549.1.9.16.2.15\",etsArchiveTimeStamp:\"1.2.840.113549.1.9.16.2.27\",signingCertificateV2:\"1.2.840.113549.1.9.16.2.47\",etsArchiveTimeStampV2:\"1.2.840.113549.1.9.16.2.48\",extensionRequest:\"1.2.840.113549.1.9.14\",contentType:\"1.2.840.113549.1.9.3\",messageDigest:\"1.2.840.113549.1.9.4\",signingTime:\"1.2.840.113549.1.9.5\",counterSignature:\"1.2.840.113549.1.9.6\",archiveTimeStampV3:\"0.4.0.1733.2.4\",pdfRevocationInfoArchival:\"1.2.840.113583.1.1.8\",adobeTimeStamp:\"1.2.840.113583.1.1.9.1\",smimeMailboxLegacy:\"2.23.140.1.5.1.1\",smimeMailboxMulti:\"2.23.140.1.5.1.2\",smimeMailboxStrict:\"2.23.140.1.5.1.3\",smimeOrganizationLegacy:\"2.23.140.1.5.2.1\",smimeOrganizationMulti:\"2.23.140.1.5.2.2\",smimeOrganizationStrict:\"2.23.140.1.5.2.3\",smimeSponsorLegacy:\"2.23.140.1.5.3.1\",smimeSponsorMulti:\"2.23.140.1.5.3.2\",smimeSponsorStrict:\"2.23.140.1.5.3.3\",smimeIndividualLegacy:\"2.23.140.1.5.4.1\",smimeIndividualMulti:\"2.23.140.1.5.4.2\",smimeIndividualStrict:\"2.23.140.1.5.4.3\",};this.atype2oidList={CN:\"2.5.4.3\",L:\"2.5.4.7\",ST:\"2.5.4.8\",O:\"2.5.4.10\",OU:\"2.5.4.11\",C:\"2.5.4.6\",STREET:\"2.5.4.9\",DC:\"0.9.2342.19200300.100.1.25\",UID:\"0.9.2342.19200300.100.1.1\",SN:\"2.5.4.4\",T:\"2.5.4.12\",GN:\"2.5.4.42\",DN:\"2.5.4.49\",E:\"1.2.840.113549.1.9.1\",description:\"2.5.4.13\",businessCategory:\"2.5.4.15\",postalCode:\"2.5.4.17\",serialNumber:\"2.5.4.5\",uniqueIdentifier:\"2.5.4.45\",organizationIdentifier:\"2.5.4.97\",jurisdictionOfIncorporationL:\"1.3.6.1.4.1.311.60.2.1.1\",jurisdictionOfIncorporationSP:\"1.3.6.1.4.1.311.60.2.1.2\",jurisdictionOfIncorporationC:\"1.3.6.1.4.1.311.60.2.1.3\"};this.objCache={};this.name2obj=function(b){if(typeof this.objCache[b]!=\"undefined\"){return this.objCache[b]}if(typeof this.name2oidList[b]==\"undefined\"){throw\"Name of ObjectIdentifier not defined: \"+b}var c=this.name2oidList[b];var d=new a({oid:c});this.objCache[b]=d;return d};this.atype2obj=function(b){if(this.objCache[b]!==undefined){return this.objCache[b]}var c;if(b.match(/^\\d+\\.\\d+\\.[0-9.]+$/)){c=b}else{if(this.atype2oidList[b]!==undefined){c=this.atype2oidList[b]}else{if(this.name2oidList[b]!==undefined){c=this.name2oidList[b]}else{throw new Error(\"AttributeType name undefined: \"+b)}}}var d=new a({oid:c});this.objCache[b]=d;return d};this.registerOIDs=function(b){if(!this.checkOIDs(b)){return}for(var c in b){this.name2oidList[c]=b[c]}};this.checkOIDs=function(b){try{var d=Object.keys(b);if(d.length==0){return false}d.map(function(g,e,h){var f=this[g];if(!f.match(/^[0-2]\\.[0-9.]+$/)){throw new Error(\"value is not OID\")}},b);return true}catch(c){return false}}};KJUR.asn1.x509.OID.oid2name=function(b){var c=KJUR.asn1.x509.OID.name2oidList;for(var a in c){if(c[a]==b){return a}}return\"\"};KJUR.asn1.x509.OID.oid2atype=function(b){var c=KJUR.asn1.x509.OID.atype2oidList;for(var a in c){if(c[a]==b){return a}}return b};KJUR.asn1.x509.OID.name2oid=function(a){if(a.match(/^[0-9.]+$/)){return a}var b=KJUR.asn1.x509.OID.name2oidList;if(b[a]===undefined){return\"\"}return b[a]};KJUR.asn1.x509.X509Util={};KJUR.asn1.x509.X509Util.newCertPEM=function(e){var d=KJUR.asn1.x509,b=d.TBSCertificate,a=d.Certificate;var c=new a(e);return c.getPEM()};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.cms==\"undefined\"||!KJUR.asn1.cms){KJUR.asn1.cms={}}KJUR.asn1.cms.Attribute=function(f){var e=Error,d=KJUR,c=d.asn1,b=c.DERSequence,a=c.DERSet,g=c.DERObjectIdentifier;this.params=null;this.typeOid=null;this.setByParam=function(h){this.params=h};this.getValueArray=function(){throw new e(\"not yet implemented abstract\")};this.tohex=function(){var j=new g({oid:this.typeOid});var h=new a({array:this.getValueArray()});var i=new b({array:[j,h]});return i.tohex()};this.getEncodedHex=function(){return this.tohex()}};extendClass(KJUR.asn1.cms.Attribute,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentType=function(c){var b=KJUR,a=b.asn1;a.cms.ContentType.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.3\";this.getValueArray=function(){var d=new a.DERObjectIdentifier(this.params.type);return[d]};if(c!=undefined){this.setByParam(c)}};extendClass(KJUR.asn1.cms.ContentType,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.MessageDigest=function(e){var b=KJUR,a=b.asn1,c=a.DEROctetString,d=a.cms;d.MessageDigest.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.4\";this.getValueArray=function(){var f=new c(this.params);return[f]};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cms.MessageDigest,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningTime=function(c){var b=KJUR,a=b.asn1;a.cms.SigningTime.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.5\";this.getValueArray=function(){var d=new a.x509.Time(this.params);return[d]};if(c!=undefined){this.setByParam(c)}};extendClass(KJUR.asn1.cms.SigningTime,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningCertificate=function(h){var e=Error,d=KJUR,c=d.asn1,b=c.DERSequence,g=c.cms,a=g.ESSCertID,f=d.crypto;g.SigningCertificate.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.16.2.12\";this.getValueArray=function(){if(this.params==null||this.params==undefined||this.params.array==undefined){throw new e(\"parameter 'array' not specified\")}var o=this.params.array;var k=[];for(var l=0;l<o.length;l++){var n=o[l];if(h.hasis==false&&(typeof n==\"string\"&&(n.indexOf(\"-----BEGIN\")!=-1||ASN1HEX.isASN1HEX(n)))){n={cert:n}}if(n.hasis!=false&&h.hasis==false){n.hasis=false}k.push(new a(n))}var j=new b({array:k});var m=new b({array:[j]});return[m]};if(h!=undefined){this.setByParam(h)}};extendClass(KJUR.asn1.cms.SigningCertificate,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.ESSCertID=function(g){KJUR.asn1.cms.ESSCertID.superclass.constructor.call(this);var d=Error,c=KJUR,b=c.asn1,f=b.DEROctetString,a=b.DERSequence,e=b.cms.IssuerSerial;this.params=null;this.getCertHash=function(k,h){if(k.hash!=undefined){return k.hash}if(typeof k==\"string\"&&k.indexOf(\"-----BEGIN\")==-1&&!ASN1HEX.isASN1HEX(k)){return k}var i;if(typeof k==\"string\"){i=k}else{if(k.cert!=undefined){i=k.cert}else{throw new d(\"hash nor cert unspecified\")}}var j;if(i.indexOf(\"-----BEGIN\")!=-1){j=pemtohex(i)}else{j=i}if(typeof k==\"string\"){if(k.indexOf(\"-----BEGIN\")!=-1){j=pemtohex(k)}else{if(ASN1HEX.isASN1HEX(k)){j=k}}}var l;if(k.alg!=undefined){l=k.alg}else{if(h!=undefined){l=h}else{throw new d(\"hash alg unspecified\")}}return c.crypto.Util.hashHex(j,l)};this.tohex=function(){var k=this.params;var j=this.getCertHash(k,\"sha1\");var h=[];h.push(new f({hex:j}));if((typeof k==\"string\"&&k.indexOf(\"-----BEGIN\")!=-1)||(k.cert!=undefined&&k.hasis!=false)||(k.issuer!=undefined&&k.serial!=undefined)){h.push(new e(k))}var i=new a({array:h});return i.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cms.ESSCertID,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SigningCertificateV2=function(d){var h=Error,a=KJUR,g=a.asn1,e=g.DERSequence,b=g.x509,i=g.cms,c=i.ESSCertIDv2,f=a.crypto;i.SigningCertificateV2.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.16.2.47\";this.getValueArray=function(){if(this.params==null||this.params==undefined||this.params.array==undefined){throw new h(\"parameter 'array' not specified\")}var o=this.params.array;var l=[];for(var m=0;m<o.length;m++){var n=o[m];if((d.alg!=undefined||d.hasis==false)&&(typeof n==\"string\"&&(n.indexOf(\"-----BEGIN\")!=-1||ASN1HEX.isASN1HEX(n)))){n={cert:n}}if(n.alg==undefined&&d.alg!=undefined){n.alg=d.alg}if(n.hasis!=false&&d.hasis==false){n.hasis=false}l.push(new c(n))}var k=new e({array:l});var j=new e({array:[k]});return[j]};if(d!=undefined){this.setByParam(d)}};extendClass(KJUR.asn1.cms.SigningCertificateV2,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.ESSCertIDv2=function(h){KJUR.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var d=Error,c=KJUR,b=c.asn1,f=b.DEROctetString,a=b.DERSequence,e=b.cms.IssuerSerial,g=b.x509.AlgorithmIdentifier;this.params=null;this.tohex=function(){var l=this.params;var k=this.getCertHash(l,\"sha256\");var i=[];if(l.alg!=undefined&&l.alg!=\"sha256\"){i.push(new g({name:l.alg}))}i.push(new f({hex:k}));if((typeof l==\"string\"&&l.indexOf(\"-----BEGIN\")!=-1)||(l.cert!=undefined&&l.hasis!=false)||(l.issuer!=undefined&&l.serial!=undefined)){i.push(new e(l))}var j=new a({array:i});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};if(h!=undefined){this.setByParam(h)}};extendClass(KJUR.asn1.cms.ESSCertIDv2,KJUR.asn1.cms.ESSCertID);KJUR.asn1.cms.IssuerSerial=function(e){var i=Error,c=KJUR,h=c.asn1,g=h.DERInteger,f=h.DERSequence,j=h.cms,d=h.x509,a=d.GeneralNames,b=X509;j.IssuerSerial.superclass.constructor.call(this);this.setByParam=function(k){this.params=k};this.tohex=function(){var p=this.params;var l,r;if((typeof p==\"string\"&&p.indexOf(\"-----BEGIN\")!=-1)||p.cert!=undefined){var n;if(p.cert!=undefined){n=p.cert}else{n=p}var k=new b();k.readCertPEM(n);l=k.getIssuer();r={hex:k.getSerialNumberHex()}}else{if(p.issuer!=undefined&&p.serial){l=p.issuer;r=p.serial}else{throw new i(\"cert or issuer and serial parameter not specified\")}}var q=new a([{dn:l}]);var o=new g(r);var m=new f({array:[q,o]});return m.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cms.IssuerSerial,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignerIdentifier=function(f){var c=KJUR,i=c.asn1,h=i.DERInteger,g=i.DERSequence,l=i.cms,k=l.IssuerAndSerialNumber,d=l.SubjectKeyIdentifier,e=i.x509,a=e.X500Name,b=X509,j=Error;l.SignerIdentifier.superclass.constructor.call(this);this.params=null;this.tohex=function(){var o=this.params;if(o.type==\"isssn\"){var m=new k(o);return m.tohex()}else{if(o.type==\"skid\"){var n=new d(o);return n.tohex()}else{throw new Error(\"wrong property for isssn or skid\")}}};this.getEncodedHex=function(){return this.tohex()};if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.cms.SignerIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.cms.IssuerAndSerialNumber=function(e){var c=KJUR,h=c.asn1,g=h.DERInteger,f=h.DERSequence,j=h.cms,d=h.x509,a=d.X500Name,b=X509,i=Error;j.IssuerAndSerialNumber.superclass.constructor.call(this);this.params=null;this.tohex=function(){var p=this.params;var l,r;if((typeof p==\"string\"&&p.indexOf(\"-----BEGIN\")!=-1)||p.cert!=undefined){var n;if(p.cert!=undefined){n=p.cert}else{n=p}var k=new b();k.readCertPEM(n);l=k.getIssuer();r={hex:k.getSerialNumberHex()}}else{if(p.issuer!=undefined&&p.serial){l=p.issuer;r=p.serial}else{throw new i(\"cert or issuer and serial parameter not specified\")}}var q=new a(l);var o=new g(r);var m=new f({array:[q,o]});return m.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(k){this.params=k};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cms.IssuerAndSerialNumber,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SubjectKeyIdentifier=function(g){var d=KJUR,k=d.asn1,i=k.DERInteger,h=k.DERSequence,j=k.ASN1Util.newObject,m=k.cms,f=m.IssuerAndSerialName,c=m.SubjectKeyIdentifier,e=k.x509,a=e.X500Name,b=X509,l=Error;m.SubjectKeyIdentifier.superclass.constructor.call(this);this.tohex=function(){var r=this.params;if(r.cert==undefined&&r.skid==undefined){throw new l(\"property cert nor skid undefined\")}var q;if(r.cert!=undefined){var n=new b(r.cert);var o=n.getExtSubjectKeyIdentifier();q=o.kid.hex}else{if(r.skid!=undefined){q=r.skid}}var p=j({tag:{tage:\"a0\",obj:{octstr:{hex:q}}}});return p.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cms.SubjectKeyIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.cms.AttributeList=function(f){var d=Error,c=KJUR,b=c.asn1,a=b.DERSet,e=b.cms;e.AttributeList.superclass.constructor.call(this);this.params=null;this.hTLV=null;this.setByParam=function(g){this.params=g};this.tohex=function(){var o=this.params;if(this.hTLV!=null){return this.hTLV}var m=true;if(o.sortflag!=undefined){m=o.sortflag}var j=o.array;var g=[];for(var l=0;l<j.length;l++){var n=j[l];var k=n.attr;if(k==\"contentType\"){g.push(new e.ContentType(n))}else{if(k==\"messageDigest\"){g.push(new e.MessageDigest(n))}else{if(k==\"signingTime\"){g.push(new e.SigningTime(n))}else{if(k==\"signingCertificate\"){g.push(new e.SigningCertificate(n))}else{if(k==\"signingCertificateV2\"){g.push(new e.SigningCertificateV2(n))}else{if(k==\"signaturePolicyIdentifier\"){g.push(new KJUR.asn1.cades.SignaturePolicyIdentifier(n))}else{if(k==\"signatureTimeStamp\"||k==\"timeStampToken\"){g.push(new KJUR.asn1.cades.SignatureTimeStamp(n))}else{throw new d(\"unknown attr: \"+k)}}}}}}}}var h=new a({array:g,sortflag:m});this.hTLV=h.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.cms.AttributeList,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignerInfo=function(q){var n=Error,r=KJUR,i=r.asn1,c=i.DERInteger,f=i.DEROctetString,h=i.DERSequence,m=i.DERTaggedObject,k=i.cms,p=k.SignerIdentifier,l=k.AttributeList,g=k.ContentType,e=k.EncapsulatedContentInfo,d=k.MessageDigest,j=k.SignedData,a=i.x509,s=a.AlgorithmIdentifier,b=r.crypto,o=KEYUTIL;k.SignerInfo.superclass.constructor.call(this);this.params=null;this.sign=function(){var y=this.params;var x=y.sigalg;var u=(new l(y.sattrs)).tohex();var v=o.getKey(y.signkey);var w=new b.Signature({alg:x});w.init(v);w.updateHex(u);var t=w.sign();y.sighex=t};this.tohex=function(){var w=this.params;var t=[];t.push(new c({\"int\":w.version}));t.push(new p(w.id));t.push(new s({name:w.hashalg}));if(w.sattrs!=undefined){var x=new l(w.sattrs);try{t.push(new m({tag:\"a0\",explicit:false,obj:x}))}catch(v){throw new n(\"si sattr error: \"+v)}}if(w.sigalgfield!=undefined){t.push(new s({name:w.sigalgfield}))}else{t.push(new s({name:w.sigalg}))}if(w.sighex==undefined&&w.signkey!=undefined){this.sign()}t.push(new f({hex:w.sighex}));if(w.uattrs!=undefined){var x=new l(w.uattrs);try{t.push(new m({tag:\"a1\",explicit:false,obj:x}))}catch(v){throw new n(\"si uattr error: \"+v)}}var u=new h({array:t});return u.tohex()};this.getEncodedHex=function(){return this.tohex()};if(q!=undefined){this.setByParam(q)}};extendClass(KJUR.asn1.cms.SignerInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.EncapsulatedContentInfo=function(g){var c=KJUR,b=c.asn1,e=b.DERTaggedObject,a=b.DERSequence,h=b.DERObjectIdentifier,d=b.DEROctetString,f=b.cms;f.EncapsulatedContentInfo.superclass.constructor.call(this);this.params=null;this.tohex=function(){var m=this.params;var i=[];i.push(new h(m.type));if(m.content!=undefined&&(m.content.hex!=undefined||m.content.str!=undefined)&&m.isDetached!=true){var k=new d(m.content);var l=new e({tag:\"a0\",explicit:true,obj:k});i.push(l)}var j=new a({array:i});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(i){this.params=i};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cms.EncapsulatedContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentInfo=function(g){var c=KJUR,b=c.asn1,d=b.DERTaggedObject,a=b.DERSequence,h=b.DERObjectIdentifier,f=b.x509,e=f.OID.name2obj;KJUR.asn1.cms.ContentInfo.superclass.constructor.call(this);this.params=null;this.tohex=function(){var l=this.params;var i=[];i.push(new h(l.type));var k=new d({tag:\"a0\",explicit:true,obj:l.obj});i.push(k);var j=new a({array:i});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(i){this.params=i};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cms.ContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignedData=function(e){var j=Error,a=KJUR,h=a.asn1,m=h.ASN1Object,g=h.DERInteger,p=h.DERSet,f=h.DERSequence,b=h.DERTaggedObject,o=h.cms,l=o.EncapsulatedContentInfo,d=o.SignerInfo,q=o.ContentInfo,k=o.CertificateSet,i=o.RevocationInfoChoices,c=h.x509,n=c.AlgorithmIdentifier;KJUR.asn1.cms.SignedData.superclass.constructor.call(this);this.params=null;this.checkAndFixParam=function(){var r=this.params;this._setDigestAlgs(r);this._setContentTypeByEContent(r);this._setMessageDigestByEContent(r);this._setSignerInfoVersion(r);this._setSignedDataVersion(r)};this._setDigestAlgs=function(v){var u={};var t=v.sinfos;for(var r=0;r<t.length;r++){var s=t[r];u[s.hashalg]=1}v.hashalgs=Object.keys(u).sort()};this._setContentTypeByEContent=function(w){var u=w.econtent.type;var v=w.sinfos;for(var r=0;r<v.length;r++){var t=v[r];var s=this._getAttrParamByName(t,\"contentType\");s.type=u}};this._setMessageDigestByEContent=function(r){var v=r.econtent;var y=r.econtent.type;var x=v.content.hex;if(x==undefined&&v.type==\"data\"&&v.content.str!=undefined){x=rstrtohex(v.content.str)}var A=r.sinfos;for(var u=0;u<A.length;u++){var t=A[u];var s=t.hashalg;var z=this._getAttrParamByName(t,\"messageDigest\");var w=KJUR.crypto.Util.hashHex(x,s);z.hex=w}};this._getAttrParamByName=function(t,s){var u=t.sattrs.array;for(var r=0;r<u.length;r++){if(u[r].attr==s){return u[r]}}};this._setSignerInfoVersion=function(v){var t=v.sinfos;for(var r=0;r<t.length;r++){var s=t[r];var u=1;if(s.id.type==\"skid\"){u=3}s.version=u}};this._setSignedDataVersion=function(s){var r=this._getSignedDataVersion(s);s.version=r};this._getSignedDataVersion=function(w){if(w.revinfos!=undefined){var r=w.revinfos;for(var t=0;t<r.length;t++){var s=r[t];if(s.ocsp!=undefined){return 5}}}var v=w.sinfos;for(var t=0;t<v.length;t++){var u=w.sinfos[t];if(u.version==3){return 3}}if(w.econtent.type!=\"data\"){return 3}return 1};this.tohex=function(){var y=this.params;if(this.getEncodedHexPrepare!=undefined){this.getEncodedHexPrepare()}if(y.fixed!=true){this.checkAndFixParam()}var r=[];r.push(new g({\"int\":y.version}));var w=[];for(var v=0;v<y.hashalgs.length;v++){var t=y.hashalgs[v];w.push(new n({name:t}))}r.push(new p({array:w}));r.push(new l(y.econtent));if(y.certs!=undefined){r.push(new k(y.certs))}if(y.revinfos!=undefined){r.push(new i(y.revinfos))}var u=[];for(var v=0;v<y.sinfos.length;v++){var x=y.sinfos[v];u.push(new d(x))}r.push(new p({array:u}));var s=new f({array:r});return s.tohex()};this.getEncodedHex=function(){return this.tohex()};this.getContentInfo=function(){var r=new q({type:\"signed-data\",obj:this});return r};this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cms.SignedData,KJUR.asn1.ASN1Object);KJUR.asn1.cms.CertificateSet=function(f){KJUR.asn1.cms.CertificateSet.superclass.constructor.call(this);var c=Error,b=KJUR.asn1,e=b.DERTaggedObject,a=b.DERSet,d=b.ASN1Object;this.params=null;this.tohex=function(){var j=this.params;var p=[];var q;if(j instanceof Array){q=j}else{if(j.array!=undefined){q=j.array}else{throw new c(\"cert array not specified\")}}for(var k=0;k<q.length;k++){var l=q[k];var n=pemtohex(l);var g=new d();g.hTLV=n;p.push(g)}var m={array:p};if(j.sortflag==false){m.sortflag=false}var o=new a(m);var h=new e({tag:\"a0\",explicit:false,obj:o});return h.tohex()};this.getEncodedHex=function(){return this.tohex()};if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.cms.CertificateSet,KJUR.asn1.ASN1Object);KJUR.asn1.cms.RevocationInfoChoices=function(a){KJUR.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this);this.params=null;this.tohex=function(){var e=this.params;if(!e instanceof Array){throw new Error(\"params is not array\")}var b=[];for(var c=0;c<e.length;c++){b.push(new KJUR.asn1.cms.RevocationInfoChoice(e[c]))}var d=KJUR.asn1.ASN1Util.newObject({tag:{tagi:\"a1\",obj:{set:b}}});return d.tohex()};this.getEncodedHex=function(){return this.tohex()};if(a!=undefined){this.setByParam(a)}};extendClass(KJUR.asn1.cms.RevocationInfoChoices,KJUR.asn1.ASN1Object);KJUR.asn1.cms.RevocationInfoChoice=function(a){KJUR.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this);this.params=null;this.tohex=function(){var d=this.params;if(d.crl!=undefined&&typeof d.crl==\"string\"){var b=d.crl;if(d.crl.indexOf(\"-----BEGIN\")!=-1){b=pemtohex(d.crl)}return b}else{if(d.ocsp!=undefined){var c=KJUR.asn1.ASN1Util.newObject({tag:{tagi:\"a1\",obj:new KJUR.asn1.cms.OtherRevocationFormat(d)}});return c.tohex()}else{throw new Error(\"property crl or ocsp undefined\")}}};this.getEncodedHex=function(){return this.tohex()};if(a!=undefined){this.setByParam(a)}};extendClass(KJUR.asn1.cms.RevocationInfoChoice,KJUR.asn1.ASN1Object);KJUR.asn1.cms.OtherRevocationFormat=function(f){KJUR.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var d=Error,c=KJUR,b=c.asn1,a=b.ASN1Util.newObject,e=c.lang.String.isHex;this.params=null;this.tohex=function(){var h=this.params;if(h.ocsp==undefined){throw new d(\"property ocsp not specified\")}if(!e(h.ocsp)||!ASN1HEX.isASN1HEX(h.ocsp)){throw new d(\"ocsp value not ASN.1 hex string\")}var g=a({seq:[{oid:\"1.3.6.1.5.5.7.16.2\"},{asn1:{tlv:h.ocsp}}]});return g.tohex()};this.getEncodedHex=function(){return this.tohex()};if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.cms.OtherRevocationFormat,KJUR.asn1.ASN1Object);KJUR.asn1.cms.CMSUtil=new function(){};KJUR.asn1.cms.CMSUtil.newSignedData=function(a){return new KJUR.asn1.cms.SignedData(a)};KJUR.asn1.cms.CMSUtil.verifySignedData=function(n){var C=KJUR,p=C.asn1,s=p.cms,D=s.SignerInfo,q=s.SignedData,y=s.SigningTime,b=s.SigningCertificate,d=s.SigningCertificateV2,A=p.cades,u=A.SignaturePolicyIdentifier,i=C.lang.String.isHex,v=ASN1HEX,h=v.getVbyList,a=v.getTLVbyList,t=v.getIdxbyList,z=v.getChildIdx,c=v.getTLV,B=v.oidname,j=C.crypto.Util.hashHex;if(n.cms===undefined&&!i(n.cms)){}var E=n.cms;var g=function(J,H){var G;for(var I=3;I<6;I++){G=t(J,0,[1,0,I]);if(G!==undefined){var F=J.substr(G,2);if(F===\"a0\"){H.certsIdx=G}if(F===\"a1\"){H.revinfosIdx=G}if(F===\"31\"){H.signerinfosIdx=G}}}};var l=function(I,F){var H=F.signerinfosIdx;if(H===undefined){return}var L=z(I,H);F.signerInfoIdxList=L;for(var G=0;G<L.length;G++){var K=L[G];var J={idx:K};k(I,J);F.signerInfos.push(J)}};var k=function(I,J){var F=J.idx;J.signerid_issuer1=a(I,F,[1,0],\"30\");J.signerid_serial1=h(I,F,[1,1],\"02\");J.hashalg=B(h(I,F,[2,0],\"06\"));var H=t(I,F,[3],\"a0\");J.idxSignedAttrs=H;f(I,J,H);var G=z(I,F);var K=G.length;if(K<6){throw\"malformed SignerInfo\"}J.sigalg=B(h(I,F,[K-2,0],\"06\"));J.sigval=h(I,F,[K-1],\"04\")};var f=function(L,M,F){var J=z(L,F);M.signedAttrIdxList=J;for(var K=0;K<J.length;K++){var I=J[K];var G=h(L,I,[0],\"06\");var H;if(G===\"2a864886f70d010905\"){H=hextoutf8(h(L,I,[1,0]));M.saSigningTime=H}else{if(G===\"2a864886f70d010904\"){H=h(L,I,[1,0],\"04\");M.saMessageDigest=H}}}};var w=function(G,F){if(h(G,0,[0],\"06\")!==\"2a864886f70d010702\"){return F}F.cmsType=\"signedData\";F.econtent=h(G,0,[1,0,2,1,0]);g(G,F);F.signerInfos=[];l(G,F)};var o=function(J,F){var G=F.parse.signerInfos;var L=G.length;var K=true;for(var I=0;I<L;I++){var H=G[I];e(J,F,H,I);if(!H.isValid){K=false}}F.isValid=K};var x=function(F,Q,J,P){var N=Q.parse.certsIdx;var H;if(Q.certs===undefined){H=[];Q.certkeys=[];var K=z(F,N);for(var I=0;I<K.length;I++){var M=c(F,K[I]);var O=new X509();O.readCertHex(M);H[I]=O;Q.certkeys[I]=O.getPublicKey()}Q.certs=H}else{H=Q.certs}Q.cccc=H.length;Q.cccci=K.length;for(var I=0;I<H.length;I++){var L=O.getIssuerHex();var G=O.getSerialNumberHex();if(J.signerid_issuer1===L&&J.signerid_serial1===G){J.certkey_idx=I}}};var e=function(F,R,I,N){I.verifyDetail={};var Q=I.verifyDetail;var K=R.parse.econtent;var G=I.hashalg;var L=I.saMessageDigest;Q.validMessageDigest=false;if(j(K,G)===L){Q.validMessageDigest=true}x(F,R,I,N);Q.validSignatureValue=false;var H=I.sigalg;var M=\"31\"+c(F,I.idxSignedAttrs).substr(2);I.signedattrshex=M;var J=R.certs[I.certkey_idx].getPublicKey();var P=new KJUR.crypto.Signature({alg:H});P.init(J);P.updateHex(M);var O=P.verify(I.sigval);Q.validSignatureValue_isValid=O;if(O===true){Q.validSignatureValue=true}I.isValid=false;if(Q.validMessageDigest&&Q.validSignatureValue){I.isValid=true}};var m=function(){};var r={isValid:false,parse:{}};w(E,r.parse);o(E,r);return r};KJUR.asn1.cms.CMSParser=function(){var g=Error,a=X509,h=new a(),l=ASN1HEX,i=l.getV,b=l.getTLV,f=l.getIdxbyList,c=l.getTLVbyList,d=l.getTLVbyListEx,e=l.getVbyList,k=l.getVbyListEx,j=l.getChildIdx;this.getCMSSignedData=function(m){var o=c(m,0,[1,0]);var n=this.getSignedData(o);return n};this.getSignedData=function(o){var q=j(o,0);var v={};var p=i(o,q[0]);var n=parseInt(p,16);v.version=n;var r=b(o,q[1]);v.hashalgs=this.getHashAlgArray(r);var t=b(o,q[2]);v.econtent=this.getEContent(t);var m=d(o,0,[\"[0]\"]);if(m!=null){v.certs=this.getCertificateSet(m)}var u=d(o,0,[\"[1]\"]);if(u!=null){}var s=d(o,0,[3]);v.sinfos=this.getSignerInfos(s);return v};this.getHashAlgArray=function(s){var q=j(s,0);var m=new a();var n=[];for(var r=0;r<q.length;r++){var p=b(s,q[r]);var o=m.getAlgorithmIdentifierName(p);n.push(o)}return n};this.getEContent=function(m){var n={};var p=e(m,0,[0]);var o=e(m,0,[1,0]);n.type=KJUR.asn1.x509.OID.oid2name(ASN1HEX.hextooidstr(p));n.content={hex:o};return n};this.getSignerInfos=function(p){var r=[];var m=j(p,0);for(var n=0;n<m.length;n++){var o=b(p,m[n]);var q=this.getSignerInfo(o);r.push(q)}return r};this.getSignerInfo=function(s){var y={};var u=j(s,0);var q=l.getInt(s,u[0],-1);if(q!=-1){y.version=q}var t=b(s,u[1]);var p=this.getIssuerAndSerialNumber(t);y.id=p;var z=b(s,u[2]);var n=h.getAlgorithmIdentifierName(z);y.hashalg=n;var w=d(s,0,[\"[0]\"]);if(w!=null){var A=this.getAttributeList(w);y.sattrs=A}var m=d(s,0,[3]);var x=h.getAlgorithmIdentifierName(m);y.sigalg=x;var o=k(s,0,[4]);y.sighex=o;var r=d(s,0,[\"[1]\"]);if(r!=null){var v=this.getAttributeList(r);y.uattrs=v}return y};this.getSignerIdentifier=function(m){if(m.substr(0,2)==\"30\"){return this.getIssuerAndSerialNumber(m)}else{throw new Error(\"SKID of signerIdentifier not supported\")}};this.getIssuerAndSerialNumber=function(n){var o={type:\"isssn\"};var m=j(n,0);var p=b(n,m[0]);o.issuer=h.getX500Name(p);var q=i(n,m[1]);o.serial={hex:q};return o};this.getAttributeList=function(q){var m=[];var n=j(q,0);for(var o=0;o<n.length;o++){var p=b(q,n[o]);var r=this.getAttribute(p);m.push(r)}return{array:m}};this.getAttribute=function(p){var t={};var q=j(p,0);var o=l.getOID(p,q[0]);var m=KJUR.asn1.x509.OID.oid2name(o);t.attr=m;var r=b(p,q[1]);var u=j(r,0);if(u.length==1){t.valhex=b(r,u[0])}else{var s=[];for(var n=0;n<u.length;n++){s.push(b(r,u[n]))}t.valhex=s}if(m==\"contentType\"){this.setContentType(t)}else{if(m==\"messageDigest\"){this.setMessageDigest(t)}else{if(m==\"signingTime\"){this.setSigningTime(t)}else{if(m==\"signingCertificate\"){this.setSigningCertificate(t)}else{if(m==\"signingCertificateV2\"){this.setSigningCertificateV2(t)}else{if(m==\"signaturePolicyIdentifier\"){this.setSignaturePolicyIdentifier(t)}}}}}}return t};this.setContentType=function(m){var n=l.getOIDName(m.valhex,0,null);if(n!=null){m.type=n;delete m.valhex}};this.setSigningTime=function(o){var n=i(o.valhex,0);var m=hextoutf8(n);o.str=m;delete o.valhex};this.setMessageDigest=function(m){var n=i(m.valhex,0);m.hex=n;delete m.valhex};this.setSigningCertificate=function(n){var q=j(n.valhex,0);if(q.length>0){var m=b(n.valhex,q[0]);var p=j(m,0);var t=[];for(var o=0;o<p.length;o++){var s=b(m,p[o]);var u=this.getESSCertID(s);t.push(u)}n.array=t}if(q.length>1){var r=b(n.valhex,q[1]);n.polhex=r}delete n.valhex};this.setSignaturePolicyIdentifier=function(s){var q=j(s.valhex,0);if(q.length>0){var r=l.getOID(s.valhex,q[0]);s.oid=r}if(q.length>1){var m=new a();var t=j(s.valhex,q[1]);var p=b(s.valhex,t[0]);var o=m.getAlgorithmIdentifierName(p);s.alg=o;var n=i(s.valhex,t[1]);s.hash=n}delete s.valhex};this.setSigningCertificateV2=function(o){var s=j(o.valhex,0);if(s.length>0){var n=b(o.valhex,s[0]);var r=j(n,0);var u=[];for(var q=0;q<r.length;q++){var m=b(n,r[q]);var p=this.getESSCertIDv2(m);u.push(p)}o.array=u}if(s.length>1){var t=b(o.valhex,s[1]);o.polhex=t}delete o.valhex};this.getESSCertID=function(o){var p={};var n=j(o,0);if(n.length>0){var q=i(o,n[0]);p.hash=q}if(n.length>1){var m=b(o,n[1]);var r=this.getIssuerSerial(m);if(r.serial!=undefined){p.serial=r.serial}if(r.issuer!=undefined){p.issuer=r.issuer}}return p};this.getESSCertIDv2=function(q){var s={};var p=j(q,0);if(p.length<1||3<p.length){throw new g(\"wrong number of elements\")}var r=0;if(q.substr(p[0],2)==\"30\"){var o=b(q,p[0]);s.alg=h.getAlgorithmIdentifierName(o);r++}else{s.alg=\"sha256\"}var n=i(q,p[r]);s.hash=n;if(p.length>r+1){var m=b(q,p[r+1]);var t=this.getIssuerSerial(m);s.issuer=t.issuer;s.serial=t.serial}return s};this.getIssuerSerial=function(q){var r={};var n=j(q,0);var m=b(q,n[0]);var p=h.getGeneralNames(m);var o=p[0].dn;r.issuer=o;var s=i(q,n[1]);r.serial={hex:s};return r};this.getCertificateSet=function(p){var n=j(p,0);var m=[];for(var o=0;o<n.length;o++){var r=b(p,n[o]);if(r.substr(0,2)==\"30\"){var q=hextopem(r,\"CERTIFICATE\");m.push(q)}}return{array:m,sortflag:false}}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.tsp==\"undefined\"||!KJUR.asn1.tsp){KJUR.asn1.tsp={}}KJUR.asn1.tsp.TimeStampToken=function(d){var c=KJUR,b=c.asn1,a=b.tsp;a.TimeStampToken.superclass.constructor.call(this);this.params=null;this.getEncodedHexPrepare=function(){var e=new a.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()};if(d!=undefined){this.setByParam(d)}};extendClass(KJUR.asn1.tsp.TimeStampToken,KJUR.asn1.cms.SignedData);KJUR.asn1.tsp.TSTInfo=function(f){var m=Error,c=KJUR,j=c.asn1,g=j.DERSequence,i=j.DERInteger,l=j.DERBoolean,h=j.DERGeneralizedTime,n=j.DERObjectIdentifier,e=j.DERTaggedObject,k=j.tsp,d=k.MessageImprint,b=k.Accuracy,a=j.x509.X500Name,o=j.x509.GeneralName;k.TSTInfo.superclass.constructor.call(this);this.dVersion=new i({\"int\":1});this.dPolicy=null;this.dMessageImprint=null;this.dSerial=null;this.dGenTime=null;this.dAccuracy=null;this.dOrdering=null;this.dNonce=null;this.dTsa=null;this.tohex=function(){var p=[this.dVersion];if(this.dPolicy==null){throw new Error(\"policy shall be specified.\")}p.push(this.dPolicy);if(this.dMessageImprint==null){throw new Error(\"messageImprint shall be specified.\")}p.push(this.dMessageImprint);if(this.dSerial==null){throw new Error(\"serialNumber shall be specified.\")}p.push(this.dSerial);if(this.dGenTime==null){throw new Error(\"genTime shall be specified.\")}p.push(this.dGenTime);if(this.dAccuracy!=null){p.push(this.dAccuracy)}if(this.dOrdering!=null){p.push(this.dOrdering)}if(this.dNonce!=null){p.push(this.dNonce)}if(this.dTsa!=null){p.push(this.dTsa)}var q=new g({array:p});this.hTLV=q.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){if(typeof f.policy==\"string\"){if(!f.policy.match(/^[0-9.]+$/)){throw\"policy shall be oid like 0.1.4.134\"}this.dPolicy=new n({oid:f.policy})}if(f.messageImprint!==undefined){this.dMessageImprint=new d(f.messageImprint)}if(f.serial!==undefined){this.dSerial=new i(f.serial)}if(f.genTime!==undefined){this.dGenTime=new h(f.genTime)}if(f.accuracy!==undefined){this.dAccuracy=new b(f.accuracy)}if(f.ordering!==undefined&&f.ordering==true){this.dOrdering=new l()}if(f.nonce!==undefined){this.dNonce=new i(f.nonce)}if(f.tsa!==undefined){this.dTsa=new e({tag:\"a0\",explicit:true,obj:new o({dn:f.tsa})})}}};extendClass(KJUR.asn1.tsp.TSTInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.Accuracy=function(d){var c=KJUR,b=c.asn1,a=b.ASN1Util.newObject;b.tsp.Accuracy.superclass.constructor.call(this);this.params=null;this.tohex=function(){var f=this.params;var e=[];if(f.seconds!=undefined&&typeof f.seconds==\"number\"){e.push({\"int\":f.seconds})}if(f.millis!=undefined&&typeof f.millis==\"number\"){e.push({tag:{tagi:\"80\",obj:{\"int\":f.millis}}})}if(f.micros!=undefined&&typeof f.micros==\"number\"){e.push({tag:{tagi:\"81\",obj:{\"int\":f.micros}}})}return a({seq:e}).tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!=undefined){this.setByParam(d)}};extendClass(KJUR.asn1.tsp.Accuracy,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.MessageImprint=function(g){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.DEROctetString,f=b.x509,e=f.AlgorithmIdentifier;b.tsp.MessageImprint.superclass.constructor.call(this);this.params=null;this.tohex=function(){var k=this.params;var j=new e({name:k.alg});var h=new d({hex:k.hash});var i=new a({array:[j,h]});return i.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!==undefined){this.setByParam(g)}};extendClass(KJUR.asn1.tsp.MessageImprint,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampReq=function(c){var a=KJUR,f=a.asn1,d=f.DERSequence,e=f.DERInteger,h=f.DERBoolean,j=f.ASN1Object,i=f.DERObjectIdentifier,g=f.tsp,b=g.MessageImprint;g.TimeStampReq.superclass.constructor.call(this);this.params=null;this.tohex=function(){var m=this.params;var k=[];k.push(new e({\"int\":1}));if(m.messageImprint instanceof KJUR.asn1.ASN1Object){k.push(m.messageImprint)}else{k.push(new b(m.messageImprint))}if(m.policy!=undefined){k.push(new i(m.policy))}if(m.nonce!=undefined){k.push(new e(m.nonce))}if(m.certreq==true){k.push(new h())}var l=new d({array:k});return l.tohex()};this.getEncodedHex=function(){return this.tohex()};if(c!=undefined){this.setByParam(c)}};extendClass(KJUR.asn1.tsp.TimeStampReq,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampResp=function(g){var e=KJUR,d=e.asn1,c=d.DERSequence,f=d.ASN1Object,a=d.tsp,b=a.PKIStatusInfo;a.TimeStampResp.superclass.constructor.call(this);this.params=null;this.tohex=function(){var j=this.params;var h=[];if(j.econtent!=undefined||j.tst!=undefined){if(j.statusinfo!=undefined){h.push(new b(j.statusinfo))}else{h.push(new b(\"granted\"))}if(j.econtent!=undefined){h.push((new a.TimeStampToken(j)).getContentInfo())}else{if(j.tst instanceof d.ASN1Object){h.push(j.tst)}else{throw new Error(\"improper member tst value\")}}}else{if(j.statusinfo!=undefined){h.push(new b(j.statusinfo))}else{throw new Error(\"parameter for token nor statusinfo not specified\")}}var i=new c({array:h});return i.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.tsp.TimeStampResp,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatusInfo=function(d){var h=Error,a=KJUR,g=a.asn1,e=g.DERSequence,i=g.tsp,f=i.PKIStatus,c=i.PKIFreeText,b=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this);this.params=null;this.tohex=function(){var l=this.params;var j=[];if(typeof l==\"string\"){j.push(new f(l))}else{if(l.status==undefined){throw new h(\"property 'status' unspecified\")}j.push(new f(l.status));if(l.statusstr!=undefined){j.push(new c(l.statusstr))}if(l.failinfo!=undefined){j.push(new b(l.failinfo))}}var k=new e({array:j});return k.tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!=undefined){this.setByParam(d)}};extendClass(KJUR.asn1.tsp.PKIStatusInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatus=function(g){var e=Error,d=KJUR,c=d.asn1,f=c.DERInteger,b=c.tsp;b.PKIStatus.superclass.constructor.call(this);var a={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null;this.tohex=function(){var k=this.params;var h,j;if(typeof k==\"string\"){try{j=a[k]}catch(i){throw new e(\"undefined name: \"+k)}}else{if(typeof k==\"number\"){j=k}else{throw new e(\"unsupported params\")}}return(new f({\"int\":j})).tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.tsp.PKIStatus,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFreeText=function(g){var f=Error,e=KJUR,d=e.asn1,b=d.DERSequence,c=d.DERUTF8String,a=d.tsp;a.PKIFreeText.superclass.constructor.call(this);this.params=null;this.tohex=function(){var l=this.params;if(!l instanceof Array){throw new f(\"wrong params: not array\")}var h=[];for(var k=0;k<l.length;k++){h.push(new c({str:l[k]}))}var j=new b({array:h});return j.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.tsp.PKIFreeText,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFailureInfo=function(h){var f=Error,e=KJUR,d=e.asn1,g=d.DERBitString,b=d.tsp,c=b.PKIFailureInfo;var a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};c.superclass.constructor.call(this);this.params=null;this.getBinValue=function(){var n=this.params;var m=0;if(typeof n==\"number\"&&0<=n&&n<=25){m|=1<<n;var k=m.toString(2);var l=\"\";for(var j=k.length-1;j>=0;j--){l+=k[j]}return l}else{if(typeof n==\"string\"&&a[n]!=undefined){return namearraytobinstr([n],a)}else{if(typeof n==\"object\"&&n.length!=undefined){return namearraytobinstr(n,a)}else{throw new f(\"wrong params\")}}}return};this.tohex=function(){var j=this.params;var i=this.getBinValue();return(new g({bin:i})).tohex()};this.getEncodedHex=function(){return this.tohex()};if(h!=undefined){this.setByParam(h)}};extendClass(KJUR.asn1.tsp.PKIFailureInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.AbstractTSAAdapter=function(a){this.getTSTHex=function(c,b){throw\"not implemented yet\"}};KJUR.asn1.tsp.SimpleTSAAdapter=function(e){var d=KJUR,c=d.asn1,a=c.tsp,b=d.crypto.Util.hashHex;a.SimpleTSAAdapter.superclass.constructor.call(this);this.params=null;this.serial=0;this.getTSTHex=function(g,f){var i=b(g,f);this.params.econtent.content.messageImprint={alg:f,hash:i};this.params.econtent.content.serial={\"int\":this.serial++};var h=Math.floor(Math.random()*1000000000);this.params.econtent.content.nonce={\"int\":h};var j=new a.TimeStampToken(this.params);return j.getContentInfoEncodedHex()};if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.tsp.SimpleTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.FixedTSAAdapter=function(e){var d=KJUR,c=d.asn1,a=c.tsp,b=d.crypto.Util.hashHex;a.FixedTSAAdapter.superclass.constructor.call(this);this.params=null;this.getTSTHex=function(g,f){var h=b(g,f);this.params.econtent.content.messageImprint={alg:f,hash:h};var i=new a.TimeStampToken(this.params);return i.getContentInfoEncodedHex()};if(e!==undefined){this.params=e}};extendClass(KJUR.asn1.tsp.FixedTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.TSPUtil=new function(){};KJUR.asn1.tsp.TSPUtil.newTimeStampToken=function(a){return new KJUR.asn1.tsp.TimeStampToken(a)};KJUR.asn1.tsp.TSPUtil.parseTimeStampReq=function(a){var b=new KJUR.asn1.tsp.TSPParser();return b.getTimeStampReq(a)};KJUR.asn1.tsp.TSPUtil.parseMessageImprint=function(a){var b=new KJUR.asn1.tsp.TSPParser();return b.getMessageImprint(a)};KJUR.asn1.tsp.TSPParser=function(){var e=Error,a=X509,f=new a(),k=ASN1HEX,g=k.getV,b=k.getTLV,d=k.getIdxbyList,c=k.getTLVbyListEx,i=k.getChildIdx;var j=[\"granted\",\"grantedWithMods\",\"rejection\",\"waiting\",\"revocationWarning\",\"revocationNotification\"];var h={0:\"badAlg\",2:\"badRequest\",5:\"badDataFormat\",14:\"timeNotAvailable\",15:\"unacceptedPolicy\",16:\"unacceptedExtension\",17:\"addInfoNotAvailable\",25:\"systemFailure\"};this.getResponse=function(n){var l=i(n,0);if(l.length==1){return this.getPKIStatusInfo(b(n,l[0]))}else{if(l.length>1){var o=this.getPKIStatusInfo(b(n,l[0]));var m=b(n,l[1]);var p=this.getToken(m);p.statusinfo=o;return p}}};this.getToken=function(m){var l=new KJUR.asn1.cms.CMSParser;var n=l.getCMSSignedData(m);this.setTSTInfo(n);return n};this.setTSTInfo=function(l){var o=l.econtent;if(o.type==\"tstinfo\"){var n=o.content.hex;var m=this.getTSTInfo(n);o.content=m}};this.getTSTInfo=function(r){var x={};var s=i(r,0);var p=g(r,s[1]);x.policy=hextooid(p);var o=b(r,s[2]);x.messageImprint=this.getMessageImprint(o);var u=g(r,s[3]);x.serial={hex:u};var y=g(r,s[4]);x.genTime={str:hextoutf8(y)};var q=0;if(s.length>5&&r.substr(s[5],2)==\"30\"){var v=b(r,s[5]);x.accuracy=this.getAccuracy(v);q++}if(s.length>5+q&&r.substr(s[5+q],2)==\"01\"){var z=g(r,s[5+q]);if(z==\"ff\"){x.ordering=true}q++}if(s.length>5+q&&r.substr(s[5+q],2)==\"02\"){var n=g(r,s[5+q]);x.nonce={hex:n};q++}if(s.length>5+q&&r.substr(s[5+q],2)==\"a0\"){var m=b(r,s[5+q]);m=\"30\"+m.substr(2);pGeneralNames=f.getGeneralNames(m);var t=pGeneralNames[0].dn;x.tsa=t;q++}if(s.length>5+q&&r.substr(s[5+q],2)==\"a1\"){var l=b(r,s[5+q]);l=\"30\"+l.substr(2);var w=f.getExtParamArray(l);x.ext=w;q++}return x};this.getAccuracy=function(q){var r={};var o=i(q,0);for(var p=0;p<o.length;p++){var m=q.substr(o[p],2);var l=g(q,o[p]);var n=parseInt(l,16);if(m==\"02\"){r.seconds=n}else{if(m==\"80\"){r.millis=n}else{if(m==\"81\"){r.micros=n}}}}return r};this.getMessageImprint=function(n){if(n.substr(0,2)!=\"30\"){throw new Error(\"head of messageImprint hex shall be x30\")}var s={};var l=i(n,0);var t=d(n,0,[0,0]);var o=g(n,t);var p=k.hextooidstr(o);var r=KJUR.asn1.x509.OID.oid2name(p);if(r==\"\"){throw new Error(\"hashAlg name undefined: \"+p)}var m=r;var q=d(n,0,[1]);s.alg=m;s.hash=g(n,q);return s};this.getPKIStatusInfo=function(o){var t={};var r=i(o,0);var n=0;try{var l=g(o,r[0]);var p=parseInt(l,16);t.status=j[p]}catch(s){}if(r.length>1&&o.substr(r[1],2)==\"30\"){var m=b(o,r[1]);t.statusstr=this.getPKIFreeText(m);n++}if(r.length>n&&o.substr(r[1+n],2)==\"03\"){var q=b(o,r[1+n]);t.failinfo=this.getPKIFailureInfo(q)}return t};this.getPKIFreeText=function(n){var o=[];var l=i(n,0);for(var m=0;m<l.length;m++){o.push(k.getString(n,l[m]))}return o};this.getPKIFailureInfo=function(l){var m=k.getInt(l,0);if(h[m]!=undefined){return h[m]}else{return m}};this.getTimeStampReq=function(q){var p={};p.certreq=false;var s=i(q,0);if(s.length<2){throw new Error(\"TimeStampReq must have at least 2 items\")}var n=b(q,s[1]);p.messageImprint=KJUR.asn1.tsp.TSPUtil.parseMessageImprint(n);for(var o=2;o<s.length;o++){var m=s[o];var l=q.substr(m,2);if(l==\"06\"){var r=g(q,m);p.policy=k.hextooidstr(r)}if(l==\"02\"){p.nonce=g(q,m)}if(l==\"01\"){p.certreq=true}}return p}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.cades==\"undefined\"||!KJUR.asn1.cades){KJUR.asn1.cades={}}KJUR.asn1.cades.SignaturePolicyIdentifier=function(e){var c=KJUR,b=c.asn1,a=b.cades,d=a.SignaturePolicyId;a.SignaturePolicyIdentifier.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.16.2.15\";this.params=null;this.getValueArray=function(){return[new d(this.params)]};this.setByParam=function(f){this.params=f};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cades.SignaturePolicyIdentifier,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.SignaturePolicyId=function(e){var a=KJUR,g=a.asn1,f=g.DERSequence,i=g.DERObjectIdentifier,d=g.x509,j=d.AlgorithmIdentifier,c=g.cades,h=c.SignaturePolicyId,b=c.OtherHashAlgAndValue;h.superclass.constructor.call(this);this.params=null;this.tohex=function(){var m=this.params;var k=[];k.push(new i(m.oid));k.push(new b(m));var l=new f({array:k});return l.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(k){this.params=k};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cades.SignaturePolicyId,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHashAlgAndValue=function(e){var h=Error,a=KJUR,g=a.asn1,f=g.DERSequence,i=g.DEROctetString,d=g.x509,j=d.AlgorithmIdentifier,c=g.cades,b=c.OtherHashAlgAndValue;b.superclass.constructor.call(this);this.params=null;this.tohex=function(){var o=this.params;if(o.alg==undefined){throw new h(\"property 'alg' not specified\")}if(o.hash==undefined&&o.cert==undefined){throw new h(\"property 'hash' nor 'cert' not specified\")}var m=null;if(o.hash!=undefined){m=o.hash}else{if(o.cert!=undefined){if(typeof o.cert!=\"string\"){throw new h(\"cert not string\")}var n=o.cert;if(o.cert.indexOf(\"-----BEGIN\")!=-1){n=pemtohex(o.cert)}m=KJUR.crypto.Util.hashHex(n,o.alg)}}var k=[];k.push(new j({name:o.alg}));k.push(new i({hex:m}));var l=new f({array:k});return l.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cades.OtherHashAlgAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHashValue=function(g){KJUR.asn1.cades.OtherHashValue.superclass.constructor.call(this);var d=Error,c=KJUR,f=c.lang.String.isHex,b=c.asn1,e=b.DEROctetString,a=c.crypto.Util.hashHex;this.params=null;this.tohex=function(){var j=this.params;if(j.hash==undefined&&j.cert==undefined){throw new d(\"hash or cert not specified\")}var h=null;if(j.hash!=undefined){h=j.hash}else{if(j.cert!=undefined){if(typeof j.cert!=\"string\"){throw new d(\"cert not string\")}var i=j.cert;if(j.cert.indexOf(\"-----BEGIN\")!=-1){i=pemtohex(j.cert)}h=KJUR.crypto.Util.hashHex(i,\"sha1\")}}return(new e({hex:h})).tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cades.OtherHashValue,KJUR.asn1.ASN1Object);KJUR.asn1.cades.SignatureTimeStamp=function(h){var d=Error,c=KJUR,f=c.lang.String.isHex,b=c.asn1,e=b.ASN1Object,g=b.x509,a=b.cades;a.SignatureTimeStamp.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.16.2.14\";this.params=null;this.getValueArray=function(){var l=this.params;if(l.tst!=undefined){if(f(l.tst)){var j=new e();j.hTLV=l.tst;return[j]}else{if(l.tst instanceof e){return[l.tst]}else{throw new d(\"params.tst has wrong value\")}}}else{if(l.res!=undefined){var k=l.res;if(k instanceof e){k=k.tohex()}if(typeof k!=\"string\"||(!f(k))){throw new d(\"params.res has wrong value\")}var i=ASN1HEX.getTLVbyList(k,0,[1]);var j=new e();j.hTLV=l.tst;return[j]}}};if(h!=null){this.setByParam(h)}};extendClass(KJUR.asn1.cades.SignatureTimeStamp,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.CompleteCertificateRefs=function(h){var f=Error,e=KJUR,d=e.asn1,b=d.DERSequence,c=d.cades,a=c.OtherCertID,g=e.lang.String.isHex;c.CompleteCertificateRefs.superclass.constructor.call(this);this.typeOid=\"1.2.840.113549.1.9.16.2.21\";this.params=null;this.getValueArray=function(){var o=this.params;var k=[];for(var m=0;m<o.array.length;m++){var n=o.array[m];if(typeof n==\"string\"){if(n.indexOf(\"-----BEGIN\")!=-1){n={cert:n}}else{if(g(n)){n={hash:n}}else{throw new f(\"unsupported value: \"+n)}}}if(o.alg!=undefined&&n.alg==undefined){n.alg=o.alg}if(o.hasis!=undefined&&n.hasis==undefined){n.hasis=o.hasis}var j=new a(n);k.push(j)}var l=new b({array:k});return[l]};if(h!=undefined){this.setByParam(h)}};extendClass(KJUR.asn1.cades.CompleteCertificateRefs,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.OtherCertID=function(e){var a=KJUR,h=a.asn1,f=h.DERSequence,i=h.cms,g=i.IssuerSerial,c=h.cades,d=c.OtherHashValue,b=c.OtherHashAlgAndValue;c.OtherCertID.superclass.constructor.call(this);this.params=e;this.tohex=function(){var n=this.params;if(typeof n==\"string\"){if(n.indexOf(\"-----BEGIN\")!=-1){n={cert:n}}else{if(_isHex(n)){n={hash:n}}}}var j=[];var m=null;if(n.alg!=undefined){m=new b(n)}else{m=new d(n)}j.push(m);if((n.cert!=undefined&&n.hasis==true)||(n.issuer!=undefined&&n.serial!=undefined)){var l=new g(n);j.push(l)}var k=new f({array:j});return k.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!=undefined){this.setByParam(e)}};extendClass(KJUR.asn1.cades.OtherCertID,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHash=function(g){var i=Error,a=KJUR,h=a.asn1,j=h.cms,c=h.cades,b=c.OtherHashAlgAndValue,e=c.OtherHashValue,d=a.crypto.Util.hashHex,f=a.lang.String.isHex;c.OtherHash.superclass.constructor.call(this);this.params=null;this.tohex=function(){var l=this.params;if(typeof l==\"string\"){if(l.indexOf(\"-----BEGIN\")!=-1){l={cert:l}}else{if(f(l)){l={hash:l}}}}var k=null;if(l.alg!=undefined){k=new b(l)}else{k=new e(l)}return k.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!=undefined){this.setByParam(g)}};extendClass(KJUR.asn1.cades.OtherHash,KJUR.asn1.ASN1Object);KJUR.asn1.cades.CAdESUtil=new function(){};KJUR.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(a){var c=new KJUR.asn1.cms.CMSParser();var b=c.getCMSSignedData(a);return b};KJUR.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(g,q,c){var p=ASN1HEX,s=p.getChildIdx,a=p.getTLV,l=p.getV,v=KJUR,h=v.asn1,n=h.ASN1Object,j=h.cms,k=j.AttributeList,w=j.SignerInfo;var o={};var t=s(g,q);if(t.length!=6){throw\"not supported items for SignerInfo (!=6)\"}var d=t.shift();o.version=a(g,d);var e=t.shift();o.si=a(g,e);var m=t.shift();o.digalg=a(g,m);var f=t.shift();o.sattrs=a(g,f);var i=t.shift();o.sigalg=a(g,i);var b=t.shift();o.sig=a(g,b);o.sigval=l(g,b);var u=null;o.obj=new w();u=new n();u.hTLV=o.version;o.obj.dCMSVersion=u;u=new n();u.hTLV=o.si;o.obj.dSignerIdentifier=u;u=new n();u.hTLV=o.digalg;o.obj.dDigestAlgorithm=u;u=new n();u.hTLV=o.sattrs;o.obj.dSignedAttrs=u;u=new n();u.hTLV=o.sigalg;o.obj.dSigAlg=u;u=new n();u.hTLV=o.sig;o.obj.dSig=u;o.obj.dUnsignedAttrs=new k();return o};\nif(typeof KJUR.asn1.csr==\"undefined\"||!KJUR.asn1.csr){KJUR.asn1.csr={}}KJUR.asn1.csr.CertificationRequest=function(g){var d=KJUR,c=d.asn1,e=c.DERBitString,b=c.DERSequence,a=c.csr,f=c.x509,h=a.CertificationRequestInfo;a.CertificationRequest.superclass.constructor.call(this);this.setByParam=function(i){this.params=i};this.sign=function(){var j=(new h(this.params)).tohex();var k=new KJUR.crypto.Signature({alg:this.params.sigalg});k.init(this.params.sbjprvkey);k.updateHex(j);var i=k.sign();this.params.sighex=i};this.getPEM=function(){return hextopem(this.tohex(),\"CERTIFICATE REQUEST\")};this.tohex=function(){var l=this.params;var j=new KJUR.asn1.csr.CertificationRequestInfo(this.params);var m=new KJUR.asn1.x509.AlgorithmIdentifier({name:l.sigalg});if(l.sighex==undefined&&l.sbjprvkey!=undefined){this.sign()}if(l.sighex==undefined){throw new Error(\"sighex or sbjprvkey parameter not defined\")}var k=new e({hex:\"00\"+l.sighex});var i=new b({array:[j,m,k]});return i.tohex()};this.getEncodedHex=function(){return this.tohex()};if(g!==undefined){this.setByParam(g)}};extendClass(KJUR.asn1.csr.CertificationRequest,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CertificationRequestInfo=function(f){var b=KJUR,j=b.asn1,c=j.DERBitString,g=j.DERSequence,i=j.DERInteger,p=j.DERUTF8String,d=j.DERTaggedObject,h=j.ASN1Util.newObject,n=j.csr,e=j.x509,a=e.X500Name,l=e.Extensions,o=e.SubjectPublicKeyInfo,k=n.AttributeList;n.CertificationRequestInfo.superclass.constructor.call(this);this.params=null;this.setByParam=function(q){if(q!=undefined){this.params=q}};this.tohex=function(){var v=this.params;var r=[];r.push(new i({\"int\":0}));r.push(new a(v.subject));r.push(new o(KEYUTIL.getKey(v.sbjpubkey)));if(v.attrs!=undefined){var u=m(v.attrs);var t=h({tag:{tage:\"a0\",obj:u}});r.push(t)}else{if(v.extreq!=undefined){var q=new l(v.extreq);var t=h({tag:{tage:\"a0\",obj:{seq:[{oid:\"1.2.840.113549.1.9.14\"},{set:[q]}]}}});r.push(t)}else{r.push(new d({tag:\"a0\",explicit:false,obj:new p({str:\"\"})}))}}var s=new g({array:r});return s.tohex()};this.getEncodedHex=function(){return this.tohex()};function m(s){var w=Error,v=KJUR.asn1.x509.Extensions;var y=[];for(var u=0;u<s.length;u++){var r=s[u];var x=r.attr;if(x==\"extensionRequest\"){var t=new v(r.ext);var q={seq:[{oid:\"1.2.840.113549.1.9.14\"},{set:[t]}]};y.push(q)}else{if(x==\"unstructuredName\"){var q={seq:[{oid:\"1.2.840.113549.1.9.2\"},{set:r.names}]};y.push(q)}else{if(x==\"challengePassword\"){var q={seq:[{oid:\"1.2.840.113549.1.9.7\"},{set:[{utf8str:r.password}]}]};y.push(q)}else{throw new w(\"unknown CSR attribute\")}}}}return{set:y}}if(f!=undefined){this.setByParam(f)}};extendClass(KJUR.asn1.csr.CertificationRequestInfo,KJUR.asn1.ASN1Object);KJUR.asn1.csr.AttributeList=function(b){function a(c){}};extendClass(KJUR.asn1.csr.AttributeList,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CSRUtil=new function(){};KJUR.asn1.csr.CSRUtil.newCSRPEM=function(e){var b=KEYUTIL,a=KJUR.asn1.csr;var c=new a.CertificationRequest(e);var d=c.getPEM();return d};KJUR.asn1.csr.CSRUtil.getParam=function(d,a){var m=ASN1HEX,i=m.getV,j=m.getIdxbyList,b=m.getTLVbyList,o=m.getTLVbyListEx,n=m.getVbyListEx;var l=function(u){var t=j(u,0,[0,3,0,0],\"06\");if(i(u,t)!=\"2a864886f70d01090e\"){return null}return b(u,0,[0,3,0,1,0],\"30\")};var g={};if(d.indexOf(\"-----BEGIN CERTIFICATE REQUEST\")==-1){throw new Error(\"argument is not PEM file\")}var e=pemtohex(d,\"CERTIFICATE REQUEST\");if(a){g.tbs=b(e,0,[0])}try{var p=o(e,0,[0,1]);if(p==\"3000\"){g.subject={}}else{var f=new X509();g.subject=f.getX500Name(p)}}catch(q){}var k=o(e,0,[0,2]);var r=KEYUTIL.getKey(k,null,\"pkcs8pub\");g.sbjpubkey=KEYUTIL.getPEM(r,\"PKCS8PUB\");var c=l(e);var f=new X509();if(c!=null){g.extreq=f.getExtParamArray(c)}try{var h=o(e,0,[1],\"30\");var f=new X509();g.sigalg=f.getAlgorithmIdentifierName(h)}catch(q){}try{var s=n(e,0,[2]);g.sighex=s}catch(q){}return g};KJUR.asn1.csr.CSRUtil.verifySignature=function(b){try{var c=null;if(typeof b==\"string\"&&b.indexOf(\"-----BEGIN CERTIFICATE REQUEST\")!=-1){c=KJUR.asn1.csr.CSRUtil.getParam(b,true)}else{if(typeof b==\"object\"&&b.sbjpubkey!=undefined&&b.sigalg!=undefined&&b.sighex!=undefined&&b.tbs!=undefined){c=b}}if(c==null){return false}var d=new KJUR.crypto.Signature({alg:c.sigalg});d.init(c.sbjpubkey);d.updateHex(c.tbs);return d.verify(c.sighex)}catch(a){alert(a);return false}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.asn1==\"undefined\"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.ocsp==\"undefined\"||!KJUR.asn1.ocsp){KJUR.asn1.ocsp={}}KJUR.asn1.ocsp.DEFAULT_HASH=\"sha1\";KJUR.asn1.ocsp.OCSPResponse=function(e){KJUR.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var a=KJUR.asn1.DEREnumerated,b=KJUR.asn1.ASN1Util.newObject,c=KJUR.asn1.ocsp.ResponseBytes;var d=[\"successful\",\"malformedRequest\",\"internalError\",\"tryLater\",\"_not_used_\",\"sigRequired\",\"unauthorized\"];this.params=null;this._getStatusCode=function(){var f=this.params.resstatus;if(typeof f==\"number\"){return f}if(typeof f!=\"string\"){return -1}return d.indexOf(f)};this.setByParam=function(f){this.params=f};this.tohex=function(){var h=this.params;var g=this._getStatusCode();if(g==-1){throw new Error(\"responseStatus not supported: \"+h.resstatus)}if(g!=0){return b({seq:[{\"enum\":{\"int\":g}}]}).tohex()}var f=new c(h);return b({seq:[{\"enum\":{\"int\":0}},{tag:{tag:\"a0\",explicit:true,obj:f}}]}).tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.setByParam(e)}};extendClass(KJUR.asn1.ocsp.OCSPResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponseBytes=function(e){KJUR.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var b=KJUR.asn1,a=b.DERSequence,f=b.DERObjectIdentifier,c=b.DEROctetString,d=b.ocsp.BasicOCSPResponse;this.params=null;this.setByParam=function(g){this.params=g};this.tohex=function(){var j=this.params;if(j.restype!=\"ocspBasic\"){throw new Error(\"not supported responseType: \"+j.restype)}var i=new d(j);var g=[];g.push(new f({name:\"ocspBasic\"}));g.push(new c({hex:i.tohex()}));var h=new a({array:g});return h.tohex()};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.setByParam(e)}};extendClass(KJUR.asn1.ocsp.ResponseBytes,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.BasicOCSPResponse=function(d){KJUR.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var i=Error,g=KJUR.asn1,j=g.ASN1Object,e=g.DERSequence,f=g.DERGeneralizedTime,c=g.DERTaggedObject,b=g.DERBitString,h=g.x509.Extensions,k=g.x509.AlgorithmIdentifier,l=g.ocsp,a=l.ResponderID;_SingleResponseList=l.SingleResponseList,_ResponseData=l.ResponseData;this.params=null;this.setByParam=function(m){this.params=m};this.sign=function(){var o=this.params;var m=o.tbsresp.tohex();var n=new KJUR.crypto.Signature({alg:o.sigalg});n.init(o.reskey);n.updateHex(m);o.sighex=n.sign()};this.tohex=function(){var t=this.params;if(t.tbsresp==undefined){t.tbsresp=new _ResponseData(t)}if(t.sighex==undefined&&t.reskey!=undefined){this.sign()}var n=[];n.push(t.tbsresp);n.push(new k({name:t.sigalg}));n.push(new b({hex:\"00\"+t.sighex}));if(t.certs!=undefined&&t.certs.length!=undefined){var m=[];for(var q=0;q<t.certs.length;q++){var s=t.certs[q];var r=null;if(ASN1HEX.isASN1HEX(s)){r=s}else{if(s.match(/-----BEGIN/)){r=pemtohex(s)}else{throw new i(\"certs[\"+q+\"] not hex or PEM\")}}m.push(new j({tlv:r}))}var p=new e({array:m});n.push(new c({tag:\"a0\",explicit:true,obj:p}))}var o=new e({array:n});return o.tohex()};this.getEncodedHex=function(){return this.tohex()};if(d!==undefined){this.setByParam(d)}};extendClass(KJUR.asn1.ocsp.BasicOCSPResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponseData=function(c){KJUR.asn1.ocsp.ResponseData.superclass.constructor.call(this);var h=Error,f=KJUR.asn1,d=f.DERSequence,e=f.DERGeneralizedTime,b=f.DERTaggedObject,g=f.x509.Extensions,i=f.ocsp,a=i.ResponderID;_SingleResponseList=i.SingleResponseList;this.params=null;this.tohex=function(){var m=this.params;if(m.respid!=undefined){new h(\"respid not specified\")}if(m.prodat!=undefined){new h(\"prodat not specified\")}if(m.array!=undefined){new h(\"array not specified\")}var j=[];j.push(new a(m.respid));j.push(new e(m.prodat));j.push(new _SingleResponseList(m.array));if(m.ext!=undefined){var l=new g(m.ext);j.push(new b({tag:\"a1\",explicit:true,obj:l}))}var k=new d({array:j});return k.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(j){this.params=j};if(c!==undefined){this.setByParam(c)}};extendClass(KJUR.asn1.ocsp.ResponseData,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.ResponderID=function(g){KJUR.asn1.ocsp.ResponderID.superclass.constructor.call(this);var d=KJUR,c=d.asn1,b=c.ASN1Util.newObject,f=c.x509.X500Name,e=d.lang.String.isHex,a=Error;this.params=null;this.tohex=function(){var m=this.params;if(m.key!=undefined){var l=null;if(typeof m.key==\"string\"){if(e(m.key)){l=m.key}if(m.key.match(/-----BEGIN CERTIFICATE/)){var h=new X509(m.key);var k=h.getExtSubjectKeyIdentifier();if(k!=null){l=k.kid.hex}}}else{if(m.key instanceof X509){var k=m.key.getExtSubjectKeyIdentifier();if(k!=null){l=k.kid.hex}}}if(l==null){throw new a(\"wrong key member value\")}var j=b({tag:{tag:\"a2\",explicit:true,obj:{octstr:{hex:l}}}});return j.tohex()}else{if(m.name!=undefined){var i=null;if(typeof m.name==\"string\"&&m.name.match(/-----BEGIN CERTIFICATE/)){var h=new X509(m.name);i=h.getSubject()}else{if(m.name instanceof X509){i=m.name.getSubject()}else{if(typeof m.name==\"object\"&&(m.name.array!=undefined||m.name.str!=undefined)){i=m.name}}}if(i==null){throw new a(\"wrong name member value\")}var j=b({tag:{tag:\"a1\",explicit:true,obj:new f(i)}});return j.tohex()}}throw new a(\"key or name not specified\")};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(h){this.params=h};if(g!==undefined){this.setByParam(g)}};extendClass(KJUR.asn1.ocsp.ResponderID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.SingleResponseList=function(d){KJUR.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var c=KJUR.asn1,b=c.DERSequence,a=c.ocsp.SingleResponse;this.params=null;this.tohex=function(){var h=this.params;if(typeof h!=\"object\"||h.length==undefined){throw new Error(\"params not specified properly\")}var e=[];for(var g=0;g<h.length;g++){e.push(new a(h[g]))}var f=new b({array:e});return f.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(e){this.params=e};if(d!==undefined){this.setByParam(d)}};extendClass(KJUR.asn1.ocsp.SingleResponseList,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.SingleResponse=function(e){var k=Error,a=KJUR,i=a.asn1,f=i.DERSequence,g=i.DERGeneralizedTime,b=i.DERTaggedObject,l=i.ocsp,h=l.CertID,c=l.CertStatus,d=i.x509,j=d.Extensions;l.SingleResponse.superclass.constructor.call(this);this.params=null;this.tohex=function(){var q=this.params;var n=[];if(q.certid==undefined){throw new k(\"certid unspecified\")}if(q.status==undefined){throw new k(\"status unspecified\")}if(q.thisupdate==undefined){throw new k(\"thisupdate unspecified\")}n.push(new h(q.certid));n.push(new c(q.status));n.push(new g(q.thisupdate));if(q.nextupdate!=undefined){var m=new g(q.nextupdate);n.push(new b({tag:\"a0\",explicit:true,obj:m}))}if(q.ext!=undefined){var p=new j(q.ext);n.push(new b({tag:\"a1\",explicit:true,obj:p}))}var o=new f({array:n});return o.tohex()};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(m){this.params=m};if(e!==undefined){this.setByParam(e)}};extendClass(KJUR.asn1.ocsp.SingleResponse,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.CertID=function(e){var b=KJUR,i=b.asn1,l=i.DEROctetString,h=i.DERInteger,f=i.DERSequence,d=i.x509,m=d.AlgorithmIdentifier,n=i.ocsp,k=n.DEFAULT_HASH,g=b.crypto,c=g.Util.hashHex,a=X509,o=ASN1HEX,j=o.getVbyList;n.CertID.superclass.constructor.call(this);this.DEFAULT_HASH=\"sha1\";this.params=null;this.setByValue=function(s,r,p,q){if(q==undefined){q=this.DEFAULT_HASH}this.params={alg:q,issname:s,isskey:r,sbjsn:p}};this.setByCert=function(p,q,r){if(r==undefined){r=this.DEFAULT_HASH}this.params={alg:r,issuerCert:p,subjectCert:q,}};this.getParamByCerts=function(y,x,t){if(t==undefined){t=this.DEFAULT_HASH}var q=new a(y);var v=new a(x);var s=c(q.getSubjectHex(),t);var u=q.getPublicKeyHex();var p=c(j(u,0,[1],\"03\",true),t);var w=v.getSerialNumberHex();var r={alg:t,issname:s,isskey:p,sbjsn:w};return r};this.tohex=function(){if(typeof this.params!=\"object\"){throw new Error(\"params not set\")}var s=this.params;var u,r,y,q;if(s.alg==undefined){q=this.DEFAULT_HASH}else{q=s.alg}if(s.issuerCert!=undefined&&s.subjectCert!=undefined){var t=this.getParamByCerts(s.issuerCert,s.subjectCert,q);u=t.issname;r=t.isskey;y=t.sbjsn}else{if(s.issname!=undefined&&s.isskey!=undefined&&s.sbjsn!=undefined){u=s.issname;r=s.isskey;y=s.sbjsn}else{throw new Error(\"required param members not defined\")}}var A=new m({name:q});var v=new l({hex:u});var x=new l({hex:r});var w=new h({hex:y});var z=new f({array:[A,v,x,w]});this.hTLV=z.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){this.setByParam(e)}};extendClass(KJUR.asn1.ocsp.CertID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.CertStatus=function(a){KJUR.asn1.ocsp.CertStatus.superclass.constructor.call(this);this.params=null;this.tohex=function(){var d=this.params;if(d.status==\"good\"){return\"8000\"}if(d.status==\"unknown\"){return\"8200\"}if(d.status==\"revoked\"){var c=[{gentime:{str:d.time}}];if(d.reason!=undefined){c.push({tag:{tag:\"a0\",explicit:true,obj:{\"enum\":{\"int\":d.reason}}}})}var b={tag:\"a1\",explicit:false,obj:{seq:c}};return KJUR.asn1.ASN1Util.newObject({tag:b}).tohex()}throw new Error(\"bad status\")};this.getEncodedHex=function(){return this.tohex()};this.setByParam=function(b){this.params=b};if(a!==undefined){this.setByParam(a)}};extendClass(KJUR.asn1.ocsp.CertStatus,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.Request=function(f){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.tohex=function(){var g=[];if(this.dReqCert===null){throw\"reqCert not set\"}g.push(this.dReqCert);var h=new a({array:g});this.hTLV=h.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(typeof f!==\"undefined\"){var e=new d.CertID(f);this.dReqCert=e}};extendClass(KJUR.asn1.ocsp.Request,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.TBSRequest=function(e){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(h){var f=[];for(var g=0;g<h.length;g++){var j=new d.Request(h[0]);f.push(j)}this.dRequestList=f};this.tohex=function(){var f=[];if(this.version!==0){throw\"not supported version: \"+this.version}if(this.dRequestorName!==null){throw\"requestorName not supported\"}var h=new a({array:this.dRequestList});f.push(h);if(this.dRequestExt!==null){throw\"requestExtensions not supported\"}var g=new a({array:f});this.hTLV=g.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(e!==undefined){if(e.reqList!==undefined){this.setRequestListByParam(e.reqList)}}};extendClass(KJUR.asn1.ocsp.TBSRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPRequest=function(f){var c=KJUR,b=c.asn1,a=b.DERSequence,d=b.ocsp;d.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.tohex=function(){var g=[];if(this.dTbsRequest!==null){g.push(this.dTbsRequest)}else{throw\"tbsRequest not set\"}if(this.dOptionalSignature!==null){throw\"optionalSignature not supported\"}var h=new a({array:g});this.hTLV=h.tohex();return this.hTLV};this.getEncodedHex=function(){return this.tohex()};if(f!==undefined){if(f.reqList!==undefined){var e=new d.TBSRequest(f);this.dTbsRequest=e}}};extendClass(KJUR.asn1.ocsp.OCSPRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPUtil={};KJUR.asn1.ocsp.OCSPUtil.getRequestHex=function(a,b,h){var d=KJUR,c=d.asn1,e=c.ocsp;if(h===undefined){h=e.DEFAULT_HASH}var g={alg:h,issuerCert:a,subjectCert:b};var f=new e.OCSPRequest({reqList:[g]});return f.tohex()};KJUR.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(b){var m=ASN1HEX,c=m.getVbyList,k=m.getVbyListEx,e=m.getIdxbyList,d=m.getIdxbyListEx,g=m.getV;var n={};try{var j=k(b,0,[0],\"0a\");n.responseStatus=parseInt(j,16)}catch(f){}if(n.responseStatus!==0){return n}try{var i=e(b,0,[1,0,1,0,0,2,0,1]);if(b.substr(i,2)===\"80\"){n.certStatus=\"good\"}else{if(b.substr(i,2)===\"a1\"){n.certStatus=\"revoked\";n.revocationTime=hextoutf8(c(b,i,[0]))}else{if(b.substr(i,2)===\"82\"){n.certStatus=\"unknown\"}}}}catch(f){}try{var a=e(b,0,[1,0,1,0,0,2,0,2]);n.thisUpdate=hextoutf8(g(b,a))}catch(f){}try{var l=e(b,0,[1,0,1,0,0,2,0,3]);if(b.substr(l,2)===\"a0\"){n.nextUpdate=hextoutf8(c(b,l,[0]))}}catch(f){}return n};KJUR.asn1.ocsp.OCSPParser=function(){var g=Error,a=X509,h=new a(),l=ASN1HEX,i=l.getV,b=l.getTLV,f=l.getIdxbyList,e=l.getVbyList,c=l.getTLVbyList,k=l.getVbyListEx,d=l.getTLVbyListEx,j=l.getChildIdx;this.getOCSPRequest=function(o){var n=j(o,0);if(n.length!=1&&n.length!=2){throw new g(\"wrong number elements: \"+n.length)}var m=this.getTBSRequest(b(o,n[0]));return m};this.getTBSRequest=function(o){var m={};var n=d(o,0,[0],\"30\");m.array=this.getRequestList(n);var p=d(o,0,[\"[2]\",0],\"30\");if(p!=null){m.ext=h.getExtParamArray(p)}return m};this.getRequestList=function(p){var m=[];var n=j(p,0);for(var o=0;o<n.length;o++){var p=b(p,n[o]);m.push(this.getRequest(p))}return m};this.getRequest=function(n){var m=j(n,0);if(m.length!=1&&m.length!=2){throw new g(\"wrong number elements: \"+m.length)}var p=this.getCertID(b(n,m[0]));if(m.length==2){var o=f(n,0,[1,0]);p.ext=h.getExtParamArray(b(n,o))}return p};this.getCertID=function(p){var o=j(p,0);if(o.length!=4){throw new g(\"wrong number elements: \"+o.length)}var n=new a();var m={};m.alg=n.getAlgorithmIdentifierName(b(p,o[0]));m.issname=i(p,o[1]);m.isskey=i(p,o[2]);m.sbjsn=i(p,o[3]);return m};this.getOCSPResponse=function(r){var o=j(r,0);var m;var q=i(r,o[0]);var p=parseInt(q);if(o.length==1){return{resstatus:p}}var n=c(r,0,[1,0]);m=this.getResponseBytes(n);m.resstatus=p;return m};this.getResponseBytes=function(p){var o=j(p,0);var n;var q=c(p,0,[1,0]);n=this.getBasicOCSPResponse(q);var m=i(p,o[0]);n.restype=KJUR.asn1.x509.OID.oid2name(hextooid(m));return n};this.getBasicOCSPResponse=function(q){var t=j(q,0);var v;v=this.getResponseData(b(q,t[0]));var u=new X509();v.alg=u.getAlgorithmIdentifierName(b(q,t[1]));var n=i(q,t[2]);v.sighex=n.substr(2);var m=k(q,0,[\"[0]\"]);if(m!=null){var r=j(m,0);var o=[];for(var p=0;p<r.length;p++){var s=b(m,r[p]);o.push(s)}v.certs=o}return v};this.getResponseData=function(q){var p=j(q,0);var r=p.length;var o={};var n=0;if(q.substr(p[0],2)==\"a0\"){n++}o.respid=this.getResponderID(b(q,p[n++]));var t=i(q,p[n++]);o.prodat=hextoutf8(t);o.array=this.getSingleResponseList(b(q,p[n++]));if(q.substr(p[r-1],2)==\"a1\"){var s=c(q,p[r-1],[0]);var m=new X509();o.ext=m.getExtParamArray(s)}return o};this.getResponderID=function(o){var n={};if(o.substr(0,2)==\"a2\"){var p=e(o,0,[0]);n.key=p}if(o.substr(0,2)==\"a1\"){var q=c(o,0,[0]);var m=new X509();n.name=m.getX500Name(q)}return n};this.getSingleResponseList=function(q){var n=j(q,0);var m=[];for(var o=0;o<n.length;o++){var r=this.getSingleResponse(b(q,n[o]));m.push(r)}return m};this.getSingleResponse=function(p){var t=j(p,0);var v={};var r=this.getCertID(b(p,t[0]));v.certid=r;var u=this.getCertStatus(b(p,t[1]));v.status=u;if(p.substr(t[2],2)==\"18\"){var q=i(p,t[2]);v.thisupdate=hextoutf8(q)}for(var o=3;o<t.length;o++){if(p.substr(t[o],2)==\"a0\"){var m=e(p,t[o],[0],\"18\");v.nextupdate=hextoutf8(m)}if(p.substr(t[o],2)==\"a1\"){var s=new X509();var n=c(p,0,[o,0]);v.ext=s.getExtParamArray(n)}}return v};this.getCertStatus=function(p){var m={};if(p==\"8000\"){return{status:\"good\"}}if(p==\"8200\"){return{status:\"unknown\"}}if(p.substr(0,2)==\"a1\"){m.status=\"revoked\";var o=e(p,0,[0]);var n=hextoutf8(o);m.time=n}return m}};\nvar KJUR;if(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.lang==\"undefined\"||!KJUR.lang){KJUR.lang={}}KJUR.lang.String=function(){};function Base64x(){}function stoBA(d){var b=new Array();for(var c=0;c<d.length;c++){b[c]=d.charCodeAt(c)}return b}function BAtos(b){var d=\"\";for(var c=0;c<b.length;c++){d=d+String.fromCharCode(b[c])}return d}function BAtohex(b){var e=\"\";for(var d=0;d<b.length;d++){var c=b[d].toString(16);if(c.length==1){c=\"0\"+c}e=e+c}return e}function stohex(a){return BAtohex(stoBA(a))}function stob64(a){return hex2b64(stohex(a))}function stob64u(a){return b64tob64u(hex2b64(stohex(a)))}function b64utos(a){return BAtos(b64toBA(b64utob64(a)))}function b64tob64u(a){a=a.replace(/\\=/g,\"\");a=a.replace(/\\+/g,\"-\");a=a.replace(/\\//g,\"_\");return a}function b64utob64(a){if(a.length%4==2){a=a+\"==\"}else{if(a.length%4==3){a=a+\"=\"}}a=a.replace(/-/g,\"+\");a=a.replace(/_/g,\"/\");return a}function hextob64u(a){if(a.length%2==1){a=\"0\"+a}return b64tob64u(hex2b64(a))}function b64utohex(a){return b64tohex(b64utob64(a))}var utf8tob64u,b64utoutf8;if(typeof Buffer===\"function\"){utf8tob64u=function(a){return b64tob64u(Buffer.from(a,\"utf8\").toString(\"base64\"))};b64utoutf8=function(a){return Buffer.from(b64utob64(a),\"base64\").toString(\"utf8\")}}else{utf8tob64u=function(a){return hextob64u(uricmptohex(encodeURIComponentAll(a)))};b64utoutf8=function(a){return decodeURIComponent(hextouricmp(b64utohex(a)))}}function utf8tob64(a){return hex2b64(uricmptohex(encodeURIComponentAll(a)))}function b64toutf8(a){return decodeURIComponent(hextouricmp(b64tohex(a)))}function utf8tohex(a){return uricmptohex(encodeURIComponentAll(a)).toLowerCase()}function hextoutf8(b){try{return decodeURIComponent(hextouricmp(b))}catch(a){return null}}function iso88591hextoutf8(a){return hextoutf8(iso88591hextoutf8hex(a))}function utf8toiso88591hex(a){return utf8hextoiso88591hex(utf8tohex(a))}function iso88591hextoutf8hex(e){var c=e.match(/.{1,2}/g);var b=[];for(var d=0;d<c.length;d++){var f=parseInt(c[d],16);if(161<=f&&f<=191){b.push(\"c2\");b.push(c[d])}else{if(192<=f&&f<=255){b.push(\"c3\");b.push((f-64).toString(16))}else{b.push(c[d])}}}return b.join(\"\")}function utf8hextoiso88591hex(f){var c=f.match(/.{1,2}/g);var b=[];for(var e=0;e<c.length;e++){if(c[e]==\"c2\"){e++;b.push(c[e])}else{if(c[e]==\"c3\"){e++;var d=c[e];var g=parseInt(c[e],16)+64;b.push(g.toString(16))}else{b.push(c[e])}}}return b.join(\"\")}function hextorstr(c){var b=\"\";for(var a=0;a<c.length-1;a+=2){b+=String.fromCharCode(parseInt(c.substr(a,2),16))}return b}function rstrtohex(c){var a=\"\";for(var b=0;b<c.length;b++){a+=(\"0\"+c.charCodeAt(b).toString(16)).slice(-2)}return a}function hextob64(a){return hex2b64(a)}function hextob64nl(a){return foldnl(hextob64(a),64)}function foldnl(a,b){a=a.replace(new RegExp(\"(.{\"+b+\"})\",\"g\"),\"$1\\r\\n\");a=a.replace(/\\s+$/,\"\");return a}function b64nltohex(b){var a=b.replace(/[^0-9A-Za-z\\/+=]*/g,\"\");var c=b64tohex(a);return c}function b64topem(b,a){return\"-----BEGIN \"+a+\"-----\\r\\n\"+foldnl(b,64)+\"\\r\\n-----END \"+a+\"-----\\r\\n\"}function hextopem(a,b){return\"-----BEGIN \"+b+\"-----\\r\\n\"+foldnl(hextob64(a),64)+\"\\r\\n-----END \"+b+\"-----\\r\\n\"}function pemtohex(a,b){if(a.indexOf(\"-----BEGIN \")==-1){throw new Error(\"can't find PEM header\")}if(b!==undefined){a=a.replace(new RegExp(\"^[^]*-----BEGIN \"+b+\"-----\"),\"\");a=a.replace(new RegExp(\"-----END \"+b+\"-----[^]*$\"),\"\")}else{a=a.replace(/^[^]*-----BEGIN [^-]+-----/,\"\");a=a.replace(/-----END [^-]+-----[^]*$/,\"\")}return b64nltohex(a)}function pemtob64(a){if(a.indexOf(\"-----BEGIN \")==-1||a.indexOf(\"-----END \")==-1){return null}a=a.replace(/^[\\s\\S]*?-----BEGIN [^-]+-----/m,\"\");a=a.replace(/-----END [\\s\\S]+$/m,\"\");a=a.replace(/\\s+/g,\"\");return(a.match(/^[0-9a-zA-Z+/=]+$/))?a:null}function hextoArrayBuffer(d){if(d.length%2!=0){throw\"input is not even length\"}if(d.match(/^[0-9A-Fa-f]+$/)==null){throw\"input is not hexadecimal\"}var b=new ArrayBuffer(d.length/2);var a=new DataView(b);for(var c=0;c<d.length/2;c++){a.setUint8(c,parseInt(d.substr(c*2,2),16))}return b}function ArrayBuffertohex(b){var d=\"\";var a=new DataView(b);for(var c=0;c<b.byteLength;c++){d+=(\"00\"+a.getUint8(c).toString(16)).slice(-2)}return d}function zulutomsec(n){var l,j,m,e,f,i,b,k;var a,h,g,c;n=timetogen(n);c=n.match(/^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(|\\.\\d+)Z$/);if(c){l=parseInt(c[1]);j=parseInt(c[2])-1;m=parseInt(c[3]);e=parseInt(c[4]);f=parseInt(c[5]);i=parseInt(c[6]);b=0;h=c[7];if(h!==\"\"){g=(h.substr(1)+\"00\").substr(0,3);b=parseInt(g)}return Date.UTC(l,j,m,e,f,i,b)}throw new Error(\"unsupported zulu format: \"+n)}function msectozulu(b){var h=new Date(b),i=(\"0000\"+h.getUTCFullYear()).slice(-4),c=(\"00\"+(h.getUTCMonth()+1)).slice(-2),j=(\"00\"+h.getUTCDate()).slice(-2),e=(\"00\"+h.getUTCHours()).slice(-2),f=(\"00\"+h.getUTCMinutes()).slice(-2),g=(\"00\"+h.getUTCSeconds()).slice(-2),a=(\"000\"+h.getUTCMilliseconds()).slice(-3);a=a.replace(/0+$/,\"\");a=(a!=\"\")?\".\"+a:a;return i+c+j+e+f+g+a+\"Z\"}function zulutosec(a){return Math.round(zulutomsec(a)/1000)}function zulutodate(a){return new Date(zulutomsec(a))}function datetozulu(g,e,f){var b;var a=g.getUTCFullYear();if(e){if(a<1950||2049<a){throw\"not proper year for UTCTime: \"+a}b=(\"\"+a).slice(-2)}else{b=(\"000\"+a).slice(-4)}b+=(\"0\"+(g.getUTCMonth()+1)).slice(-2);b+=(\"0\"+g.getUTCDate()).slice(-2);b+=(\"0\"+g.getUTCHours()).slice(-2);b+=(\"0\"+g.getUTCMinutes()).slice(-2);b+=(\"0\"+g.getUTCSeconds()).slice(-2);if(f){var c=g.getUTCMilliseconds();if(c!==0){c=(\"00\"+c).slice(-3);c=c.replace(/0+$/g,\"\");b+=\".\"+c}}b+=\"Z\";return b}function timetogen(a){if(a.match(/^[0-9]{12}Z$/)||a.match(/^[0-9]{12}[.][0-9]*Z$/)){return(a.match(/^[0-4]/))?\"20\"+a:\"19\"+a}return a}function uricmptohex(a){return a.replace(/%/g,\"\")}function hextouricmp(a){return a.replace(/(..)/g,\"%$1\")}function ipv6tohex(g){var b=\"malformed IPv6 address\";if(!g.match(/^[0-9A-Fa-f:]+$/)){throw b}g=g.toLowerCase();var d=g.split(\":\").length-1;if(d<2){throw b}var e=\":\".repeat(7-d+2);g=g.replace(\"::\",e);var c=g.split(\":\");if(c.length!=8){throw b}for(var f=0;f<8;f++){c[f]=(\"0000\"+c[f]).slice(-4)}return c.join(\"\")}function hextoipv6(d){if(!d.match(/^[0-9A-Fa-f]{32}$/)){throw new Error(\"malformed IPv6 address: \"+d)}d=d.toLowerCase();var b=d.match(/.{1,4}/g);b=b.map(function(a){return a.replace(/^0+/,\"\")});b=b.map(function(a){return a==\"\"?\"0\":a});d=\":\"+b.join(\":\")+\":\";var c=d.match(/:(0:){2,}/g);if(c==null){return d.slice(1,-1)}var e=c.sort().slice(-1)[0];d=d.replace(e.substr(0,e.length-1),\":\");if(d.substr(0,2)!=\"::\"){d=d.substr(1)}if(d.substr(-2,2)!=\"::\"){d=d.substr(0,d.length-1)}return d}function hextoip(b){var c=new Error(\"malformed hex value\");if(!b.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/)){throw c}if(b.length==8){var d;try{d=parseInt(b.substr(0,2),16)+\".\"+parseInt(b.substr(2,2),16)+\".\"+parseInt(b.substr(4,2),16)+\".\"+parseInt(b.substr(6,2),16);return d}catch(a){throw c}}else{if(b.length==16){try{return hextoip(b.substr(0,8))+\"/\"+ipprefixlen(b.substr(8))}catch(a){throw c}}else{if(b.length==32){return hextoipv6(b)}else{if(b.length==64){try{return hextoipv6(b.substr(0,32))+\"/\"+ipprefixlen(b.substr(32))}catch(a){throw c}return}else{return b}}}}}function ipprefixlen(c){var d=new Error(\"malformed mask\");var a;try{a=new BigInteger(c,16).toString(2)}catch(b){throw d}if(!a.match(/^1*0*$/)){throw d}return a.replace(/0+$/,\"\").length}function iptohex(g){var j=new Error(\"malformed IP address\");g=g.toLowerCase(g);if(!g.match(/^[0-9a-f.:/]+$/)){throw j}if(g.match(/^[0-9.]+$/)){var b=g.split(\".\");if(b.length!==4){throw j}var h=\"\";try{for(var f=0;f<4;f++){var k=parseInt(b[f]);h+=(\"0\"+k.toString(16)).slice(-2)}return h}catch(e){throw j}}else{if(g.match(/^[0-9.]+\\/[0-9]+$/)){var c=g.split(\"/\");return iptohex(c[0])+ipnetmask(parseInt(c[1]),32)}else{if(g.match(/^[0-9a-f:]+$/)&&g.indexOf(\":\")!==-1){return ipv6tohex(g)}else{if(g.match(/^[0-9a-f:]+\\/[0-9]+$/)&&g.indexOf(\":\")!==-1){var c=g.split(\"/\");return ipv6tohex(c[0])+ipnetmask(parseInt(c[1]),128)}else{throw j}}}}}function ipnetmask(d,c){if(c==32&&d==0){return\"00000000\"}if(c==128&&d==0){return\"00000000000000000000000000000000\"}var a=Array(d+1).join(\"1\")+Array(c-d+1).join(\"0\");return new BigInteger(a,2).toString(16)}function ucs2hextoutf8(d){function e(f){var h=parseInt(f.substr(0,2),16);var a=parseInt(f.substr(2),16);if(h==0&a<128){return String.fromCharCode(a)}if(h<8){var j=192|((h&7)<<3)|((a&192)>>6);var i=128|(a&63);return hextoutf8(j.toString(16)+i.toString(16))}var j=224|((h&240)>>4);var i=128|((h&15)<<2)|((a&192)>>6);var g=128|(a&63);return hextoutf8(j.toString(16)+i.toString(16)+g.toString(16))}var c=d.match(/.{4}/g);var b=c.map(e);return b.join(\"\")}function encodeURIComponentAll(a){var d=encodeURIComponent(a);var b=\"\";for(var c=0;c<d.length;c++){if(d[c]==\"%\"){b=b+d.substr(c,3);c=c+2}else{b=b+\"%\"+stohex(d[c])}}return b}function newline_toUnix(a){a=a.replace(/\\r\\n/mg,\"\\n\");return a}function newline_toDos(a){a=a.replace(/\\r\\n/mg,\"\\n\");a=a.replace(/\\n/mg,\"\\r\\n\");return a}KJUR.lang.String.isInteger=function(a){if(a.match(/^[0-9]+$/)){return true}else{if(a.match(/^-[0-9]+$/)){return true}else{return false}}};KJUR.lang.String.isHex=function(a){return ishex(a)};function ishex(a){if(a.length%2==0&&(a.match(/^[0-9a-f]+$/)||a.match(/^[0-9A-F]+$/))){return true}else{return false}}KJUR.lang.String.isBase64=function(a){a=a.replace(/\\s+/g,\"\");if(a.match(/^[0-9A-Za-z+\\/]+={0,3}$/)&&a.length%4==0){return true}else{return false}};KJUR.lang.String.isBase64URL=function(a){if(a.match(/[+/=]/)){return false}a=b64utob64(a);return KJUR.lang.String.isBase64(a)};function isBase64URLDot(a){if(a.match(/^[0-9A-Za-z-_.]+$/)){return true}return false}KJUR.lang.String.isIntegerArray=function(a){a=a.replace(/\\s+/g,\"\");if(a.match(/^\\[[0-9,]+\\]$/)){return true}else{return false}};KJUR.lang.String.isPrintable=function(a){if(a.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null){return true}return false};KJUR.lang.String.isIA5=function(a){if(a.match(/^[\\x20-\\x21\\x23-\\x7f]*$/)!==null){return true}return false};KJUR.lang.String.isMail=function(a){if(a.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\\.[A-Za-z0-9]{1,}$/)!==null){return true}return false};function hextoposhex(a){if(a.length%2==1){return\"0\"+a}if(a.substr(0,1)>\"7\"){return\"00\"+a}return a}function intarystrtohex(b){b=b.replace(/^\\s*\\[\\s*/,\"\");b=b.replace(/\\s*\\]\\s*$/,\"\");b=b.replace(/\\s*/g,\"\");try{var c=b.split(/,/).map(function(g,e,h){var f=parseInt(g);if(f<0||255<f){throw\"integer not in range 0-255\"}var d=(\"00\"+f.toString(16)).slice(-2);return d}).join(\"\");return c}catch(a){throw\"malformed integer array string: \"+a}}var strdiffidx=function(c,a){var d=c.length;if(c.length>a.length){d=a.length}for(var b=0;b<d;b++){if(c.charCodeAt(b)!=a.charCodeAt(b)){return b}}if(c.length!=a.length){return d}return -1};function oidtohex(g){var f=function(a){var l=a.toString(16);if(l.length==1){l=\"0\"+l}return l};var e=function(p){var o=\"\";var l=parseInt(p,10);var a=l.toString(2);var m=7-a.length%7;if(m==7){m=0}var r=\"\";for(var n=0;n<m;n++){r+=\"0\"}a=r+a;for(var n=0;n<a.length-1;n+=7){var q=a.substr(n,7);if(n!=a.length-7){q=\"1\"+q}o+=f(parseInt(q,2))}return o};try{if(!g.match(/^[0-9.]+$/)){return null}var j=\"\";var b=g.split(\".\");var k=parseInt(b[0],10)*40+parseInt(b[1],10);j+=f(k);b.splice(0,2);for(var d=0;d<b.length;d++){j+=e(b[d])}return j}catch(c){return null}}function hextooid(g){if(!ishex(g)){return null}try{var m=[];var p=g.substr(0,2);var e=parseInt(p,16);m[0]=new String(Math.floor(e/40));m[1]=new String(e%40);var n=g.substr(2);var l=[];for(var f=0;f<n.length/2;f++){l.push(parseInt(n.substr(f*2,2),16))}var k=[];var d=\"\";for(var f=0;f<l.length;f++){if(l[f]&128){d=d+strpad((l[f]&127).toString(2),7)}else{d=d+strpad((l[f]&127).toString(2),7);k.push(new String(parseInt(d,2)));d=\"\"}}var o=m.join(\".\");if(k.length>0){o=o+\".\"+k.join(\".\")}return o}catch(j){return null}}function inttohex(b){var a=new BigInteger(String(b),10);return twoscompl(a)}function twoscompl(b){var g=b.toString(16);if(g.substr(0,1)!=\"-\"){if(g.length%2==1){g=\"0\"+g}else{if(!g.match(/^[0-7]/)){g=\"00\"+g}}return g}var a=g.substr(1);var f=a.length;if(f%2==1){f+=1}else{if(!g.match(/^[0-7]/)){f+=2}}var j=\"\";for(var e=0;e<f;e++){j+=\"f\"}var d=new BigInteger(j,16);var c=d.xor(b).add(BigInteger.ONE);g=c.toString(16).replace(/^-/,\"\");return g}var strpad=function(c,b,a){if(a==undefined){a=\"0\"}if(c.length>=b){return c}return new Array(b-c.length+1).join(a)+c};function bitstrtoint(e){if(e.length%2!=0){return -1}e=e.toLowerCase();if(e.match(/^[0-9a-f]+$/)==null){return -1}try{var a=e.substr(0,2);if(a==\"00\"){return parseInt(e.substr(2),16)}var b=parseInt(a,16);if(b>7){return -1}var g=e.substr(2);var d=parseInt(g,16).toString(2);if(d==\"0\"){d=\"00000000\"}d=d.slice(0,0-b);var f=parseInt(d,2);if(f==NaN){return -1}return f}catch(c){return -1}}function inttobitstr(e){if(typeof e!=\"number\"){return null}if(e<0){return null}var c=Number(e).toString(2);var b=8-c.length%8;if(b==8){b=0}c=c+strpad(\"\",b,\"0\");var d=parseInt(c,2).toString(16);if(d.length%2==1){d=\"0\"+d}var a=\"0\"+b;return a+d}function bitstrtobinstr(g){if(typeof g!=\"string\"){return null}if(g.length%2!=0){return null}if(!g.match(/^[0-9a-f]+$/)){return null}try{var c=parseInt(g.substr(0,2),16);if(c<0||7<c){return null}var j=g.substr(2);var f=\"\";for(var e=0;e<j.length;e+=2){var b=j.substr(e,2);var a=parseInt(b,16).toString(2);a=(\"0000000\"+a).slice(-8);f+=a}return f.substr(0,f.length-c)}catch(d){return null}}function binstrtobitstr(b){if(typeof b!=\"string\"){return null}if(b.match(/^[01]+$/)==null){return null}try{var c=parseInt(b,2);return inttobitstr(c)}catch(a){return null}}function namearraytobinstr(e,g){var f=0;for(var a=0;a<e.length;a++){f|=1<<g[e[a]]}var b=f.toString(2);var c=\"\";for(var a=b.length-1;a>=0;a--){c+=b[a]}return c}function aryval(e,c,d){if(typeof e!=\"object\"){return undefined}var c=String(c).split(\".\");for(var b=0;b<c.length&&e;b++){var a=c[b];if(a.match(/^[0-9]+$/)){a=parseInt(a)}e=e[a]}return e||e===false?e:d}function extendClass(c,a){var b=function(){};b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;c.superclass=a.prototype;if(a.prototype.constructor==Object.prototype.constructor){a.prototype.constructor=a}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.crypto==\"undefined\"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:\"3021300906052b0e03021a05000414\",sha224:\"302d300d06096086480165030402040500041c\",sha256:\"3031300d060960864801650304020105000420\",sha384:\"3041300d060960864801650304020205000430\",sha512:\"3051300d060960864801650304020305000440\",md2:\"3020300c06082a864886f70d020205000410\",md5:\"3020300c06082a864886f70d020505000410\",ripemd160:\"3021300906052b2403020105000414\",};this.DEFAULTPROVIDER={md5:\"cryptojs\",sha1:\"cryptojs\",sha224:\"cryptojs\",sha256:\"cryptojs\",sha384:\"cryptojs\",sha512:\"cryptojs\",ripemd160:\"cryptojs\",hmacmd5:\"cryptojs\",hmacsha1:\"cryptojs\",hmacsha224:\"cryptojs\",hmacsha256:\"cryptojs\",hmacsha384:\"cryptojs\",hmacsha512:\"cryptojs\",hmacripemd160:\"cryptojs\",MD5withRSA:\"cryptojs/jsrsa\",SHA1withRSA:\"cryptojs/jsrsa\",SHA224withRSA:\"cryptojs/jsrsa\",SHA256withRSA:\"cryptojs/jsrsa\",SHA384withRSA:\"cryptojs/jsrsa\",SHA512withRSA:\"cryptojs/jsrsa\",RIPEMD160withRSA:\"cryptojs/jsrsa\",MD5withECDSA:\"cryptojs/jsrsa\",SHA1withECDSA:\"cryptojs/jsrsa\",SHA224withECDSA:\"cryptojs/jsrsa\",SHA256withECDSA:\"cryptojs/jsrsa\",SHA384withECDSA:\"cryptojs/jsrsa\",SHA512withECDSA:\"cryptojs/jsrsa\",RIPEMD160withECDSA:\"cryptojs/jsrsa\",SHA1withDSA:\"cryptojs/jsrsa\",SHA224withDSA:\"cryptojs/jsrsa\",SHA256withDSA:\"cryptojs/jsrsa\",MD5withRSAandMGF1:\"cryptojs/jsrsa\",SHAwithRSAandMGF1:\"cryptojs/jsrsa\",SHA1withRSAandMGF1:\"cryptojs/jsrsa\",SHA224withRSAandMGF1:\"cryptojs/jsrsa\",SHA256withRSAandMGF1:\"cryptojs/jsrsa\",SHA384withRSAandMGF1:\"cryptojs/jsrsa\",SHA512withRSAandMGF1:\"cryptojs/jsrsa\",RIPEMD160withRSAandMGF1:\"cryptojs/jsrsa\",};this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS.algo.MD5,sha1:CryptoJS.algo.SHA1,sha224:CryptoJS.algo.SHA224,sha256:CryptoJS.algo.SHA256,sha384:CryptoJS.algo.SHA384,sha512:CryptoJS.algo.SHA512,ripemd160:CryptoJS.algo.RIPEMD160};this.getDigestInfoHex=function(a,b){if(typeof this.DIGESTINFOHEAD[b]==\"undefined\"){throw\"alg not supported in Util.DIGESTINFOHEAD: \"+b}return this.DIGESTINFOHEAD[b]+a};this.getPaddedDigestInfoHex=function(h,a,j){var c=this.getDigestInfoHex(h,a);var d=j/4;if(c.length+22>d){throw\"key is too short for SigAlg: keylen=\"+j+\",\"+a}var b=\"0001\";var k=\"00\"+c;var g=\"\";var l=d-b.length-k.length;for(var f=0;f<l;f+=2){g+=\"ff\"}var e=b+g+k;return e};this.hashString=function(a,c){var b=new KJUR.crypto.MessageDigest({alg:c});return b.digestString(a)};this.hashHex=function(b,c){var a=new KJUR.crypto.MessageDigest({alg:c});return a.digestHex(b)};this.sha1=function(a){return this.hashString(a,\"sha1\")};this.sha256=function(a){return this.hashString(a,\"sha256\")};this.sha256Hex=function(a){return this.hashHex(a,\"sha256\")};this.sha512=function(a){return this.hashString(a,\"sha512\")};this.sha512Hex=function(a){return this.hashHex(a,\"sha512\")};this.isKey=function(a){if(a instanceof RSAKey||a instanceof KJUR.crypto.DSA||a instanceof KJUR.crypto.ECDSA){return true}else{return false}}};KJUR.crypto.Util.md5=function(a){var b=new KJUR.crypto.MessageDigest({alg:\"md5\",prov:\"cryptojs\"});return b.digestString(a)};KJUR.crypto.Util.ripemd160=function(a){var b=new KJUR.crypto.MessageDigest({alg:\"ripemd160\",prov:\"cryptojs\"});return b.digestString(a)};KJUR.crypto.Util.SECURERANDOMGEN=new SecureRandom();KJUR.crypto.Util.getRandomHexOfNbytes=function(b){var a=new Array(b);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(a);return BAtohex(a)};KJUR.crypto.Util.getRandomBigIntegerOfNbytes=function(a){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbytes(a),16)};KJUR.crypto.Util.getRandomHexOfNbits=function(d){var c=d%8;var a=(d-c)/8;var b=new Array(a+1);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(b);b[0]=(((255<<c)&255)^255)&b[0];return BAtohex(b)};KJUR.crypto.Util.getRandomBigIntegerOfNbits=function(a){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbits(a),16)};KJUR.crypto.Util.getRandomBigIntegerZeroToMax=function(b){var a=b.bitLength();while(1){var c=KJUR.crypto.Util.getRandomBigIntegerOfNbits(a);if(b.compareTo(c)!=-1){return c}}};KJUR.crypto.Util.getRandomBigIntegerMinToMax=function(e,b){var c=e.compareTo(b);if(c==1){throw\"biMin is greater than biMax\"}if(c==0){return e}var a=b.subtract(e);var d=KJUR.crypto.Util.getRandomBigIntegerZeroToMax(a);return d.add(e)};KJUR.crypto.MessageDigest=function(c){var b=null;var a=null;var d=null;this.setAlgAndProvider=function(g,f){g=KJUR.crypto.MessageDigest.getCanonicalAlgName(g);if(g!==null&&f===undefined){f=KJUR.crypto.Util.DEFAULTPROVIDER[g]}if(\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(g)!=-1&&f==\"cryptojs\"){try{this.md=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[g].create()}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+g+\"/\"+e}this.updateString=function(h){this.md.update(h)};this.updateHex=function(h){var i=CryptoJS.enc.Hex.parse(h);this.md.update(i)};this.digest=function(){var h=this.md.finalize();return h.toString(CryptoJS.enc.Hex)};this.digestString=function(h){this.updateString(h);return this.digest()};this.digestHex=function(h){this.updateHex(h);return this.digest()}}if(\":sha256:\".indexOf(g)!=-1&&f==\"sjcl\"){try{this.md=new sjcl.hash.sha256()}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+g+\"/\"+e}this.updateString=function(h){this.md.update(h)};this.updateHex=function(i){var h=sjcl.codec.hex.toBits(i);this.md.update(h)};this.digest=function(){var h=this.md.finalize();return sjcl.codec.hex.fromBits(h)};this.digestString=function(h){this.updateString(h);return this.digest()};this.digestHex=function(h){this.updateHex(h);return this.digest()}}};this.updateString=function(e){throw\"updateString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName};this.updateHex=function(e){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName};this.digest=function(){throw\"digest() not supported for this alg/prov: \"+this.algName+\"/\"+this.provName};this.digestString=function(e){throw\"digestString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName};this.digestHex=function(e){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName};if(c!==undefined){if(c.alg!==undefined){this.algName=c.alg;if(c.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.MessageDigest.getCanonicalAlgName=function(a){if(typeof a===\"string\"){a=a.toLowerCase();a=a.replace(/-/,\"\")}return a};KJUR.crypto.MessageDigest.getHashLength=function(c){var b=KJUR.crypto.MessageDigest;var a=b.getCanonicalAlgName(c);if(b.HASHLENGTH[a]===undefined){throw\"not supported algorithm: \"+c}return b.HASHLENGTH[a]};KJUR.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};KJUR.crypto.Mac=function(d){var f=null;var c=null;var a=null;var e=null;var b=null;this.setAlgAndProvider=function(k,i){k=k.toLowerCase();if(k==null){k=\"hmacsha1\"}k=k.toLowerCase();if(k.substr(0,4)!=\"hmac\"){throw\"setAlgAndProvider unsupported HMAC alg: \"+k}if(i===undefined){i=KJUR.crypto.Util.DEFAULTPROVIDER[k]}this.algProv=k+\"/\"+i;var g=k.substr(4);if(\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(g)!=-1&&i==\"cryptojs\"){try{var j=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[g];this.mac=CryptoJS.algo.HMAC.create(j,this.pass)}catch(h){throw\"setAlgAndProvider hash alg set fail hashAlg=\"+g+\"/\"+h}this.updateString=function(l){this.mac.update(l)};this.updateHex=function(l){var m=CryptoJS.enc.Hex.parse(l);this.mac.update(m)};this.doFinal=function(){var l=this.mac.finalize();return l.toString(CryptoJS.enc.Hex)};this.doFinalString=function(l){this.updateString(l);return this.doFinal()};this.doFinalHex=function(l){this.updateHex(l);return this.doFinal()}}};this.updateString=function(g){throw\"updateString(str) not supported for this alg/prov: \"+this.algProv};this.updateHex=function(g){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algProv};this.doFinal=function(){throw\"digest() not supported for this alg/prov: \"+this.algProv};this.doFinalString=function(g){throw\"digestString(str) not supported for this alg/prov: \"+this.algProv};this.doFinalHex=function(g){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algProv};this.setPassword=function(h){if(typeof h==\"string\"){var g=h;if(h.length%2==1||!h.match(/^[0-9A-Fa-f]+$/)){g=rstrtohex(h)}this.pass=CryptoJS.enc.Hex.parse(g);return}if(typeof h!=\"object\"){throw\"KJUR.crypto.Mac unsupported password type: \"+h}var g=null;if(h.hex!==undefined){if(h.hex.length%2!=0||!h.hex.match(/^[0-9A-Fa-f]+$/)){throw\"Mac: wrong hex password: \"+h.hex}g=h.hex}if(h.utf8!==undefined){g=utf8tohex(h.utf8)}if(h.rstr!==undefined){g=rstrtohex(h.rstr)}if(h.b64!==undefined){g=b64tohex(h.b64)}if(h.b64u!==undefined){g=b64utohex(h.b64u)}if(g==null){throw\"KJUR.crypto.Mac unsupported password type: \"+h}this.pass=CryptoJS.enc.Hex.parse(g)};if(d!==undefined){if(d.pass!==undefined){this.setPassword(d.pass)}if(d.alg!==undefined){this.algName=d.alg;if(d.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.Signature=function(o){var q=null;var n=null;var r=null;var c=null;var l=null;var d=null;var k=null;var h=null;var p=null;var e=null;var b=-1;var g=null;var j=null;var a=null;var i=null;var f=null;this._setAlgNames=function(){var s=this.algName.match(/^(.+)with(.+)$/);if(s){this.mdAlgName=s[1].toLowerCase();this.pubkeyAlgName=s[2].toLowerCase();if(this.pubkeyAlgName==\"rsaandmgf1\"&&this.mdAlgName==\"sha\"){this.mdAlgName=\"sha1\"}}};this._zeroPaddingOfSignature=function(x,w){var v=\"\";var t=w/4-x.length;for(var u=0;u<t;u++){v=v+\"0\"}return v+x};this.setAlgAndProvider=function(u,t){this._setAlgNames();if(t!=\"cryptojs/jsrsa\"){throw new Error(\"provider not supported: \"+t)}if(\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName)!=-1){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(s){throw new Error(\"setAlgAndProvider hash alg set fail alg=\"+this.mdAlgName+\"/\"+s)}this.init=function(w,x){var y=null;try{if(x===undefined){y=KEYUTIL.getKey(w)}else{y=KEYUTIL.getKey(w,x)}}catch(v){throw\"init failed:\"+v}if(y.isPrivate===true){this.prvKey=y;this.state=\"SIGN\"}else{if(y.isPublic===true){this.pubKey=y;this.state=\"VERIFY\"}else{throw\"init failed.:\"+y}}};this.updateString=function(v){this.md.updateString(v)};this.updateHex=function(v){this.md.updateHex(v)};this.sign=function(){this.sHashHex=this.md.digest();if(this.prvKey===undefined&&this.ecprvhex!==undefined&&this.eccurvename!==undefined&&KJUR.crypto.ECDSA!==undefined){this.prvKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})}if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName===\"rsaandmgf1\"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName===\"rsa\"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof KJUR.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof KJUR.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw\"Signature: unsupported private key alg: \"+this.pubkeyAlgName}}}}return this.hSign};this.signString=function(v){this.updateString(v);return this.sign()};this.signHex=function(v){this.updateHex(v);return this.sign()};this.verify=function(v){this.sHashHex=this.md.digest();if(this.pubKey===undefined&&this.ecpubhex!==undefined&&this.eccurvename!==undefined&&KJUR.crypto.ECDSA!==undefined){this.pubKey=new KJUR.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})}if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName===\"rsaandmgf1\"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,v,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName===\"rsa\"){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{if(KJUR.crypto.ECDSA!==undefined&&this.pubKey instanceof KJUR.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{if(KJUR.crypto.DSA!==undefined&&this.pubKey instanceof KJUR.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,v)}else{throw\"Signature: unsupported public key alg: \"+this.pubkeyAlgName}}}}}}};this.init=function(s,t){throw\"init(key, pass) not supported for this alg:prov=\"+this.algProvName};this.updateString=function(s){throw\"updateString(str) not supported for this alg:prov=\"+this.algProvName};this.updateHex=function(s){throw\"updateHex(hex) not supported for this alg:prov=\"+this.algProvName};this.sign=function(){throw\"sign() not supported for this alg:prov=\"+this.algProvName};this.signString=function(s){throw\"digestString(str) not supported for this alg:prov=\"+this.algProvName};this.signHex=function(s){throw\"digestHex(hex) not supported for this alg:prov=\"+this.algProvName};this.verify=function(s){throw\"verify(hSigVal) not supported for this alg:prov=\"+this.algProvName};this.initParams=o;if(o!==undefined){if(o.alg!==undefined){this.algName=o.alg;if(o.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=o.prov}this.algProvName=this.algName+\":\"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(o.psssaltlen!==undefined){this.pssSaltLen=o.psssaltlen}if(o.prvkeypem!==undefined){if(o.prvkeypas!==undefined){throw\"both prvkeypem and prvkeypas parameters not supported\"}else{try{var q=KEYUTIL.getKey(o.prvkeypem);this.init(q)}catch(m){throw\"fatal error to load pem private key: \"+m}}}}};KJUR.crypto.OID=new function(){this.oidhex2name={\"2a864886f70d010101\":\"rsaEncryption\",\"2a8648ce3d0201\":\"ecPublicKey\",\"2a8648ce380401\":\"dsa\",\"2a8648ce3d030107\":\"secp256r1\",\"2b8104001f\":\"secp192k1\",\"2b81040021\":\"secp224r1\",\"2b8104000a\":\"secp256k1\",\"2b81040022\":\"secp384r1\",\"2b81040023\":\"secp521r1\",\"2a8648ce380403\":\"SHA1withDSA\",\"608648016503040301\":\"SHA224withDSA\",\"608648016503040302\":\"SHA256withDSA\",}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.crypto==\"undefined\"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECDSA=function(e){var g=\"secp256r1\";var p=null;var b=null;var i=null;var j=Error,f=BigInteger,h=ECPointFp,m=KJUR.crypto.ECDSA,c=KJUR.crypto.ECParameterDB,d=m.getName,q=ASN1HEX,n=q.getVbyListEx,k=q.isASN1HEX;var a=new SecureRandom();var o=null;this.type=\"EC\";this.isPrivate=false;this.isPublic=false;function l(x,t,w,s){var r=Math.max(t.bitLength(),s.bitLength());var y=x.add2D(w);var v=x.curve.getInfinity();for(var u=r-1;u>=0;--u){v=v.twice2D();v.z=f.ONE;if(t.testBit(u)){if(s.testBit(u)){v=v.add2D(y)}else{v=v.add2D(x)}}else{if(s.testBit(u)){v=v.add2D(w)}}}return v}this.getBigRandom=function(r){return new f(r.bitLength(),a).mod(r.subtract(f.ONE)).add(f.ONE)};this.setNamedCurve=function(r){this.ecparams=c.getByName(r);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=r};this.setPrivateKeyHex=function(r){this.isPrivate=true;this.prvKeyHex=r};this.setPublicKeyHex=function(r){this.isPublic=true;this.pubKeyHex=r};this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if(t.substr(0,2)!==\"04\"){throw\"this method supports uncompressed format(04) only\"}var s=this.ecparams.keycharlen;if(t.length!==2+s*2){throw\"malformed public key hex length\"}var r={};r.x=t.substr(2,s);r.y=t.substr(2+s);return r};this.getShortNISTPCurveName=function(){var r=this.curveName;if(r===\"secp256r1\"||r===\"NIST P-256\"||r===\"P-256\"||r===\"prime256v1\"){return\"P-256\"}if(r===\"secp384r1\"||r===\"NIST P-384\"||r===\"P-384\"){return\"P-384\"}if(r===\"secp521r1\"||r===\"NIST P-521\"||r===\"P-521\"){return\"P-521\"}return null};this.generateKeyPairHex=function(){var s=this.ecparams.n;var u=this.getBigRandom(s);var r=this.ecparams.keycharlen;var t=(\"0000000000\"+u.toString(16)).slice(-r);this.setPrivateKeyHex(t);var v=this.generatePublicKeyHex();return{ecprvhex:t,ecpubhex:v}};this.generatePublicKeyHex=function(){var u=new f(this.prvKeyHex,16);var w=this.ecparams.G.multiply(u);var t=w.getX().toBigInteger();var s=w.getY().toBigInteger();var r=this.ecparams.keycharlen;var y=(\"0000000000\"+t.toString(16)).slice(-r);var v=(\"0000000000\"+s.toString(16)).slice(-r);var x=\"04\"+y+v;this.setPublicKeyHex(x);return x};this.signWithMessageHash=function(r){return this.signHex(r,this.prvKeyHex)};this.signHex=function(x,u){var A=new f(u,16);var v=this.ecparams.n;var z=new f(x.substring(0,this.ecparams.keycharlen),16);do{var w=this.getBigRandom(v);var B=this.ecparams.G;var y=B.multiply(w);var t=y.getX().toBigInteger().mod(v)}while(t.compareTo(f.ZERO)<=0);var C=w.modInverse(v).multiply(z.add(A.multiply(t))).mod(v);return m.biRSSigToASN1Sig(t,C)};this.sign=function(w,B){var z=B;var u=this.ecparams.n;var y=f.fromByteArrayUnsigned(w);do{var v=this.getBigRandom(u);var A=this.ecparams.G;var x=A.multiply(v);var t=x.getX().toBigInteger().mod(u)}while(t.compareTo(BigInteger.ZERO)<=0);var C=v.modInverse(u).multiply(y.add(z.multiply(t))).mod(u);return this.serializeSig(t,C)};this.verifyWithMessageHash=function(s,r){return this.verifyHex(s,r,this.pubKeyHex)};this.verifyHex=function(v,y,u){try{var t,B;var w=m.parseSigHex(y);t=w.r;B=w.s;var x=h.decodeFromHex(this.ecparams.curve,u);var z=new f(v.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(z,t,B,x)}catch(A){return false}};this.verify=function(z,A,u){var w,t;if(Bitcoin.Util.isArray(A)){var y=this.parseSig(A);w=y.r;t=y.s}else{if(\"object\"===typeof A&&A.r&&A.s){w=A.r;t=A.s}else{throw\"Invalid value for signature\"}}var v;if(u instanceof ECPointFp){v=u}else{if(Bitcoin.Util.isArray(u)){v=h.decodeFrom(this.ecparams.curve,u)}else{throw\"Invalid format for pubkey value, must be byte array or ECPointFp\"}}var x=f.fromByteArrayUnsigned(z);return this.verifyRaw(x,w,t,v)};this.verifyRaw=function(z,t,E,y){var x=this.ecparams.n;var D=this.ecparams.G;if(t.compareTo(f.ONE)<0||t.compareTo(x)>=0){return false}if(E.compareTo(f.ONE)<0||E.compareTo(x)>=0){return false}var A=E.modInverse(x);var w=z.multiply(A).mod(x);var u=t.multiply(A).mod(x);var B=D.multiply(w).add(y.multiply(u));var C=B.getX().toBigInteger().mod(x);return C.equals(t)};this.serializeSig=function(v,u){var w=v.toByteArraySigned();var t=u.toByteArraySigned();var x=[];x.push(2);x.push(w.length);x=x.concat(w);x.push(2);x.push(t.length);x=x.concat(t);x.unshift(x.length);x.unshift(48);return x};this.parseSig=function(y){var x;if(y[0]!=48){throw new Error(\"Signature not a valid DERSequence\")}x=2;if(y[x]!=2){throw new Error(\"First element in signature must be a DERInteger\")}var w=y.slice(x+2,x+2+y[x+1]);x+=2+y[x+1];if(y[x]!=2){throw new Error(\"Second element in signature must be a DERInteger\")}var t=y.slice(x+2,x+2+y[x+1]);x+=2+y[x+1];var v=f.fromByteArrayUnsigned(w);var u=f.fromByteArrayUnsigned(t);return{r:v,s:u}};this.parseSigCompact=function(w){if(w.length!==65){throw\"Signature has the wrong length\"}var t=w[0]-27;if(t<0||t>7){throw\"Invalid signature type\"}var x=this.ecparams.n;var v=f.fromByteArrayUnsigned(w.slice(1,33)).mod(x);var u=f.fromByteArrayUnsigned(w.slice(33,65)).mod(x);return{r:v,s:u,i:t}};this.readPKCS5PrvKeyHex=function(u){if(k(u)===false){throw new Error(\"not ASN.1 hex string\")}var r,t,v;try{r=n(u,0,[\"[0]\",0],\"06\");t=n(u,0,[1],\"04\");try{v=n(u,0,[\"[1]\",0],\"03\")}catch(s){}}catch(s){throw new Error(\"malformed PKCS#1/5 plain ECC private key\")}this.curveName=d(r);if(this.curveName===undefined){throw\"unsupported curve name\"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(v);this.setPrivateKeyHex(t);this.isPublic=false};this.readPKCS8PrvKeyHex=function(v){if(k(v)===false){throw new j(\"not ASN.1 hex string\")}var t,r,u,w;try{t=n(v,0,[1,0],\"06\");r=n(v,0,[1,1],\"06\");u=n(v,0,[2,0,1],\"04\");try{w=n(v,0,[2,0,\"[1]\",0],\"03\")}catch(s){}}catch(s){throw new j(\"malformed PKCS#8 plain ECC private key\")}this.curveName=d(r);if(this.curveName===undefined){throw new j(\"unsupported curve name\")}this.setNamedCurve(this.curveName);this.setPublicKeyHex(w);this.setPrivateKeyHex(u);this.isPublic=false};this.readPKCS8PubKeyHex=function(u){if(k(u)===false){throw new j(\"not ASN.1 hex string\")}var t,r,v;try{t=n(u,0,[0,0],\"06\");r=n(u,0,[0,1],\"06\");v=n(u,0,[1],\"03\")}catch(s){throw new j(\"malformed PKCS#8 ECC public key\")}this.curveName=d(r);if(this.curveName===null){throw new j(\"unsupported curve name\")}this.setNamedCurve(this.curveName);this.setPublicKeyHex(v)};this.readCertPubKeyHex=function(t,v){if(k(t)===false){throw new j(\"not ASN.1 hex string\")}var r,u;try{r=n(t,0,[0,5,0,1],\"06\");u=n(t,0,[0,5,1],\"03\")}catch(s){throw new j(\"malformed X.509 certificate ECC public key\")}this.curveName=d(r);if(this.curveName===null){throw new j(\"unsupported curve name\")}this.setNamedCurve(this.curveName);this.setPublicKeyHex(u)};if(e!==undefined){if(e.curve!==undefined){this.curveName=e.curve}}if(this.curveName===undefined){this.curveName=g}this.setNamedCurve(this.curveName);if(e!==undefined){if(e.prv!==undefined){this.setPrivateKeyHex(e.prv)}if(e.pub!==undefined){this.setPublicKeyHex(e.pub)}}};KJUR.crypto.ECDSA.parseSigHex=function(a){var b=KJUR.crypto.ECDSA.parseSigHexInHexRS(a);var d=new BigInteger(b.r,16);var c=new BigInteger(b.s,16);return{r:d,s:c}};KJUR.crypto.ECDSA.parseSigHexInHexRS=function(f){var j=ASN1HEX,i=j.getChildIdx,g=j.getV;j.checkStrictDER(f,0);if(f.substr(0,2)!=\"30\"){throw new Error(\"signature is not a ASN.1 sequence\")}var h=i(f,0);if(h.length!=2){throw new Error(\"signature shall have two elements\")}var e=h[0];var d=h[1];if(f.substr(e,2)!=\"02\"){throw new Error(\"1st item not ASN.1 integer\")}if(f.substr(d,2)!=\"02\"){throw new Error(\"2nd item not ASN.1 integer\")}var c=g(f,e);var b=g(f,d);return{r:c,s:b}};KJUR.crypto.ECDSA.asn1SigToConcatSig=function(d){var e=KJUR.crypto.ECDSA.parseSigHexInHexRS(d);var b=e.r;var a=e.s;if(b.length>=130&&b.length<=134){if(b.length%2!=0){throw Error(\"unknown ECDSA sig r length error\")}if(a.length%2!=0){throw Error(\"unknown ECDSA sig s length error\")}if(b.substr(0,2)==\"00\"){b=b.substr(2)}if(a.substr(0,2)==\"00\"){a=a.substr(2)}var c=Math.max(b.length,a.length);b=(\"000000\"+b).slice(-c);a=(\"000000\"+a).slice(-c);return b+a}if(b.substr(0,2)==\"00\"&&(b.length%32)==2){b=b.substr(2)}if(a.substr(0,2)==\"00\"&&(a.length%32)==2){a=a.substr(2)}if((b.length%32)==30){b=\"00\"+b}if((a.length%32)==30){a=\"00\"+a}if(b.length%32!=0){throw Error(\"unknown ECDSA sig r length error\")}if(a.length%32!=0){throw Error(\"unknown ECDSA sig s length error\")}return b+a};KJUR.crypto.ECDSA.concatSigToASN1Sig=function(a){if(a.length%4!=0){throw Error(\"unknown ECDSA concatinated r-s sig length error\")}var c=a.substr(0,a.length/2);var b=a.substr(a.length/2);return KJUR.crypto.ECDSA.hexRSSigToASN1Sig(c,b)};KJUR.crypto.ECDSA.hexRSSigToASN1Sig=function(b,a){var d=new BigInteger(b,16);var c=new BigInteger(a,16);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(d,c)};KJUR.crypto.ECDSA.biRSSigToASN1Sig=function(f,d){var c=KJUR.asn1;var b=new c.DERInteger({bigint:f});var a=new c.DERInteger({bigint:d});var e=new c.DERSequence({array:[b,a]});return e.tohex()};KJUR.crypto.ECDSA.getName=function(a){if(a===\"2b8104001f\"){return\"secp192k1\"}if(a===\"2a8648ce3d030107\"){return\"secp256r1\"}if(a===\"2b8104000a\"){return\"secp256k1\"}if(a===\"2b81040021\"){return\"secp224r1\"}if(a===\"2b81040022\"){return\"secp384r1\"}if(a===\"2b81040023\"){return\"secp521r1\"}if(\"|secp256r1|NIST P-256|P-256|prime256v1|\".indexOf(a)!==-1){return\"secp256r1\"}if(\"|secp256k1|\".indexOf(a)!==-1){return\"secp256k1\"}if(\"|secp224r1|NIST P-224|P-224|\".indexOf(a)!==-1){return\"secp224r1\"}if(\"|secp384r1|NIST P-384|P-384|\".indexOf(a)!==-1){return\"secp384r1\"}if(\"|secp521r1|NIST P-521|P-521|\".indexOf(a)!==-1){return\"secp521r1\"}return null};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.crypto==\"undefined\"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECParameterDB=new function(){var b={};var c={};function a(d){return new BigInteger(d,16)}this.getByName=function(e){var d=e;if(typeof c[d]!=\"undefined\"){d=c[e]}if(typeof b[d]!=\"undefined\"){return b[d]}throw\"unregistered EC curve name: \"+d};this.regist=function(A,l,o,g,m,e,j,f,k,u,d,x){b[A]={};var s=a(o);var z=a(g);var y=a(m);var t=a(e);var w=a(j);var r=new ECCurveFp(s,z,y);var q=r.decodePointHex(\"04\"+f+k);b[A][\"name\"]=A;b[A][\"keylen\"]=l;b[A][\"keycharlen\"]=Math.ceil(l/8)*2;b[A][\"curve\"]=r;b[A][\"G\"]=q;b[A][\"n\"]=t;b[A][\"h\"]=w;b[A][\"oid\"]=d;b[A][\"info\"]=x;for(var v=0;v<u.length;v++){c[u[v]]=A}}};KJUR.crypto.ECParameterDB.regist(\"secp128r1\",128,\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\",\"E87579C11079F43DD824993C2CEE5ED3\",\"FFFFFFFE0000000075A30D1B9038A115\",\"1\",\"161FF7528B899B2D0C28607CA52C5B86\",\"CF5AC8395BAFEB13C02DA292DDED7A83\",[],\"\",\"secp128r1 : SECG curve over a 128 bit prime field\");KJUR.crypto.ECParameterDB.regist(\"secp160k1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\",\"0\",\"7\",\"0100000000000000000001B8FA16DFAB9ACA16B6B3\",\"1\",\"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\",\"938CF935318FDCED6BC28286531733C3F03C4FEE\",[],\"\",\"secp160k1 : SECG curve over a 160 bit prime field\");KJUR.crypto.ECParameterDB.regist(\"secp160r1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\",\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\",\"0100000000000000000001F4C8F927AED3CA752257\",\"1\",\"4A96B5688EF573284664698968C38BB913CBFC82\",\"23A628553168947D59DCC912042351377AC5FB32\",[],\"\",\"secp160r1 : SECG curve over a 160 bit prime field\");KJUR.crypto.ECParameterDB.regist(\"secp192k1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\",\"0\",\"3\",\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\",\"1\",\"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\",\"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\",[]);KJUR.crypto.ECParameterDB.regist(\"secp192r1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\",\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\",\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\",\"1\",\"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\",\"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\",[]);KJUR.crypto.ECParameterDB.regist(\"secp224r1\",224,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\",\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\",\"1\",\"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\",\"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\",[]);KJUR.crypto.ECParameterDB.regist(\"secp256k1\",256,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\",\"0\",\"7\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\",\"1\",\"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\",\"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\",[]);KJUR.crypto.ECParameterDB.regist(\"secp256r1\",256,\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\",\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\",\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",\"1\",\"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\",\"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\",[\"NIST P-256\",\"P-256\",\"prime256v1\"]);KJUR.crypto.ECParameterDB.regist(\"secp384r1\",384,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\",\"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\",\"1\",\"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\",\"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\",[\"NIST P-384\",\"P-384\"]);KJUR.crypto.ECParameterDB.regist(\"secp521r1\",521,\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\",\"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\",\"1\",\"00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\",\"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\",[\"NIST P-521\",\"P-521\"]);\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.crypto==\"undefined\"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.DSA=function(){var b=ASN1HEX,e=b.getVbyList,d=b.getVbyListEx,a=b.isASN1HEX,c=BigInteger;this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type=\"DSA\";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(j,i,h,k,f){this.isPrivate=true;this.p=j;this.q=i;this.g=h;this.y=k;this.x=f};this.setPrivateHex=function(i,g,k,n,o){var h,f,j,l,m;h=new BigInteger(i,16);f=new BigInteger(g,16);j=new BigInteger(k,16);if(typeof n===\"string\"&&n.length>1){l=new BigInteger(n,16)}else{l=null}m=new BigInteger(o,16);this.setPrivate(h,f,j,l,m)};this.setPublic=function(i,h,f,j){this.isPublic=true;this.p=i;this.q=h;this.g=f;this.y=j;this.x=null};this.setPublicHex=function(k,j,i,l){var g,f,m,h;g=new BigInteger(k,16);f=new BigInteger(j,16);m=new BigInteger(i,16);h=new BigInteger(l,16);this.setPublic(g,f,m,h)};this.signWithMessageHash=function(j){var i=this.p;var h=this.q;var m=this.g;var o=this.y;var t=this.x;var l=KJUR.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),h.subtract(BigInteger.ONE));var u=j.substr(0,h.bitLength()/4);var n=new BigInteger(u,16);var f=(m.modPow(l,i)).mod(h);var w=(l.modInverse(h).multiply(n.add(t.multiply(f)))).mod(h);var v=KJUR.asn1.ASN1Util.jsonToASN1HEX({seq:[{\"int\":{bigint:f}},{\"int\":{bigint:w}}]});return v};this.verifyWithMessageHash=function(m,l){var j=this.p;var h=this.q;var o=this.g;var u=this.y;var n=this.parseASN1Signature(l);var f=n[0];var C=n[1];var B=m.substr(0,h.bitLength()/4);var t=new BigInteger(B,16);if(BigInteger.ZERO.compareTo(f)>0||f.compareTo(h)>0){throw\"invalid DSA signature\"}if(BigInteger.ZERO.compareTo(C)>=0||C.compareTo(h)>0){throw\"invalid DSA signature\"}var x=C.modInverse(h);var k=t.multiply(x).mod(h);var i=f.multiply(x).mod(h);var A=o.modPow(k,j).multiply(u.modPow(i,j)).mod(j).mod(h);return A.compareTo(f)==0};this.parseASN1Signature=function(f){try{var i=new c(d(f,0,[0],\"02\"),16);var h=new c(d(f,0,[1],\"02\"),16);return[i,h]}catch(g){throw new Error(\"malformed ASN.1 DSA signature\")}};this.readPKCS5PrvKeyHex=function(j){var k,i,g,l,m;if(a(j)===false){throw new Error(\"not ASN.1 hex string\")}try{k=d(j,0,[1],\"02\");i=d(j,0,[2],\"02\");g=d(j,0,[3],\"02\");l=d(j,0,[4],\"02\");m=d(j,0,[5],\"02\")}catch(f){throw new Error(\"malformed PKCS#1/5 plain DSA private key\")}this.setPrivateHex(k,i,g,l,m)};this.readPKCS8PrvKeyHex=function(j){var k,i,g,l;if(a(j)===false){throw new Error(\"not ASN.1 hex string\")}try{k=d(j,0,[1,1,0],\"02\");i=d(j,0,[1,1,1],\"02\");g=d(j,0,[1,1,2],\"02\");l=d(j,0,[2,0],\"02\")}catch(f){throw new Error(\"malformed PKCS#8 plain DSA private key\")}this.setPrivateHex(k,i,g,null,l)};this.readPKCS8PubKeyHex=function(j){var k,i,g,l;if(a(j)===false){throw new Error(\"not ASN.1 hex string\")}try{k=d(j,0,[0,1,0],\"02\");i=d(j,0,[0,1,1],\"02\");g=d(j,0,[0,1,2],\"02\");l=d(j,0,[1,0],\"02\")}catch(f){throw new Error(\"malformed PKCS#8 DSA public key\")}this.setPublicHex(k,i,g,l)};this.readCertPubKeyHex=function(j,m){var k,i,g,l;if(a(j)===false){throw new Error(\"not ASN.1 hex string\")}try{k=d(j,0,[0,5,0,1,0],\"02\");i=d(j,0,[0,5,0,1,1],\"02\");g=d(j,0,[0,5,0,1,2],\"02\");l=d(j,0,[0,5,1,0],\"02\")}catch(f){throw new Error(\"malformed X.509 certificate DSA public key\")}this.setPublicHex(k,i,g,l)}};\nvar KEYUTIL=function(){var d=function(p,r,q){return k(CryptoJS.AES,p,r,q)};var e=function(p,r,q){return k(CryptoJS.TripleDES,p,r,q)};var a=function(p,r,q){return k(CryptoJS.DES,p,r,q)};var k=function(s,x,u,q){var r=CryptoJS.enc.Hex.parse(x);var w=CryptoJS.enc.Hex.parse(u);var p=CryptoJS.enc.Hex.parse(q);var t={};t.key=w;t.iv=p;t.ciphertext=r;var v=s.decrypt(t,w,{iv:p});return CryptoJS.enc.Hex.stringify(v)};var l=function(p,r,q){return g(CryptoJS.AES,p,r,q)};var o=function(p,r,q){return g(CryptoJS.TripleDES,p,r,q)};var f=function(p,r,q){return g(CryptoJS.DES,p,r,q)};var g=function(t,y,v,q){var s=CryptoJS.enc.Hex.parse(y);var x=CryptoJS.enc.Hex.parse(v);var p=CryptoJS.enc.Hex.parse(q);var w=t.encrypt(s,x,{iv:p});var r=CryptoJS.enc.Hex.parse(w.toString());var u=CryptoJS.enc.Base64.stringify(r);return u};var i={\"AES-256-CBC\":{proc:d,eproc:l,keylen:32,ivlen:16},\"AES-192-CBC\":{proc:d,eproc:l,keylen:24,ivlen:16},\"AES-128-CBC\":{proc:d,eproc:l,keylen:16,ivlen:16},\"DES-EDE3-CBC\":{proc:e,eproc:o,keylen:24,ivlen:8},\"DES-CBC\":{proc:a,eproc:f,keylen:8,ivlen:8}};var c=function(p){return i[p][\"proc\"]};var m=function(p){var r=CryptoJS.lib.WordArray.random(p);var q=CryptoJS.enc.Hex.stringify(r);return q};var n=function(v){var w={};var q=v.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\",\"m\"));if(q){w.cipher=q[1];w.ivsalt=q[2]}var p=v.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"));if(p){w.type=p[1]}var u=-1;var x=0;if(v.indexOf(\"\\r\\n\\r\\n\")!=-1){u=v.indexOf(\"\\r\\n\\r\\n\");x=2}if(v.indexOf(\"\\n\\n\")!=-1){u=v.indexOf(\"\\n\\n\");x=1}var t=v.indexOf(\"-----END\");if(u!=-1&&t!=-1){var r=v.substring(u+x*2,t-x);r=r.replace(/\\s+/g,\"\");w.data=r}return w};var j=function(q,y,p){var v=p.substring(0,16);var t=CryptoJS.enc.Hex.parse(v);var r=CryptoJS.enc.Utf8.parse(y);var u=i[q][\"keylen\"]+i[q][\"ivlen\"];var x=\"\";var w=null;for(;;){var s=CryptoJS.algo.MD5.create();if(w!=null){s.update(w)}s.update(r);s.update(t);w=s.finalize();x=x+CryptoJS.enc.Hex.stringify(w);if(x.length>=u*2){break}}var z={};z.keyhex=x.substr(0,i[q][\"keylen\"]*2);z.ivhex=x.substr(i[q][\"keylen\"]*2,i[q][\"ivlen\"]*2);return z};var b=function(p,v,r,w){var s=CryptoJS.enc.Base64.parse(p);var q=CryptoJS.enc.Hex.stringify(s);var u=i[v][\"proc\"];var t=u(q,r,w);return t};var h=function(p,s,q,u){var r=i[s][\"eproc\"];var t=r(p,q,u);return t};return{version:\"1.0.0\",parsePKCS5PEM:function(p){return n(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(q,p,r){return j(q,p,r)},decryptKeyB64:function(p,r,q,s){return b(p,r,q,s)},getDecryptedKeyHex:function(y,x){var q=n(y);var t=q.type;var r=q.cipher;var p=q.ivsalt;var s=q.data;var w=j(r,x,p);var v=w.keyhex;var u=b(s,r,v,p);return u},getEncryptedPKCS5PEMFromPrvKeyHex:function(x,s,A,t,r){var p=\"\";if(typeof t==\"undefined\"||t==null){t=\"AES-256-CBC\"}if(typeof i[t]==\"undefined\"){throw new Error(\"KEYUTIL unsupported algorithm: \"+t)}if(typeof r==\"undefined\"||r==null){var v=i[t][\"ivlen\"];var u=m(v);r=u.toUpperCase()}var z=j(t,A,r);var y=z.keyhex;var w=h(s,t,y,r);var q=w.replace(/(.{64})/g,\"$1\\r\\n\");var p=\"-----BEGIN \"+x+\" PRIVATE KEY-----\\r\\n\";p+=\"Proc-Type: 4,ENCRYPTED\\r\\n\";p+=\"DEK-Info: \"+t+\",\"+r+\"\\r\\n\";p+=\"\\r\\n\";p+=q;p+=\"\\r\\n-----END \"+x+\" PRIVATE KEY-----\\r\\n\";return p},getEncryptedPKCS8PEM:function(r,p,s){var q=this.getEncryptedPKCS8Hex(r,p,s);return hextopem(q,\"ENCRYPTED PRIVATE KEY\")},getEncryptedPKCS8Hex:function(r,p,t){var q;if(t==undefined||t==null){q={}}else{q=JSON.parse(JSON.stringify(t))}q.plain=r;this.initPBES2Param(q);this.encryptPBES2Param(q,p);var s=this.generatePBES2ASN1Param(q);return KJUR.asn1.ASN1Util.newObject(s).tohex()},initPBES2Param:function(p){if(aryval(p,\"encalg\")==undefined){p.encalg=\"aes256-CBC\"}if(aryval(p,\"iter\")==undefined){p.iter=2048}if(aryval(p,\"prf\")==undefined){p.prf=\"hmacWithSHA256\"}if(aryval(p,\"salt\")==undefined){p.salt=CryptoJS.enc.Hex.stringify(CryptoJS.lib.WordArray.random(8))}if(aryval(p,\"enciv\")==undefined){var q;if(p.encalg==\"des-EDE3-CBC\"){q=8}if(p.encalg==\"aes128-CBC\"){q=16}if(p.encalg==\"aes256-CBC\"){q=16}p.enciv=CryptoJS.enc.Hex.stringify(CryptoJS.lib.WordArray.random(q))}},encryptPBES2Param:function(p,q){var t=KEYUTIL.getDKFromPBES2Param(p,q);try{var s=KJUR.crypto.Cipher.encrypt(p.plain,t,p.encalg,{iv:p.enciv})}catch(r){throw new Error(\"encrypt error: \"+p.plain+\" \"+t+\" \"+p.encalg+\" \"+p.enciv)}p.enc=s},generatePBES2ASN1Param:function(p){var q={seq:[{seq:[{oid:\"pkcs5PBES2\"},{seq:[{seq:[{oid:\"pkcs5PBKDF2\"},{seq:[{octstr:{hex:p.salt}},{\"int\":{hex:inttohex(p.iter)}}]}]},{seq:[{oid:p.encalg},{octstr:{hex:p.enciv}}]}]}]},{octstr:{hex:p.enc}}]};if(p.prf!=\"hmacWithSHA1\"){q.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:p.prf},{\"null\":\"\"}]})}return q},parseHexOfEncryptedPKCS8:function(y){var B=ASN1HEX;var z=B.getChildIdx;var w=B.getV;var t={};var r=z(y,0);if(r.length!=2){throw new Error(\"malformed format: SEQUENCE(0).items != 2: \"+r.length)}t.ciphertext=w(y,r[1]);var A=z(y,r[0]);if(A.length!=2){throw new Error(\"malformed format: SEQUENCE(0.0).items != 2: \"+A.length)}if(w(y,A[0])!=\"2a864886f70d01050d\"){throw new Error(\"this only supports pkcs5PBES2\")}var p=z(y,A[1]);if(A.length!=2){throw new Error(\"malformed format: SEQUENCE(0.0.1).items != 2: \"+p.length)}var q=z(y,p[1]);if(q.length!=2){throw new Error(\"malformed format: SEQUENCE(0.0.1.1).items != 2: \"+q.length)}if(w(y,q[0])!=\"2a864886f70d0307\"){throw\"this only supports TripleDES\"}t.encryptionSchemeAlg=\"TripleDES\";t.encryptionSchemeIV=w(y,q[1]);var s=z(y,p[0]);if(s.length!=2){throw new Error(\"malformed format: SEQUENCE(0.0.1.0).items != 2: \"+s.length)}if(w(y,s[0])!=\"2a864886f70d01050c\"){throw new Error(\"this only supports pkcs5PBKDF2\")}var x=z(y,s[1]);if(x.length<2){throw new Error(\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \"+x.length)}t.pbkdf2Salt=w(y,x[0]);var u=w(y,x[1]);try{t.pbkdf2Iter=parseInt(u,16)}catch(v){throw new Error(\"malformed format pbkdf2Iter: \"+u)}return t},getPBKDF2KeyHexFromParam:function(u,p){var t=CryptoJS.enc.Hex.parse(u.pbkdf2Salt);var q=u.pbkdf2Iter;var s=CryptoJS.PBKDF2(p,t,{keySize:192/32,iterations:q});var r=CryptoJS.enc.Hex.stringify(s);return r},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(x,y){var r=pemtohex(x,\"ENCRYPTED PRIVATE KEY\");var p=this.parseHexOfEncryptedPKCS8(r);var u=KEYUTIL.getPBKDF2KeyHexFromParam(p,y);var v={};v.ciphertext=CryptoJS.enc.Hex.parse(p.ciphertext);var t=CryptoJS.enc.Hex.parse(u);var s=CryptoJS.enc.Hex.parse(p.encryptionSchemeIV);var w=CryptoJS.TripleDES.decrypt(v,t,{iv:s});var q=CryptoJS.enc.Hex.stringify(w);return q},parsePBES2:function(z){var v=ASN1HEX.parse(z);if(aryval(v,\"seq.0.seq.0.oid\")!=\"pkcs5PBES2\"||aryval(v,\"seq.0.seq.1.seq.0.seq.0.oid\")!=\"pkcs5PBKDF2\"){throw new Error(\"not pkcs5PBES2 and pkcs5PBKDF2 used\")}var y=aryval(v,\"seq.0.seq.1.seq.0.seq.1.seq\");if(y==undefined){throw new Error(\"PBKDF2 parameter not found\")}var t=aryval(y,\"0.octstr.hex\");var p=aryval(y,\"1.int.hex\");var q=aryval(y,\"2.seq.0.oid\",\"hmacWithSHA1\");var x=-1;try{x=parseInt(p,16)}catch(w){throw new Error(\"iter not proper value\")}var u=aryval(v,\"seq.0.seq.1.seq.1.seq.0.oid\");var s=aryval(v,\"seq.0.seq.1.seq.1.seq.1.octstr.hex\");var r=aryval(v,\"seq.1.octstr.hex\");if(u==undefined||s==undefined||r==undefined){throw new Error(\"encalg, enciv or enc is undefined\")}var A={salt:t,iter:x,prf:q,encalg:u,enciv:s,enc:r};return A},getDKFromPBES2Param:function(p,w){var x={hmacWithSHA1:CryptoJS.algo.SHA1,hmacWithSHA224:CryptoJS.algo.SHA224,hmacWithSHA256:CryptoJS.algo.SHA256,hmacWithSHA384:CryptoJS.algo.SHA384,hmacWithSHA512:CryptoJS.algo.SHA512};var q={\"des-EDE3-CBC\":192/32,\"aes128-CBC\":128/32,\"aes256-CBC\":256/32,};var y=x[p.prf];if(y==undefined){throw new Error(\"unsupported prf\")}var r=q[p.encalg];if(r==undefined){throw new Error(\"unsupported encalg\")}var s=CryptoJS.enc.Hex.parse(p.salt);var u=p.iter;try{var v=CryptoJS.PBKDF2(w,s,{keySize:r,iterations:u,hasher:y});return CryptoJS.enc.Hex.stringify(v)}catch(t){throw new Error(\"PBKDF2 error: \"+t+\" \"+JSON.stringify(p)+\" \"+w)}},getPlainHexFromEncryptedPKCS8PEM:function(t,q){if(t.indexOf(\"BEGIN ENCRYPTED PRIVATE KEY\")==-1){throw new Error(\"not Encrypted PKCS#8 PEM string\")}var u=pemtohex(t);var p;try{p=KEYUTIL.parsePBES2(u)}catch(r){throw new Error(\"malformed PBES2 format: \"+r.message)}var s=KEYUTIL.getDKFromPBES2Param(p,q);return KJUR.crypto.Cipher.decrypt(p.enc,s,p.encalg,{iv:p.enciv})},getKeyFromEncryptedPKCS8PEM:function(s,q){var p=this.getPlainHexFromEncryptedPKCS8PEM(s,q);var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},parsePlainPrivatePKCS8Hex:function(s){var v=ASN1HEX;var u=v.getChildIdx;var t=v.getV;var q={};q.algparam=null;if(s.substr(0,2)!=\"30\"){throw new Error(\"malformed plain PKCS8 private key(code:001)\")}var r=u(s,0);if(r.length<3){throw new Error(\"malformed plain PKCS8 private key(code:002)\")}if(s.substr(r[1],2)!=\"30\"){throw new Error(\"malformed PKCS8 private key(code:003)\")}var p=u(s,r[1]);if(p.length!=2){throw new Error(\"malformed PKCS8 private key(code:004)\")}if(s.substr(p[0],2)!=\"06\"){throw new Error(\"malformed PKCS8 private key(code:005)\")}q.algoid=t(s,p[0]);if(s.substr(p[1],2)==\"06\"){q.algparam=t(s,p[1])}if(s.substr(r[2],2)!=\"04\"){throw new Error(\"malformed PKCS8 private key(code:006)\")}q.keyidx=v.getVidx(s,r[2]);return q},getKeyFromPlainPrivatePKCS8PEM:function(q){var p=pemtohex(q,\"PRIVATE KEY\");var r=this.getKeyFromPlainPrivatePKCS8Hex(p);return r},getKeyFromPlainPrivatePKCS8Hex:function(p){var q=this.parsePlainPrivatePKCS8Hex(p);var r;if(q.algoid==\"2a864886f70d010101\"){r=new RSAKey()}else{if(q.algoid==\"2a8648ce380401\"){r=new KJUR.crypto.DSA()}else{if(q.algoid==\"2a8648ce3d0201\"){r=new KJUR.crypto.ECDSA()}else{throw new Error(\"unsupported private key algorithm\")}}}r.readPKCS8PrvKeyHex(p);return r},_getKeyFromPublicPKCS8Hex:function(q){var p;var r=ASN1HEX.getVbyList(q,0,[0,0],\"06\");if(r===\"2a864886f70d010101\"){p=new RSAKey()}else{if(r===\"2a8648ce380401\"){p=new KJUR.crypto.DSA()}else{if(r===\"2a8648ce3d0201\"){p=new KJUR.crypto.ECDSA()}else{throw new Error(\"unsupported PKCS#8 public key hex\")}}}p.readPKCS8PubKeyHex(q);return p},parsePublicRawRSAKeyHex:function(r){var u=ASN1HEX;var t=u.getChildIdx;var s=u.getV;var p={};if(r.substr(0,2)!=\"30\"){throw new Error(\"malformed RSA key(code:001)\")}var q=t(r,0);if(q.length!=2){throw new Error(\"malformed RSA key(code:002)\")}if(r.substr(q[0],2)!=\"02\"){throw new Error(\"malformed RSA key(code:003)\")}p.n=s(r,q[0]);if(r.substr(q[1],2)!=\"02\"){throw new Error(\"malformed RSA key(code:004)\")}p.e=s(r,q[1]);return p},parsePublicPKCS8Hex:function(t){var v=ASN1HEX;var u=v.getChildIdx;var s=v.getV;var q={};q.algparam=null;var r=u(t,0);if(r.length!=2){throw new Error(\"outer DERSequence shall have 2 elements: \"+r.length)}var w=r[0];if(t.substr(w,2)!=\"30\"){throw new Error(\"malformed PKCS8 public key(code:001)\")}var p=u(t,w);if(p.length!=2){throw new Error(\"malformed PKCS8 public key(code:002)\")}if(t.substr(p[0],2)!=\"06\"){throw new Error(\"malformed PKCS8 public key(code:003)\")}q.algoid=s(t,p[0]);if(t.substr(p[1],2)==\"06\"){q.algparam=s(t,p[1])}else{if(t.substr(p[1],2)==\"30\"){q.algparam={};q.algparam.p=v.getVbyList(t,p[1],[0],\"02\");q.algparam.q=v.getVbyList(t,p[1],[1],\"02\");q.algparam.g=v.getVbyList(t,p[1],[2],\"02\")}}if(t.substr(r[1],2)!=\"03\"){throw new Error(\"malformed PKCS8 public key(code:004)\")}q.key=s(t,r[1]).substr(2);return q},}}();KEYUTIL.getKey=function(l,k,n){var G=ASN1HEX,L=G.getChildIdx,v=G.getV,d=G.getVbyList,c=KJUR.crypto,i=c.ECDSA,C=c.DSA,w=RSAKey,M=pemtohex,F=KEYUTIL;if(typeof w!=\"undefined\"&&l instanceof w){return l}if(typeof i!=\"undefined\"&&l instanceof i){return l}if(typeof C!=\"undefined\"&&l instanceof C){return l}if(l.curve!==undefined&&l.xy!==undefined&&l.d===undefined){return new i({pub:l.xy,curve:l.curve})}if(l.curve!==undefined&&l.d!==undefined){return new i({prv:l.d,curve:l.curve})}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d===undefined){var P=new w();P.setPublic(l.n,l.e);return P}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p!==undefined&&l.q!==undefined&&l.dp!==undefined&&l.dq!==undefined&&l.co!==undefined&&l.qi===undefined){var P=new w();P.setPrivateEx(l.n,l.e,l.d,l.p,l.q,l.dp,l.dq,l.co);return P}if(l.kty===undefined&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p===undefined){var P=new w();P.setPrivate(l.n,l.e,l.d);return P}if(l.p!==undefined&&l.q!==undefined&&l.g!==undefined&&l.y!==undefined&&l.x===undefined){var P=new C();P.setPublic(l.p,l.q,l.g,l.y);return P}if(l.p!==undefined&&l.q!==undefined&&l.g!==undefined&&l.y!==undefined&&l.x!==undefined){var P=new C();P.setPrivate(l.p,l.q,l.g,l.y,l.x);return P}if(l.kty===\"RSA\"&&l.n!==undefined&&l.e!==undefined&&l.d===undefined){var P=new w();P.setPublic(b64utohex(l.n),b64utohex(l.e));return P}if(l.kty===\"RSA\"&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined&&l.p!==undefined&&l.q!==undefined&&l.dp!==undefined&&l.dq!==undefined&&l.qi!==undefined){var P=new w();P.setPrivateEx(b64utohex(l.n),b64utohex(l.e),b64utohex(l.d),b64utohex(l.p),b64utohex(l.q),b64utohex(l.dp),b64utohex(l.dq),b64utohex(l.qi));return P}if(l.kty===\"RSA\"&&l.n!==undefined&&l.e!==undefined&&l.d!==undefined){var P=new w();P.setPrivate(b64utohex(l.n),b64utohex(l.e),b64utohex(l.d));return P}if(l.kty===\"EC\"&&l.crv!==undefined&&l.x!==undefined&&l.y!==undefined&&l.d===undefined){var j=new i({curve:l.crv});var t=j.ecparams.keycharlen;var B=(\"0000000000\"+b64utohex(l.x)).slice(-t);var z=(\"0000000000\"+b64utohex(l.y)).slice(-t);var u=\"04\"+B+z;j.setPublicKeyHex(u);return j}if(l.kty===\"EC\"&&l.crv!==undefined&&l.x!==undefined&&l.y!==undefined&&l.d!==undefined){var j=new i({curve:l.crv});var t=j.ecparams.keycharlen;var B=(\"0000000000\"+b64utohex(l.x)).slice(-t);var z=(\"0000000000\"+b64utohex(l.y)).slice(-t);var u=\"04\"+B+z;var b=(\"0000000000\"+b64utohex(l.d)).slice(-t);j.setPublicKeyHex(u);j.setPrivateKeyHex(b);return j}if(n===\"pkcs5prv\"){var J=l,G=ASN1HEX,N,P;N=L(J,0);if(N.length===9){P=new w();P.readPKCS5PrvKeyHex(J)}else{if(N.length===6){P=new C();P.readPKCS5PrvKeyHex(J)}else{if(N.length>2&&J.substr(N[1],2)===\"04\"){P=new i();P.readPKCS5PrvKeyHex(J)}else{throw new Error(\"unsupported PKCS#1/5 hexadecimal key\")}}}return P}if(n===\"pkcs8prv\"){var P=F.getKeyFromPlainPrivatePKCS8Hex(l);return P}if(n===\"pkcs8pub\"){return F._getKeyFromPublicPKCS8Hex(l)}if(n===\"x509pub\"){return X509.getPublicKeyFromCertHex(l)}if(l.indexOf(\"-END CERTIFICATE-\",0)!=-1||l.indexOf(\"-END X509 CERTIFICATE-\",0)!=-1||l.indexOf(\"-END TRUSTED CERTIFICATE-\",0)!=-1){return X509.getPublicKeyFromCertPEM(l)}if(l.indexOf(\"-END PUBLIC KEY-\")!=-1){var O=pemtohex(l,\"PUBLIC KEY\");return F._getKeyFromPublicPKCS8Hex(O)}if(l.indexOf(\"-END RSA PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")==-1){var m=M(l,\"RSA PRIVATE KEY\");return F.getKey(m,null,\"pkcs5prv\")}if(l.indexOf(\"-END DSA PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")==-1){var I=M(l,\"DSA PRIVATE KEY\");var E=d(I,0,[1],\"02\");var D=d(I,0,[2],\"02\");var K=d(I,0,[3],\"02\");var r=d(I,0,[4],\"02\");var s=d(I,0,[5],\"02\");var P=new C();P.setPrivate(new BigInteger(E,16),new BigInteger(D,16),new BigInteger(K,16),new BigInteger(r,16),new BigInteger(s,16));return P}if(l.indexOf(\"-END EC PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")==-1){var m=M(l,\"EC PRIVATE KEY\");return F.getKey(m,null,\"pkcs5prv\")}if(l.indexOf(\"-END PRIVATE KEY-\")!=-1){return F.getKeyFromPlainPrivatePKCS8PEM(l)}if(l.indexOf(\"-END RSA PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")!=-1){var o=F.getDecryptedKeyHex(l,k);var H=new RSAKey();H.readPKCS5PrvKeyHex(o);return H}if(l.indexOf(\"-END EC PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")!=-1){var I=F.getDecryptedKeyHex(l,k);var P=d(I,0,[1],\"04\");var f=d(I,0,[2,0],\"06\");var A=d(I,0,[3,0],\"03\").substr(2);var e=\"\";if(KJUR.crypto.OID.oidhex2name[f]!==undefined){e=KJUR.crypto.OID.oidhex2name[f]}else{throw new Error(\"undefined OID(hex) in KJUR.crypto.OID: \"+f)}var j=new i({curve:e});j.setPublicKeyHex(A);j.setPrivateKeyHex(P);j.isPublic=false;return j}if(l.indexOf(\"-END DSA PRIVATE KEY-\")!=-1&&l.indexOf(\"4,ENCRYPTED\")!=-1){var I=F.getDecryptedKeyHex(l,k);var E=d(I,0,[1],\"02\");var D=d(I,0,[2],\"02\");var K=d(I,0,[3],\"02\");var r=d(I,0,[4],\"02\");var s=d(I,0,[5],\"02\");var P=new C();P.setPrivate(new BigInteger(E,16),new BigInteger(D,16),new BigInteger(K,16),new BigInteger(r,16),new BigInteger(s,16));return P}if(l.indexOf(\"-END ENCRYPTED PRIVATE KEY-\")!=-1){return F.getKeyFromEncryptedPKCS8PEM(l,k)}throw new Error(\"not supported argument\")};KEYUTIL.generateKeypair=function(a,c){if(a==\"RSA\"){var b=c;var h=new RSAKey();h.generate(b,\"10001\");h.isPrivate=true;h.isPublic=true;var f=new RSAKey();var e=h.n.toString(16);var i=h.e.toString(16);f.setPublic(e,i);f.isPrivate=false;f.isPublic=true;var k={};k.prvKeyObj=h;k.pubKeyObj=f;return k}else{if(a==\"EC\"){var d=c;var g=new KJUR.crypto.ECDSA({curve:d});var j=g.generateKeyPairHex();var h=new KJUR.crypto.ECDSA({curve:d});h.setPublicKeyHex(j.ecpubhex);h.setPrivateKeyHex(j.ecprvhex);h.isPrivate=true;h.isPublic=false;var f=new KJUR.crypto.ECDSA({curve:d});f.setPublicKeyHex(j.ecpubhex);f.isPrivate=false;f.isPublic=true;var k={};k.prvKeyObj=h;k.pubKeyObj=f;return k}else{throw new Error(\"unknown algorithm: \"+a)}}};KEYUTIL.getPEM=function(b,C,x,m,p,j){var E=KJUR,k=E.asn1,y=k.DERObjectIdentifier,e=k.DERInteger,l=k.ASN1Util.newObject,a=k.x509,B=a.SubjectPublicKeyInfo,d=E.crypto,t=d.DSA,q=d.ECDSA,n=RSAKey;function z(s){var G=l({seq:[{\"int\":0},{\"int\":{bigint:s.n}},{\"int\":s.e},{\"int\":{bigint:s.d}},{\"int\":{bigint:s.p}},{\"int\":{bigint:s.q}},{\"int\":{bigint:s.dmp1}},{\"int\":{bigint:s.dmq1}},{\"int\":{bigint:s.coeff}}]});return G}function A(G){var s=l({seq:[{\"int\":1},{octstr:{hex:G.prvKeyHex}},{tag:[\"a0\",true,{oid:{name:G.curveName}}]},{tag:[\"a1\",true,{bitstr:{hex:\"00\"+G.pubKeyHex}}]}]});return s}function w(s){var G=l({seq:[{\"int\":0},{\"int\":{bigint:s.p}},{\"int\":{bigint:s.q}},{\"int\":{bigint:s.g}},{\"int\":{bigint:s.y}},{\"int\":{bigint:s.x}}]});return G}if(((n!==undefined&&b instanceof n)||(t!==undefined&&b instanceof t)||(q!==undefined&&b instanceof q))&&b.isPublic==true&&(C===undefined||C==\"PKCS8PUB\")){var D=new B(b);var v=D.tohex();return hextopem(v,\"PUBLIC KEY\")}if(C==\"PKCS1PRV\"&&n!==undefined&&b instanceof n&&(x===undefined||x==null)&&b.isPrivate==true){var D=z(b);var v=D.tohex();return hextopem(v,\"RSA PRIVATE KEY\")}if(C==\"PKCS1PRV\"&&q!==undefined&&b instanceof q&&(x===undefined||x==null)&&b.isPrivate==true){var i=new y({name:b.curveName});var u=i.tohex();var h=A(b);var r=h.tohex();var o=\"\";o+=hextopem(u,\"EC PARAMETERS\");o+=hextopem(r,\"EC PRIVATE KEY\");return o}if(C==\"PKCS1PRV\"&&t!==undefined&&b instanceof t&&(x===undefined||x==null)&&b.isPrivate==true){var D=w(b);var v=D.tohex();return hextopem(v,\"DSA PRIVATE KEY\")}if(C==\"PKCS5PRV\"&&n!==undefined&&b instanceof n&&(x!==undefined&&x!=null)&&b.isPrivate==true){var D=z(b);var v=D.tohex();if(m===undefined){m=\"DES-EDE3-CBC\"}return this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\",v,x,m,j)}if(C==\"PKCS5PRV\"&&q!==undefined&&b instanceof q&&(x!==undefined&&x!=null)&&b.isPrivate==true){var D=A(b);var v=D.tohex();if(m===undefined){m=\"DES-EDE3-CBC\"}return this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\",v,x,m,j)}if(C==\"PKCS5PRV\"&&t!==undefined&&b instanceof t&&(x!==undefined&&x!=null)&&b.isPrivate==true){var D=w(b);var v=D.tohex();if(m===undefined){m=\"DES-EDE3-CBC\"}return this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\",v,x,m,j)}var f=function(G,H){if(typeof H==\"string\"){return KEYUTIL.getEncryptedPKCS8PEM(G,H)}else{if(typeof H==\"object\"&&aryval(H,\"passcode\")!=undefined){var I=JSON.parse(JSON.stringify(H));var s=I.passcode;delete I.passcode;return KEYUTIL.getEncryptedPKCS8PEM(G,s,I)}}};if(C==\"PKCS8PRV\"&&n!=undefined&&b instanceof n&&b.isPrivate==true){var g=z(b);var c=g.tohex();var D=l({seq:[{\"int\":0},{seq:[{oid:{name:\"rsaEncryption\"}},{\"null\":true}]},{octstr:{hex:c}}]});var v=D.tohex();if(x===undefined||x==null){return hextopem(v,\"PRIVATE KEY\")}else{return f(v,x)}}if(C==\"PKCS8PRV\"&&q!==undefined&&b instanceof q&&b.isPrivate==true){var F={seq:[{\"int\":1},{octstr:{hex:b.prvKeyHex}}]};if(typeof b.pubKeyHex==\"string\"){F.seq.push({tag:[\"a1\",true,{bitstr:{hex:\"00\"+b.pubKeyHex}}]})}var g=new l(F);var c=g.tohex();var D=l({seq:[{\"int\":0},{seq:[{oid:{name:\"ecPublicKey\"}},{oid:{name:b.curveName}}]},{octstr:{hex:c}}]});var v=D.tohex();if(x===undefined||x==null){return hextopem(v,\"PRIVATE KEY\")}else{return f(v,x)}}if(C==\"PKCS8PRV\"&&t!==undefined&&b instanceof t&&b.isPrivate==true){var g=new e({bigint:b.x});var c=g.tohex();var D=l({seq:[{\"int\":0},{seq:[{oid:{name:\"dsa\"}},{seq:[{\"int\":{bigint:b.p}},{\"int\":{bigint:b.q}},{\"int\":{bigint:b.g}}]}]},{octstr:{hex:c}}]});var v=D.tohex();if(x===undefined||x==null){return hextopem(v,\"PRIVATE KEY\")}else{return f(v,x)}}throw new Error(\"unsupported object nor format\")};KEYUTIL.getKeyFromCSRPEM=function(b){var a=pemtohex(b,\"CERTIFICATE REQUEST\");var c=KEYUTIL.getKeyFromCSRHex(a);return c};KEYUTIL.getKeyFromCSRHex=function(a){var c=KEYUTIL.parseCSRHex(a);var b=KEYUTIL.getKey(c.p8pubkeyhex,null,\"pkcs8pub\");return b};KEYUTIL.parseCSRHex=function(d){var i=ASN1HEX;var f=i.getChildIdx;var c=i.getTLV;var b={};var g=d;if(g.substr(0,2)!=\"30\"){throw new Error(\"malformed CSR(code:001)\")}var e=f(g,0);if(e.length<1){throw new Error(\"malformed CSR(code:002)\")}if(g.substr(e[0],2)!=\"30\"){throw new Error(\"malformed CSR(code:003)\")}var a=f(g,e[0]);if(a.length<3){throw new Error(\"malformed CSR(code:004)\")}b.p8pubkeyhex=c(g,a[2]);return b};KEYUTIL.getKeyID=function(f){var c=KEYUTIL;var e=ASN1HEX;if(typeof f===\"string\"&&f.indexOf(\"BEGIN \")!=-1){f=c.getKey(f)}var d=pemtohex(c.getPEM(f));var b=e.getIdxbyList(d,0,[1]);var a=e.getV(d,b).substring(2);return KJUR.crypto.Util.hashHex(a,\"sha1\")};KEYUTIL.getJWK=function(d,h,g,b,f){var i;var k={};var e;var c=KJUR.crypto.Util.hashHex;if(typeof d==\"string\"){i=KEYUTIL.getKey(d);if(d.indexOf(\"CERTIFICATE\")!=-1){e=pemtohex(d)}}else{if(typeof d==\"object\"){if(d instanceof X509){i=d.getPublicKey();e=d.hex}else{i=d}}else{throw new Error(\"unsupported keyinfo type\")}}if(i instanceof RSAKey&&i.isPrivate){k.kty=\"RSA\";k.n=hextob64u(i.n.toString(16));k.e=hextob64u(i.e.toString(16));k.d=hextob64u(i.d.toString(16));k.p=hextob64u(i.p.toString(16));k.q=hextob64u(i.q.toString(16));k.dp=hextob64u(i.dmp1.toString(16));k.dq=hextob64u(i.dmq1.toString(16));k.qi=hextob64u(i.coeff.toString(16))}else{if(i instanceof RSAKey&&i.isPublic){k.kty=\"RSA\";k.n=hextob64u(i.n.toString(16));k.e=hextob64u(i.e.toString(16))}else{if(i instanceof KJUR.crypto.ECDSA&&i.isPrivate){var a=i.getShortNISTPCurveName();if(a!==\"P-256\"&&a!==\"P-384\"&&a!==\"P-521\"){throw new Error(\"unsupported curve name for JWT: \"+a)}var j=i.getPublicKeyXYHex();k.kty=\"EC\";k.crv=a;k.x=hextob64u(j.x);k.y=hextob64u(j.y);k.d=hextob64u(i.prvKeyHex)}else{if(i instanceof KJUR.crypto.ECDSA&&i.isPublic){var a=i.getShortNISTPCurveName();if(a!==\"P-256\"&&a!==\"P-384\"&&a!==\"P-521\"){throw new Error(\"unsupported curve name for JWT: \"+a)}var j=i.getPublicKeyXYHex();k.kty=\"EC\";k.crv=a;k.x=hextob64u(j.x);k.y=hextob64u(j.y)}}}}if(k.kty==undefined){throw new Error(\"unsupported keyinfo\")}if((!i.isPrivate)&&h!=true){k.kid=KJUR.jws.JWS.getJWKthumbprint(k)}if(e!=undefined&&g!=true){k.x5c=[hex2b64(e)]}if(e!=undefined&&b!=true){k.x5t=b64tob64u(hex2b64(c(e,\"sha1\")))}if(e!=undefined&&f!=true){k[\"x5t#S256\"]=b64tob64u(hex2b64(c(e,\"sha256\")))}return k};KEYUTIL.getJWKFromKey=function(a){return KEYUTIL.getJWK(a,true,true,true,true)};\nRSAKey.getPosArrayOfChildrenFromHex=function(a){return ASN1HEX.getChildIdx(a,0)};RSAKey.getHexValueArrayOfChildrenFromHex=function(f){var n=ASN1HEX;var i=n.getV;var k=RSAKey.getPosArrayOfChildrenFromHex(f);var e=i(f,k[0]);var j=i(f,k[1]);var b=i(f,k[2]);var c=i(f,k[3]);var h=i(f,k[4]);var g=i(f,k[5]);var m=i(f,k[6]);var l=i(f,k[7]);var d=i(f,k[8]);var k=new Array();k.push(e,j,b,c,h,g,m,l,d);return k};RSAKey.prototype.readPrivateKeyFromPEMString=function(d){var c=pemtohex(d);var b=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])};RSAKey.prototype.readPKCS5PrvKeyHex=function(c){var b=RSAKey.getHexValueArrayOfChildrenFromHex(c);this.setPrivateEx(b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(e){var c,i,k,b,a,f,d,j;var m=ASN1HEX;var l=m.getVbyListEx;if(m.isASN1HEX(e)===false){throw new Error(\"not ASN.1 hex string\")}try{c=l(e,0,[2,0,1],\"02\");i=l(e,0,[2,0,2],\"02\");k=l(e,0,[2,0,3],\"02\");b=l(e,0,[2,0,4],\"02\");a=l(e,0,[2,0,5],\"02\");f=l(e,0,[2,0,6],\"02\");d=l(e,0,[2,0,7],\"02\");j=l(e,0,[2,0,8],\"02\")}catch(g){throw new Error(\"malformed PKCS#8 plain RSA private key\")}this.setPrivateEx(c,i,k,b,a,f,d,j)};RSAKey.prototype.readPKCS5PubKeyHex=function(c){var e=ASN1HEX;var b=e.getV;if(e.isASN1HEX(c)===false){throw new Error(\"keyHex is not ASN.1 hex string\")}var a=e.getChildIdx(c,0);if(a.length!==2||c.substr(a[0],2)!==\"02\"||c.substr(a[1],2)!==\"02\"){throw new Error(\"wrong hex for PKCS#5 public key\")}var f=b(c,a[0]);var d=b(c,a[1]);this.setPublic(f,d)};RSAKey.prototype.readPKCS8PubKeyHex=function(b){var c=ASN1HEX;if(c.isASN1HEX(b)===false){throw new Error(\"not ASN.1 hex string\")}if(c.getTLVbyListEx(b,0,[0,0])!==\"06092a864886f70d010101\"){throw new Error(\"not PKCS8 RSA public key\")}var a=c.getTLVbyListEx(b,0,[1,0]);this.readPKCS5PubKeyHex(a)};RSAKey.prototype.readCertPubKeyHex=function(b,d){var a,c;a=new X509();a.readCertHex(b);c=a.getPublicKeyHex();this.readPKCS8PubKeyHex(c)};\nvar _RE_HEXDECONLY=new RegExp(\"[^0-9a-f]\",\"gi\");function _rsasign_getHexPaddedDigestInfoForString(d,e,a){var b=function(f){return KJUR.crypto.Util.hashString(f,a)};var c=b(d);return KJUR.crypto.Util.getPaddedDigestInfoHex(c,a,e)}function _zeroPaddingOfSignature(e,d){var c=\"\";var a=d/4-e.length;for(var b=0;b<a;b++){c=c+\"0\"}return c+e}RSAKey.prototype.sign=function(d,a){var b=function(e){return KJUR.crypto.Util.hashString(e,a)};var c=b(d);return this.signWithMessageHash(c,a)};RSAKey.prototype.signWithMessageHash=function(e,c){var f=KJUR.crypto.Util.getPaddedDigestInfoHex(e,c,this.n.bitLength());var b=parseBigInt(f,16);var d=this.doPrivate(b);var a=d.toString(16);return _zeroPaddingOfSignature(a,this.n.bitLength())};function pss_mgf1_str(c,a,e){var b=\"\",d=0;while(b.length<a){b+=hextorstr(e(rstrtohex(c+String.fromCharCode.apply(String,[(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))));d+=1}return b}RSAKey.prototype.signPSS=function(e,a,d){var c=function(f){return KJUR.crypto.Util.hashHex(f,a)};var b=c(rstrtohex(e));if(d===undefined){d=-1}return this.signWithMessageHashPSS(b,a,d)};RSAKey.prototype.signWithMessageHashPSS=function(l,a,k){var b=hextorstr(l);var g=b.length;var m=this.n.bitLength()-1;var c=Math.ceil(m/8);var d;var o=function(i){return KJUR.crypto.Util.hashHex(i,a)};if(k===-1||k===undefined){k=g}else{if(k===-2){k=c-g-2}else{if(k<-2){throw new Error(\"invalid salt length\")}}}if(c<(g+k+2)){throw new Error(\"data too long\")}var f=\"\";if(k>0){f=new Array(k);new SecureRandom().nextBytes(f);f=String.fromCharCode.apply(String,f)}var n=hextorstr(o(rstrtohex(\"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"+b+f)));var j=[];for(d=0;d<c-k-g-2;d+=1){j[d]=0}var e=String.fromCharCode.apply(String,j)+\"\\x01\"+f;var h=pss_mgf1_str(n,e.length,o);var q=[];for(d=0;d<e.length;d+=1){q[d]=e.charCodeAt(d)^h.charCodeAt(d)}var p=(65280>>(8*c-m))&255;q[0]&=~p;for(d=0;d<g;d++){q.push(n.charCodeAt(d))}q.push(188);return _zeroPaddingOfSignature(this.doPrivate(new BigInteger(q)).toString(16),this.n.bitLength())};function _rsasign_getDecryptSignatureBI(a,d,c){var b=new RSAKey();b.setPublic(d,c);var e=b.doPublic(a);return e}function _rsasign_getHexDigestInfoFromSig(a,c,b){var e=_rsasign_getDecryptSignatureBI(a,c,b);var d=e.toString(16).replace(/^1f+00/,\"\");return d}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(f){for(var e in KJUR.crypto.Util.DIGESTINFOHEAD){var d=KJUR.crypto.Util.DIGESTINFOHEAD[e];var b=d.length;if(f.substring(0,b)==d){var c=[e,f.substring(b)];return c}}return[]}RSAKey.prototype.verify=function(f,l){l=l.toLowerCase();if(l.match(/^[0-9a-f]+$/)==null){return false}var b=parseBigInt(l,16);var k=this.n.bitLength();if(b.bitLength()>k){return false}var j=this.doPublic(b);var i=j.toString(16);if(i.length+3!=k/4){return false}var e=i.replace(/^1f+00/,\"\");var g=_rsasign_getAlgNameAndHashFromHexDisgestInfo(e);if(g.length==0){return false}var d=g[0];var h=g[1];var a=function(m){return KJUR.crypto.Util.hashString(m,d)};var c=a(f);return(h==c)};RSAKey.prototype.verifyWithMessageHash=function(e,a){if(a.length!=Math.ceil(this.n.bitLength()/4)){return false}var b=parseBigInt(a,16);if(b.bitLength()>this.n.bitLength()){return 0}var h=this.doPublic(b);var g=h.toString(16).replace(/^1f+00/,\"\");var c=_rsasign_getAlgNameAndHashFromHexDisgestInfo(g);if(c.length==0){return false}var d=c[0];var f=c[1];return(f==e)};RSAKey.prototype.verifyPSS=function(c,b,a,f){var e=function(g){return KJUR.crypto.Util.hashHex(g,a)};var d=e(rstrtohex(c));if(f===undefined){f=-1}return this.verifyWithMessageHashPSS(d,b,a,f)};RSAKey.prototype.verifyWithMessageHashPSS=function(f,s,l,c){if(s.length!=Math.ceil(this.n.bitLength()/4)){return false}var k=new BigInteger(s,16);var r=function(i){return KJUR.crypto.Util.hashHex(i,l)};var j=hextorstr(f);var h=j.length;var g=this.n.bitLength()-1;var m=Math.ceil(g/8);var q;if(c===-1||c===undefined){c=h}else{if(c===-2){c=m-h-2}else{if(c<-2){throw new Error(\"invalid salt length\")}}}if(m<(h+c+2)){throw new Error(\"data too long\")}var a=this.doPublic(k).toByteArray();for(q=0;q<a.length;q+=1){a[q]&=255}while(a.length<m){a.unshift(0)}if(a[m-1]!==188){throw new Error(\"encoded message does not end in 0xbc\")}a=String.fromCharCode.apply(String,a);var d=a.substr(0,m-h-1);var e=a.substr(d.length,h);var p=(65280>>(8*m-g))&255;if((d.charCodeAt(0)&p)!==0){throw new Error(\"bits beyond keysize not zero\")}var n=pss_mgf1_str(e,d.length,r);var o=[];for(q=0;q<d.length;q+=1){o[q]=d.charCodeAt(q)^n.charCodeAt(q)}o[0]&=~p;var b=m-h-c-2;for(q=0;q<b;q+=1){if(o[q]!==0){throw new Error(\"leftmost octets not zero\")}}if(o[b]!==1){throw new Error(\"0x01 marker not found\")}return e===hextorstr(r(rstrtohex(\"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\"+j+String.fromCharCode.apply(String,o.slice(-c)))))};RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.SALT_LEN_RECOVER=-2;\nfunction X509(v){var o=ASN1HEX,s=o.getChildIdx,k=o.getV,y=o.dump,j=o.parse,b=o.getTLV,c=o.getVbyList,p=o.getVbyListEx,a=o.getTLVbyList,q=o.getTLVbyListEx,l=o.getIdxbyList,f=o.getIdxbyListEx,n=o.getVidx,x=o.getInt,u=o.oidname,r=o.hextooidstr,d=X509,w=pemtohex,g,m=Error;try{g=KJUR.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={\"0c\":\"utf8\",\"13\":\"prn\",\"16\":\"ia5\",\"1a\":\"vis\",\"1e\":\"bmp\"};this.hex=null;this.version=0;this.foffset=0;this.aExtInfo=null;this.getVersion=function(){if(this.hex===null||this.version!==0){return this.version}var A=a(this.hex,0,[0,0]);if(A.substr(0,2)==\"a0\"){var B=a(A,0,[0]);var z=x(B,0);if(z<0||2<z){throw new Error(\"malformed version field\")}this.version=z+1;return this.version}else{this.version=1;this.foffset=-1;return 1}};this.getSerialNumberHex=function(){return p(this.hex,0,[0,0],\"02\")};this.getSignatureAlgorithmField=function(){var z=q(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(z)};this.getAlgorithmIdentifierName=function(z){for(var A in g){if(z===g[A]){return A}}return u(p(z,0,[0],\"06\"))};this.getIssuer=function(A,z){return this.getX500Name(this.getIssuerHex(),A,z)};this.getIssuerHex=function(){return a(this.hex,0,[0,3+this.foffset],\"30\")};this.getIssuerString=function(){var z=this.getIssuer();return z.str};this.getSubject=function(A,z){return this.getX500Name(this.getSubjectHex(),A,z)};this.getSubjectHex=function(){return a(this.hex,0,[0,5+this.foffset],\"30\")};this.getSubjectString=function(){var z=this.getSubject();return z.str};this.getNotBefore=function(){var z=c(this.hex,0,[0,4+this.foffset,0]);z=z.replace(/(..)/g,\"%$1\");z=decodeURIComponent(z);return z};this.getNotAfter=function(){var z=c(this.hex,0,[0,4+this.foffset,1]);z=z.replace(/(..)/g,\"%$1\");z=decodeURIComponent(z);return z};this.getPublicKeyHex=function(){return this.getSPKI()};this.getSPKI=function(){return a(this.hex,0,[0,6+this.foffset],\"30\")};this.getSPKIValue=function(){var z=this.getSPKI();if(z==null){return null}return c(z,0,[1],\"03\",true)};this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],\"30\")};this.getPublicKeyContentIdx=function(){var z=this.getPublicKeyIdx();return l(this.hex,z,[1,0],\"30\")};this.getPublicKey=function(){return KEYUTIL.getKey(this.getPublicKeyHex(),null,\"pkcs8pub\")};this.getSignatureAlgorithmName=function(){var z=a(this.hex,0,[1],\"30\");return this.getAlgorithmIdentifierName(z)};this.getSignatureValueHex=function(){return c(this.hex,0,[2],\"03\",true)};this.verifySignature=function(B){var C=this.getSignatureAlgorithmField();var z=this.getSignatureValueHex();var A=a(this.hex,0,[0],\"30\");var D=new KJUR.crypto.Signature({alg:C});D.init(B);D.updateHex(A);return D.verify(z)};this.parseExt=function(I){var B,z,D;if(I===undefined){D=this.hex;if(this.version!==3){return -1}B=l(D,0,[0,7,0],\"30\");z=s(D,B)}else{D=pemtohex(I);var E=l(D,0,[0,3,0,0],\"06\");if(k(D,E)!=\"2a864886f70d01090e\"){this.aExtInfo=new Array();return}B=l(D,0,[0,3,0,1,0],\"30\");z=s(D,B);this.hex=D}this.aExtInfo=new Array();for(var C=0;C<z.length;C++){var G={};G.critical=false;var F=s(D,z[C]);var A=0;if(F.length===3){G.critical=true;A=1}G.oid=o.hextooidstr(c(D,z[C],[0],\"06\"));var H=l(D,z[C],[1+A]);G.vidx=n(D,H);this.aExtInfo.push(G)}};this.getExtInfo=function(B){var z=this.aExtInfo;var C=B;if(!B.match(/^[0-9.]+$/)){C=KJUR.asn1.x509.OID.name2oid(B)}if(C===\"\"){return undefined}for(var A=0;A<z.length;A++){if(z[A].oid===C){return z[A]}}return undefined};this.getCriticalExtV=function(C,z,B){if(z!=undefined){return[z,B]}var A=this.getExtInfo(C);if(A==undefined){return[null,null]}return[b(this.hex,A.vidx),A.critical]};this.getExtBasicConstraints=function(A,E){if(A===undefined&&E===undefined){var C=this.getExtInfo(\"basicConstraints\");if(C===undefined){return undefined}A=b(this.hex,C.vidx);E=C.critical}var z={extname:\"basicConstraints\"};if(E){z.critical=true}if(A===\"3000\"){return z}if(A===\"30030101ff\"){z.cA=true;return z}if(A.substr(0,12)===\"30060101ff02\"){var D=k(A,10);var B=parseInt(D,16);z.cA=true;z.pathLen=B;return z}throw new Error(\"hExtV parse error: \"+A)};this.getExtNameConstraints=function(I,G){var A=this.getCriticalExtV(\"nameConstraints\",I,G);I=A[0];G=A[1];if(I==null){return undefined}var K={extname:\"nameConstraints\"};if(G){K.critical=true}var F=s(I,0);for(var D=0;D<F.length;D++){var E=[];var B=s(I,F[D]);for(var C=0;C<B.length;C++){var H=b(I,B[C]);var z=this.getGeneralSubtree(H);E.push(z)}var J=I.substr(F[D],2);if(J==\"a0\"){K.permit=E}else{if(J==\"a1\"){K.exclude=E}}}return K};this.getGeneralSubtree=function(F){var D=s(F,0);var C=D.length;if(C<1||2<C){throw new Error(\"wrong num elements\")}var B=this.getGeneralName(b(F,D[0]));for(var E=1;E<C;E++){var A=F.substr(D[E],2);var z=k(F,D[E]);var G=parseInt(z,16);if(A==\"80\"){B.min=G}if(A==\"81\"){B.max=G}}return B};this.getExtKeyUsage=function(A,C){var B=this.getCriticalExtV(\"keyUsage\",A,C);A=B[0];C=B[1];if(A==null){return undefined}var z={extname:\"keyUsage\"};if(C){z.critical=true}z.names=this.getExtKeyUsageString(A).split(\",\");return z};this.getExtKeyUsageBin=function(A){if(A===undefined){var B=this.getExtInfo(\"keyUsage\");if(B===undefined){return\"\"}A=b(this.hex,B.vidx)}if(A.length!=8&&A.length!=10){throw new Error(\"malformed key usage value: \"+A)}var z=\"000000000000000\"+parseInt(A.substr(6),16).toString(2);if(A.length==8){z=z.slice(-8)}if(A.length==10){z=z.slice(-16)}z=z.replace(/0+$/,\"\");if(z==\"\"){z=\"0\"}return z};this.getExtKeyUsageString=function(B){var C=this.getExtKeyUsageBin(B);var z=new Array();for(var A=0;A<C.length;A++){if(C.substr(A,1)==\"1\"){z.push(X509.KEYUSAGE_NAME[A])}}return z.join(\",\")};this.getExtSubjectKeyIdentifier=function(B,D){if(B===undefined&&D===undefined){var C=this.getExtInfo(\"subjectKeyIdentifier\");if(C===undefined){return undefined}B=b(this.hex,C.vidx);D=C.critical}var z={extname:\"subjectKeyIdentifier\"};if(D){z.critical=true}var A=k(B,0);z.kid={hex:A};return z};this.getExtAuthorityKeyIdentifier=function(F,D){if(F===undefined&&D===undefined){var z=this.getExtInfo(\"authorityKeyIdentifier\");if(z===undefined){return undefined}F=b(this.hex,z.vidx);D=z.critical}var G={extname:\"authorityKeyIdentifier\"};if(D){G.critical=true}var E=s(F,0);for(var A=0;A<E.length;A++){var H=F.substr(E[A],2);if(H===\"80\"){G.kid={hex:k(F,E[A])}}if(H===\"a1\"){var C=b(F,E[A]);var B=this.getGeneralNames(C);G.issuer=B[0][\"dn\"]}if(H===\"82\"){G.sn={hex:k(F,E[A])}}}return G};this.getExtExtKeyUsage=function(C,E){if(C===undefined&&E===undefined){var D=this.getExtInfo(\"extKeyUsage\");if(D===undefined){return undefined}C=b(this.hex,D.vidx);E=D.critical}var z={extname:\"extKeyUsage\",array:[]};if(E){z.critical=true}var A=s(C,0);for(var B=0;B<A.length;B++){z.array.push(u(k(C,A[B])))}return z};this.getExtExtKeyUsageName=function(){var D=this.getExtInfo(\"extKeyUsage\");if(D===undefined){return D}var z=new Array();var C=b(this.hex,D.vidx);if(C===\"\"){return z}var A=s(C,0);for(var B=0;B<A.length;B++){z.push(u(k(C,A[B])))}return z};this.getExtSubjectAltName=function(A,C){if(A===undefined&&C===undefined){var B=this.getExtInfo(\"subjectAltName\");if(B===undefined){return undefined}A=b(this.hex,B.vidx);C=B.critical}var z={extname:\"subjectAltName\",array:[]};if(C){z.critical=true}z.array=this.getGeneralNames(A);return z};this.getExtIssuerAltName=function(A,C){if(A===undefined&&C===undefined){var B=this.getExtInfo(\"issuerAltName\");if(B===undefined){return undefined}A=b(this.hex,B.vidx);C=B.critical}var z={extname:\"issuerAltName\",array:[]};if(C){z.critical=true}z.array=this.getGeneralNames(A);return z};this.getGeneralNames=function(D){var B=s(D,0);var z=[];for(var C=0;C<B.length;C++){var A=this.getGeneralName(b(D,B[C]));if(A!==undefined){z.push(A)}}return z};this.getGeneralName=function(A){var z=A.substr(0,2);var C=k(A,0);var B=hextorstr(C);if(z==\"81\"){return{rfc822:B}}if(z==\"82\"){return{dns:B}}if(z==\"86\"){return{uri:B}}if(z==\"87\"){return{ip:hextoip(C)}}if(z==\"a4\"){return{dn:this.getX500Name(C)}}if(z==\"a0\"){return{other:this.getOtherName(A)}}return undefined};this.getExtSubjectAltName2=function(){var D,G,F;var E=this.getExtInfo(\"subjectAltName\");if(E===undefined){return E}var z=new Array();var C=b(this.hex,E.vidx);var A=s(C,0);for(var B=0;B<A.length;B++){F=C.substr(A[B],2);D=k(C,A[B]);if(F===\"81\"){G=hextoutf8(D);z.push([\"MAIL\",G])}if(F===\"82\"){G=hextoutf8(D);z.push([\"DNS\",G])}if(F===\"84\"){G=X509.hex2dn(D,0);z.push([\"DN\",G])}if(F===\"86\"){G=hextoutf8(D);z.push([\"URI\",G])}if(F===\"87\"){G=hextoip(D);z.push([\"IP\",G])}}return z};this.getExtCRLDistributionPoints=function(D,F){if(D===undefined&&F===undefined){var E=this.getExtInfo(\"cRLDistributionPoints\");if(E===undefined){return undefined}D=b(this.hex,E.vidx);F=E.critical}var A={extname:\"cRLDistributionPoints\",array:[]};if(F){A.critical=true}var B=s(D,0);for(var C=0;C<B.length;C++){var z=b(D,B[C]);A.array.push(this.getDistributionPoint(z))}return A};this.getDistributionPoint=function(E){var B={};var C=s(E,0);for(var D=0;D<C.length;D++){var A=E.substr(C[D],2);var z=b(E,C[D]);if(A==\"a0\"){B.dpname=this.getDistributionPointName(z)}}return B};this.getDistributionPointName=function(E){var B={};var C=s(E,0);for(var D=0;D<C.length;D++){var A=E.substr(C[D],2);var z=b(E,C[D]);if(A==\"a0\"){B.full=this.getGeneralNames(z)}}return B};this.getExtCRLDistributionPointsURI=function(){var D=this.getExtCRLDistributionPoints();if(D==undefined){return D}var A=D.array;var z=[];for(var C=0;C<A.length;C++){try{if(A[C].dpname.full[0].uri!=undefined){z.push(A[C].dpname.full[0].uri)}}catch(B){}}return z};this.getExtAIAInfo=function(){var D=this.getExtInfo(\"authorityInfoAccess\");if(D===undefined){return D}var z={ocsp:[],caissuer:[]};var A=s(this.hex,D.vidx);for(var B=0;B<A.length;B++){var E=c(this.hex,A[B],[0],\"06\");var C=c(this.hex,A[B],[1],\"86\");if(E===\"2b06010505073001\"){z.ocsp.push(hextoutf8(C))}if(E===\"2b06010505073002\"){z.caissuer.push(hextoutf8(C))}}return z};this.getExtAuthorityInfoAccess=function(G,E){if(G===undefined&&E===undefined){var z=this.getExtInfo(\"authorityInfoAccess\");if(z===undefined){return undefined}G=b(this.hex,z.vidx);E=z.critical}var H={extname:\"authorityInfoAccess\",array:[]};if(E){H.critical=true}var F=s(G,0);for(var A=0;A<F.length;A++){var D=p(G,F[A],[0],\"06\");var B=c(G,F[A],[1],\"86\");var C=hextoutf8(B);if(D==\"2b06010505073001\"){H.array.push({ocsp:C})}else{if(D==\"2b06010505073002\"){H.array.push({caissuer:C})}else{throw new Error(\"unknown method: \"+D)}}}return H};this.getExtCertificatePolicies=function(D,G){if(D===undefined&&G===undefined){var F=this.getExtInfo(\"certificatePolicies\");if(F===undefined){return undefined}D=b(this.hex,F.vidx);G=F.critical}var z={extname:\"certificatePolicies\",array:[]};if(G){z.critical=true}var A=s(D,0);for(var B=0;B<A.length;B++){var E=b(D,A[B]);var C=this.getPolicyInformation(E);z.array.push(C)}return z};this.getPolicyInformation=function(D){var z={};var F=c(D,0,[0],\"06\");z.policyoid=u(F);var G=f(D,0,[1],\"30\");if(G!=-1){z.array=[];var A=s(D,G);for(var B=0;B<A.length;B++){var E=b(D,A[B]);var C=this.getPolicyQualifierInfo(E);z.array.push(C)}}return z};this.getOtherName=function(B){var z={};var A=s(B,0);var D=c(B,A[0],[],\"06\");var C=c(B,A[1],[]);z.oid=u(D);z.value=j(C);return z};this.getPolicyQualifierInfo=function(A){var z={};var B=c(A,0,[0],\"06\");if(B===\"2b06010505070201\"){var D=p(A,0,[1],\"16\");z.cps=hextorstr(D)}else{if(B===\"2b06010505070202\"){var C=a(A,0,[1],\"30\");z.unotice=this.getUserNotice(C)}}return z};this.getUserNotice=function(B){var D=null;var z={};try{D=o.parse(B);var C=this._asn1ToUnotice(D);return C}catch(A){return undefined}};this._asn1ToUnotice=function(E){try{var z={};var A=aryval(E,\"seq\");for(var C=0;C<A.length;C++){var D=this._asn1ToNoticeRef(A[C]);if(D!=undefined){z.noticeref=D}var F=this.asn1ToDisplayText(A[C]);if(F!=undefined){z.exptext=F}}if(Object.keys(z).length>0){return z}return undefined}catch(B){return undefined}};this._asn1ToNoticeRef=function(F){try{var A={};var B=aryval(F,\"seq\");for(var D=0;D<B.length;D++){var E=this._asn1ToNoticeNum(B[D]);if(E!=undefined){A.noticenum=E}var z=this.asn1ToDisplayText(B[D]);if(z!=undefined){A.org=z}}if(Object.keys(A).length>0){return A}return undefined}catch(C){return undefined}};this._asn1ToNoticeNum=function(E){try{var A=aryval(E,\"seq\");var z=[];for(var C=0;C<A.length;C++){var D=A[C];z.push(parseInt(aryval(D,\"int.hex\"),16))}return z}catch(B){return undefined}};this.getDisplayText=function(A){var B={\"0c\":\"utf8\",\"16\":\"ia5\",\"1a\":\"vis\",\"1e\":\"bmp\"};var z={};z.type=B[A.substr(0,2)];z.str=hextorstr(k(A,0));return z};this.asn1ToDisplayText=function(z){if(z.utf8str!=undefined){return{type:\"utf8\",str:z.utf8str.str}}if(z.ia5str!=undefined){return{type:\"ia5\",str:z.ia5str.str}}if(z.visstr!=undefined){return{type:\"vis\",str:z.visstr.str}}if(z.bmpstr!=undefined){return{type:\"bmp\",str:z.bmpstr.str}}if(z.prnstr!=undefined){return{type:\"prn\",str:z.prnstr.str}}return undefined};this.getExtPolicyMappings=function(G,E){var z=this.getCriticalExtV(\"policyMappings\",G,E);G=z[0];E=z[1];if(G==null){return undefined}var I={extname:\"policyMappings\"};if(E){I.critical=true}try{var A=j(G);var B=A.seq;var F=[];for(var C=0;C<B.length;C++){var H=B[C].seq;F.push([H[0].oid,H[1].oid])}I.array=F}catch(D){throw new m(\"malformed policyMappings\")}return I};this.getExtPolicyConstraints=function(G,D){var z=this.getCriticalExtV(\"policyConstraints\",G,D);G=z[0];D=z[1];if(G==null){return undefined}var H={extname:\"policyConstraints\"};if(D){H.critical=true}var A=j(G);try{var F=A.seq;for(var B=0;B<F.length;B++){var E=F[B].tag;if(E.explicit!=false){continue}if(E.tag==\"80\"){H.reqexp=parseInt(E.hex,16)}if(E.tag==\"81\"){H.inhibit=parseInt(E.hex,16)}}}catch(C){return new m(\"malformed policyConstraints value\")}return H};this.getExtInhibitAnyPolicy=function(A,D){var C=this.getCriticalExtV(\"inhibitAnyPolicy\",A,D);A=C[0];D=C[1];if(A==null){return undefined}var z={extname:\"inhibitAnyPolicy\"};if(D){z.critical=true}var B=x(A,0);if(B==-1){return new m(\"wrong value\")}z.skip=B;return z};this.getExtCRLNumber=function(A,B){var z={extname:\"cRLNumber\"};if(B){z.critical=true}if(A.substr(0,2)==\"02\"){z.num={hex:k(A,0)};return z}throw new m(\"hExtV parse error: \"+A)};this.getExtCRLReason=function(A,B){var z={extname:\"cRLReason\"};if(B){z.critical=true}if(A.substr(0,2)==\"0a\"){z.code=parseInt(k(A,0),16);return z}throw new Error(\"hExtV parse error: \"+A)};this.getExtOcspNonce=function(A,C){var z={extname:\"ocspNonce\"};if(C){z.critical=true}var B=k(A,0);z.hex=B;return z};this.getExtOcspNoCheck=function(A,B){var z={extname:\"ocspNoCheck\"};if(B){z.critical=true}return z};this.getExtAdobeTimeStamp=function(C,F){if(C===undefined&&F===undefined){var E=this.getExtInfo(\"adobeTimeStamp\");if(E===undefined){return undefined}C=b(this.hex,E.vidx);F=E.critical}var z={extname:\"adobeTimeStamp\"};if(F){z.critical=true}var B=s(C,0);if(B.length>1){var G=b(C,B[1]);var A=this.getGeneralName(G);if(A.uri!=undefined){z.uri=A.uri}}if(B.length>2){var D=b(C,B[2]);if(D==\"0101ff\"){z.reqauth=true}if(D==\"010100\"){z.reqauth=false}}return z};this.getExtSubjectDirectoryAttributes=function(I,H){if(I===undefined&&H===undefined){var B=this.getExtInfo(\"subjectDirectoryAttributes\");if(B===undefined){return undefined}I=b(this.hex,B.vidx);H=B.critical}var J={extname:\"subjectDirectoryAttributes\"};if(H){J.critical=true}try{var z=j(I);var D=[];for(var E=0;E<z.seq.length;E++){var A=z.seq[E];var C=aryval(A,\"seq.0.oid\");var F=aryval(A,\"seq.1.set\");if(C==undefined||F==undefined){throw\"error\"}D.push({attr:C,array:F})}J.array=D;return J}catch(G){throw new Error(\"malformed subjectDirectoryAttributes extension value\")}};var e=function(E){var z={};try{var B=E.seq[0].oid;var D=KJUR.asn1.x509.OID.name2oid(B);z.type=KJUR.asn1.x509.OID.oid2atype(D);var A=E.seq[1];if(A.utf8str!=undefined){z.ds=\"utf8\";z.value=A.utf8str.str}else{if(A.numstr!=undefined){z.ds=\"num\";z.value=A.numstr.str}else{if(A.telstr!=undefined){z.ds=\"tel\";z.value=A.telstr.str}else{if(A.prnstr!=undefined){z.ds=\"prn\";z.value=A.prnstr.str}else{if(A.ia5str!=undefined){z.ds=\"ia5\";z.value=A.ia5str.str}else{if(A.visstr!=undefined){z.ds=\"vis\";z.value=A.visstr.str}else{if(A.bmpstr!=undefined){z.ds=\"bmp\";z.value=A.bmpstr.str}else{throw\"error\"}}}}}}}return z}catch(C){throw new Erorr(\"improper ASN.1 parsed AttrTypeAndValue\")}};var i=function(A){try{return A.set.map(function(B){return e(B)})}catch(z){throw new Error(\"improper ASN.1 parsed RDN: \"+z)}};var h=function(A){try{return A.seq.map(function(B){return i(B)})}catch(z){throw new Error(\"improper ASN.1 parsed X500Name: \"+z)}};this.getX500NameRule=function(z){var G=true;var K=true;var J=false;var A=\"\";var D=\"\";var M=null;var H=[];for(var C=0;C<z.length;C++){var E=z[C];for(var B=0;B<E.length;B++){H.push(E[B])}}for(var C=0;C<H.length;C++){var L=H[C];var N=L.ds;var I=L.value;var F=L.type;A+=\":\"+N;if(N!=\"prn\"&&N!=\"utf8\"&&N!=\"ia5\"){return\"mixed\"}if(N==\"ia5\"){if(F!=\"CN\"){return\"mixed\"}else{if(!KJUR.lang.String.isMail(I)){return\"mixed\"}else{continue}}}if(F==\"C\"){if(N==\"prn\"){continue}else{return\"mixed\"}}D+=\":\"+N;if(M==null){M=N}else{if(M!==N){return\"mixed\"}}}if(M==null){return\"prn\"}else{return M}};this.getAttrTypeAndValue=function(z){var A=j(z);return e(A)};this.getRDN=function(z){var A=j(z);return i(A)};this.getX500NameArray=function(z){var A=j(z);return h(A)};this.getX500Name=function(C,E,D){var A=this.getX500NameArray(C);var B=this.dnarraytostr(A);var z={str:B};z.array=A;if(D==true){z.hex=C}if(E==true){z.canon=this.c14nRDNArray(A)}return z};this.readCertPEM=function(z){this.readCertHex(w(z))};this.readCertHex=function(z){this.hex=z;this.getVersion();try{l(this.hex,0,[0,7],\"a3\");this.parseExt()}catch(A){}};this.getParam=function(A){var z={};if(A==undefined){A={}}z.version=this.getVersion();z.serial={hex:this.getSerialNumberHex()};z.sigalg=this.getSignatureAlgorithmField();z.issuer=this.getIssuer(A.dncanon,A.dnhex);z.notbefore=this.getNotBefore();z.notafter=this.getNotAfter();z.subject=this.getSubject(A.dncanon,A.dnhex);z.sbjpubkey=hextopem(this.getPublicKeyHex(),\"PUBLIC KEY\");if(this.aExtInfo!=undefined&&this.aExtInfo.length>0){z.ext=this.getExtParamArray()}z.sighex=this.getSignatureValueHex();if(A.tbshex==true){z.tbshex=a(this.hex,0,[0])}if(A.nodnarray==true){delete z.issuer.array;delete z.subject.array}return z};this.getExtParamArray=function(A){if(A==undefined){var C=f(this.hex,0,[0,\"[3]\"]);if(C!=-1){A=q(this.hex,0,[0,\"[3]\",0],\"30\")}}var z=[];var B=s(A,0);for(var D=0;D<B.length;D++){var F=b(A,B[D]);var E=this.getExtParam(F);if(E!=null){z.push(E)}}return z};this.getExtParam=function(A){var I={};var C=s(A,0);var E=C.length;if(E!=2&&E!=3){throw new Error(\"wrong number elements in Extension: \"+E+\" \"+A)}var B=r(c(A,0,[0],\"06\"));var G=false;if(E==3&&a(A,0,[1])==\"0101ff\"){G=true}var H=a(A,0,[E-1,0]);var F=undefined;if(B==\"2.5.29.14\"){F=this.getExtSubjectKeyIdentifier(H,G)}else{if(B==\"2.5.29.15\"){F=this.getExtKeyUsage(H,G)}else{if(B==\"2.5.29.17\"){F=this.getExtSubjectAltName(H,G)}else{if(B==\"2.5.29.18\"){F=this.getExtIssuerAltName(H,G)}else{if(B==\"2.5.29.19\"){F=this.getExtBasicConstraints(H,G)}else{if(B==\"2.5.29.30\"){F=this.getExtNameConstraints(H,G)}else{if(B==\"2.5.29.31\"){F=this.getExtCRLDistributionPoints(H,G)}else{if(B==\"2.5.29.32\"){F=this.getExtCertificatePolicies(H,G)}else{if(B==\"2.5.29.33\"){F=this.getExtPolicyMappings(H,G)}else{if(B==\"2.5.29.35\"){F=this.getExtAuthorityKeyIdentifier(H,G)}else{if(B==\"2.5.29.36\"){F=this.getExtPolicyConstraints(H,G)}else{if(B==\"2.5.29.37\"){F=this.getExtExtKeyUsage(H,G)}else{if(B==\"2.5.29.54\"){F=this.getExtInhibitAnyPolicy(H,G)}else{if(B==\"1.3.6.1.5.5.7.1.1\"){F=this.getExtAuthorityInfoAccess(H,G)}else{if(B==\"2.5.29.20\"){F=this.getExtCRLNumber(H,G)}else{if(B==\"2.5.29.21\"){F=this.getExtCRLReason(H,G)}else{if(B==\"2.5.29.9\"){F=this.getExtSubjectDirectoryAttributes(H,G)}else{if(B==\"1.3.6.1.5.5.7.48.1.2\"){F=this.getExtOcspNonce(H,G)}else{if(B==\"1.3.6.1.5.5.7.48.1.5\"){F=this.getExtOcspNoCheck(H,G)}else{if(B==\"1.2.840.113583.1.1.9.1\"){F=this.getExtAdobeTimeStamp(H,G)}else{if(X509.EXT_PARSER[B]!=undefined){F=X509.EXT_PARSER[B](B,G,H)}}}}}}}}}}}}}}}}}}}}}if(F!=undefined){return F}var z={extname:B,extn:H};try{z.extn=j(H)}catch(D){}if(G){z.critical=true}return z};this.findExt=function(A,B){for(var z=0;z<A.length;z++){if(A[z].extname==B){return A[z]}}return null};this.updateExtCDPFullURI=function(D,z){var C=this.findExt(D,\"cRLDistributionPoints\");if(C==null){return}if(C.array==undefined){return}var F=C.array;for(var B=0;B<F.length;B++){if(F[B].dpname==undefined){continue}if(F[B].dpname.full==undefined){continue}var G=F[B].dpname.full;for(var A=0;A<G.length;A++){var E=G[B];if(E.uri==undefined){continue}E.uri=z}}};this.updateExtAIAOCSP=function(D,A){var C=this.findExt(D,\"authorityInfoAccess\");if(C==null){return}if(C.array==undefined){return}var z=C.array;for(var B=0;B<z.length;B++){if(z[B].ocsp!=undefined){z[B].ocsp=A}}};this.updateExtAIACAIssuer=function(D,A){var C=this.findExt(D,\"authorityInfoAccess\");if(C==null){return}if(C.array==undefined){return}var z=C.array;for(var B=0;B<z.length;B++){if(z[B].caissuer!=undefined){z[B].caissuer=A}}};this.dnarraytostr=function(B){function z(C){return C.map(function(D){return A(D).replace(/\\+/,\"\\\\+\")}).join(\"+\")}function A(C){return C.type+\"=\"+C.value}return\"/\"+B.map(function(C){return z(C).replace(/\\//,\"\\\\/\")}).join(\"/\")};this.setCanonicalizedDN=function(A){var C;if(A.str!=undefined&&A.array==undefined){var B=new KJUR.asn1.x509.X500Name({str:A.str});var z=B.tohex();C=this.getX500NameArray(z)}else{C=A.array}if(A.canon==undefined){A.canon=this.c14nRDNArray(C)}};this.c14nRDNArray=function(G){var A=[];for(var C=0;C<G.length;C++){var E=G[C];var z=[];for(var B=0;B<E.length;B++){var D=E[B];var F=D.value;F=F.replace(/^\\s*/,\"\");F=F.replace(/\\s*$/,\"\");F=F.replace(/\\s+/g,\" \");F=F.toLowerCase();z.push(D.type.toLowerCase()+\"=\"+F)}A.push(z.join(\"+\"))}return\"/\"+A.join(\"/\")};this.getInfo=function(){var A=function(W){var ac=\"\";var U=\"    \";var Y=\"\\n\";var Z=W.array;for(var X=0;X<Z.length;X++){var V=Z[X];if(V.dn!=undefined){ac+=U+\"dn: \"+V.dn.str+Y}if(V.ip!=undefined){ac+=U+\"ip: \"+V.ip+Y}if(V.rfc822!=undefined){ac+=U+\"rfc822: \"+V.rfc822+Y}if(V.dns!=undefined){ac+=U+\"dns: \"+V.dns+Y}if(V.uri!=undefined){ac+=U+\"uri: \"+V.uri+Y}if(V.other!=undefined){var ab=V.other.oid;var aa=JSON.stringify(V.other.value).replace(/\\\"/g,\"\");ac+=U+\"other: \"+ab+\"=\"+aa+Y}}ac=ac.replace(/\\n$/,\"\");return ac};var H=function(aa){var Y=\"\";var U=aa.array;for(var X=0;X<U.length;X++){var Z=U[X];Y+=\"    policy oid: \"+Z.policyoid+\"\\n\";if(Z.array===undefined){continue}for(var W=0;W<Z.array.length;W++){var V=Z.array[W];if(V.cps!==undefined){Y+=\"    cps: \"+V.cps+\"\\n\"}}}return Y};var K=function(Y){var X=\"\";var U=Y.array;for(var W=0;W<U.length;W++){var Z=U[W];try{if(Z.dpname.full[0].uri!==undefined){X+=\"    \"+Z.dpname.full[0].uri+\"\\n\"}}catch(V){}try{if(Z.dname.full[0].dn.hex!==undefined){X+=\"    \"+X509.hex2dn(Z.dpname.full[0].dn.hex)+\"\\n\"}}catch(V){}}return X};var I=function(Y){var X=\"\";var U=Y.array;for(var V=0;V<U.length;V++){var W=U[V];if(W.caissuer!==undefined){X+=\"    caissuer: \"+W.caissuer+\"\\n\"}if(W.ocsp!==undefined){X+=\"    ocsp: \"+W.ocsp+\"\\n\"}}return X};var B=X509;var M,L,T;M=\"Basic Fields\\n\";M+=\"  serial number: \"+this.getSerialNumberHex()+\"\\n\";M+=\"  signature algorithm: \"+this.getSignatureAlgorithmField()+\"\\n\";M+=\"  issuer: \"+this.getIssuerString()+\"\\n\";M+=\"  notBefore: \"+this.getNotBefore()+\"\\n\";M+=\"  notAfter: \"+this.getNotAfter()+\"\\n\";M+=\"  subject: \"+this.getSubjectString()+\"\\n\";M+=\"  subject public key info: \\n\";L=this.getPublicKey();M+=\"    key algorithm: \"+L.type+\"\\n\";if(L.type===\"RSA\"){M+=\"    n=\"+hextoposhex(L.n.toString(16)).substr(0,16)+\"...\\n\";M+=\"    e=\"+hextoposhex(L.e.toString(16))+\"\\n\"}T=this.aExtInfo;if(T!==undefined&&T!==null){M+=\"X509v3 Extensions:\\n\";for(var P=0;P<T.length;P++){var R=T[P];var z=KJUR.asn1.x509.OID.oid2name(R.oid);if(z===\"\"){z=R.oid}var O=\"\";if(R.critical===true){O=\"CRITICAL\"}M+=\"  \"+z+\" \"+O+\":\\n\";if(z===\"basicConstraints\"){var C=this.getExtBasicConstraints();if(C.cA===undefined){M+=\"    {}\\n\"}else{M+=\"    cA=true\";if(C.pathLen!==undefined){M+=\", pathLen=\"+C.pathLen}M+=\"\\n\"}}else{if(z==\"policyMappings\"){var S=this.getExtPolicyMappings().array;var G=S.map(function(U){var V=U;return V[0]+\":\"+V[1]}).join(\", \");M+=\"    \"+G+\"\\n\"}else{if(z==\"policyConstraints\"){var N=this.getExtPolicyConstraints();M+=\"    \";if(N.reqexp!=undefined){M+=\" reqexp=\"+N.reqexp}if(N.inhibit!=undefined){M+=\" inhibit=\"+N.inhibit}M+=\"\\n\"}else{if(z==\"inhibitAnyPolicy\"){var N=this.getExtInhibitAnyPolicy();M+=\"    skip=\"+N.skip+\"\\n\"}else{if(z==\"keyUsage\"){M+=\"    \"+this.getExtKeyUsageString()+\"\\n\"}else{if(z==\"subjectKeyIdentifier\"){M+=\"    \"+this.getExtSubjectKeyIdentifier().kid.hex+\"\\n\"}else{if(z==\"authorityKeyIdentifier\"){var D=this.getExtAuthorityKeyIdentifier();if(D.kid!==undefined){M+=\"    kid=\"+D.kid.hex+\"\\n\"}}else{if(z==\"extKeyUsage\"){var Q=this.getExtExtKeyUsage().array;M+=\"    \"+Q.join(\", \")+\"\\n\"}else{if(z==\"subjectAltName\"){var E=A(this.getExtSubjectAltName());M+=E+\"\\n\"}else{if(z==\"cRLDistributionPoints\"){var J=this.getExtCRLDistributionPoints();M+=K(J)}else{if(z==\"authorityInfoAccess\"){var F=this.getExtAuthorityInfoAccess();M+=I(F)}else{if(z==\"certificatePolicies\"){M+=H(this.getExtCertificatePolicies())}}}}}}}}}}}}}}M+=\"signature algorithm: \"+this.getSignatureAlgorithmName()+\"\\n\";M+=\"signature: \"+this.getSignatureValueHex().substr(0,16)+\"...\\n\";return M};if(typeof v==\"string\"){if(v.indexOf(\"-----BEGIN\")!=-1){this.readCertPEM(v)}else{if(KJUR.lang.String.isHex(v)){this.readCertHex(v)}}}}X509.EXT_PARSER={};X509.registExtParser=function(b,a){X509.EXT_PARSER[b]=a};X509.hex2dn=function(e,b){if(b===undefined){b=0}var a=new X509();var c=ASN1HEX.getTLV(e,b);var d=a.getX500Name(e);return d.str};X509.hex2rdn=function(f,b){if(b===undefined){b=0}if(f.substr(b,2)!==\"31\"){throw new Error(\"malformed RDN\")}var c=new Array();var d=ASN1HEX.getChildIdx(f,b);for(var e=0;e<d.length;e++){c.push(X509.hex2attrTypeValue(f,d[e]))}c=c.map(function(a){return a.replace(\"+\",\"\\\\+\")});return c.join(\"+\")};X509.hex2attrTypeValue=function(d,i){var j=ASN1HEX;var h=j.getV;if(i===undefined){i=0}if(d.substr(i,2)!==\"30\"){throw new Error(\"malformed attribute type and value\")}var g=j.getChildIdx(d,i);if(g.length!==2||d.substr(g[0],2)!==\"06\"){\"malformed attribute type and value\"}var b=h(d,g[0]);var f=KJUR.asn1.ASN1Util.oidHexToInt(b);var e=KJUR.asn1.x509.OID.oid2atype(f);var a=h(d,g[1]);var c=hextorstr(a);return e+\"=\"+c};X509.getPublicKeyFromCertHex=function(b){var a=new X509();a.readCertHex(b);return a.getPublicKey()};X509.getPublicKeyFromCertPEM=function(b){var a=new X509();a.readCertPEM(b);return a.getPublicKey()};X509.getPublicKeyInfoPropOfCertPEM=function(c){var e=ASN1HEX;var g=e.getVbyList;var b={};var a,f,d;b.algparam=null;a=new X509();a.readCertPEM(c);f=a.getPublicKeyHex();b.keyhex=g(f,0,[1],\"03\").substr(2);b.algoid=g(f,0,[0,0],\"06\");if(b.algoid===\"2a8648ce3d0201\"){b.algparam=g(f,0,[0,1],\"06\")}return b};X509.KEYUSAGE_NAME=[\"digitalSignature\",\"nonRepudiation\",\"keyEncipherment\",\"dataEncipherment\",\"keyAgreement\",\"keyCertSign\",\"cRLSign\",\"encipherOnly\",\"decipherOnly\"];\nvar X509CRL=function(e){var a=KJUR,f=a.lang.String.isHex,m=ASN1HEX,k=m.getV,b=m.getTLV,h=m.getVbyList,c=m.getTLVbyList,d=m.getTLVbyListEx,i=m.getIdxbyList,g=m.getIdxbyListEx,l=m.getChildIdx,j=new X509();this.hex=null;this.posSigAlg=null;this.posRevCert=null;this.parsed=null;this._setPos=function(){var o=i(this.hex,0,[0,0]);var n=this.hex.substr(o,2);if(n==\"02\"){this.posSigAlg=1}else{if(n==\"30\"){this.posSigAlg=0}else{throw new Error(\"malformed 1st item of TBSCertList: \"+n)}}var s=i(this.hex,0,[0,this.posSigAlg+3]);var r=this.hex.substr(s,2);if(r==\"17\"||r==\"18\"){var q,p;q=i(this.hex,0,[0,this.posSigAlg+4]);this.posRevCert=null;if(q!=-1){p=this.hex.substr(q,2);if(p==\"30\"){this.posRevCert=this.posSigAlg+4}}}else{if(r==\"30\"){this.posRevCert=this.posSigAlg+3}else{if(r==\"a0\"){this.posRevCert=null}else{throw new Error(\"malformed nextUpdate or revCert tag: \"+r)}}}};this.getVersion=function(){if(this.posSigAlg==0){return null}return parseInt(h(this.hex,0,[0,0],\"02\"),16)+1};this.getSignatureAlgorithmField=function(){var n=c(this.hex,0,[0,this.posSigAlg],\"30\");return j.getAlgorithmIdentifierName(n)};this.getIssuer=function(){return j.getX500Name(this.getIssuerHex())};this.getIssuerHex=function(){return c(this.hex,0,[0,this.posSigAlg+1],\"30\")};this.getThisUpdate=function(){var n=h(this.hex,0,[0,this.posSigAlg+2]);return result=hextorstr(n)};this.getNextUpdate=function(){var o=i(this.hex,0,[0,this.posSigAlg+3]);var n=this.hex.substr(o,2);if(n!=\"17\"&&n!=\"18\"){return null}return hextorstr(k(this.hex,o))};this.getRevCertArray=function(){if(this.posRevCert==null){return null}var o=[];var n=i(this.hex,0,[0,this.posRevCert]);var p=l(this.hex,n);for(var q=0;q<p.length;q++){var r=b(this.hex,p[q]);o.push(this.getRevCert(r))}return o};this.getRevCert=function(p){var o={};var n=l(p,0);o.sn={hex:h(p,0,[0],\"02\")};o.date=hextorstr(h(p,0,[1]));if(n.length==3){o.ext=j.getExtParamArray(c(p,0,[2]))}return o};this.findRevCert=function(p){var n=new X509(p);var o=n.getSerialNumberHex();return this.findRevCertBySN(o)};this.findRevCertBySN=function(o){if(this.parsed==null){this.getParam()}if(this.parsed.revcert==null){return null}var n=this.parsed.revcert;for(var p=0;p<n.length;p++){if(o==n[p].sn.hex){return n[p]}}return null};this.getSignatureValueHex=function(){return h(this.hex,0,[2],\"03\",true)};this.verifySignature=function(o){var p=this.getSignatureAlgorithmField();var n=this.getSignatureValueHex();var q=c(this.hex,0,[0],\"30\");var r=new KJUR.crypto.Signature({alg:p});r.init(o);r.updateHex(q);return r.verify(n)};this.getParam=function(r){var n={};var p=this.getVersion();if(p!=null){n.version=p}n.sigalg=this.getSignatureAlgorithmField();n.issuer=this.getIssuer();n.thisupdate=this.getThisUpdate();var q=this.getNextUpdate();if(q!=null){n.nextupdate=q}var t=this.getRevCertArray();if(t!=null){n.revcert=t}var s=g(this.hex,0,[0,\"[0]\"]);if(s!=-1){var o=d(this.hex,0,[0,\"[0]\",0]);n.ext=j.getExtParamArray(o)}n.sighex=this.getSignatureValueHex();this.parsed=n;if(typeof r==\"object\"){if(r.tbshex==true){n.tbshex=c(this.hex,0,[0])}if(r.nodnarray==true){delete n.issuer.array}}return n};if(typeof e==\"string\"){if(f(e)){this.hex=e}else{if(e.match(/-----BEGIN X509 CRL/)){this.hex=pemtohex(e)}}this._setPos()}};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.jws==\"undefined\"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWS=function(){var b=KJUR,a=b.jws.JWS,c=a.isSafeJSONString;this.parseJWS=function(g,j){if((this.parsedJWS!==undefined)&&(j||(this.parsedJWS.sigvalH!==undefined))){return}var i=g.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/);if(i==null){throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\"}var k=i[1];var e=i[2];var l=i[3];var n=k+\".\"+e;this.parsedJWS={};this.parsedJWS.headB64U=k;this.parsedJWS.payloadB64U=e;this.parsedJWS.sigvalB64U=l;this.parsedJWS.si=n;if(!j){var h=b64utohex(l);var f=parseBigInt(h,16);this.parsedJWS.sigvalH=h;this.parsedJWS.sigvalBI=f}var d=b64utoutf8(k);var m=b64utoutf8(e);this.parsedJWS.headS=d;this.parsedJWS.payloadS=m;if(!c(d,this.parsedJWS,\"headP\")){throw\"malformed JSON string for JWS Head: \"+d}}};KJUR.jws.JWS.sign=function(j,w,z,A,a){var x=KJUR,n=x.jws,r=n.JWS,h=r.readSafeJSONString,q=r.isSafeJSONString,d=x.crypto,l=d.ECDSA,p=d.Mac,c=d.Signature,u=JSON;var t,k,o;if(typeof w!=\"string\"&&typeof w!=\"object\"){throw\"spHeader must be JSON string or object: \"+w}if(typeof w==\"object\"){k=w;t=u.stringify(k)}if(typeof w==\"string\"){t=w;if(!q(t)){throw\"JWS Head is not safe JSON string: \"+t}k=h(t)}o=z;if(typeof z==\"object\"){o=u.stringify(z)}if((j==\"\"||j==null)&&k.alg!==undefined){j=k.alg}if((j!=\"\"&&j!=null)&&k.alg===undefined){k.alg=j;t=u.stringify(k)}if(j!==k.alg){throw\"alg and sHeader.alg doesn't match: \"+j+\"!=\"+k.alg}var s=null;if(r.jwsalg2sigalg[j]===undefined){throw\"unsupported alg name: \"+j}else{s=r.jwsalg2sigalg[j]}var e=utf8tob64u(t);var m=utf8tob64u(o);var b=e+\".\"+m;var y=\"\";if(s.substr(0,4)==\"Hmac\"){if(A===undefined){throw\"mac key shall be specified for HS* alg\"}var i=new p({alg:s,prov:\"cryptojs\",pass:A});i.updateString(b);y=i.doFinal()}else{if(s.indexOf(\"withECDSA\")!=-1){var f=new c({alg:s});f.init(A,a);f.updateString(b);var g=f.sign();y=KJUR.crypto.ECDSA.asn1SigToConcatSig(g)}else{if(s!=\"none\"){var f=new c({alg:s});f.init(A,a);f.updateString(b);y=f.sign()}}}var v=hextob64u(y);return b+\".\"+v};KJUR.jws.JWS.verify=function(w,B,n){var x=KJUR,q=x.jws,t=q.JWS,i=t.readSafeJSONString,e=x.crypto,p=e.ECDSA,s=e.Mac,d=e.Signature,m;if(typeof RSAKey!==undefined){m=RSAKey}if(!isBase64URLDot(w)){return false}var y=w.split(\".\");if(y.length!==3){return false}var f=y[0];var r=y[1];var c=f+\".\"+r;var A=b64utohex(y[2]);var l=i(b64utoutf8(y[0]));var k=null;var z=null;if(l.alg===undefined){throw\"algorithm not specified in header\"}else{k=l.alg;z=k.substr(0,2)}if(n!=null&&Object.prototype.toString.call(n)===\"[object Array]\"&&n.length>0){var b=\":\"+n.join(\":\")+\":\";if(b.indexOf(\":\"+k+\":\")==-1){throw\"algorithm '\"+k+\"' not accepted in the list\"}}if(k!=\"none\"&&B===null){throw\"key shall be specified to verify.\"}if(typeof B==\"string\"&&B.indexOf(\"-----BEGIN \")!=-1){B=KEYUTIL.getKey(B)}if(z==\"RS\"||z==\"PS\"){if(!(B instanceof m)){throw\"key shall be a RSAKey obj for RS* and PS* algs\"}}if(z==\"ES\"){if(!(B instanceof p)){throw\"key shall be a ECDSA obj for ES* algs\"}}if(k==\"none\"){}var u=null;if(t.jwsalg2sigalg[l.alg]===undefined){throw\"unsupported alg name: \"+k}else{u=t.jwsalg2sigalg[k]}if(u==\"none\"){throw\"not supported\"}else{if(u.substr(0,4)==\"Hmac\"){var o=null;if(B===undefined){throw\"hexadecimal key shall be specified for HMAC\"}var j=new s({alg:u,pass:B});j.updateString(c);o=j.doFinal();return A==o}else{if(u.indexOf(\"withECDSA\")!=-1){var h=null;try{h=p.concatSigToASN1Sig(A)}catch(v){return false}var g=new d({alg:u});g.init(B);g.updateString(c);return g.verify(h)}else{var g=new d({alg:u});g.init(B);g.updateString(c);return g.verify(A)}}}};KJUR.jws.JWS.parse=function(g){var c=g.split(\".\");var b={};var f,e,d;if(c.length!=2&&c.length!=3){throw\"malformed sJWS: wrong number of '.' splitted elements\"}f=c[0];e=c[1];if(c.length==3){d=c[2]}b.headerObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(f));b.payloadObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(e));b.headerPP=JSON.stringify(b.headerObj,null,\"  \");if(b.payloadObj==null){b.payloadPP=b64utoutf8(e)}else{b.payloadPP=JSON.stringify(b.payloadObj,null,\"  \")}if(d!==undefined){b.sigHex=b64utohex(d)}return b};KJUR.jws.JWS.verifyJWT=function(e,l,r){var d=KJUR,j=d.jws,o=j.JWS,n=o.readSafeJSONString,p=o.inArray,f=o.includedArray;if(!isBase64URLDot(e)){return false}var k=e.split(\".\");if(k.length!=3){return false}var c=k[0];var i=k[1];var q=c+\".\"+i;var m=b64utohex(k[2]);var h=n(b64utoutf8(c));var g=n(b64utoutf8(i));if(h.alg===undefined){return false}if(r.alg===undefined){throw\"acceptField.alg shall be specified\"}if(!p(h.alg,r.alg)){return false}if(g.iss!==undefined&&typeof r.iss===\"object\"){if(!p(g.iss,r.iss)){return false}}if(g.sub!==undefined&&typeof r.sub===\"object\"){if(!p(g.sub,r.sub)){return false}}if(g.aud!==undefined&&typeof r.aud===\"object\"){if(typeof g.aud==\"string\"){if(!p(g.aud,r.aud)){return false}}else{if(typeof g.aud==\"object\"){if(!f(g.aud,r.aud)){return false}}}}var b=j.IntDate.getNow();if(r.verifyAt!==undefined&&typeof r.verifyAt===\"number\"){b=r.verifyAt}if(r.gracePeriod===undefined||typeof r.gracePeriod!==\"number\"){r.gracePeriod=0}if(g.exp!==undefined&&typeof g.exp==\"number\"){if(g.exp+r.gracePeriod<b){return false}}if(g.nbf!==undefined&&typeof g.nbf==\"number\"){if(b<g.nbf-r.gracePeriod){return false}}if(g.iat!==undefined&&typeof g.iat==\"number\"){if(b<g.iat-r.gracePeriod){return false}}if(g.jti!==undefined&&r.jti!==undefined){if(g.jti!==r.jti){return false}}if(!o.verify(e,l,r.alg)){return false}return true};KJUR.jws.JWS.includedArray=function(b,a){var c=KJUR.jws.JWS.inArray;if(b===null){return false}if(typeof b!==\"object\"){return false}if(typeof b.length!==\"number\"){return false}for(var d=0;d<b.length;d++){if(!c(b[d],a)){return false}}return true};KJUR.jws.JWS.inArray=function(d,b){if(b===null){return false}if(typeof b!==\"object\"){return false}if(typeof b.length!==\"number\"){return false}for(var c=0;c<b.length;c++){if(b[c]==d){return true}}return false};KJUR.jws.JWS.jwsalg2sigalg={HS256:\"HmacSHA256\",HS384:\"HmacSHA384\",HS512:\"HmacSHA512\",RS256:\"SHA256withRSA\",RS384:\"SHA384withRSA\",RS512:\"SHA512withRSA\",ES256:\"SHA256withECDSA\",ES384:\"SHA384withECDSA\",ES512:\"SHA512withECDSA\",PS256:\"SHA256withRSAandMGF1\",PS384:\"SHA384withRSAandMGF1\",PS512:\"SHA512withRSAandMGF1\",none:\"none\",};KJUR.jws.JWS.isSafeJSONString=function(c,b,d){var e=null;try{e=jsonParse(c);if(typeof e!=\"object\"){return 0}if(e.constructor===Array){return 0}if(b){b[d]=e}return 1}catch(a){return 0}};KJUR.jws.JWS.readSafeJSONString=function(b){var c=null;try{c=jsonParse(b);if(typeof c!=\"object\"){return null}if(c.constructor===Array){return null}return c}catch(a){return null}};KJUR.jws.JWS.getEncodedSignatureValueFromJWS=function(b){var a=b.match(/^[^.]+\\.[^.]+\\.([^.]+)$/);if(a==null){throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\"}return a[1]};KJUR.jws.JWS.getJWKthumbprint=function(d){if(d.kty!==\"RSA\"&&d.kty!==\"EC\"&&d.kty!==\"oct\"){throw\"unsupported algorithm for JWK Thumprint\"}var a=\"{\";if(d.kty===\"RSA\"){if(typeof d.n!=\"string\"||typeof d.e!=\"string\"){throw\"wrong n and e value for RSA key\"}a+='\"e\":\"'+d.e+'\",';a+='\"kty\":\"'+d.kty+'\",';a+='\"n\":\"'+d.n+'\"}'}else{if(d.kty===\"EC\"){if(typeof d.crv!=\"string\"||typeof d.x!=\"string\"||typeof d.y!=\"string\"){throw\"wrong crv, x and y value for EC key\"}a+='\"crv\":\"'+d.crv+'\",';a+='\"kty\":\"'+d.kty+'\",';a+='\"x\":\"'+d.x+'\",';a+='\"y\":\"'+d.y+'\"}'}else{if(d.kty===\"oct\"){if(typeof d.k!=\"string\"){throw\"wrong k value for oct(symmetric) key\"}a+='\"kty\":\"'+d.kty+'\",';a+='\"k\":\"'+d.k+'\"}'}}}var b=rstrtohex(a);var c=KJUR.crypto.Util.hashHex(b,\"sha256\");var e=hextob64u(c);return e};KJUR.jws.IntDate={};KJUR.jws.IntDate.get=function(c){var b=KJUR.jws.IntDate,d=b.getNow,a=b.getZulu;if(c==\"now\"){return d()}else{if(c==\"now + 1hour\"){return d()+60*60}else{if(c==\"now + 1day\"){return d()+60*60*24}else{if(c==\"now + 1month\"){return d()+60*60*24*30}else{if(c==\"now + 1year\"){return d()+60*60*24*365}else{if(c.match(/Z$/)){return a(c)}else{if(c.match(/^[0-9]+$/)){return parseInt(c)}}}}}}}throw\"unsupported format: \"+c};KJUR.jws.IntDate.getZulu=function(a){return zulutosec(a)};KJUR.jws.IntDate.getNow=function(){var a=~~(new Date()/1000);return a};KJUR.jws.IntDate.intDate2UTCString=function(a){var b=new Date(a*1000);return b.toUTCString()};KJUR.jws.IntDate.intDate2Zulu=function(e){var i=new Date(e*1000),h=(\"0000\"+i.getUTCFullYear()).slice(-4),g=(\"00\"+(i.getUTCMonth()+1)).slice(-2),b=(\"00\"+i.getUTCDate()).slice(-2),a=(\"00\"+i.getUTCHours()).slice(-2),c=(\"00\"+i.getUTCMinutes()).slice(-2),f=(\"00\"+i.getUTCSeconds()).slice(-2);return h+g+b+a+c+f+\"Z\"};\nif(typeof KJUR==\"undefined\"||!KJUR){KJUR={}}if(typeof KJUR.jws==\"undefined\"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWSJS=function(){var c=KJUR,b=c.jws,a=b.JWS,d=a.readSafeJSONString;this.aHeader=[];this.sPayload=\"\";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(f){this.init();var e=f.split(\".\");if(e.length!=3){throw\"malformed input JWS\"}this.aHeader.push(e[0]);this.sPayload=e[1];this.aSignature.push(e[2])};this.addSignature=function(e,h,m,k){if(this.sPayload===undefined||this.sPayload===null){throw\"there's no JSON-JS signature to add.\"}var l=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw\"aHeader.length != aSignature.length\"}try{var f=KJUR.jws.JWS.sign(e,h,this.sPayload,m,k);var j=f.split(\".\");var n=j[0];var g=j[2];this.aHeader.push(j[0]);this.aSignature.push(j[2])}catch(i){if(this.aHeader.length>l){this.aHeader.pop()}if(this.aSignature.length>l){this.aSignature.pop()}throw\"addSignature failed: \"+i}};this.verifyAll=function(h){if(this.aHeader.length!==h.length||this.aSignature.length!==h.length){return false}for(var g=0;g<h.length;g++){var f=h[g];if(f.length!==2){return false}var e=this.verifyNth(g,f[0],f[1]);if(e===false){return false}}return true};this.verifyNth=function(f,j,g){if(this.aHeader.length<=f||this.aSignature.length<=f){return false}var h=this.aHeader[f];var k=this.aSignature[f];var l=h+\".\"+this.sPayload+\".\"+k;var e=false;try{e=a.verify(l,j,g)}catch(i){return false}return e};this.readJWSJS=function(g){if(typeof g===\"string\"){var f=d(g);if(f==null){throw\"argument is not safe JSON object string\"}this.aHeader=f.headers;this.sPayload=f.payload;this.aSignature=f.signatures}else{try{if(g.headers.length>0){this.aHeader=g.headers}else{throw\"malformed header\"}if(typeof g.payload===\"string\"){this.sPayload=g.payload}else{throw\"malformed signatures\"}if(g.signatures.length>0){this.aSignature=g.signatures}else{throw\"malformed signatures\"}}catch(e){throw\"malformed JWS-JS JSON object: \"+e}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};\nexports.SecureRandom = SecureRandom;\nexports.rng_seed_time = rng_seed_time;\n\nexports.BigInteger = BigInteger;\nexports.RSAKey = RSAKey;\nexports.ECDSA = KJUR.crypto.ECDSA;\nexports.DSA = KJUR.crypto.DSA;\nexports.Signature = KJUR.crypto.Signature;\nexports.MessageDigest = KJUR.crypto.MessageDigest;\nexports.Mac = KJUR.crypto.Mac;\n//exports.Cipher = KJUR.crypto.Cipher;\nexports.KEYUTIL = KEYUTIL;\nexports.ASN1HEX = ASN1HEX;\nexports.X509 = X509;\nexports.X509CRL = X509CRL;\nexports.CryptoJS = CryptoJS;\n\n// ext/base64.js\nexports.b64tohex = b64tohex;\nexports.b64toBA = b64toBA;\n\n// ext/ec*.js\nexports.ECFieldElementFp = ECFieldElementFp;\nexports.ECPointFp = ECPointFp;\nexports.ECCurveFp = ECCurveFp;\n\n// base64x.js\nexports.stoBA = stoBA;\nexports.BAtos = BAtos;\nexports.BAtohex = BAtohex;\nexports.stohex = stohex;\nexports.stob64 = stob64;\nexports.stob64u = stob64u;\nexports.b64utos = b64utos;\nexports.b64tob64u = b64tob64u;\nexports.b64utob64 = b64utob64;\nexports.hex2b64 = hex2b64;\nexports.hextob64u = hextob64u;\nexports.b64utohex = b64utohex;\nexports.utf8tob64u = utf8tob64u;\nexports.b64utoutf8 = b64utoutf8;\nexports.utf8tob64 = utf8tob64;\nexports.b64toutf8 = b64toutf8;\nexports.utf8tohex = utf8tohex;\nexports.hextoutf8 = hextoutf8;\nexports.hextorstr = hextorstr;\nexports.rstrtohex = rstrtohex;\nexports.hextob64 = hextob64;\nexports.hextob64nl = hextob64nl;\nexports.b64nltohex = b64nltohex;\nexports.hextopem = hextopem;\nexports.pemtohex = pemtohex;\nexports.hextoArrayBuffer = hextoArrayBuffer;\nexports.ArrayBuffertohex = ArrayBuffertohex;\nexports.zulutomsec = zulutomsec;\nexports.msectozulu = msectozulu;\nexports.zulutosec = zulutosec;\nexports.zulutodate = zulutodate;\nexports.datetozulu = datetozulu;\nexports.uricmptohex = uricmptohex;\nexports.hextouricmp = hextouricmp;\nexports.ipv6tohex = ipv6tohex;\nexports.hextoipv6 = hextoipv6;\nexports.hextoip = hextoip;\nexports.iptohex = iptohex;\nexports.ucs2hextoutf8 = ucs2hextoutf8;\nexports.encodeURIComponentAll = encodeURIComponentAll;\nexports.newline_toUnix = newline_toUnix;\nexports.newline_toDos = newline_toDos;\nexports.hextoposhex = hextoposhex;\nexports.intarystrtohex = intarystrtohex;\nexports.strdiffidx = strdiffidx;\nexports.oidtohex = oidtohex;\nexports.hextooid = hextooid;\nexports.strpad = strpad;\nexports.bitstrtoint = bitstrtoint;\nexports.inttobitstr = inttobitstr;\nexports.bitstrtobinstr = bitstrtobinstr;\nexports.binstrtobitstr = binstrtobitstr;\nexports.isBase64URLDot = isBase64URLDot;\nexports.namearraytobinstr = namearraytobinstr;\nexports.extendClass = extendClass;\nexports.foldnl = foldnl;\nexports.b64topem = b64topem;\nexports.pemtob64 = pemtob64;\nexports.timeogen = timetogen;\nexports.aryval = aryval;\nexports.inttohex = inttohex;\nexports.twoscompl = twoscompl;\n\n// name spaces\nexports.KJUR = KJUR;\nexports.crypto = KJUR.crypto;\nexports.asn1 = KJUR.asn1;\nexports.jws = KJUR.jws;\nexports.lang = KJUR.lang;\n\nexports.VERSION = VERSION;\nexports.VERSION_FULL = VERSION_FULL;\n\n\n\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","import { Logger, SkyWayError } from '@skyway-sdk/common';\nimport jsrsasign from 'jsrsasign';\nimport jwtDecode from 'jwt-decode';\n\nimport { AuthToken, tokenErrors } from '.';\nimport { AppScope } from './scope/app';\n\nconst log = new Logger('packages/token/src/encoder.ts');\n\nexport class SkyWayAuthToken implements AuthToken {\n  /**uuid */\n  jti!: string;\n  /**seconds */\n  iat!: number;\n  /**seconds */\n  exp!: number;\n  readonly scope!: {\n    readonly app: AppScope;\n  };\n  version?: number;\n  tokenString?: string;\n\n  constructor(props: AuthToken) {\n    Object.assign(this, props);\n  }\n\n  static Decode(token: string): SkyWayAuthToken {\n    try {\n      const props: AuthToken = jwtDecode(token);\n      const authToken = new SkyWayAuthToken(props);\n      authToken.tokenString = token;\n      return authToken;\n    } catch (error: any) {\n      throw new SkyWayError({\n        path: log.prefix,\n        info: tokenErrors.invalidParameter,\n        error,\n      });\n    }\n  }\n\n  encode(secret: string) {\n    const payload = {\n      jti: this.jti,\n      iat: this.iat,\n      exp: this.exp,\n      scope: this.scope,\n      version: this.version,\n    };\n    this.tokenString = jsrsasign.KJUR.jws.JWS.sign(\n      'HS256',\n      JSON.stringify({ alg: 'HS256', typ: 'JWT' }),\n      JSON.stringify(payload),\n      secret\n    );\n    return this.tokenString;\n  }\n\n  /**@internal */\n  toJSON() {\n    return {\n      jti: this.jti,\n      iat: this.iat,\n      exp: this.exp,\n      scope: this.scope,\n      encoded: this.tokenString,\n      version: this.version,\n    };\n  }\n}\n","import { SfuScope } from './sfu';\n\nexport type AppScope = {\n  /**アプリケーションIDを指定 */\n  id: string;\n  /**AnalyticsDashboardへのデータ送信をするかどうかの設定 */\n  analytics?: boolean;\n  /**アプリケーション自体に関する権限。現在は'read'固定 */\n  actions?: readonly AppAction[];\n  /**channelリソースに関するオブジェクトを配列で指定*/\n  channels?: ChannelScope[];\n  /**falseの場合はTurnサーバを経由してメディア通信を行いません。 */\n  turn?: boolean;\n};\n\n/**@internal */\nexport const AppActions = ['listChannels', 'read', 'write'] as const;\nexport type AppAction = (typeof AppActions)[number];\n\nexport type ChannelScope = {\n  /**\n   * - id または name のどちらかが必須。\n   * - id で対象の channel を指定。\n   * - '*' を指定することで、すべての channel を指定。\n   * */\n  id?: string;\n  /**\n   * - id または name のどちらかが必須。\n   * - name で対象の channel を指定。\n   * - '*' を指定することで、すべての channel を指定。\n   * */\n  name?: string;\n  /**\n   * 以下を複数指定可能\n   * - write: すべて可能\n   * - read: 参照\n   * - create: 作成\n   * - delete: 削除\n   * - updateMetadata: metadata の編集\n   */\n  actions: readonly ChannelAction[];\n  /**member リソースに関するオブジェクトを配列で指定 */\n  members: MemberScope[];\n  /**sfuBot リソースに関するオブジェクトを配列で指定 */\n  sfuBots?: SfuScope[];\n  [key: string]: unknown;\n};\n/**@internal */\nexport const ChannelActions = [\n  'write',\n  'read',\n  'create',\n  'delete',\n  'updateMetadata',\n] as const;\nexport type ChannelAction = (typeof ChannelActions)[number];\n\nexport type MemberScope = {\n  /**\n   * id (id または name のどちらかが必須 *)\n   * - id で対象の member を指定\n   * - '*' を指定することで、すべての member を指定\n   */\n  id?: string;\n  /**\n   * name (id または name のどちらかが必須 *)\n   * - name で対象の channel を指定\n   * - '*' を指定することで、すべての member を指定\n   */\n  name?: string;\n  /**\n   * 以下を複数指定可能\n   * - write: すべて可能\n   * - create: 入室（入室時に member が作成される）\n   * - delete: 退室（入室時に member が削除される）\n   * - signal: シグナリング情報のやり取り (p2p通信を利用する際に必須)\n   * - updateMetadata: metadata の編集\n   */\n  actions: readonly MemberAction[];\n  /**publication リソースに関するオブジェクトを指定*/\n  publication?: PublicationScope;\n  /**subscription リソースに関するオブジェクトを指定*/\n  subscription?: SubscriptionScope;\n};\n/**@internal */\nexport const MemberActions = [\n  'write',\n  'create',\n  'delete',\n  'updateMetadata',\n  'signal',\n] as const;\nexport type MemberAction = (typeof MemberActions)[number];\n\nexport type PublicationScope = {\n  /**\n   * 以下を複数指定可能\n   * - write: すべて可能\n   * - create: publish（publish時に publication が作成される）\n   * - delete: unpublish（unpublish時に publication が削除される）\n   * - updateMetadata: metadata の編集\n   * - enable: enable\n   * - disable: disable\n   */\n  actions: readonly PublicationAction[];\n};\n/**@internal */\nexport const PublicationActions = [\n  'write',\n  'create',\n  'delete',\n  'updateMetadata',\n  'enable',\n  'disable',\n] as const;\nexport type PublicationAction = (typeof PublicationActions)[number];\n\nexport type SubscriptionScope = {\n  /**\n   * 以下を複数指定可能\n   * - write: すべて可能\n   * - create: subscribe（subscribe時に subscription が作成される）\n   * - delete: unsubscribe（unsubscribe時に subscription が削除される）\n   */\n  actions: readonly SubscriptionAction[];\n};\n/**@internal */\nexport const SubscriptionActions = ['write', 'create', 'delete'] as const;\nexport type SubscriptionAction = (typeof SubscriptionActions)[number];\n","export const tokenErrors = {\n  invalidParameter: {\n    name: 'invalidParameter',\n    detail: 'failed to decode token',\n    solution: 'Use the correct token according to the specification',\n  },\n} as const;\n","/**@private */\nexport const nowInSec = () => Math.floor(Date.now() / 1000);\n","import { v4 } from 'uuid';\n\n/**@internal */\nconst uuidV4 = v4;\n\nexport * from './encoder';\nexport * from './scope/app';\nexport * from './scope/sfu';\nexport * from './token';\nexport { uuidV4 };\nexport * from './errors';\nexport * from './util';\n","import { Event } from '@skyway-sdk/common';\nimport { uuidV4 } from '@skyway-sdk/token';\n\nimport { Member } from '../../../member';\nimport { RemoteMember } from '../../../member/remoteMember';\nimport { Transport, TransportConnectionState } from '../../../plugin/interface';\nimport { ContentType, Stream, WebRTCStats } from '../base';\n\nexport abstract class LocalStreamBase implements Stream {\n  readonly side = 'local';\n  /**\n   * @deprecated\n   * @use Publication.onConnectionStateChanged\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   */\n  readonly onConnectionStateChanged = new Event<{\n    remoteMember: RemoteMember;\n    state: TransportConnectionState;\n  }>();\n  /**@internal */\n  readonly _onConnectionStateChanged = new Event<{\n    remoteMember: RemoteMember;\n    state: TransportConnectionState;\n  }>();\n  readonly id: string = uuidV4();\n  /**@internal */\n  _label = '';\n  published = false;\n\n  /**@private */\n  _getTransportCallbacks: {\n    [remoteMemberId: string]: () => Transport;\n  } = {};\n  /**@private */\n  _getStatsCallbacks: {\n    [remoteMemberId: string]: () => Promise<WebRTCStats>;\n  } = {};\n  private _connectionState: {\n    [remoteMemberId: string]: TransportConnectionState;\n  } = {};\n\n  /**@internal */\n  constructor(readonly contentType: ContentType) {\n    this._onConnectionStateChanged.pipe(this.onConnectionStateChanged);\n  }\n\n  /**@internal */\n  _setLabel(label: string) {\n    this._label = label;\n  }\n\n  /**@internal */\n  _unpublished() {\n    this.published = false;\n    this._getTransportCallbacks = {};\n    this._getStatsCallbacks = {};\n  }\n\n  /**@internal */\n  _getTransport(selector: Member | string): Transport | undefined {\n    const id = typeof selector === 'string' ? selector : selector.id;\n    return this._getTransportCallbacks[id]?.();\n  }\n\n  /**@internal */\n  _setConnectionState(\n    remoteMember: RemoteMember,\n    state: TransportConnectionState\n  ) {\n    if (this._connectionState[remoteMember.id] === state) return;\n    this._connectionState[remoteMember.id] = state;\n    this._onConnectionStateChanged.emit({ remoteMember, state });\n  }\n\n  /**\n   * @deprecated\n   * @use Publication.getStats\n   */\n  getStats(selector: Member | string): Promise<WebRTCStats> {\n    return this._getStats(selector);\n  }\n\n  /**@internal */\n  _getStats(selector: Member | string): Promise<WebRTCStats> {\n    const id = typeof selector === 'string' ? selector : selector.id;\n    return this._getStatsCallbacks[id]?.() ?? [];\n  }\n\n  /**@internal */\n  _getStatsAll() {\n    return Promise.all(\n      Object.entries(this._getStatsCallbacks).map(async ([key, cb]) => ({\n        memberId: key,\n        stats: await cb().catch(() => []),\n      }))\n    );\n  }\n\n  /**\n   * @deprecated\n   * @use Publication.getRTCPeerConnection\n   */\n  getRTCPeerConnection(\n    selector: Member | string\n  ): RTCPeerConnection | undefined {\n    return this._getRTCPeerConnection(selector);\n  }\n\n  /**@internal */\n  _getRTCPeerConnection(\n    selector: Member | string\n  ): RTCPeerConnection | undefined {\n    return this._getTransport(selector)?.rtcPeerConnection;\n  }\n\n  /**\n   * @deprecated\n   * @use Publication.getConnectionState\n   */\n  getConnectionState(selector: Member | string): TransportConnectionState {\n    return this._getConnectionState(selector);\n  }\n\n  /**@internal */\n  _getConnectionState(selector: Member | string): TransportConnectionState {\n    const id = typeof selector === 'string' ? selector : selector.id;\n    return this._connectionState[id] ?? 'new';\n  }\n\n  /**@internal */\n  _getConnectionStateAll() {\n    return Object.keys(this._getTransportCallbacks).map((memberId) => ({\n      memberId,\n      connectionState: this._getConnectionState(memberId),\n    }));\n  }\n\n  /**@internal */\n  toJSON() {\n    return {\n      label: this._label,\n      contentType: this.contentType,\n      id: this.id,\n      side: this.side,\n    };\n  }\n}\n","import { Event, EventDisposer, Logger } from '@skyway-sdk/common';\n\nimport {\n  AudioMediaTrackConstraints,\n  DisplayMediaTrackConstraints,\n  VideoMediaTrackConstraints,\n} from '../../factory';\nimport { attachElement, ContentType, detachElement } from '../base';\nimport { LocalStreamBase } from './base';\n\nconst logger = new Logger('packages/core/src/media/stream/local/media.ts');\n\nexport abstract class LocalMediaStreamBase extends LocalStreamBase {\n  /**@description [japanese] PublicationのDisable/EnableなどでStreamのtrackが更新された時に発火するイベント */\n  onTrackUpdated = new Event<MediaStreamTrack>();\n  /**\n   * @description [japanese] streamが破棄された時に発火するイベント (例. 画面共有が終了したときなど)\n   * @example [japanese] ハンドリング例\n   *  const publication = await member.publish(audio);\n      audio.onDestroyed.once(async () => {\n        await member.unpublish(publication);\n      });\n   * */\n  onDestroyed = new Event<void>();\n  private _element?: HTMLVideoElement | HTMLAudioElement;\n  private _track: MediaStreamTrack;\n  private _disposer = new EventDisposer();\n  /**@internal */\n  protected _oldTrack?: MediaStreamTrack;\n  private _trackConstraints: MediaTrackConstraints = {};\n  /**@internal */\n  protected get trackConstraints() {\n    return this._trackConstraints;\n  }\n  /**@internal */\n  _replacingTrack = false;\n  /**@internal */\n  _onReplacingTrackDone = new Event<void>();\n  abstract isEnabled: boolean;\n  /**@internal */\n  _onEnableChanged = new Event<MediaStreamTrack | null>();\n  /**@internal */\n  protected _options: Partial<LocalMediaStreamOptions>;\n\n  toJSON() {\n    const base = super.toJSON();\n    return {\n      ...base,\n      trackConstraints: this.trackConstraints,\n      isEnabled: this.isEnabled,\n      _options: this._options,\n    };\n  }\n\n  constructor(\n    track: MediaStreamTrack,\n    contentType: ContentType,\n    /**@internal */\n    options: (\n      | VideoMediaTrackConstraints\n      | DisplayMediaTrackConstraints\n      | AudioMediaTrackConstraints\n    ) &\n      Partial<LocalMediaStreamOptions> = {}\n  ) {\n    super(contentType);\n\n    this._track = track;\n    this._listenTrackEvent();\n    this._options = options;\n\n    // iOS safari 15はgetConstraintsがバグってるのでここで入れておく\n    this._trackConstraints = { ...options };\n  }\n\n  /**@internal */\n  abstract setEnabled(b: boolean): Promise<void>;\n\n  get track() {\n    return this._track;\n  }\n\n  /**\n   * @description [english] Attach the stream to the element.\n   * @description [japanese] streamをelementに適用する.\n   */\n  attach(element: HTMLVideoElement | HTMLAudioElement) {\n    this._element = element;\n    attachElement(element, this._track);\n  }\n\n  /**\n   * @description [english] Detach the stream from the element.\n   * @description [japanese] elementからstreamを取り除く.\n   */\n  detach() {\n    if (this._element) {\n      detachElement(this._element, this._track);\n      this._element = undefined;\n    }\n  }\n\n  /**@internal */\n  protected _disable(kind: 'video' | 'audio') {\n    if (this._options.stopTrackWhenDisabled) {\n      this._trackConstraints = {\n        ...this.trackConstraints,\n        ...this.track.getConstraints(),\n      };\n      this.track.stop();\n    } else {\n      this._oldTrack = this.track;\n    }\n\n    const track = kind === 'video' ? emptyVideoTrack : emptyAudioTrack;\n    track.enabled = false;\n    this._onEnableChanged.emit(track);\n    this._updateTrack(track);\n  }\n\n  /**@internal */\n  protected _updateTrack(track: MediaStreamTrack) {\n    this._track = track;\n    if (this._element) {\n      this.attach(this._element);\n    }\n    this.onTrackUpdated.emit(track);\n    this._listenTrackEvent();\n  }\n\n  private _listenTrackEvent() {\n    const onended = () => {\n      logger.info('onDestroyed', this.toJSON());\n      this.onDestroyed.emit();\n    };\n    this._track.addEventListener('ended', onended);\n    this._disposer.push(() =>\n      this._track.removeEventListener('ended', onended)\n    );\n  }\n\n  /**\n   * @description [japanese] Streamを解放します。\n   * カメラやマイクなどのデバイスを解放するためにはそのデバイスに関連するすべてのStreamを解放する必要があります\n   */\n  release() {\n    this._disposer.dispose();\n    this._track.stop();\n  }\n}\n\nexport type LocalMediaStreamOptions = {\n  /**\n   * @description [japanese]\n   * このStreamのPublicationがDisableされた時にStreamのTrackをStopします。\n   * Publicationが再度Enableされた時にデバイスを再取得します。\n   * (trackプロパティの中身が更新されonTrackUpdatedイベントが発火します)\n   * SkyWayStreamFactory経由でLocalMediaを作成する場合はデフォルトで有効。\n   * mediaDevice以外から作ったStream（例えばCanvasをキャプチャするなど）であれば必ずFalseを入れてください。\n   *  */\n  stopTrackWhenDisabled: boolean;\n  /**\n   * @description [japanese]\n   * このStreamがDisplayの映像や音声をキャプチャしたものであれば必ずTrueを入れてください。\n   * デフォルトで無効。\n   *  */\n  isDisplayMedia: boolean;\n};\n\nconst createEmptyTrack = new RTCPeerConnection();\n/**@internal */\nexport const emptyAudioTrack =\n  createEmptyTrack.addTransceiver('audio').receiver.track;\n/**@internal */\nexport const emptyVideoTrack =\n  createEmptyTrack.addTransceiver('video').receiver.track;\n","import { Logger, PromiseQueue } from '@skyway-sdk/common';\n\nimport { errors } from '../../../errors';\nimport { createError } from '../../../util';\nimport { AudioMediaTrackConstraints } from '../../factory';\nimport { LocalMediaStreamBase, LocalMediaStreamOptions } from './media';\n\nconst log = new Logger('packages/core/src/media/stream/local/audio.ts');\n\nexport class LocalAudioStream extends LocalMediaStreamBase {\n  readonly contentType = 'audio';\n  private _isEnabled = true;\n  private _promiseQueue = new PromiseQueue();\n\n  constructor(\n    track: MediaStreamTrack,\n    options: AudioMediaTrackConstraints & Partial<LocalMediaStreamOptions> = {}\n  ) {\n    super(track, 'audio', options);\n\n    if (track.kind !== 'audio') {\n      throw createError({\n        operationName: 'LocalAudioStream.constructor',\n        path: log.prefix,\n        info: errors.invalidTrackKind,\n        payload: { track },\n      });\n    }\n  }\n\n  /**@internal */\n  async setEnabled(enabled: boolean) {\n    await this._promiseQueue.push(async () => {\n      // mute\n      if (this._isEnabled === true && enabled === false) {\n        this._isEnabled = enabled;\n\n        this._disable('audio');\n\n        log.debug('stopped');\n      }\n      // unmute\n      else if (this._isEnabled === false && enabled === true) {\n        this._isEnabled = enabled;\n\n        if (this._options.stopTrackWhenDisabled) {\n          const track =\n            this._options.isDisplayMedia === true\n              ? await this.enableDisplay()\n              : await this.enableMic();\n\n          this._updateTrack(track);\n          this._onEnableChanged.emit(track);\n        } else if (this._oldTrack) {\n          this._updateTrack(this._oldTrack);\n          this._onEnableChanged.emit(this._oldTrack);\n        }\n\n        log.debug('resumed');\n      }\n    });\n  }\n\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  private async enableMic() {\n    const [track] = (\n      await navigator.mediaDevices.getUserMedia({\n        audio: this.trackConstraints,\n      })\n    ).getAudioTracks();\n\n    return track;\n  }\n\n  private async enableDisplay() {\n    const [track] = (\n      await navigator.mediaDevices.getDisplayMedia({\n        audio: this.trackConstraints,\n      })\n    ).getAudioTracks();\n\n    return track;\n  }\n}\n","import { Logger, PromiseQueue } from '@skyway-sdk/common';\n\nimport { VideoMediaTrackConstraints } from '../../factory';\nimport {\n  emptyVideoTrack,\n  LocalMediaStreamBase,\n  LocalMediaStreamOptions,\n} from './media';\n\nconst log = new Logger('packages/core/src/media/stream/local/customVideo.ts');\n\nexport interface ProcessedStream {\n  track: MediaStreamTrack;\n  setEnabled(enabled: boolean): Promise<void>;\n  dispose(): Promise<void>;\n}\n\nexport class LocalCustomVideoStream extends LocalMediaStreamBase {\n  readonly contentType = 'video';\n  private _isEnabled = true;\n  private _promiseQueue = new PromiseQueue();\n  private _stream: ProcessedStream | null;\n\n  constructor(\n    options: VideoMediaTrackConstraints & Partial<LocalMediaStreamOptions> = {}\n  ) {\n    super(emptyVideoTrack, 'video', options);\n    this._stream = null;\n  }\n\n  /**@internal */\n  async setStream(processedStream: ProcessedStream) {\n    if (this._stream) {\n      throw new Error('ProcessedStream is already exists');\n    }\n    this._stream = processedStream;\n    this._updateTrack(processedStream.track);\n  }\n\n  /**@internal */\n  async setEnabled(enabled: boolean) {\n    await this._promiseQueue.push(async () => {\n      await this._stream?.setEnabled(enabled);\n    });\n  }\n\n  /**@internal */\n  async updateTrack(track: MediaStreamTrack) {\n    this._updateTrack(track);\n    this._onEnableChanged.emit(track);\n  }\n\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  release(): void {\n    this._stream?.dispose().catch(() => {\n      log.error('release failed');\n    });\n  }\n}\n","import { Logger, PromiseQueue } from '@skyway-sdk/common';\n\nimport { errors } from '../../../errors';\nimport { createError } from '../../../util';\nimport {\n  DisplayMediaTrackConstraints,\n  VideoMediaTrackConstraints,\n} from '../../factory';\nimport { LocalMediaStreamBase, LocalMediaStreamOptions } from './media';\n\nconst log = new Logger('packages/core/src/media/stream/local/video.ts');\n\nexport class LocalVideoStream extends LocalMediaStreamBase {\n  readonly contentType = 'video';\n  private _isEnabled = true;\n  private _promiseQueue = new PromiseQueue();\n\n  constructor(\n    track: MediaStreamTrack,\n    options: VideoMediaTrackConstraints &\n      DisplayMediaTrackConstraints &\n      Partial<LocalMediaStreamOptions> = {}\n  ) {\n    super(track, 'video', options);\n    if (track.kind !== 'video') {\n      throw createError({\n        operationName: 'LocalVideoStream.constructor',\n        path: log.prefix,\n        info: errors.invalidTrackKind,\n        payload: { track },\n      });\n    }\n    log.debug('LocalVideoStream spawned', this.toJSON());\n  }\n\n  /**@internal */\n  async setEnabled(enabled: boolean) {\n    await this._promiseQueue.push(async () => {\n      // mute\n      if (this._isEnabled === true && enabled === false) {\n        this._isEnabled = enabled;\n\n        this._disable('video');\n\n        log.debug('stopped', this.toJSON());\n      }\n      // unmute\n      else if (this._isEnabled === false && enabled === true) {\n        this._isEnabled = enabled;\n\n        if (this._options.stopTrackWhenDisabled) {\n          const track =\n            this._options.isDisplayMedia === true\n              ? await this.enableDisplay()\n              : await this.enableCamera();\n\n          this._updateTrack(track);\n          this._onEnableChanged.emit(track);\n        } else if (this._oldTrack) {\n          this._updateTrack(this._oldTrack);\n          this._onEnableChanged.emit(this._oldTrack);\n        }\n\n        log.debug('resumed', this.toJSON());\n      }\n    });\n  }\n\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  private async enableCamera() {\n    const [track] = (\n      await navigator.mediaDevices.getUserMedia({\n        video: this.trackConstraints,\n      })\n    ).getVideoTracks();\n\n    return track;\n  }\n\n  private async enableDisplay() {\n    const [track] = (\n      await navigator.mediaDevices.getDisplayMedia({\n        video: this.trackConstraints,\n      })\n    ).getVideoTracks();\n\n    return track;\n  }\n}\n","import { Event, Logger } from '@skyway-sdk/common';\n\nimport { errors } from '../../../errors';\nimport { createError } from '../../../util';\nimport { LocalStreamBase } from '.';\n\nconst log = new Logger('packages/core/src/media/stream/local/data.ts');\n\nexport type DataStreamMessageType = string | ArrayBuffer | object;\n\nexport class LocalDataStream extends LocalStreamBase {\n  readonly contentType = 'data';\n  /**@private */\n  readonly _onWriteData = new Event<DataStreamMessageType>();\n  private _isEnabled = true;\n\n  constructor(public readonly options: DataStreamOptions = {}) {\n    super('data');\n    this._setLabel('LocalDataStream');\n  }\n\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  /**@internal */\n  setIsEnabled(b: boolean) {\n    this._isEnabled = b;\n  }\n\n  /**@description [japanese] データを送信する */\n  write(data: DataStreamMessageType) {\n    if (!this._isEnabled) {\n      throw createError({\n        operationName: 'LocalDataStream.write',\n        path: log.prefix,\n        info: errors.disabledDataStream,\n      });\n    }\n\n    if (!ArrayBuffer.isView(data) && !(typeof data === 'string')) {\n      data = objectFlag + JSON.stringify(data);\n    }\n    this._onWriteData.emit(data);\n  }\n}\n\n/**@internal */\nexport const objectFlag = 'skyway_object:';\n\nexport type DataStreamOptions = {\n  /**\n   * @description [japanese] 再送待ち時間上限\n   */\n  maxPacketLifeTime?: number;\n  /**\n   * @description [japanese] 再送回数上限\n   */\n  maxRetransmits?: number;\n  /**\n   * @description [japanese] 順序制御\n   */\n  ordered?: boolean;\n};\n","import model, { ContentType } from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport { LocalStream } from '../media/stream/local';\nimport { PublicationImpl } from '.';\n\n/**@internal */\nexport function createPublication<T extends LocalStream>(\n  channel: SkyWayChannelImpl,\n  {\n    publisherId,\n    stream,\n    origin,\n    metadata,\n    codecCapabilities,\n    encodings,\n    contentType,\n    id,\n    isEnabled,\n  }: model.Publication & { stream?: T }\n): PublicationImpl<T> {\n  const exist = channel._getPublication(id);\n  if (exist) {\n    return exist as PublicationImpl<T>;\n  }\n\n  contentType = contentType.toLowerCase() as ContentType;\n\n  const originPublication = origin\n    ? // todo fix originPublicationが不整合を起こすことがある\n      channel._getPublication(origin)\n    : undefined;\n\n  // リレーされたPublicationのencodingsを設定する\n  if (originPublication) {\n    if (encodings.length === 0) {\n      encodings = originPublication.encodings;\n    }\n  }\n\n  const publication = new PublicationImpl<T>({\n    id,\n    channel,\n    publisher: channel._getMember(publisherId),\n    contentType,\n    metadata,\n    origin: originPublication,\n    stream,\n    codecCapabilities: codecCapabilities ?? [],\n    encodings,\n    isEnabled,\n  });\n\n  return publication;\n}\n","import { EventDisposer, Events, Logger } from '@skyway-sdk/common';\nimport { Event } from '@skyway-sdk/common';\nimport { Encoding } from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport {\n  StreamSubscribedEvent,\n  StreamUnsubscribedEvent,\n} from '../channel/event';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { AnalyticsSession } from '../external/analytics';\nimport { Codec, EncodingParameters } from '../media';\nimport { ContentType, WebRTCStats } from '../media/stream';\nimport { LocalMediaStreamBase, LocalStream } from '../media/stream/local';\nimport { LocalAudioStream } from '../media/stream/local/audio';\nimport { LocalCustomVideoStream } from '../media/stream/local/customVideo';\nimport { LocalDataStream } from '../media/stream/local/data';\nimport { LocalVideoStream } from '../media/stream/local/video';\nimport { Member } from '../member';\nimport {\n  RemoteMember,\n  RemoteMemberImplInterface,\n} from '../member/remoteMember';\nimport { TransportConnectionState } from '../plugin/interface';\nimport { Subscription } from '../subscription';\nimport { createError, createLogPayload, createWarnPayload } from '../util';\n\nexport * from './factory';\n\nconst log = new Logger('packages/core/src/publication/index.ts');\n\nexport interface Publication<T extends LocalStream = LocalStream> {\n  readonly id: string;\n  readonly contentType: ContentType;\n  metadata?: string;\n  readonly publisher: Member;\n  readonly subscriptions: Subscription[];\n  readonly origin?: Publication;\n  readonly codecCapabilities: Codec[];\n  readonly encodings: Encoding[];\n  /**\n   * @description [japanese] publishしたstreamの実体。\n   * ローカルで作られたPublicationでなければundefinedとなる\n   */\n  stream?: T;\n  state: PublicationState;\n\n  //--------------------\n\n  /** @description [japanese] Unpublishされた時に発火するイベント */\n  onCanceled: Event<void>;\n  /** @description [japanese] Subscribeされた時に発火するイベント */\n  onSubscribed: Event<StreamSubscribedEvent>;\n  /** @description [japanese] このPublicationをSubscribeしたSubscriptionがUnsubscribeされた時に発火するイベント */\n  onUnsubscribed: Event<StreamUnsubscribedEvent>;\n  /** @description [japanese] このPublicationをSubscribeしたSubscriptionの数が変化した時に発火するイベント */\n  onSubscriptionListChanged: Event<void>;\n  /** @description [japanese] Metadataが変更された時に発火するイベント */\n  onMetadataUpdated: Event<{ metadata: string }>;\n  /** @description [japanese] 有効化された時に発火するイベント */\n  onEnabled: Event<void>;\n  /** @description [japanese] 無効化された時に発火するイベント */\n  onDisabled: Event<void>;\n  /** @description [japanese] stateが変化した時に発火するイベント */\n  onStateChanged: Event<void>;\n  /**\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   */\n  onConnectionStateChanged: Event<{\n    remoteMember: RemoteMember;\n    state: TransportConnectionState;\n  }>;\n\n  //--------------------\n\n  /**\n   * @description [japanese] Metadataの更新\n   */\n  updateMetadata: (metadata: string) => Promise<void>;\n  /**\n   * @description [japanese] unpublishする\n   */\n  cancel: () => Promise<void>;\n  /**\n   * @description [japanese] Video|Audio Streamの場合、encoding設定を更新する\n   */\n  updateEncodings: (encodings: EncodingParameters[]) => void;\n  /** @description [japanese] 有効化する */\n  /**@throws {SkyWayError} */\n  enable: () => Promise<void>;\n  /** @description [japanese] 無効化する */\n  disable: () => Promise<void>;\n  /**\n   * @description [japanese] Publicationのstreamを同じContentTypeの別のStreamに入れ替える。\n   * dataStreamを入れ替えることはできない。\n   * RemoteのPublication(streamがnull)では利用不可。\n   */\n  replaceStream: (\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    options?: ReplaceStreamOptions\n  ) => void;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] StreamをSubscribeしているMemberとの通信の統計情報を取得する\n   */\n  getStats(selector: Member | string): Promise<WebRTCStats>;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] 対象のMemberとのRTCPeerConnectionを取得する。RTCPeerConnectionを直接操作すると SDK は正しく動作しなくなる可能性があります。\n   */\n  getRTCPeerConnection(\n    selector: Member | string\n  ): RTCPeerConnection | undefined;\n  /**\n   * @description [japanese] メディア通信の状態を取得する\n   * @param selector [japanese] 接続相手\n   */\n  getConnectionState(selector: Member | string): TransportConnectionState;\n}\n\n/**@internal */\nexport class PublicationImpl<T extends LocalStream = LocalStream>\n  implements Publication\n{\n  readonly id: string;\n  readonly contentType: ContentType;\n  readonly publisher: RemoteMemberImplInterface;\n  private _codecCapabilities: Codec[] = [];\n  get codecCapabilities() {\n    return this._codecCapabilities;\n  }\n  setCodecCapabilities(_codecCapabilities: Codec[]) {\n    this._codecCapabilities = _codecCapabilities;\n  }\n  private _encodings: Encoding[] = [];\n  get encodings() {\n    return this._encodings;\n  }\n  setEncodings(_encodings: Encoding[]) {\n    this._encodings = _encodings;\n  }\n  private _stream?: T;\n  get stream(): T | undefined {\n    return this._stream;\n  }\n  /**@internal */\n  _setStream(stream: LocalStream | undefined) {\n    this._stream = stream as T;\n    if (stream) {\n      stream._onConnectionStateChanged\n        .add((e) => {\n          log.debug('onConnectionStateChanged', this.id, e);\n          this.onConnectionStateChanged.emit(e);\n        })\n        .disposer(this.streamEventDisposer);\n    } else {\n      this.streamEventDisposer.dispose();\n    }\n  }\n  /**@private */\n  readonly _channel: SkyWayChannelImpl;\n  origin?: PublicationImpl;\n\n  private _metadata?: string;\n  get metadata() {\n    return this._metadata;\n  }\n  private _state: PublicationState = 'enabled';\n  get state() {\n    return this._state;\n  }\n\n  get deviceName(): string | undefined {\n    if (this.stream instanceof LocalDataStream) {\n      return undefined;\n    } else {\n      const withDeviceStream = this.stream as\n        | LocalVideoStream\n        | LocalCustomVideoStream\n        | LocalAudioStream;\n      return withDeviceStream.track.label;\n    }\n  }\n\n  private readonly _events = new Events();\n  readonly onCanceled = this._events.make<void>();\n  readonly onSubscribed = this._events.make<StreamSubscribedEvent>();\n  readonly onUnsubscribed = this._events.make<StreamUnsubscribedEvent>();\n  readonly onSubscriptionListChanged = this._events.make<void>();\n  readonly onMetadataUpdated = this._events.make<{ metadata: string }>();\n  readonly onEnabled = this._events.make<void>();\n  readonly onDisabled = this._events.make<void>();\n  readonly onStateChanged = this._events.make<void>();\n  readonly onConnectionStateChanged = new Event<{\n    remoteMember: RemoteMember;\n    state: TransportConnectionState;\n  }>();\n  /**@private */\n  readonly _onEncodingsChanged = this._events.make<EncodingParameters[]>();\n  /**@private */\n  readonly _onReplaceStream = this._events.make<{\n    newStream: LocalMediaStreamBase;\n    oldStream: LocalMediaStreamBase;\n  }>();\n  private readonly _onEnabled = this._events.make<void>();\n  private streamEventDisposer = new EventDisposer();\n  /**@private */\n  readonly _analytics?: AnalyticsSession;\n\n  private _context: SkyWayContext;\n\n  constructor(args: {\n    channel: SkyWayChannelImpl;\n    id: string;\n    publisher: RemoteMemberImplInterface;\n    contentType: ContentType;\n    metadata?: string;\n    origin?: PublicationImpl;\n    codecCapabilities?: Codec[];\n    encodings?: EncodingParameters[];\n    stream?: T;\n    isEnabled: boolean;\n  }) {\n    this.id = args.id;\n    this._channel = args.channel;\n    this._context = this._channel._context;\n    this.publisher = args.publisher;\n    this.contentType = args.contentType;\n    this._metadata = args.metadata;\n    this.origin = args.origin;\n    this.setCodecCapabilities(args.codecCapabilities ?? []);\n    this.setEncodings(normalizeEncodings(args.encodings ?? []));\n    this._state = args.isEnabled ? 'enabled' : 'disabled';\n    if (args.stream) {\n      this._setStream(args.stream);\n    }\n    this._analytics = this._channel.localPerson?._analytics;\n\n    log.debug('publication spawned', this.toJSON());\n  }\n\n  get subscriptions(): Subscription[] {\n    return this._channel.subscriptions.filter(\n      (s) => s.publication.id === this.id\n    );\n  }\n\n  /**@private */\n  _updateMetadata(metadata: string) {\n    this._metadata = metadata;\n    this.onMetadataUpdated.emit({ metadata });\n  }\n\n  /**@private */\n  async _disable() {\n    await this._disableStream();\n\n    this.onDisabled.emit();\n    this.onStateChanged.emit();\n  }\n\n  /**@private */\n  _enable() {\n    if (this.stream) {\n      this._onEnabled.emit();\n    } else {\n      this._state = 'enabled';\n      this.onEnabled.emit();\n      this.onStateChanged.emit();\n    }\n  }\n\n  /**@private */\n  _unpublished() {\n    this._state = 'canceled';\n\n    if (this.stream) {\n      this.stream._unpublished();\n    }\n\n    this.onCanceled.emit();\n    this.onStateChanged.emit();\n\n    this._dispose();\n  }\n\n  /**@private */\n  _subscribed(subscription: Subscription) {\n    this.onSubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit();\n  }\n\n  /**@private */\n  _unsubscribed(subscription: Subscription) {\n    this.onUnsubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit();\n  }\n\n  cancel = () =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this._channel._unpublish(this.id).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this._setStream(undefined);\n      this.onCanceled\n        .asPromise(this._context.config.rtcApi.timeout)\n        .then(() => r())\n        .catch((e) => {\n          if (!failed) {\n            f(e);\n          }\n        });\n    });\n\n  updateMetadata = (metadata: string) =>\n    new Promise<void>(async (r, f) => {\n      const timestamp = log.info(\n        '[start] updateMetadata',\n        await createLogPayload({\n          operationName: 'Publication.updateMetadata',\n          channel: this._channel,\n        }),\n        this\n      );\n\n      let failed = false;\n      this._channel._updatePublicationMetadata(this.id, metadata).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this.onMetadataUpdated\n        .watch(\n          (e) => e.metadata === metadata,\n          this._context.config.rtcApi.timeout\n        )\n        .then(async () => {\n          r();\n          log.elapsed(\n            timestamp,\n            '[end] updateMetadata',\n            await createLogPayload({\n              operationName: 'Publication.updateMetadata',\n              channel: this._channel,\n            }),\n            this\n          );\n        })\n        .catch((error) => {\n          if (!failed) {\n            throw createError({\n              operationName: 'PublicationImpl.updateMetadata',\n              info: {\n                ...errors.timeout,\n                detail: 'publication onMetadataUpdated',\n              },\n              path: log.prefix,\n              context: this._context,\n              channel: this._channel,\n              error,\n            });\n          }\n        });\n    });\n\n  updateEncodings(encodings: EncodingParameters[]) {\n    log.info('updateEncodings', { encodings }, this);\n    this.setEncodings(normalizeEncodings(sortEncodingParameters(encodings)));\n    this._onEncodingsChanged.emit(encodings);\n\n    if (this._analytics && !this._analytics.isClosed()) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._analytics.client.sendPublicationUpdateEncodingsReport({\n        publicationId: this.id,\n        encodings: this.encodings,\n        updatedAt: Date.now(),\n      });\n    }\n  }\n\n  disable = () =>\n    new Promise<void>(async (r, f) => {\n      const timestamp = log.info(\n        '[start] disable',\n        await createLogPayload({\n          operationName: 'Publication.disable',\n          channel: this._channel,\n        }),\n        this\n      );\n\n      await this._disableStream();\n\n      let failed = false;\n      this._channel._disablePublication(this.id).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this.onDisabled\n        .asPromise(this._context.config.rtcApi.timeout)\n        .then(async () => {\n          r();\n          log.elapsed(\n            timestamp,\n            '[end] disable',\n            await createLogPayload({\n              operationName: 'Publication.disable',\n              channel: this._channel,\n            }),\n            this\n          );\n        })\n        .catch((e) => {\n          if (!failed) {\n            f(e);\n          }\n        });\n    });\n\n  private async _disableStream() {\n    if (this.state === 'disabled') {\n      return;\n    }\n    this._state = 'disabled';\n    if (!this.stream) {\n      return;\n    }\n\n    if (this.stream.contentType === 'data') {\n      this.stream.setIsEnabled(false);\n    } else {\n      await this.stream.setEnabled(false).catch((e) => {\n        log.warn(\n          createWarnPayload({\n            channel: this._channel,\n            operationName: 'Publication._disableStream',\n            payload: e,\n            detail: 'setEnabled failed',\n          })\n        );\n      });\n    }\n\n    createLogPayload({\n      operationName: 'Publication._disableStream',\n      channel: this._channel,\n    })\n      .then((p) =>\n        log.info('publication _disableStream', p, { publication: this })\n      )\n      .catch(() => {});\n  }\n\n  enable = () =>\n    new Promise<void>(async (r, f) => {\n      if (this.stream == undefined) {\n        f(\n          createError({\n            operationName: 'Publication.enable',\n            context: this._context,\n            info: errors.canNotEnableRemotePublication,\n            path: log.prefix,\n          })\n        );\n        return;\n      }\n\n      const timestamp = log.info(\n        '[start] enable',\n        await createLogPayload({\n          operationName: 'Publication.enable',\n          channel: this._channel,\n        }),\n        this\n      );\n\n      let failed = false;\n      this._channel._enablePublication(this.id).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this._onEnabled\n        .asPromise(this._context.config.rtcApi.timeout)\n        .then(async () => {\n          await this._enableStream();\n\n          this.onEnabled.emit();\n          this.onStateChanged.emit();\n\n          log.elapsed(\n            timestamp,\n            '[end] enable',\n            await createLogPayload({\n              operationName: 'Publication.enable',\n              channel: this._channel,\n            }),\n            this\n          );\n\n          r();\n        })\n        .catch((e) => {\n          if (!failed) {\n            f(e);\n          }\n        });\n    });\n\n  private async _enableStream() {\n    if (this.state === 'enabled') {\n      return;\n    }\n    this._state = 'enabled';\n    if (!this.stream) {\n      return;\n    }\n\n    createLogPayload({\n      operationName: 'Publication._enableStream',\n      channel: this._channel,\n    })\n      .then((p) =>\n        log.info('publication _enableStream', p, { publication: this })\n      )\n      .catch(() => {});\n\n    if (this.stream.contentType === 'data') {\n      this.stream.setIsEnabled(true);\n    } else {\n      await this.stream.setEnabled(true).catch((e) => {\n        log.warn(\n          createWarnPayload({\n            channel: this._channel,\n            operationName: 'Publication._disableStream',\n            payload: e,\n            detail: 'setEnabled failed',\n          })\n        );\n      });\n    }\n  }\n\n  replaceStream(\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    options: ReplaceStreamOptions = {}\n  ) {\n    log.info('replaceStream', { stream, options }, this);\n\n    if (!this.stream) {\n      throw createError({\n        operationName: 'PublicationImpl.replaceStream',\n        context: this._context,\n        info: errors.canNotUseReplaceStream,\n        path: log.prefix,\n      });\n    }\n    if (stream.contentType !== this.contentType) {\n      throw createError({\n        operationName: 'PublicationImpl.replaceStream',\n        context: this._context,\n        info: errors.invalidContentType,\n        path: log.prefix,\n      });\n    }\n\n    if (options.releaseOldStream ?? true) {\n      const old = this.stream as LocalMediaStreamBase;\n      old.release();\n    }\n\n    createLogPayload({\n      operationName: 'PublicationImpl.replaceStream',\n      channel: this._channel,\n    })\n      .then((res) => log.debug(res, { old: this.stream, new: stream }))\n      .catch((e) => e);\n\n    stream.setEnabled(this.stream.isEnabled).catch((e) => {\n      log.error('replaceStream stream.setEnabled', e, this.toJSON());\n    });\n    const oldStream = this._stream as LocalMediaStreamBase;\n    this._setStream(stream as T);\n\n    this._onReplaceStream.emit({ newStream: stream, oldStream });\n\n    if (this._analytics && !this._analytics.isClosed()) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._analytics.client.sendMediaDeviceReport({\n        publicationId: this.id,\n        mediaDeviceName: this.deviceName as string,\n        mediaDeviceTrigger: 'replaceStream',\n        updatedAt: Date.now(),\n      });\n    }\n  }\n\n  getStats(selector: string | Member): Promise<WebRTCStats> {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'PublicationImpl.getStats',\n        context: this._context,\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n      });\n    }\n    return this.stream._getStats(selector);\n  }\n\n  getRTCPeerConnection(\n    selector: string | Member\n  ): RTCPeerConnection | undefined {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'PublicationImpl.getRTCPeerConnection',\n        context: this._context,\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n      });\n    }\n    return this.stream._getRTCPeerConnection(selector);\n  }\n\n  getConnectionState(selector: string | Member): TransportConnectionState {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'PublicationImpl.getConnectionState',\n        context: this._context,\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n      });\n    }\n    return this.stream._getConnectionState(selector);\n  }\n\n  /**@private */\n  toJSON() {\n    return {\n      id: this.id,\n      channelId: this._channel.id,\n      publisherId: this.publisher.id,\n      origin: this.origin?.id,\n      contentType: this.contentType,\n      metadata: this.metadata,\n      codecCapabilities: this.codecCapabilities,\n      encodings: this.encodings,\n      state: this.state,\n      stream: this.stream,\n    };\n  }\n\n  private _dispose() {\n    this._events.dispose();\n  }\n}\n\n/**\n * @description [japanese] Publicationの状態\n * - enabled : 配信中\n * - disabled : 配信停止中\n * - canceled : 配信終了\n * */\nexport type PublicationState = 'enabled' | 'disabled' | 'canceled';\n\n/**@internal */\nexport const normalizeEncodings = (\n  encodings: EncodingParameters[]\n): Encoding[] =>\n  encodings.map((e, i) => ({\n    ...e,\n    id: e.id ?? i.toString(),\n  }));\n\nexport const sortEncodingParameters = (\n  encodings: EncodingParameters[]\n): EncodingParameters[] => {\n  const [encode] = encodings;\n  if (encode.maxBitrate) {\n    // 小から大\n    return encodings.sort((a, b) => a.maxBitrate! - b.maxBitrate!);\n  } else if (encode.scaleResolutionDownBy) {\n    //大から小\n    return encodings.sort(\n      (a, b) => b.scaleResolutionDownBy! - a.scaleResolutionDownBy!\n    );\n  } else if (encode.maxFramerate) {\n    // 小から大\n    return encodings.sort((a, b) => a.maxFramerate! - b.maxFramerate!);\n  }\n  return encodings;\n};\n\nexport type ReplaceStreamOptions = {\n  /**@description [japanese] 入れ替え前のstreamを開放する。デフォルトで有効 */\n  releaseOldStream?: boolean;\n};\n","import { Logger } from '@skyway-sdk/common';\n\nimport { errors } from '../../../errors';\nimport { RemoteMemberImplInterface } from '../../../member/remoteMember';\nimport { PublicationImpl } from '../../../publication';\nimport { SubscriptionImpl } from '../../../subscription';\nimport { createError } from '../../../util';\nimport type { LocalPersonImpl } from '../../localPerson';\n\nconst log = new Logger('packages/core/src/dataPlane/agent/publishing.ts');\n\nexport class PublishingAgent {\n  readonly context = this._localPerson.context;\n  constructor(private readonly _localPerson: LocalPersonImpl) {}\n\n  /**@throws {SkyWayError} */\n  async startPublishing(subscription: SubscriptionImpl): Promise<void> {\n    if (this.context.config.internal.disableDPlane) {\n      await new Promise((r) => setTimeout(r, 500));\n      return;\n    }\n    const publication: PublicationImpl = subscription.publication;\n    const endpoint: RemoteMemberImplInterface = subscription.subscriber;\n\n    // タイミング的にstreamのセットが完了していない可能性がある\n    if (!publication.stream) {\n      await this._localPerson.onStreamPublished\n        .watch(\n          (e) => e.publication.id === publication.id,\n          this.context.config.rtcApi.timeout\n        )\n        .catch((error) => {\n          throw createError({\n            operationName: 'PublishingAgent.startPublishing',\n            context: this.context,\n            channel: this._localPerson.channel,\n            info: {\n              ...errors.timeout,\n              detail: 'PublishingAgent onStreamPublished',\n            },\n            path: log.prefix,\n            payload: { publication },\n            error,\n          });\n        });\n    }\n\n    const connection = endpoint._getOrCreateConnection(this._localPerson);\n\n    if (connection.startPublishing) {\n      await connection.startPublishing(publication, subscription.id);\n    }\n  }\n\n  async stopPublishing(\n    publication: PublicationImpl,\n    endpoint: RemoteMemberImplInterface\n  ) {\n    const connection = endpoint._getConnection(this._localPerson.id);\n    if (connection?.stopPublishing) {\n      connection.stopPublishing(publication).catch((err) => {\n        log.error('stopPublishing failed', err);\n      });\n    }\n  }\n}\n","import { SubscriptionImpl } from '../../../subscription';\nimport type { LocalPersonImpl } from '../../localPerson';\n\nexport class SubscribingAgent {\n  private _disposers: { [subscriptionId: string]: () => void } = {};\n  private _context = this._localPerson.context;\n  constructor(private readonly _localPerson: LocalPersonImpl) {}\n\n  async startSubscribing(subscription: SubscriptionImpl): Promise<void> {\n    if (this._context.config.internal.disableDPlane) {\n      await new Promise((r) => setTimeout(r, 500));\n      return;\n    }\n\n    const publisher = subscription.publication.publisher;\n    const connection = publisher._getOrCreateConnection(this._localPerson);\n\n    if (connection.startSubscribing) {\n      await connection.startSubscribing(subscription);\n\n      const { removeListener } = subscription._onChangeEncoding.add(\n        async () => {\n          await connection.changePreferredEncoding?.(subscription);\n        }\n      );\n      this._disposers[subscription.id] = removeListener;\n    }\n  }\n\n  async stopSubscribing(subscription: SubscriptionImpl) {\n    const publisher = subscription.publication.publisher;\n    const connection = publisher._getConnection(this._localPerson.id);\n\n    if (connection?.stopSubscribing) {\n      await connection.stopSubscribing(subscription);\n      this._disposers[subscription.id]?.();\n    }\n  }\n}\n","import { Events, SkyWayError } from '@skyway-sdk/common';\n\nimport { LocalStream } from '../../media/stream';\nimport { RemoteAudioStream } from '../../media/stream/remote/audio';\nimport { RemoteDataStream } from '../../media/stream/remote/data';\nimport { RemoteVideoStream } from '../../media/stream/remote/video';\nimport { Publication } from '../../publication';\nimport { Subscription } from '../../subscription';\nimport {\n  LocalPerson,\n  LocalPersonImpl,\n  PublicationOptions,\n  SubscriptionOptions,\n} from '.';\n\n/**@internal */\nexport class LocalPersonAdapter implements LocalPerson {\n  get keepaliveIntervalSec() {\n    return this._impl.keepaliveIntervalSec;\n  }\n  get keepaliveIntervalGapSec() {\n    return this._impl.keepaliveIntervalGapSec;\n  }\n  get disableSignaling() {\n    return this._impl.disableSignaling;\n  }\n  get disableAnalytics() {\n    return this._impl.disableAnalytics;\n  }\n  get type() {\n    return this._impl.type;\n  }\n  get subtype() {\n    return this._impl.subtype;\n  }\n  get side() {\n    return this._impl.side;\n  }\n  get id() {\n    return this._impl.id;\n  }\n  get name() {\n    return this._impl.name;\n  }\n  get channel() {\n    return this._impl.channel;\n  }\n  get metadata() {\n    return this._impl.metadata;\n  }\n  get state() {\n    return this._impl.state;\n  }\n  get publications() {\n    return this._impl.publications;\n  }\n  get subscriptions() {\n    return this._impl.subscriptions;\n  }\n\n  private _events = new Events();\n  readonly onLeft = this._events.make<void>();\n  readonly onMetadataUpdated = this._events.make<string>();\n  readonly onMemberStateChanged = this._events.make<void>();\n  readonly onStreamPublished = this._events.make<{\n    publication: Publication;\n  }>();\n  readonly onStreamUnpublished = this._events.make<{\n    publication: Publication;\n  }>();\n  readonly onPublicationListChanged = this._events.make<void>();\n  readonly onPublicationSubscribed = this._events.make<{\n    subscription: Subscription;\n    stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>();\n  readonly onPublicationUnsubscribed = this._events.make<{\n    subscription: Subscription;\n  }>();\n  readonly onSubscriptionListChanged = this._events.make<void>();\n  readonly onFatalError = this._events.make<SkyWayError>();\n\n  constructor(\n    /**@private */\n    public _impl: LocalPersonImpl\n  ) {\n    this.apply(_impl);\n  }\n\n  // localPersonにAdapterを適用する\n  apply(person: LocalPersonImpl) {\n    this._impl = person;\n\n    person.onLeft.pipe(this.onLeft);\n    person.onMetadataUpdated.pipe(this.onMetadataUpdated);\n    person.onStreamPublished.pipe(this.onStreamPublished);\n    person.onStreamUnpublished.pipe(this.onStreamUnpublished);\n    person.onPublicationListChanged.pipe(this.onPublicationListChanged);\n    person.onPublicationSubscribed.pipe(this.onPublicationSubscribed);\n    person.onPublicationUnsubscribed.pipe(this.onPublicationUnsubscribed);\n    person.onSubscriptionListChanged.pipe(this.onSubscriptionListChanged);\n    person.onFatalError.pipe(this.onFatalError);\n  }\n\n  subscribe<T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream>(\n    publication: string | Publication,\n    options?: SubscriptionOptions\n  ) {\n    return this._impl.subscribe<T>(publication, options);\n  }\n\n  unsubscribe(subscription: string | Subscription) {\n    return this._impl.unsubscribe(subscription);\n  }\n\n  publish<T extends LocalStream>(stream: T, options: PublicationOptions = {}) {\n    return this._impl.publish(stream, options);\n  }\n\n  unpublish(publication: string | Publication) {\n    return this._impl.unpublish(publication);\n  }\n\n  updateMetadata(metadata: string) {\n    return this._impl.updateMetadata(metadata);\n  }\n\n  async leave() {\n    await this._impl.leave();\n  }\n\n  dispose() {\n    this._impl.dispose();\n  }\n}\n","export const MaxIceParamServerTTL = 24 * 60 * 60;\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { Encoding } from '@skyway-sdk/model';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport type ClientEventType =\n  | 'MediaDeviceReport'\n  | 'BindingRtcPeerConnectionToSubscription'\n  | 'SubscriptionStatsReport'\n  | 'RtcPeerConnectionEventReport'\n  | 'PublicationUpdateEncodingsReport'\n  | 'SubscriptionUpdatePreferredEncodingReport';\n\nexport type MediaDeviceReportClientEvent = {\n  id: string;\n  type: 'MediaDeviceReport';\n  payload: {\n    publicationId: string;\n    mediaDeviceName: string;\n    mediaDeviceVersion: number;\n    mediaDeviceTrigger: 'publish' | 'replaceStream' | 'changeCamera';\n    updatedAt: number; // UnixTimestamp (milliseconds)\n  };\n};\n\nexport type BindingRtcPeerConnectionToSubscriptionClientEvent = {\n  id: string;\n  type: 'BindingRtcPeerConnectionToSubscription';\n  payload: {\n    subscriptionId: string;\n    role: 'sender' | 'receiver';\n    rtcPeerConnectionId: string;\n  };\n};\n\nexport type SubscriptionStats = {\n  [type: string]: {\n    [property: string]: string;\n  };\n};\n\nexport type SubscriptionStatsReportClientEvent = {\n  id: string;\n  type: 'SubscriptionStatsReport';\n  payload: {\n    subscriptionId: string;\n    role: 'sender' | 'receiver';\n    stats: SubscriptionStats;\n    createdAt: number; // UnixTimestamp (milliseconds)\n  };\n};\n\nexport type RtcPeerConnectionEventReportClientEvent = {\n  id: string;\n  type: 'RtcPeerConnectionEventReport';\n  payload: {\n    rtcPeerConnectionId: string;\n    type:\n      | 'offer'\n      | 'answer'\n      | 'iceCandidate'\n      | 'iceCandidateError'\n      | 'iceConnectionStateChange'\n      | 'iceGatheringStateChange'\n      | 'connectionStateChange'\n      | 'signalingStateChange'\n      | 'restartIce'\n      | 'skywayConnectionStateChange';\n    data:\n      | {\n          offer?: string; // type = offer の場合\n          answer?: string; // type = answer の場合\n          candidate?: string; // type = iceCandidate の場合\n          event?: string; // type = iceCandidateError の場合\n          iceConnectionState?: string; // type = iceConnectionStateChange の場合\n          iceGatheringState?: string; // type = iceGatheringStateChange の場合\n          connectionState?: string; // type = connectionStateChange の場合\n          signalingState?: string; // type = signalingStateChange の場合\n          skywayConnectionState?: string; // type = skywayConnectionStateChange の場合\n        }\n      | undefined; // type = restartIce の場合\n    createdAt: number; // UnixTimestamp (milliseconds)\n  };\n};\n\nexport type PublicationUpdateEncodingsReportClientEvent = {\n  id: string;\n  type: 'PublicationUpdateEncodingsReport';\n  payload: {\n    publicationId: string;\n    encodings: Encoding[];\n    encodingsVersion: number;\n    updatedAt: number; // UnixTimestamp (milliseconds);\n  };\n};\n\nexport type SubscriptionUpdatePreferredEncodingReportClientEvent = {\n  id: string;\n  type: 'SubscriptionUpdatePreferredEncodingReport';\n  payload: {\n    subscriptionId: string;\n    preferredEncodingIndex: number;\n    preferredEncodingVersion: number;\n    updatedAt: number; // UnixTimestamp (milliseconds);\n  };\n};\n\nexport class ClientEvent {\n  readonly id: string;\n\n  readonly type: string;\n\n  readonly payload: Record<string, unknown>;\n\n  constructor(type: ClientEventType, payload: Record<string, unknown>) {\n    this.id = uuidv4();\n    this.type = type;\n    this.payload = payload;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      type: this.type,\n      payload: this.payload,\n    };\n  }\n}\n","export type OpenServerEventPayload = {\n  statsRequest: {\n    intervalSec: number;\n    types: {\n      type: string;\n      properties: {\n        [property: string]: {\n          normalization: boolean;\n          outputKey: string;\n        };\n      };\n    }[];\n  };\n};\n\nexport function isRecord(arg: unknown): arg is Record<string, unknown> {\n  if (typeof arg !== 'object') return false;\n  if (arg === null) return false;\n  if (Array.isArray(arg)) return false;\n  return true;\n}\n\nexport function isOpenServerEventPayload(payload: any): payload is OpenServerEventPayload {\n  if (!payload || typeof payload !== 'object') return false;\n  if (!payload.statsRequest || typeof payload.statsRequest !== 'object') return false;\n  if (!payload.statsRequest.intervalSec || typeof payload.statsRequest.intervalSec !== 'number') return false;\n  if (!payload.statsRequest.types || !Array.isArray(payload.statsRequest.types)) return false;\n  for (const statsRequestType of payload.statsRequest.types) {\n    if (!statsRequestType.type || typeof statsRequestType.type !== 'string') return false;\n    if (!statsRequestType.properties || !isRecord(statsRequestType.properties)) return false;\n\n    for (const key of Object.keys(statsRequestType.properties)) {\n      if (\n        !('normalization' in statsRequestType.properties[key]) ||\n        typeof statsRequestType.properties[key].normalization !== 'boolean'\n      )\n        return false;\n      if (!statsRequestType.properties[key].outputKey || typeof statsRequestType.properties[key].outputKey !== 'string')\n        return false;\n    }\n  }\n\n  return true;\n}\n\nconst AcknowledgeReason = ['invalidPayload', 'unexpected'] as const;\nexport type AcknowledgeReason = (typeof AcknowledgeReason)[number];\n\nexport type AcknowledgePayload = {\n  eventId: string;\n  ok: boolean;\n  reason?: AcknowledgeReason;\n};\n\nexport function isAcknowledgePayload(payload: any): payload is AcknowledgePayload {\n  if (!payload || typeof payload !== 'object') return false;\n  if (typeof payload.eventId !== 'string') return false;\n  if (typeof payload.ok !== 'boolean') return false;\n  if (\n    typeof payload.reason !== 'undefined' &&\n    (typeof payload.reason !== 'string' || !AcknowledgeReason.includes(payload.reason))\n  )\n    return false;\n  return true;\n}\n","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nmodule.exports = ws\n","type EventExecute<T> = (arg: T) => void;\n\nexport class Event<T> {\n  private _listeners = new Map<number, EventExecute<T>>();\n\n  private _listenerIndex = 0;\n\n  emit = (arg: T): void => {\n    this._listeners.forEach((listener) => listener(arg));\n  };\n\n  removeAllListeners = (): void => {\n    this._listeners.clear();\n  };\n\n  addListener = (listener: EventExecute<T>): { removeListener: () => void } => {\n    const id = this._listenerIndex;\n    this._listeners.set(id, listener);\n    this._listenerIndex++;\n    const removeListener = () => {\n      this._listeners.delete(id);\n    };\n\n    return { removeListener };\n  };\n\n  addOneTimeListener = (listener: EventExecute<T>): { removeListener: () => void } => {\n    const off = this.addListener((arg) => {\n      off.removeListener();\n      listener(arg);\n    });\n\n    return off;\n  };\n\n  asPromise = (timeLimit?: number): Promise<T> =>\n    new Promise<T>((resolve, reject) => {\n      let removeListener = () => {};\n      const timeout =\n        timeLimit &&\n        setTimeout(() => {\n          reject('Event asPromise timeout');\n          removeListener();\n        }, timeLimit);\n\n      const off = this.addOneTimeListener((arg) => {\n        if (timeout) clearTimeout(timeout);\n        resolve(arg);\n      });\n      removeListener = off.removeListener;\n    });\n}\n","import WebSocket from 'isomorphic-ws';\n\nimport { ClientEvent } from './clientEvent';\nimport { isOpenServerEventPayload, OpenServerEventPayload } from './payloadTypes';\nimport { Event } from './utils/event';\nimport { Logger } from './utils/logger';\n\nconst ServerEventType = ['Open', 'Acknowledge'] as const;\ntype ServerEventType = (typeof ServerEventType)[number];\n\nexport type ServerEvent = {\n  type: ServerEventType;\n  id: string;\n  payload: Record<string, unknown> | undefined;\n};\n\nexport type ConnectionState = 'connecting' | 'connected' | 'reconnecting' | 'closed';\n\nexport type SocketParams = {\n  sessionEndpoint: string;\n  channelId: string;\n  channelName?: string;\n  memberId: string;\n  memberName?: string;\n  token: string;\n  logger: Logger;\n  sdkVersion: string;\n};\n\nconst getReconnectWaitTime = (reconnectCount: number): number => {\n  return (2 ** reconnectCount + Math.random()) * 1000;\n};\n\nexport class Socket {\n  private _sessionEndpoint: string;\n\n  private readonly _channelId: string;\n\n  private readonly _channelName?: string;\n\n  private readonly _memberId: string;\n\n  private readonly _memberName?: string;\n\n  private _token: string;\n\n  private _logger: Logger;\n\n  private _sdkVersion: string;\n\n  private _isOpen = false;\n\n  private _isClosed = false;\n\n  private _reconnectCount = 0;\n\n  private _ws: WebSocket | undefined;\n\n  connectionState: ConnectionState = 'connecting'; // コンストラクタ作成時点で繋ぎにいくので初期値はconnecting\n\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n\n  readonly onOpened = new Event<OpenServerEventPayload | undefined>();\n\n  readonly onTokenExpired = new Event<void>();\n\n  readonly onEventReceived = new Event<ServerEvent>();\n\n  readonly onConnectionFailed = new Event<void>();\n\n  private _reconnectTimer: ReturnType<typeof setTimeout> | undefined;\n\n  private _resendClientEvents: ClientEvent[] = [];\n\n  constructor({\n    channelId,\n    channelName,\n    memberId,\n    memberName,\n    sessionEndpoint,\n    token,\n    logger,\n    sdkVersion,\n  }: SocketParams) {\n    this._sessionEndpoint = sessionEndpoint;\n    this._channelId = channelId;\n    this._channelName = channelName;\n    this._memberId = memberId;\n    this._memberName = memberName;\n    this._token = token;\n    this._logger = logger;\n    this._sdkVersion = sdkVersion;\n\n    this._connect();\n  }\n\n  private _setConnectionState(state: ConnectionState) {\n    if (this.connectionState === state) return;\n    this._logger.debug(`connectionState changed : ${state}`);\n    this.connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n  }\n\n  private _connect(): void {\n    let ws: WebSocket;\n    try {\n      // We use the SubProtocol header to send the token.\n      // This is because the browser's WebSocket class does not allow the header to be changed freely.\n      const subProtocol = `SkyWayAuthToken!${this._token}`;\n\n      const wsProperties = {\n        channelId: this._channelId,\n        channelName: this._channelName,\n        memberId: this._memberId,\n        memberName: this._memberName,\n        sdkPlatform: 'js',\n        sdkVersion: this._sdkVersion,\n      };\n      const queryString = Object.entries(wsProperties)\n        .filter(([_, v]) => v !== undefined)\n        .map((pair) => pair.join('='))\n        .join('&');\n      const wsURL = `${this._sessionEndpoint}?${queryString}`;\n      ws = new WebSocket(wsURL, subProtocol);\n\n      this._logger.debug(`Connecting to analytics-logging-server: ${this._sessionEndpoint}`);\n\n      ws.onerror = (event) => {\n        this._logger.error('WebSocket error occurred', event.error);\n        ws.close(4202);\n      };\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error();\n      this._logger.error('Failed to create WebSocket instance', error);\n      this.reconnect();\n      return;\n    }\n\n    ws.onopen = () => {\n      this._logger.debug('Connected to analytics-logging-server');\n    };\n\n    ws.onclose = (event) => {\n      const logMessage =\n        'Close event fired: ' + JSON.stringify({ code: event.code, reason: event.reason, type: event.type });\n\n      // 1000, 4000~4099: normal case (should not reconnect)\n      // 4100~4199: non-normal case (should not reconnect)\n      // 4200~4299: non-normal case (should reconnect)\n      // others: unexpected case (should reconnect)\n      if (4100 <= event.code && event.code <= 4199) {\n        this._logger.error(logMessage, new Error());\n      } else {\n        this._logger.debug(logMessage);\n      }\n\n      if (event.code !== 1000 && !(4000 <= event.code && event.code <= 4199)) {\n        if (4200 === event.code) {\n          this.onTokenExpired.emit();\n        } else {\n          this.reconnect();\n        }\n        return;\n      }\n\n      // Return not to destroy _ws successfully reconnected\n      if (event.code === 4000) {\n        return;\n      }\n\n      this._logger.debug('Closed the connection to analytics-logging-server');\n      this.onConnectionFailed.emit();\n      this.close();\n    };\n\n    ws.onmessage = (event) => {\n      this._messageHandler(event.data);\n    };\n\n    this._ws = ws;\n  }\n\n  updateAuthToken(token: string) {\n    this._token = token;\n  }\n\n  reconnect(): void {\n    if (this._ws !== undefined) {\n      this._ws.close(4000);\n    }\n    this._ws = undefined;\n    this._isOpen = false;\n\n    // getReconnectWaitTime により30秒程まで再試行するため5を指定している\n    if (this._reconnectCount >= 5) {\n      this.onConnectionFailed.emit();\n      this.close();\n      this._logger.error('Failed to reconnect for five times', new Error());\n    } else {\n      this._setConnectionState('reconnecting');\n\n      const waitTime = getReconnectWaitTime(this._reconnectCount);\n      this._reconnectTimer = setTimeout(() => {\n        this._connect();\n        this._reconnectCount++;\n        this._logger.debug(`Try to reconnect: count = ${this._reconnectCount}`);\n      }, waitTime);\n    }\n  }\n\n  private close(): void {\n    this._isClosed = true;\n    this.destroy();\n  }\n\n  destroy(): void {\n    this._setConnectionState('closed');\n\n    this.onConnectionStateChanged.removeAllListeners();\n    this.onOpened.removeAllListeners();\n    this.onEventReceived.removeAllListeners();\n    this.onConnectionFailed.removeAllListeners();\n\n    if (this._reconnectTimer) {\n      clearTimeout(this._reconnectTimer);\n    }\n\n    if (this._ws !== undefined) {\n      this._ws.close(1000);\n    }\n  }\n\n  async send(clientEvent: ClientEvent): Promise<void> {\n    if (this._ws === undefined || !this._isOpen || this._ws.readyState !== WebSocket.OPEN) {\n      this._logger.debug('Try to reconnect because connection is lost');\n      this.resendAfterReconnect(clientEvent);\n      return;\n    }\n\n    const data = JSON.stringify(clientEvent.toJSON());\n    this._ws.send(data, (err) => {\n      if (err) {\n        this._logger.debug(`Try to reconnect because failed to send: ${err.message}`);\n        this.resendAfterReconnect(clientEvent);\n        return;\n      }\n    });\n  }\n\n  resendAfterReconnect(data: ClientEvent): void {\n    const isEventExist = this._resendClientEvents.some((event) => event.id === data.id);\n    if (!isEventExist) this._resendClientEvents.push(data);\n    // この関数が複数回呼ばれた際に再接続の試行が重複しないよう、connectionStateを確認してから再接続する\n    if (this.connectionState !== 'reconnecting') {\n      this.reconnect();\n    }\n  }\n\n  pushResendClientEventsQueue(data: ClientEvent): void {\n    this._resendClientEvents.push(data);\n  }\n\n  isClosed() {\n    return this._isClosed;\n  }\n\n  private _messageHandler(data: WebSocket.Data) {\n    if (typeof data !== 'string') {\n      this._logger.error('Received invalid message: not string', new Error());\n      return;\n    }\n\n    let parsedData: unknown;\n    try {\n      parsedData = JSON.parse(data);\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error();\n      this._logger.error('Received invalid message: parse error', error);\n      return;\n    }\n\n    if (!isServerEvent(parsedData)) {\n      this._logger.error(`Received invalid message: ${JSON.stringify(parsedData)}`, new Error());\n      return;\n    }\n\n    if (parsedData.type === 'Open') {\n      if (!isOpenServerEventPayload(parsedData.payload)) {\n        this._logger.error(`Received invalid message: ${JSON.stringify(parsedData.payload)}`, new Error());\n        return;\n      }\n\n      this._logger.debug('Received a open event');\n      this._isOpen = true;\n      this._setConnectionState('connected');\n\n      if (this._reconnectCount !== 0) {\n        this._reconnectCount = 0;\n        this._logger.debug('Succeeded to reconnect');\n      }\n\n      if (this._resendClientEvents.length > 0) {\n        for (const event of this._resendClientEvents) {\n          if (this._ws === undefined || !this._isOpen || this._ws.readyState !== WebSocket.OPEN) {\n            this._logger.error(`Failed to resend event because connection lost after reconnect: ${event}`, new Error());\n            continue;\n          }\n\n          const data = JSON.stringify(event.toJSON());\n          this._ws.send(data, (err) => {\n            if (err) {\n              this._logger.error(`Failed to resend event: ${event}`, err);\n              return;\n            }\n            this._logger.debug(`Succeed to resend ClientEvent: ${event}`);\n          });\n        }\n\n        this._logger.debug('Process of resending ClientEvents is completed');\n        this._resendClientEvents = [];\n      }\n      this.onOpened.emit(parsedData.payload);\n    } else {\n      this._logger.debug(`Received the event: ${parsedData.type}, payload: ${JSON.stringify(parsedData.payload)}`);\n      this.onEventReceived.emit(parsedData);\n    }\n  }\n}\n\nfunction isServerEvent(data: any): data is ServerEvent {\n  if (!data || typeof data !== 'object') return false;\n  if (typeof data.type !== 'string' || !ServerEventType.includes(data.type)) return false;\n  if (typeof data.id !== 'string') return false;\n  if (data.payload && typeof data.payload !== 'object') return false;\n  return true;\n}\n","export class BackOff {\n  count = 0;\n  readonly times: number = 8;\n  /**ms */\n  readonly interval: number = 100;\n  /**ms */\n  readonly jitter: number = 0;\n\n  /**20.4 sec {var sum=0;for(i=0;i<=8;i++){sum +=i ** 2 * 100}} */\n  constructor(props: Partial<Pick<BackOff, 'times' | 'interval' | 'jitter'>> = {}) {\n    Object.assign(this, props);\n  }\n\n  async wait() {\n    if (this.exceeded) {\n      return false;\n    }\n    const timeout = this.timeout;\n    this.count++;\n\n    await new Promise((r) => setTimeout(r, timeout));\n    return true;\n  }\n\n  get timeout() {\n    const timeout = this.count ** 2 * this.interval + this.count ** 2 * this.jitter * Math.random();\n    return timeout;\n  }\n\n  get exceeded() {\n    return this.count >= this.times;\n  }\n\n  reset() {\n    this.count = 0;\n  }\n\n  stop() {\n    this.count = this.times;\n  }\n}\n","import {\n  BindingRtcPeerConnectionToSubscriptionClientEvent,\n  ClientEvent,\n  MediaDeviceReportClientEvent,\n  PublicationUpdateEncodingsReportClientEvent,\n  RtcPeerConnectionEventReportClientEvent,\n  SubscriptionStats,\n  SubscriptionStatsReportClientEvent,\n  SubscriptionUpdatePreferredEncodingReportClientEvent,\n} from './clientEvent';\nimport { AcknowledgePayload, isAcknowledgePayload } from './payloadTypes';\nimport { ConnectionState, ServerEvent, Socket } from './socket';\nimport { BackOff } from './utils/backoff';\nimport { Event } from './utils/event';\nimport { Logger } from './utils/logger';\n\nconst ANALYTICS_LOGGING_SERVER_DOMAIN = 'analytics-logging.skyway.ntt.com';\nconst API_VERSION = 'v1';\nconst TIMEOUT_SEC = 5;\n\ntype AnalyticsClientParams = {\n  token: string;\n  channelId: string;\n  channelName?: string;\n  memberId: string;\n  memberName?: string;\n  sdkVersion: string;\n};\n\ntype AnalyticsClientOptions = {\n  analyticsLoggingServerDomain?: string;\n  secure?: boolean;\n  logger?: Logger;\n};\n\ntype AnalyticsClientInternalOptions = Required<AnalyticsClientOptions>;\ntype MediaDeviceReport = MediaDeviceReportClientEvent['payload'];\ntype BindingRtcPeerConnectionToSubscription = BindingRtcPeerConnectionToSubscriptionClientEvent['payload'];\ntype SubscriptionStatsReport = SubscriptionStatsReportClientEvent['payload'];\ntype RtcPeerConnectionEventReport = RtcPeerConnectionEventReportClientEvent['payload'];\ntype PublicationUpdateEncodingsReport = PublicationUpdateEncodingsReportClientEvent['payload'];\ntype SubscriptionUpdatePreferredEncodingReport = SubscriptionUpdatePreferredEncodingReportClientEvent['payload'];\n\nexport class AnalyticsClient {\n  private readonly _options: AnalyticsClientInternalOptions;\n\n  private readonly _logger: Logger;\n\n  private _socket: Socket | undefined;\n\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n\n  readonly onConnectionFailed = new Event<void>();\n\n  private _token: string;\n\n  private _newToken: string | undefined;\n\n  private readonly _channelId: string;\n\n  private readonly _channelName?: string;\n\n  private readonly _memberId: string;\n\n  private readonly _memberName?: string;\n\n  private readonly _sdkVersion: string;\n\n  private _isClosed = false;\n\n  private _responseCallbacks: Map<string, (data: Record<string, unknown>) => void> = new Map();\n\n  private _acknowledgeCallbacks: Map<string, (data: AcknowledgePayload) => void> = new Map();\n\n  private _mediaDeviceVersion: Map<string, number> = new Map();\n\n  private _encodingsVersion: Map<string, number> = new Map();\n\n  private _preferredEncodingVersion: Map<string, number> = new Map();\n\n  private _previousSubscriptionStats: Map<string, { stats: RTCStatsReport; createdAt: number }> = new Map();\n\n  private _statsRequest: {\n    intervalSec: number;\n    types: {\n      type: string;\n      properties: {\n        [property: string]: {\n          normalization: boolean;\n          outputKey: string;\n        };\n      };\n    }[];\n  } = {\n    // connect()時のopenServerEventPayload.statsRequest代入でそれぞれ値が入るが，一度初期値として定義しておく\n    intervalSec: 5,\n    types: [],\n  };\n\n  constructor(\n    { token, channelId, channelName, memberId, memberName, sdkVersion }: AnalyticsClientParams,\n    options?: AnalyticsClientOptions\n  ) {\n    this._token = token;\n    this._newToken = undefined;\n    this._channelId = channelId;\n    this._channelName = channelName;\n    this._memberId = memberId;\n    this._memberName = memberName;\n    this._sdkVersion = sdkVersion;\n\n    const defaultOptions: AnalyticsClientInternalOptions = {\n      analyticsLoggingServerDomain: ANALYTICS_LOGGING_SERVER_DOMAIN,\n      secure: true,\n      logger: {\n        debug: (message, ...optionalParams) => {\n          console.debug(message, ...optionalParams);\n        },\n        warn: (message, ...optionalParams) => {\n          console.warn(message, ...optionalParams);\n        },\n        error: (error) => {\n          console.error(error);\n        },\n      },\n    };\n    this._options = Object.assign({}, defaultOptions, options ?? {});\n\n    this._logger = this._options.logger;\n    this._logger.debug(`Created instance with the options: ${this._options}`);\n  }\n\n  get connectionState(): ConnectionState {\n    return this._socket?.connectionState ?? 'closed';\n  }\n\n  async connect(): Promise<void> {\n    const WSProtocol = this._options.secure ? 'wss' : 'ws';\n\n    const analyticsLoggingServerDomain = this._options.analyticsLoggingServerDomain || ANALYTICS_LOGGING_SERVER_DOMAIN;\n\n    this._socket = new Socket({\n      sessionEndpoint: `${WSProtocol}://${analyticsLoggingServerDomain}/${API_VERSION}/client/ws`,\n      channelId: this._channelId,\n      channelName: this._channelName,\n      memberId: this._memberId,\n      memberName: this._memberName,\n      token: this._token,\n      logger: this._logger,\n      sdkVersion: this._sdkVersion,\n    });\n\n    this._socket.onEventReceived.addListener((data: ServerEvent) => {\n      try {\n        this._eventReceivedHandler(data);\n      } catch (error) {\n        this._logger.error('in _eventReceivedHandler', error as Error);\n      }\n    });\n\n    this._socket.onConnectionFailed.addListener(() => {\n      this.onConnectionFailed.emit();\n      this._cleanupAnalyticsClientMaps();\n    });\n\n    this._socket.onConnectionStateChanged.addListener((state) => {\n      if (state === 'closed' && !this.isClosed() && this._socket?.isClosed()) {\n        this._isClosed = true;\n        this.dispose();\n      }\n      this.onConnectionStateChanged.emit(state);\n    });\n\n    this._socket.onTokenExpired.addListener(() => {\n      void this._reconnectWithNewSkyWayAuthToken();\n    });\n\n    const openServerEventPayload = await this._socket.onOpened.asPromise();\n    if (openServerEventPayload !== undefined) {\n      this._statsRequest = openServerEventPayload.statsRequest;\n      return;\n    } else {\n      this._logger.error('First time connection payload is undefined', new Error());\n      this.onConnectionFailed.emit();\n      return;\n    }\n  }\n\n  dispose(): void {\n    this._disconnect();\n    this._cleanupAnalyticsClientMaps();\n  }\n\n  setNewSkyWayAuthToken(token: string): void {\n    if (this._socket !== undefined) {\n      this._newToken = token;\n      this._logger.debug('setNewSkyWayAuthToken is success');\n    }\n  }\n\n  cleanupOnUnpublished(publicationId: string): void {\n    this._mediaDeviceVersion.delete(publicationId);\n    this._encodingsVersion.delete(publicationId);\n  }\n\n  cleanupOnUnsubscribed(subscriptionId: string): void {\n    this._preferredEncodingVersion.delete(subscriptionId);\n    this._previousSubscriptionStats.delete(subscriptionId);\n  }\n\n  private _disconnect(): void {\n    this._socket?.destroy();\n    this._socket = undefined;\n\n    this._responseCallbacks.clear();\n    this._acknowledgeCallbacks.clear();\n  }\n\n  async sendMediaDeviceReport(report: Omit<MediaDeviceReport, 'mediaDeviceVersion'>): Promise<void> {\n    let currentMediaDeviceVersion = this._mediaDeviceVersion.get(report.publicationId);\n    if (currentMediaDeviceVersion === undefined) {\n      currentMediaDeviceVersion = 0;\n    } else {\n      currentMediaDeviceVersion++;\n    }\n    this._mediaDeviceVersion.set(report.publicationId, currentMediaDeviceVersion);\n    const payload: MediaDeviceReport = {\n      publicationId: report.publicationId,\n      mediaDeviceName: report.mediaDeviceName,\n      mediaDeviceVersion: currentMediaDeviceVersion,\n      mediaDeviceTrigger: report.mediaDeviceTrigger,\n      updatedAt: report.updatedAt,\n    };\n\n    const clientEvent = new ClientEvent('MediaDeviceReport', payload);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendMediaDeviceReport is failed', err);\n    });\n  }\n\n  async sendBindingRtcPeerConnectionToSubscription(bindingData: BindingRtcPeerConnectionToSubscription): Promise<void> {\n    const clientEvent = new ClientEvent('BindingRtcPeerConnectionToSubscription', bindingData);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendBindingRtcPeerConnectionToSubscription is failed', err);\n    });\n  }\n\n  private _isDataChannelStatsReport(report: RTCStatsReport): boolean {\n    const castedStatsReport: SubscriptionStats = {};\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore RTCStatsReportの型エラー回避(TS2339: Property 'values' does not exist on type 'RTCStatsReport'.)\n    for (const rtcStatsReportValue of report.values()) {\n      castedStatsReport[rtcStatsReportValue.type] = rtcStatsReportValue;\n    }\n\n    if (castedStatsReport && 'data-channel' in castedStatsReport) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * DataChannelのstatsReportのobjectを処理する際の判定用関数\n   * 'data-channel', 'local-candidate', 'candidate-pair' が現在対象\n   * 'candidate-pair' の場合は nominated:true のもののみをtrueとする\n   */\n  private _isTargetTypeOfStatsReport(report: any, targetType: string[]): boolean {\n    if (!report) return false;\n    for (const type of targetType) {\n      if (report.type === type) {\n        if (type === 'data-channel' || type === 'local-candidate') {\n          return true;\n        } else if (type === 'candidate-pair') {\n          // 'candidate-pair' の場合は nominated:true のものであるかを確認\n          if ('nominated' in report && report.nominated === true) {\n            return true;\n          }\n        }\n      }\n    }\n    // すべてのtypeに一致しない場合や条件に当てはまらない場合はfalse\n    return false;\n  }\n\n  async sendSubscriptionStatsReport(\n    report: RTCStatsReport,\n    subscriptionParams: Omit<SubscriptionStatsReport, 'stats'>\n  ): Promise<void> {\n    const previousSubscriptionStat = this._previousSubscriptionStats.get(subscriptionParams.subscriptionId);\n    this._previousSubscriptionStats.set(subscriptionParams.subscriptionId, {\n      stats: report,\n      createdAt: subscriptionParams.createdAt,\n    });\n\n    if (previousSubscriptionStat === undefined) {\n      // 初回の場合は時間あたりの値が出せないので送信しない\n      return;\n    }\n\n    const previousCreatedAt = previousSubscriptionStat.createdAt;\n    const duration = (subscriptionParams.createdAt - previousCreatedAt) / 1000; // mills to sec.\n    if (duration <= 0) {\n      throw new Error('duration must be greater than 0. also sendSubscriptionStatsReport was duplicated.');\n    }\n\n    const isDataChannelStatsReport = this._isDataChannelStatsReport(report);\n\n    const filteredStats: SubscriptionStats = {};\n    for (const statsRequestType of this._statsRequest.types) {\n      Object.keys(statsRequestType.properties).forEach((key) => {\n        const isNeedNormalization = statsRequestType.properties[key].normalization;\n        const outputKey = statsRequestType.properties[key].outputKey;\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore RTCStatsReportの型エラー回避(TS2339: Property 'values' does not exist on type 'RTCStatsReport'.)\n        for (const rtcStatsReportValue of report.values()) {\n          if (rtcStatsReportValue.type !== statsRequestType.type) continue;\n          Object.keys(rtcStatsReportValue).forEach((statName) => {\n            if (statName === key) {\n              // 時折プロパティがない場合があるため，今回分のデータをチェックしておく\n              if (!rtcStatsReportValue || !(statName in rtcStatsReportValue)) {\n                this._logger.warn(`statsReport key:${statName} in current statsReport is undefined`);\n                return;\n              }\n              if (isNeedNormalization) {\n                // 前回分のデータを使って時間あたりの値を計算する必要があるフィールドについてはこちらで処理\n                /**\n                 * idは接続が続いている間同じ値を取るので,前回保持したstatsから値を取り出す際に利用する\n                 * https://developer.mozilla.org/en-US/docs/Web/API/RTCStatsReport#common_instance_properties\n                 */\n\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore RTCStatsReportの型エラー回避(TS2339: Property 'get' does not exist on type 'RTCStatsReport')\n                const previousObject = previousSubscriptionStat.stats.get(rtcStatsReportValue.id);\n\n                // 時折プロパティがない場合があるため，前回分のデータをチェックしておく\n                if (!previousObject || !(key in previousObject)) {\n                  this._logger.warn(`statsReport key:${key} in previous statsReport is undefined`);\n                  return;\n                }\n                const previousValue = Number(previousObject[key]);\n                const perSecondValue = (Number(rtcStatsReportValue[statName]) - previousValue) / duration;\n\n                if (isDataChannelStatsReport) {\n                  // 'data-channel'の場合はbytesSent/bytesReceivedの両方とも格納されてしまうのでroleによって切り替える\n                  if (this._isTargetTypeOfStatsReport(rtcStatsReportValue, ['data-channel'])) {\n                    if (subscriptionParams.role === 'sender') {\n                      if (statName === 'bytesSent') {\n                        filteredStats[statsRequestType.type] = {\n                          ...filteredStats[statsRequestType.type],\n                          [outputKey]: String(perSecondValue),\n                        };\n                      }\n                    } else {\n                      if (statName === 'bytesReceived') {\n                        filteredStats[statsRequestType.type] = {\n                          ...filteredStats[statsRequestType.type],\n                          [outputKey]: String(perSecondValue),\n                        };\n                      }\n                    }\n                  } else if (\n                    this._isTargetTypeOfStatsReport(rtcStatsReportValue, ['local-candidate', 'candidate-pair'])\n                  ) {\n                    filteredStats[statsRequestType.type] = {\n                      ...filteredStats[statsRequestType.type],\n                      [outputKey]: String(perSecondValue),\n                    };\n                  }\n                } else {\n                  /**\n                   * this._statsRequest で保持している変換用のobjectは同一のkeyが複数回出てくるので，上書きしないためにスプレッド構文を利用する．\n                   * またServer側で受け付けているstatsの値はstringなので変換してやる必要あり．\n                   */\n                  filteredStats[statsRequestType.type] = {\n                    ...filteredStats[statsRequestType.type],\n                    [outputKey]: String(perSecondValue),\n                  };\n                }\n              } else {\n                // 時間あたりの値を計算する必要がないフィールドはこちらで処理\n                if (isDataChannelStatsReport) {\n                  if (\n                    this._isTargetTypeOfStatsReport(rtcStatsReportValue, [\n                      'data-channel',\n                      'local-candidate',\n                      'candidate-pair',\n                    ])\n                  ) {\n                    if (rtcStatsReportValue.type === 'candidate-pair') {\n                      // 'candidate-pair'はvideo/audioがある場合，他のフィールド:availableOutgoingBitrateも入ってきてしまうため必要なものに限定する\n                      if (statName === 'currentRoundTripTime') {\n                        filteredStats[statsRequestType.type] = {\n                          ...filteredStats[statsRequestType.type],\n                          [outputKey]: String(rtcStatsReportValue[statName]),\n                        };\n                      }\n                    } else {\n                      filteredStats[statsRequestType.type] = {\n                        ...filteredStats[statsRequestType.type],\n                        [outputKey]: String(rtcStatsReportValue[statName]),\n                      };\n                    }\n                  }\n                } else {\n                  filteredStats[statsRequestType.type] = {\n                    ...filteredStats[statsRequestType.type],\n                    [outputKey]: String(rtcStatsReportValue[statName]),\n                  };\n                }\n              }\n            }\n          });\n        }\n      });\n    }\n\n    const payload: SubscriptionStatsReport = {\n      subscriptionId: subscriptionParams.subscriptionId,\n      stats: filteredStats,\n      role: subscriptionParams.role,\n      createdAt: subscriptionParams.createdAt,\n    };\n    const clientEvent = new ClientEvent('SubscriptionStatsReport', payload);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendSubscriptionStatsReport is failed', err);\n    });\n  }\n\n  async sendRtcPeerConnectionEventReport(report: RtcPeerConnectionEventReport): Promise<void> {\n    const clientEvent = new ClientEvent('RtcPeerConnectionEventReport', report);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendRtcPeerConnectionEventReport is failed', err);\n    });\n  }\n\n  async sendPublicationUpdateEncodingsReport(\n    report: Omit<PublicationUpdateEncodingsReport, 'encodingsVersion'>\n  ): Promise<void> {\n    let currentEncodingsVersion = this._encodingsVersion.get(report.publicationId);\n    if (currentEncodingsVersion === undefined) {\n      currentEncodingsVersion = 0;\n    } else {\n      currentEncodingsVersion++;\n    }\n    this._encodingsVersion.set(report.publicationId, currentEncodingsVersion);\n    const payload: PublicationUpdateEncodingsReport = {\n      publicationId: report.publicationId,\n      encodings: report.encodings,\n      encodingsVersion: currentEncodingsVersion,\n      updatedAt: report.updatedAt,\n    };\n\n    const clientEvent = new ClientEvent('PublicationUpdateEncodingsReport', payload);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendPublicationUpdateEncodingsReport is failed', err);\n    });\n  }\n\n  async sendSubscriptionUpdatePreferredEncodingReport(\n    report: Omit<SubscriptionUpdatePreferredEncodingReport, 'preferredEncodingVersion'>\n  ): Promise<void> {\n    let currentPreferredEncodingVersion = this._preferredEncodingVersion.get(report.subscriptionId);\n    if (currentPreferredEncodingVersion === undefined) {\n      currentPreferredEncodingVersion = 0;\n    } else {\n      currentPreferredEncodingVersion++;\n    }\n    this._preferredEncodingVersion.set(report.subscriptionId, currentPreferredEncodingVersion);\n    const payload: SubscriptionUpdatePreferredEncodingReport = {\n      subscriptionId: report.subscriptionId,\n      preferredEncodingIndex: report.preferredEncodingIndex,\n      preferredEncodingVersion: currentPreferredEncodingVersion,\n      updatedAt: report.updatedAt,\n    };\n\n    const clientEvent = new ClientEvent('SubscriptionUpdatePreferredEncodingReport', payload);\n\n    await this._sendClientEvent(clientEvent).catch((err) => {\n      this._logger.warn('_sendClientEvent in sendSubscriptionUpdatePreferredEncodingReport is failed', err);\n    });\n  }\n\n  private async _sendClientEvent(clientEvent: ClientEvent): Promise<void> {\n    return new Promise(async (resolve, reject) => {\n      if (this._socket === undefined || this._socket.connectionState === 'closed') {\n        reject(new Error('websocket is not connected'));\n        return;\n      }\n\n      // 初回の接続に時間がかかっている場合はここで再送用のキューとacknowledgeのリストに入れる\n      if (this._socket.connectionState === 'connecting') {\n        this._socket.pushResendClientEventsQueue(clientEvent);\n        this._setAcknowledgeCallback(clientEvent.id, async (data: AcknowledgePayload) => {\n          if (data.ok) {\n            this._acknowledgeCallbacks.delete(clientEvent.id);\n            resolve();\n          } else {\n            this._acknowledgeCallbacks.delete(clientEvent.id);\n            reject(data);\n          }\n        });\n        this._logger.debug(`pushResendClientEventsQueue and setAcknowledgeCallback. clientEvent.id: ${clientEvent.id}`);\n        reject(new Error('websocket is connecting now'));\n        return;\n      }\n\n      const backoff = new BackOff({ times: 6, interval: 500, jitter: 100 });\n      for (; !backoff.exceeded; ) {\n        const timer = setTimeout(async () => {\n          if (this._socket === undefined) {\n            this._acknowledgeCallbacks.delete(clientEvent.id);\n            reject(new Error('Socket closed when trying to resend'));\n            return;\n          } else {\n            this._socket.resendAfterReconnect(clientEvent);\n          }\n          reject(new Error('Timeout to send data'));\n          return;\n        }, TIMEOUT_SEC * 1000);\n\n        // 送信に失敗した際の再送ロジックはsend()内で処理される\n        this._logger.debug(`send clientEvent, ${JSON.stringify(clientEvent)}`);\n        this._socket.send(clientEvent).catch((err) => {\n          this._acknowledgeCallbacks.delete(clientEvent.id);\n          clearTimeout(timer);\n          reject(err);\n          return;\n        });\n\n        /**\n         * _waitForAcknowledgeはresultに次の2種類の値を返す\n         * 1. undefined: 送信が成功し、undefinedでresolveされた場合\n         * 2. AcknowledgePayload型の値:送信は成功したがサーバーから ok: false のacknowledgeが返されたため、acknowledge payloadでrejectされた場合\n         * 何らかのエラーによってrejectされた場合:\n         * これは_messageHandlerで弾かれるので考慮しなくて良い．\n         */\n        const result = await this._waitForAcknowledge(clientEvent.id).catch((err) => {\n          return err;\n        });\n        clearTimeout(timer);\n\n        if (isAcknowledgePayload(result)) {\n          if (result.reason === 'unexpected') {\n            await backoff.wait();\n          } else {\n            reject(result);\n            return;\n          }\n        } else {\n          resolve();\n          return;\n        }\n      }\n\n      reject(new Error('unexpected has occurred at server'));\n      return;\n    });\n  }\n\n  private async _waitForAcknowledge(clientEventId: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      this._setAcknowledgeCallback(clientEventId, async (data: AcknowledgePayload) => {\n        if (data.ok) {\n          this._acknowledgeCallbacks.delete(clientEventId);\n          resolve();\n        } else {\n          this._acknowledgeCallbacks.delete(clientEventId);\n          reject(data);\n        }\n      });\n    });\n  }\n\n  private async _reconnectWithNewSkyWayAuthToken(): Promise<void> {\n    this._disconnect();\n\n    if (this._newToken !== undefined) {\n      this._token = this._newToken;\n      this._newToken = undefined;\n\n      await this.connect();\n    } else {\n      this._logger.warn('new token is not set. so not reconnect.');\n    }\n  }\n\n  private _eventReceivedHandler(data: ServerEvent) {\n    switch (data.type) {\n      case 'Acknowledge':\n        this._acknowledgeHandler(data.payload);\n        break;\n      case 'Open':\n        break; // nop\n      default: {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = data.type;\n        this._logger.warn(`Unknown event: ${data.type}`);\n      }\n    }\n  }\n\n  private _acknowledgeHandler(payload: unknown) {\n    if (!isAcknowledgePayload(payload)) {\n      throw new Error('Invalid payload');\n    }\n\n    const { eventId } = payload;\n    if (!this._acknowledgeCallbacks.has(eventId)) {\n      throw new Error(`acknowledge event has unknown eventId: ${eventId}`);\n    }\n    const callback = this._acknowledgeCallbacks.get(eventId);\n    if (callback) {\n      this._acknowledgeCallbacks.delete(eventId);\n      callback(payload);\n    }\n  }\n\n  private _setAcknowledgeCallback(eventId: string, callback: (data: AcknowledgePayload) => Promise<void>) {\n    this._acknowledgeCallbacks.set(eventId, callback);\n  }\n\n  private _cleanupAnalyticsClientMaps(): void {\n    this._mediaDeviceVersion.clear();\n    this._encodingsVersion.clear();\n    this._preferredEncodingVersion.clear();\n    this._previousSubscriptionStats.clear();\n  }\n\n  getIntervalSec() {\n    return this._statsRequest.intervalSec;\n  }\n\n  isConnectionEstablished() {\n    if (!this._socket || this._socket.connectionState === 'connecting' || this._socket.connectionState === 'closed') {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  isClosed() {\n    return this._isClosed;\n  }\n}\n","export const defaultDomain = 'rtc-api.skyway.ntt.com';\n// export const defaultDomain = 'localhost:8080';\nexport const rpcTimeout = 20_000;\nexport const MaxRetry = 8;\n","import type { ResponseError } from './rpc';\n\nexport const errors = {\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  internalError: { name: 'internalError', detail: '', solution: '' },\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  connectionDisconnected: {\n    name: 'connectionDisconnected',\n    detail: '',\n    solution: '',\n  },\n  websocketConnectionFailure: {\n    name: 'connectionFailure',\n    detail: 'サーバへの接続に失敗しました',\n    solution: 'ネットワーク接続状況を確認してください',\n  },\n  rpcResponseError: {\n    name: 'rpcResponseError',\n    detail: '',\n    solution: '',\n    error: {} as ResponseError,\n  },\n  onClosedWhileRequesting: {\n    name: 'onClosedWhileRequesting',\n    detail: 'request中にクライアントが終了されました',\n    solution: 'リクエストの完了を確認してからクライアントを終了させてください',\n  },\n  failedToConnectRtcAPI: {\n    name: 'failedToConnectRtcAPI',\n    detail: 'rtc-api serverへの接続に失敗しました',\n    solution: 'インターネット接続状況とTokenの内容が正しいかを確かめてください',\n  },\n  failedToUpdateMemberTTL: {\n    name: 'failedToUpdateMemberTTL',\n    detail: 'updateMemberTTLを再試行しましたが、失敗しました',\n    solution: 'インターネット接続状況を確認してください',\n  },\n} as const;\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { ErrorInfo, SkyWayError } from '@skyway-sdk/common';\n\nexport function createError({\n  operationName,\n  info,\n  error,\n  path,\n  payload,\n  channelId,\n  appId,\n  memberId,\n}: {\n  operationName: string;\n  info: ErrorInfo;\n  error?: Error;\n  path: string;\n  payload?: any;\n  channelId?: string;\n  appId?: string;\n  memberId?: string;\n}) {\n  return new SkyWayError({\n    error,\n    info: info,\n    payload: { payload, operationName, channelId, appId, memberId },\n    path,\n  });\n}\n\nexport function createWarnPayload({\n  appId,\n  detail,\n  channelId,\n  operationName,\n  payload,\n  memberId,\n}: {\n  operationName: string;\n  channelId?: string;\n  appId?: string;\n  memberId?: string;\n  detail: string;\n  payload?: any;\n}) {\n  const warn: any = {\n    operationName,\n    payload,\n    detail,\n    appId,\n    channelId,\n    memberId,\n  };\n\n  return warn;\n}\n","import { Events, Logger, SkyWayError } from '@skyway-sdk/common';\nimport WebSocket from 'isomorphic-ws';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport { rpcTimeout } from './const';\nimport { errors } from './errors';\nimport { createError, createWarnPayload } from './util';\n\nconst log = new Logger('packages/rtc-rpc-api-client/src/rpc.ts');\n\nexport class RPC {\n  private readonly _id = uuidV4();\n  /**@private */\n  _ws!: WebSocket;\n  closed = false;\n  negotiated = false;\n  private _reconnecting = false;\n  set reconnecting(b: boolean) {\n    this._reconnecting = b;\n  }\n  get reconnecting() {\n    return this._reconnecting;\n  }\n  private _pendingRequests: object[] = [];\n\n  private readonly _events = new Events();\n  private readonly _onMessage = this._events.make<\n    RequestMessage | ResponseMessage\n  >();\n  readonly onNotify = this._events.make<{ method: string; params: object }>();\n  readonly onFatalError = this._events.make<SkyWayError>();\n  readonly onDisconnected = this._events.make<void>();\n  readonly onClosed = this._events.make<void>();\n\n  async connect({\n    domain,\n    token,\n    secure,\n  }: {\n    domain: string;\n    token: string;\n    secure: boolean;\n  }) {\n    const subProtocol = token;\n    this._ws = new WebSocket(\n      `${secure ? 'wss' : 'ws'}://${domain}/ws`,\n      subProtocol\n    );\n\n    this._ws.onmessage = (ev: any) => {\n      this._onMessage.emit(JSON.parse(ev.data as string));\n    };\n\n    this._ws.onclose = async () => {\n      log.debug('websocket closed', { id: this._id });\n      this.onDisconnected.emit();\n    };\n\n    this._onMessage.add((msg) => {\n      if (isNotifyMessage(msg)) {\n        this.onNotify.emit(msg);\n      }\n    });\n\n    const error = await new Promise<void>((r, f) => {\n      const timeout = setTimeout(() => {\n        f(\n          createError({\n            operationName: 'RPC.connect',\n            info: { ...errors.timeout, detail: 'ws.open' },\n            path: log.prefix,\n          })\n        );\n      }, 5_000);\n      this._ws.onerror = (e: any) => {\n        f(\n          createError({\n            operationName: 'RPC.connect',\n            info: errors.websocketConnectionFailure,\n            path: log.prefix,\n            error: e,\n          })\n        );\n      };\n      this._ws.onopen = () => {\n        clearTimeout(timeout);\n        r();\n      };\n    }).catch((e) => e);\n    if (error) {\n      throw error;\n    }\n    this.negotiated = true;\n  }\n\n  close() {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n\n    log.debug('closed');\n    this._ws.close();\n    this.onClosed.emit();\n\n    this._events.dispose();\n  }\n\n  resolvePendingRequests() {\n    log.debug('resolve pendingRequests', [...this._pendingRequests]);\n    this._pendingRequests.forEach(async (req) => {\n      await this._send(req);\n    });\n    this._pendingRequests = [];\n  }\n\n  private _send = (request: object) =>\n    new Promise<void>(async (r, f) => {\n      // 非同期化\n      await new Promise((r) => setTimeout(r, 0));\n\n      if (this._ws.readyState !== this._ws.OPEN) {\n        f(\n          createError({\n            operationName: 'RPC._send',\n            info: { ...errors.internalError, detail: 'wrong state' },\n            path: log.prefix,\n            payload: {\n              request,\n              wsReadyState: wsStates[this._ws.readyState],\n            },\n          })\n        );\n        return;\n      }\n\n      this._ws.send(JSON.stringify(request), (error: any) => {\n        if (error) {\n          throw f(\n            createError({\n              operationName: 'RPC._send',\n              info: {\n                ...errors.internalError,\n                detail: 'failed to send rpc message',\n              },\n              path: log.prefix,\n              error,\n            })\n          );\n        }\n      });\n      r();\n    });\n\n  /**\n   * @throws {@link SkyWayError}\n   */\n  async request<Result extends object>(\n    method: string,\n    params: { [key: string]: any; appId?: string; authToken: string }\n  ) {\n    if (this.closed) {\n      throw createError({\n        operationName: 'RPC.request',\n        info: {\n          ...errors.internalError,\n          detail: 'rpc closed',\n        },\n        path: log.prefix,\n        payload: { method, params, id: this._id },\n      });\n    }\n\n    let promiseResolved = false;\n    try {\n      const request = buildRequest(method, params);\n\n      const handleMessage = async (): Promise<\n        ResponseMessage & {\n          result: Result;\n        }\n      > =>\n        (await this._onMessage\n          .watch((msg) => msg.id === request.id, rpcTimeout)\n          .catch(() => {\n            if (promiseResolved) {\n              return;\n            }\n            throw createError({\n              operationName: 'RPC.request',\n              info: {\n                ...errors.timeout,\n                detail: 'rpc request timeout',\n              },\n              path: log.prefix,\n              payload: {\n                rpcTimeout,\n                method,\n                params,\n                wsReadyState: wsStates[this._ws.readyState],\n                id: this._id,\n              },\n            });\n          })) as ResponseMessage & { result: Result };\n\n      const pendingRequest = async (): Promise<\n        ResponseMessage & {\n          result: Result;\n        }\n      > => {\n        log.warn(\n          '[start] reconnecting. pending request',\n          createWarnPayload({\n            operationName: 'RPC.request',\n            detail: '[start] reconnecting. pending request',\n            payload: { request, id: this._id },\n          })\n        );\n        // 再接続後に再送する\n        this._pendingRequests.push(request);\n\n        const message = await Promise.race([\n          handleMessage(),\n          this.onFatalError.asPromise(rpcTimeout + 100).then((e) => {\n            if (!promiseResolved) {\n              log.error(\n                '[failed] reconnecting. pending request',\n                createError({\n                  operationName: 'RPC.request',\n                  info: {\n                    ...errors.internalError,\n                    detail: 'onFatalError while request',\n                  },\n                  path: log.prefix,\n                }),\n                e\n              );\n            }\n            throw e;\n          }),\n        ]);\n        promiseResolved = true;\n\n        log.warn(\n          '[end] reconnecting. pending request',\n          createWarnPayload({\n            operationName: 'RPC.request',\n            detail: '[end] reconnecting. pending request',\n            payload: { request, id: this._id },\n          })\n        );\n\n        return message;\n      };\n\n      let message: ResponseMessage & { result: Result };\n\n      if (!this._reconnecting) {\n        this._send(request).catch((e) => {\n          log.error('send error', e);\n        });\n\n        message = await Promise.race([\n          handleMessage(),\n          // 返信待ち中に接続が切れた場合\n          (async (): Promise<ResponseMessage & { result: Result }> => {\n            await this.onDisconnected.asPromise(rpcTimeout + 100);\n            if (promiseResolved) {\n              return {} as any;\n            }\n\n            try {\n              const message = await pendingRequest();\n              log.warn(\n                createWarnPayload({\n                  operationName: 'request.pendingRequest',\n                  detail: 'success to handle disconnected',\n                })\n              );\n              return message;\n            } catch (error: any) {\n              throw createError({\n                operationName: 'RPC.request',\n                info: errors.connectionDisconnected,\n                path: log.prefix,\n                error,\n              });\n            }\n          })(),\n          this.onFatalError.asPromise(rpcTimeout + 100).then((e) => {\n            if (promiseResolved) {\n              return {} as any;\n            }\n            throw createError({\n              operationName: 'RPC.request',\n              info: {\n                ...errors.internalError,\n                detail: 'onFatalError while requesting',\n              },\n              path: log.prefix,\n              error: e,\n            });\n          }),\n          this.onClosed.asPromise(rpcTimeout + 100).then(() => {\n            if (promiseResolved) {\n              return {} as any;\n            }\n            throw createError({\n              operationName: 'RPC.request',\n              info: errors.onClosedWhileRequesting,\n              path: log.prefix,\n              payload: { method, params },\n            });\n          }),\n        ]);\n        promiseResolved = true;\n      } else {\n        message = await pendingRequest();\n      }\n\n      if (message.error) {\n        log.warn('[failed] request ', { message, method, params });\n        throw createError({\n          operationName: 'RPC.request',\n          info: {\n            ...errors.rpcResponseError,\n            detail: method,\n            error: message.error,\n          } as typeof errors.rpcResponseError,\n          payload: { message, method, params },\n          path: log.prefix,\n        });\n      }\n\n      return message.result;\n    } catch (error) {\n      promiseResolved = true;\n      throw error;\n    }\n  }\n\n  async notify(method: string, params: object) {\n    const request = buildRequest(method, params, true);\n    await this._send(request);\n  }\n\n  async batch<Result extends object>(\n    requests: { method: string; params: object }[]\n  ) {\n    const messages: RequestMessage[] = requests.map(({ method, params }) =>\n      buildRequest(method, params)\n    );\n    this._send(messages).catch((e) => {\n      throw e;\n    });\n    const responses = await Promise.all(\n      messages.map(async ({ id }) => {\n        const message = (await this._onMessage.watch(\n          (msg) => msg.id === id,\n          rpcTimeout\n        )) as ResponseMessage & { result: Result };\n        return message;\n      })\n    );\n    return responses;\n  }\n}\n\nconst buildRequest = (\n  method: string,\n  params: object,\n  notify?: boolean\n): RequestMessage => {\n  if (notify) {\n    return { jsonrpc: '2.0', method, params };\n  }\n  const id = uuidV4();\n  return { jsonrpc: '2.0', method, params, id };\n};\n\ninterface RequestMessage {\n  jsonrpc: '2.0';\n  method: string;\n  params: object;\n  id?: string;\n}\n\ninterface ResponseMessage {\n  jsonrpc: '2.0';\n  result: object;\n  error?: ResponseError;\n  id: string;\n}\n\nexport interface ResponseError {\n  code: number;\n  message: string;\n  data: object;\n}\n\nconst isNotifyMessage = (\n  msg: RequestMessage | ResponseMessage\n): msg is RequestMessage => {\n  const notify = msg as RequestMessage;\n  if (notify.method && notify.id == undefined) {\n    return true;\n  }\n  return false;\n};\n\nconst wsStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'] as const;\n","import {\n  BackOff,\n  Events,\n  HttpClient,\n  LogFormat,\n  Logger,\n  LogLevel,\n  SkyWayError,\n} from '@skyway-sdk/common';\nimport model, {\n  Channel,\n  Codec,\n  ContentType,\n  Encoding,\n  Member,\n  Publication,\n  Subscription,\n} from '@skyway-sdk/model';\n\nimport { defaultDomain, MaxRetry } from './const';\nimport { errors } from './errors';\nimport { ChannelEvent } from './event';\nimport { RPC } from './rpc';\nimport { createError, createWarnPayload } from './util';\n\nconst log = new Logger('packages/rtc-rpc-api-client/src/client.ts');\n\n/**@internal */\nexport interface RtcRpcApiConfig {\n  domain?: string;\n  /**ms */\n  timeout?: number;\n  secure?: boolean;\n}\n\nexport type RtcRpcApiClientConfig = RtcRpcApiConfig & {\n  token: string;\n  log?: Partial<{ level: LogLevel; format: LogFormat }>;\n};\n\nexport class RtcRpcApiClient {\n  closed = false;\n\n  private readonly _domain = this.config.domain ?? defaultDomain;\n  private _secure = this.config.secure ?? true;\n  private _token = this.config.token;\n  /**@private */\n  _rpc = new RPC();\n  private _subscribingChannelEvents = new Set<string>();\n  private _subscribingChannelVersions: { [channelId: string]: number } = {};\n  private readonly _httpClient = new HttpClient(\n    `http${this.config.secure ? 's' : ''}://${this.config.domain}`\n  );\n  private _reconnectCount = 0;\n  private readonly _reconnectLimit = MaxRetry;\n\n  private readonly _events = new Events();\n  readonly onEvent = this._events.make<{\n    channelId: string;\n    event: ChannelEvent;\n  }>();\n  readonly onFatalError = this._events.make<SkyWayError>();\n  readonly onClose = this._events.make<void>();\n  readonly onReconnected = this._events.make<void>();\n\n  constructor(readonly config: RtcRpcApiClientConfig) {\n    Logger.level = config.log?.level ?? Logger.level;\n    Logger.format = config.log?.format ?? Logger.format;\n\n    log.debug('RtcRpcApiClient spawned', config);\n\n    this._rpc.onNotify.add((notify) => {\n      if (notify.method === 'channelEventNotification') {\n        const event = notify.params as ChannelEvent;\n\n        this._subscribingChannelVersions[event.data.channel.id] =\n          event.data.channel.version;\n\n        this.onEvent.emit({ channelId: event.data.channel.id, event });\n      }\n    });\n\n    this._rpc.onDisconnected.add(async () => {\n      if (\n        this._rpc.negotiated &&\n        !this._rpc.closed &&\n        !this._rpc.reconnecting\n      ) {\n        await this._reconnect();\n      }\n    });\n\n    this._rpc.onFatalError.once((e) => {\n      log.error('fatal error', e);\n      this.onFatalError.emit(e);\n      this.close();\n    });\n  }\n\n  get token() {\n    return this._token;\n  }\n\n  private async _reconnect() {\n    if (this._reconnectCount >= this._reconnectLimit) {\n      this._rpc.onFatalError.emit(\n        createError({\n          operationName: 'RtcRpcApiClient._reconnect',\n          info: {\n            name: 'failed to reconnect',\n            detail: '_reconnectLimit exceeded',\n            solution: '',\n          },\n          path: log.prefix,\n        })\n      );\n      this.close();\n      return;\n    }\n    this._rpc.reconnecting = true;\n    log.warn(\n      '[start] reconnect',\n      createWarnPayload({\n        operationName: 'RtcRpcApiClient._reconnect',\n        detail: 'reconnect start',\n        payload: {\n          reconnectCount: this._reconnectCount,\n          limit: this._reconnectLimit,\n        },\n      })\n    );\n\n    this._reconnectCount++;\n    const backOffTime =\n      this._reconnectCount ** 2 * 100 +\n      this._reconnectCount ** 2 * 100 * Math.random();\n    await new Promise((r) => setTimeout(r, backOffTime));\n\n    try {\n      await this.connect().catch((err) => {\n        log.warn(\n          `[failed] reconnect rtc api`,\n          createWarnPayload({\n            operationName: 'RtcRpcApiClient._reconnect',\n            detail: 'connect rpc failed',\n            payload: {\n              reconnectCount: this._reconnectCount,\n            },\n          }),\n          err\n        );\n        throw err;\n      });\n      this._rpc.reconnecting = false;\n      this._reconnectCount = 0;\n\n      this._rpc.resolvePendingRequests();\n      await Promise.all(\n        [...this._subscribingChannelEvents].map(async (s) => {\n          const [appId, channelId] = s.split(':');\n          const offset = this._subscribingChannelVersions[channelId];\n          await this.subscribeChannelEvents({\n            appId,\n            channelId,\n            offset,\n          });\n        })\n      ).catch((e) => {\n        log.warn(\n          'subscribeChannelEvents failed',\n          createWarnPayload({\n            operationName: 'RtcRpcApiClient._reconnect',\n            detail: 'subscribeChannelEvents failed',\n            payload: {\n              reconnectCount: this._reconnectCount,\n            },\n          }),\n          e\n        );\n        throw e;\n      });\n\n      log.warn(\n        '[end] reconnect',\n        createWarnPayload({\n          operationName: 'RtcRpcApiClient._reconnect',\n          detail: 'reconnect finished',\n          payload: {\n            reconnectCount: this._reconnectCount,\n          },\n        })\n      );\n\n      this.onReconnected.emit();\n    } catch (error) {\n      log.warn(\n        '[failed] reconnect',\n        createWarnPayload({\n          operationName: 'RtcRpcApiClient._reconnect',\n          detail: 'reconnect failed',\n          payload: {\n            reconnectCount: this._reconnectCount,\n          },\n        }),\n        error\n      );\n      await this._reconnect();\n    }\n  }\n\n  async updateToken(token: string) {\n    log.debug('token update', { token });\n    this._token = token;\n    await this._updateAuthToken();\n  }\n\n  close() {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n\n    log.debug('closed');\n\n    this._rpc.close();\n\n    this.onClose.emit();\n    this._events.dispose();\n  }\n\n  async health() {\n    const response = await this._httpClient.get('/health');\n\n    return response;\n  }\n\n  /** @throws {@link SkyWayError} */\n  async connect() {\n    log.debug('connect to rtc api rpc', this._domain);\n    await this._rpc\n      .connect({\n        domain: this._domain,\n        token: this.token,\n        secure: this._secure,\n      })\n      .catch((e) => {\n        throw createError({\n          operationName: 'RtcRpcApiClient.connect',\n          info: errors.failedToConnectRtcAPI,\n          error: e,\n          path: log.prefix,\n        });\n      });\n  }\n\n  private _channelSubscribed(appId: string, channelId: string) {\n    this._subscribingChannelEvents.add(appId + ':' + channelId);\n    log.debug('_channelSubscribed', {\n      appId,\n      channelId,\n      _subscribingChannelEvents: [...this._subscribingChannelEvents],\n    });\n  }\n\n  private _isSubscribingChannel(appId: string, channelId: string) {\n    return this._subscribingChannelEvents.has(appId + ':' + channelId);\n  }\n\n  async createChannel({\n    name,\n    metadata,\n    appId,\n  }: {\n    name?: Channel['name'];\n    metadata?: string;\n    appId: string;\n  }) {\n    const { channel } = await this._rpc.request<{\n      channel: { id: string; version: number };\n    }>('createChannel', {\n      name,\n      metadata,\n      appId,\n      authToken: this.token,\n    });\n    this._channelSubscribed(appId, channel.id);\n\n    return channel;\n  }\n\n  async findOrCreateChannel({\n    name,\n    metadata,\n    appId,\n  }: {\n    appId: string;\n    name?: Channel['name'];\n    metadata?: string;\n  }) {\n    const { channel } = await this._rpc.request<{ channel: model.Channel }>(\n      'findOrCreateChannel',\n      {\n        name,\n        metadata,\n        appId,\n        authToken: this.token,\n      }\n    );\n    this._channelSubscribed(appId, channel.id);\n\n    return channel;\n  }\n\n  async getChannel({ appId, id }: { appId: string; id: Channel['id'] }) {\n    const res = await this._rpc.request<{ channel: model.Channel }>(\n      'getChannel',\n      {\n        id,\n        appId,\n        authToken: this.token,\n      }\n    );\n\n    // getChannelは暗黙的にEventがsubscribeされない\n    if (!this._isSubscribingChannel(appId, id)) {\n      this._channelSubscribed(appId, id);\n      await this.subscribeChannelEvents({\n        appId,\n        channelId: id,\n        offset: res.channel.version,\n      });\n    }\n\n    return res.channel;\n  }\n\n  async getChannelByName({\n    name,\n    appId,\n  }: {\n    appId: string;\n    name: Channel['name'];\n  }) {\n    const res = await this._rpc.request<{ channel: model.Channel }>(\n      'getChannelByName',\n      {\n        name,\n        appId,\n        authToken: this.token,\n      }\n    );\n\n    const channelId = res.channel.id;\n    // getChannelByNameは暗黙的にEventがsubscribeされない\n    if (!this._isSubscribingChannel(appId, channelId)) {\n      this._channelSubscribed(appId, channelId);\n      await this.subscribeChannelEvents({\n        appId,\n        channelId,\n        offset: res.channel.version,\n      });\n    }\n\n    return res.channel;\n  }\n\n  async deleteChannel({ id, appId }: { appId: string; id: Channel['id'] }) {\n    await this._rpc.request<{}>('deleteChannel', {\n      id,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async updateChannelMetadata({\n    id,\n    metadata,\n    appId,\n  }: {\n    id: Channel['id'];\n    appId: string;\n    metadata: string;\n  }) {\n    await this._rpc.request<{ version: number }>('updateChannelMetadata', {\n      id,\n      metadata,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async addMember({\n    channelId,\n    name,\n    metadata,\n    subscribeChannelEvents,\n    appId,\n    ttlSec,\n    subtype,\n    type,\n  }: {\n    appId: string;\n    channelId: Channel['id'];\n    name?: Member['name'];\n    metadata?: Member['metadata'];\n    subscribeChannelEvents?: boolean;\n    /**unixtimestamp in seconds */\n    ttlSec?: number;\n    type?: string;\n    subtype?: string;\n  }) {\n    const res = await this._rpc.request<{\n      memberId: model.Member['id'];\n      version: model.Channel['version'];\n    }>('addMember', {\n      channelId,\n      name,\n      metadata,\n      subscribeChannelEvents,\n      appId,\n      ttlSec: ttlSec && parseInt(ttlSec.toString()),\n      authToken: this.token,\n      subtype,\n      type,\n    });\n    return res;\n  }\n\n  async updateMemberTtl(\n    args: {\n      appId: string;\n      channelId: string;\n      memberId: string;\n      /**unixtimestamp in seconds */\n      ttlSec: number;\n    },\n    backoff = new BackOff({ times: 8 })\n  ) {\n    const { appId, channelId, memberId, ttlSec } = args;\n\n    try {\n      await this._rpc.request<{\n        version: model.Channel['version'];\n      }>('updateMemberTtl', {\n        appId,\n        channelId,\n        memberId,\n        ttlSec: ttlSec && parseInt(ttlSec.toString()),\n        authToken: this.token,\n      });\n    } catch (e: any) {\n      if (!backoff.exceeded) {\n        log.warn(\n          'retry updateMemberTtl',\n          createWarnPayload({\n            operationName: 'RtcRpcApiClient.updateMemberTtl',\n            detail: 'retry updateMemberTtl',\n            appId,\n            channelId,\n            memberId,\n            payload: { backoff: backoff.count },\n          }),\n          e\n        );\n        await backoff.wait();\n        await this.updateMemberTtl(args, backoff);\n      } else {\n        const error = new SkyWayError({\n          path: log.prefix,\n          info: errors.failedToUpdateMemberTTL,\n          error: e,\n        });\n        throw error;\n      }\n    }\n  }\n\n  async updateMemberMetadata({\n    channelId,\n    memberId,\n    metadata,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    memberId: string;\n    metadata: string;\n  }) {\n    await this._rpc.request<{ version: number }>('updateMemberMetadata', {\n      channelId,\n      memberId,\n      metadata,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async leaveChannel({\n    channelId,\n    id,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    id: string;\n  }) {\n    await this._rpc.request<{ version: number }>('removeMember', {\n      channelId,\n      id,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async publishStream({\n    appId,\n    channelId,\n    publisherId,\n    contentType,\n    metadata,\n    origin,\n    codecCapabilities,\n    encodings,\n    isEnabled,\n  }: {\n    appId: string;\n    channelId: string;\n    publisherId: string;\n    contentType: ContentType;\n    metadata?: string;\n    origin?: string;\n    codecCapabilities?: Codec[];\n    encodings?: Encoding[];\n    isEnabled?: boolean;\n  }) {\n    const res = await this._rpc.request<{\n      id: Publication['id'];\n      version: number;\n    }>('publishStream', {\n      channelId,\n      publisherId,\n      contentType: contentType[0].toUpperCase() + contentType.slice(1),\n      metadata,\n      origin,\n      codecCapabilities,\n      encodings: encodings?.map((e) => ({\n        id: e.id,\n      })),\n      isEnabled,\n      appId,\n      authToken: this.token,\n    });\n    return { publicationId: res.id };\n  }\n\n  async disablePublication({\n    channelId,\n    publicationId,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    publicationId: string;\n  }) {\n    await this._rpc.request<{\n      version: number;\n    }>('disablePublication', {\n      channelId,\n      appId,\n      publicationId,\n      authToken: this.token,\n    });\n  }\n\n  async enablePublication({\n    channelId,\n    publicationId,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    publicationId: string;\n  }) {\n    await this._rpc.request<{\n      version: number;\n    }>('enablePublication', {\n      channelId,\n      appId,\n      publicationId,\n      authToken: this.token,\n    });\n  }\n\n  async updatePublicationMetadata({\n    channelId,\n    publicationId,\n    appId,\n    metadata,\n  }: {\n    appId: string;\n    channelId: string;\n    publicationId: string;\n    metadata: string;\n  }) {\n    await this._rpc.request<{ version: number }>('updatePublicationMetadata', {\n      channelId,\n      publicationId,\n      metadata,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async unpublishStream({\n    channelId,\n    publicationId,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    publicationId: string;\n  }) {\n    await this._rpc.request<{ version: number }>('unpublishStream', {\n      channelId,\n      publicationId,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  async subscribeStream({\n    channelId,\n    subscriberId,\n    publicationId,\n    appId,\n  }: {\n    appId: string;\n    channelId: Channel['id'];\n    subscriberId: Member['id'];\n    publicationId: Publication['id'];\n  }) {\n    const res = await this._rpc.request<{\n      id: Subscription['id'];\n      version: number;\n    }>('subscribeStream', {\n      channelId,\n      subscriberId,\n      publicationId,\n      appId,\n      authToken: this.token,\n    });\n    return { subscriptionId: res.id };\n  }\n\n  async unsubscribeStream({\n    channelId,\n    subscriptionId,\n    appId,\n  }: {\n    appId: string;\n    channelId: string;\n    subscriptionId: string;\n  }) {\n    await this._rpc.request<{\n      version: number;\n    }>('unsubscribeStream', {\n      channelId,\n      subscriptionId,\n      appId,\n      authToken: this.token,\n    });\n  }\n\n  /**\n   * @returns Date.now()\n   */\n  async getServerUnixtime(\n    args: { appId: string },\n    backoff = new BackOff({ times: 8 })\n  ): Promise<number> {\n    const { appId } = args;\n    try {\n      const res = await this._rpc.request<{\n        unixtime: number;\n      }>('getServerUnixtime', {\n        appId,\n        authToken: this.token,\n      });\n      return res.unixtime;\n    } catch (error) {\n      if (!backoff.exceeded) {\n        log.warn(\n          createWarnPayload({\n            operationName: 'RtcRpcApiClient.getServerUnixtime',\n            detail: 'retry getServerUnixtime',\n            appId,\n            payload: { backoff: backoff.count },\n          }),\n          error\n        );\n        await backoff.wait();\n        return this.getServerUnixtime(args, backoff);\n      } else {\n        throw error;\n      }\n    }\n  }\n\n  /**@description [japanese] 現在のセッションに関連付けられている SkyWayAuthToken を更新します */\n  private async _updateAuthToken() {\n    await this._rpc.request<{\n      version: number;\n    }>('updateAuthToken', {\n      authToken: this.token,\n    });\n  }\n\n  /**\n   * @description\n   * - 指定した Channel の Event を Subscribe していなければ Event が生じるたびに Notification が送られるようになります。\n   * - Subscribeした時点で、指定された offset (default to 0) の version から、最新の version までのイベントが送られます。\n   */\n  async subscribeChannelEvents({\n    appId,\n    channelId,\n    offset,\n  }: {\n    appId: string;\n    channelId: Channel['id'];\n    offset?: number;\n  }) {\n    try {\n      log.debug('[start] subscribeChannelEvents', { offset });\n      await this._rpc.request('subscribeChannelEvents', {\n        appId,\n        authToken: this.token,\n        channelId,\n        offset,\n      });\n      log.debug('[end] subscribeChannelEvents', { offset });\n    } catch (error: any) {\n      if (\n        error instanceof SkyWayError &&\n        error.info.name === errors.connectionDisconnected.name\n      ) {\n        log.warn(\n          'reconnect happened while subscribeChannelEvents. retry',\n          createWarnPayload({\n            operationName: 'RtcRpcApiClient.subscribeChannelEvents',\n            detail: 'reconnect happened while subscribeChannelEvents. retry',\n            appId,\n            channelId,\n            payload: { offset },\n          }),\n          error\n        );\n        await this.subscribeChannelEvents({ appId, channelId, offset });\n      } else {\n        log.error(\n          '[failed] subscribeChannelEvents',\n          createError({\n            operationName: 'RtcRpcApiClient.subscribeChannelEvents',\n            info: {\n              ...errors.internalError,\n              detail: 'subscribeChannelEvents failed',\n            },\n            path: log.prefix,\n            error,\n            payload: { offset },\n            appId,\n            channelId,\n          })\n        );\n        throw error;\n      }\n    }\n  }\n}\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import { LogFormat, LogLevel } from '@skyway-sdk/common';\nimport { RtcRpcApiConfig } from '@skyway-sdk/rtc-rpc-api-client';\nimport deepmerge from 'deepmerge';\n\nexport { RtcRpcApiConfig };\n\n/**@internal */\nexport type RtcApiConfig = RtcRpcApiConfig & { eventSubscribeTimeout?: number };\n\nexport interface ConfigOptions {\n  rtcApi: RtcApiConfig;\n  log?: Partial<{ level: LogLevel; format: LogFormat }>;\n}\n\nexport type TurnPolicy = 'enable' | 'disable' | 'turnOnly';\n\nexport class Config implements ConfigOptions {\n  rtcApi: Required<ConfigOptions['rtcApi']> = {\n    domain: 'rtc-api.skyway.ntt.com',\n    timeout: 30_000,\n    secure: true,\n    eventSubscribeTimeout: 5000,\n  };\n  log: Required<ConfigOptions['log']> = {\n    level: 'error',\n    format: 'object',\n  };\n\n  constructor(options: Partial<ConfigOptions> = {}) {\n    Object.assign(this, deepmerge(this, options));\n  }\n}\n","import { errors as rpcError } from '@skyway-sdk/rtc-rpc-api-client';\n\nexport const errors = {\n  ...rpcError,\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  notFound: { name: 'notFound', detail: '', solution: '' },\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  internalError: {\n    name: 'internalError',\n    detail: '',\n    solution: '',\n  },\n  invalidRequestParameter: {\n    name: 'invalidRequestParameter',\n    detail: 'リクエストのパラメーターが正しくありません',\n    solution: 'API仕様を確認し正しい値を入力してください',\n  },\n  insufficientPermissions: {\n    name: 'insufficientPermissions',\n    detail: 'tokenの権限が不足しています Token permissions are insufficient',\n    solution:\n      'Tokenに必要な権限を加えてください Add the necessary permissions to the Token',\n  },\n  publicationNestedTooMuch: {\n    name: 'publicationNestedTooMuch',\n    detail:\n      'originが設定されているPublicationをPublicationのoriginに指定することは出来ません It is not possible to specify the origin of a publication for which Origin has been set',\n    solution:\n      '仕様上の制約なので解決法はありません There is no solution because it is a specification limitation',\n  },\n  channelNotFound: {\n    name: 'channelNotFound',\n    detail:\n      '参照しようとしたchannelは存在しません The channel you tried to reference does not exist.',\n    solution:\n      'channelIdやchannelNameが正しいか確かめてください Make sure that the Channel id and channel name are correct.',\n  },\n  memberNotFound: {\n    name: 'memberNotFound',\n    detail:\n      '参照しようとしたMemberは存在しません The member you tried to reference does not exist.',\n    solution:\n      'memberIdやmemberNameが正しいか確かめてください Make sure that the member id and member name is correct.',\n  },\n  publicationNotFound: {\n    name: 'publicationNotFound',\n    detail:\n      '参照しようとしたPublicationは存在しません The Publication you tried to reference does not exist.',\n    solution:\n      'publicationIdが正しいか確かめてください Make sure that the publication id is correct.',\n  },\n  subscriptionNotFound: {\n    name: 'subscriptionNotFound',\n    detail:\n      '参照しようとしたSubscriptionは存在しません The Subscription you tried to reference does not exist.',\n    solution:\n      'subscriptionIdが正しいか確かめてください Make sure that the subscription id is correct.',\n  },\n  operationConflicted: {\n    name: 'operationConflicted',\n    detail:\n      '与えられた名前のチャネルは、今までの競合する要求によって、すでに作成されています The channel with the given name has already been created by a conflicting request up to now',\n    solution: '別の名前を使ってchannelを作成してください',\n  },\n  channelNameDuplicated: {\n    name: 'channelNameDuplicated',\n    detail:\n      'その名前のChannelはすでに存在します A channel with that name already exists',\n    solution: '別の名前を使ってchannelを作成してください',\n  },\n  memberNameDuplicated: {\n    name: 'memberNameDuplicated',\n    detail:\n      'その名前のMemberはすでに存在します A member with that name already exists',\n    solution: '別の名前を使ってmemberを作成してください',\n  },\n  subscriptionAlreadyExists: {\n    name: 'subscriptionAlreadyExists',\n    detail: 'PublicationはすでにSubscribeされています',\n    solution: 'publicationIdが正しいか確かめてください',\n  },\n  rateLimitExceeded: {\n    name: 'rateLimitExceeded',\n    detail: 'リソースを規定仕様以上に消費しています',\n    solution: 'リソースの消費量を減らしてください',\n  },\n  authTokenExpired: {\n    name: 'authTokenExpired',\n    detail: 'AuthTokenが期限切れです',\n    solution: '適切なExpを設定したAuthTokenを使用してください',\n  },\n  serverBusy: {\n    name: 'serverBusy',\n    detail: 'サービス側の問題です',\n    solution: 'しばらく時間を置いて再試行してください',\n  },\n} as const;\n\nexport type ErrorName = keyof typeof errors;\n\nexport const ErrorNames = Object.keys(errors) as ErrorName[];\n","import { ErrorInfo, SkyWayError } from '@skyway-sdk/common';\n\nexport function createWarnPayload({\n  appId,\n  detail,\n  channelId,\n  operationName,\n  payload,\n}: {\n  operationName: string;\n  channelId?: string;\n  appId?: string;\n  detail: string;\n  payload?: any;\n}) {\n  const warn: any = {\n    operationName,\n    payload,\n    detail,\n    appId,\n    channelId,\n  };\n\n  return warn;\n}\n\nexport function createError({\n  operationName,\n  info,\n  error,\n  path,\n  channelId,\n  appId,\n  payload,\n}: {\n  operationName: string;\n  info: ErrorInfo;\n  error?: Error;\n  path: string;\n  payload?: any;\n  channelId?: string;\n  appId?: string;\n}) {\n  return new SkyWayError({\n    error,\n    info: info,\n    payload: { payload, operationName, channelId, appId },\n    path,\n  });\n}\n","import { Event, Logger, SkyWayError } from '@skyway-sdk/common';\nimport { Channel, Member, Publication, Subscription } from '@skyway-sdk/model';\nimport {\n  errors as rpcErrors,\n  RtcRpcApiClient,\n} from '@skyway-sdk/rtc-rpc-api-client';\nimport { SkyWayAuthToken } from '@skyway-sdk/token';\n\nimport {\n  ChannelInit,\n  ChannelQuery,\n  MemberInit,\n  PublicationInit,\n  RtcApi,\n  SubscriptionInit,\n} from '../domain/api';\nimport { errors } from '../errors';\nimport { createError } from '../util';\n\nconst log = new Logger('packages/rtc-api-client/src/infrastructure/api.ts');\n\nexport class RtcApiImpl implements RtcApi {\n  closed = false;\n\n  readonly onClose = new Event<void>();\n  readonly onFatalError = new Event<SkyWayError>();\n\n  private _token = SkyWayAuthToken.Decode(this._client.token);\n\n  constructor(private _client: RtcRpcApiClient) {\n    _client.onClose.once(() => {\n      this.close();\n    });\n    _client.onFatalError.add((e) => {\n      this.onFatalError.emit(e);\n    });\n  }\n\n  /** @throws {@link SkyWayError} */\n  async connect() {\n    await this._client.connect();\n  }\n\n  async updateAuthToken(token: string) {\n    this._token = SkyWayAuthToken.Decode(token);\n    await this._client.updateToken(token);\n  }\n\n  close(): void {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n\n    log.debug('closed');\n\n    this._client.close();\n    this.onClose.emit();\n\n    this.onClose.removeAllListeners();\n  }\n\n  private _commonError(method: string, code: number, detail: any) {\n    switch (code) {\n      case -32602:\n        return createError({\n          operationName: method,\n          info: errors.invalidRequestParameter,\n          path: log.prefix,\n          error: detail,\n        });\n      case -32603:\n        return createError({\n          operationName: method,\n          info: errors.internalError,\n          path: log.prefix,\n          error: detail,\n        });\n      case 403:\n      case 4030:\n        return createError({\n          operationName: method,\n          info: errors.insufficientPermissions,\n          path: log.prefix,\n          error: detail,\n        });\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  async createChannel(\n    appId: string,\n    channelInit: ChannelInit\n  ): Promise<Channel> {\n    const { id } = await this._client\n      .createChannel({\n        appId,\n        name: channelInit.name,\n        metadata: channelInit.metadata,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.createChannel',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.createChannel',\n              path: log.prefix,\n              info: errors.channelNotFound,\n              error: e,\n            });\n          case 409:\n            throw createError({\n              operationName: 'RtcApiImpl.createChannel',\n              path: log.prefix,\n              info: errors.channelNameDuplicated,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.createChannel',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n    const res = await this.getChannel(appId, { id });\n    return res;\n  }\n\n  async getChannel(\n    appId: string,\n    { name, id }: ChannelQuery\n  ): Promise<Channel> {\n    if (id) {\n      return await this._client.getChannel({ appId, id }).catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.getChannel',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.getChannel',\n              path: log.prefix,\n              info: errors.channelNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.getChannel',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n    }\n    if (name) {\n      return await this._client.getChannelByName({ appId, name }).catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.getChannel',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'getChannel',\n              path: log.prefix,\n              info: errors.channelNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'getChannel',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n    }\n\n    throw createError({\n      operationName: 'RtcApiImpl.createChannel',\n      path: log.prefix,\n      info: errors.invalidRequestParameter,\n    });\n  }\n\n  async findOrCreateChannel(\n    appId: string,\n    query: ChannelInit\n  ): Promise<Channel> {\n    return this._client.findOrCreateChannel({ ...query, appId }).catch((e) => {\n      const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n      const error = this._commonError(\n        'RtcApiImpl.findOrCreateChannel',\n        info?.error?.code ?? -1,\n        e\n      );\n      if (error) {\n        throw error;\n      }\n\n      if (query.name && info?.error?.code === 409) {\n        return this.getChannel(appId, { name: query.name });\n      }\n\n      switch (info?.error?.code) {\n        case 404:\n          throw createError({\n            operationName: 'RtcApiImpl.findOrCreateChannel',\n            path: log.prefix,\n            info: errors.channelNotFound,\n            error: e,\n          });\n        case 409:\n          throw createError({\n            operationName: 'RtcApiImpl.findOrCreateChannel',\n            path: log.prefix,\n            info: errors.channelNameDuplicated,\n            error: e,\n          });\n        default:\n          throw createError({\n            operationName: 'RtcApiImpl.findOrCreateChannel',\n            path: log.prefix,\n            info: errors.internalError,\n            error: e,\n          });\n      }\n    });\n  }\n\n  async deleteChannel(appId: string, id: Channel['id']): Promise<void> {\n    await this._client.deleteChannel({ appId, id }).catch((e) => {\n      const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n      const error = this._commonError(\n        'RtcApiImpl.deleteChannel',\n        info?.error?.code ?? -1,\n        e\n      );\n      if (error) {\n        throw error;\n      }\n      switch (info?.error?.code) {\n        case 404:\n          throw createError({\n            operationName: 'RtcApiImpl.deleteChannel',\n            path: log.prefix,\n            info: errors.channelNotFound,\n            error: e,\n          });\n        default:\n          throw createError({\n            operationName: 'RtcApiImpl.deleteChannel',\n            path: log.prefix,\n            info: errors.internalError,\n            error: e,\n          });\n      }\n    });\n  }\n\n  async updateChannelMetadata(\n    appId: string,\n    id: Channel['id'],\n    metadata: string\n  ): Promise<void> {\n    await this._client\n      .updateChannelMetadata({ appId, id, metadata })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.updateChannelMetadata',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.updateChannelMetadata',\n              path: log.prefix,\n              info: errors.channelNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.updateChannelMetadata',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  async join(appId: string, channelId: Channel['id'], memberInit: MemberInit) {\n    const { memberId } = await this._client\n      .addMember({\n        appId,\n        channelId,\n        name: memberInit.name,\n        metadata: memberInit.metadata,\n        ttlSec: memberInit.ttlSec,\n        type: memberInit.type,\n        subtype: memberInit.subtype,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.addMember',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.addMember',\n              path: log.prefix,\n              info: errors.channelNotFound,\n              error: e,\n            });\n          case 409:\n            throw createError({\n              operationName: 'RtcApiImpl.addMember',\n              path: log.prefix,\n              info: errors.memberNameDuplicated,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.addMember',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n\n    const member: Member = {\n      id: memberId,\n      name: memberInit.name,\n      type: memberInit.type,\n      subtype: memberInit.subtype,\n      metadata: memberInit.metadata,\n    };\n    return member;\n  }\n\n  async updateMemberTtl(\n    appId: string,\n    channelId: Channel['id'],\n    memberId: Member['id'],\n    ttlSec: number\n  ): Promise<void> {\n    await this._client\n      .updateMemberTtl({\n        appId,\n        channelId,\n        memberId,\n        ttlSec,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.updateMemberTtl',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.updateMemberTtl',\n              path: log.prefix,\n              info: errors.memberNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.updateMemberTtl',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  /**\n   * @returns Date.now()\n   */\n  async getServerUnixtime(appId: string): Promise<number> {\n    return await this._client\n      .getServerUnixtime({\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.getServerUnixtime',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        throw createError({\n          operationName: 'RtcApiImpl.getServerUnixtime',\n          path: log.prefix,\n          info: errors.internalError,\n          error: e,\n        });\n      });\n  }\n\n  async updateMemberMetadata(\n    appId: string,\n    channelId: Channel['id'],\n    memberId: Member['id'],\n    metadata: string\n  ): Promise<void> {\n    await this._client\n      .updateMemberMetadata({\n        appId,\n        channelId,\n        memberId,\n        metadata,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.updateMemberMetadata',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.updateMemberMetadata',\n              path: log.prefix,\n              info: errors.memberNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.updateMemberMetadata',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  async leave(\n    appId: string,\n    channelId: Channel['id'],\n    memberId: Member['id']\n  ): Promise<void> {\n    await this._client\n      .leaveChannel({\n        channelId,\n        id: memberId,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.leaveChannel',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.leaveChannel',\n              path: log.prefix,\n              info: errors.memberNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.leaveChannel',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  /**@throws {@link SkyWayError} */\n  async publish(appId: string, init: PublicationInit): Promise<string> {\n    const { publicationId } = await this._client\n      .publishStream({\n        channelId: init.channel,\n        publisherId: init.publisher,\n        contentType: init.contentType,\n        metadata: init.metadata,\n        origin: init.origin,\n        codecCapabilities: init.codecCapabilities,\n        encodings: init.encodings,\n        isEnabled: init.isEnabled,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.publish',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.publish',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n    return publicationId;\n  }\n\n  async updatePublicationMetadata(\n    appId: string,\n    channelId: Channel['id'],\n    publicationId: Publication['id'],\n    metadata: string\n  ): Promise<void> {\n    await this._client\n      .updatePublicationMetadata({\n        channelId,\n        publicationId,\n        metadata,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.updatePublicationMetadata',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.updatePublicationMetadata',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.updatePublicationMetadata',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  async disablePublication(\n    appId: string,\n    channelId: Channel['id'],\n    publicationId: Publication['id']\n  ): Promise<void> {\n    await this._client\n      .disablePublication({\n        channelId,\n        publicationId,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.disablePublication',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.disablePublication',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.disablePublication',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  async enablePublication(\n    appId: string,\n    channelId: Channel['id'],\n    publicationId: Publication['id']\n  ): Promise<void> {\n    await this._client\n      .enablePublication({\n        channelId,\n        publicationId,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.enablePublication',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.enablePublication',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.enablePublication',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  async unpublish(\n    appId: string,\n    channelId: Channel['id'],\n    publicationId: Publication['id']\n  ): Promise<void> {\n    await this._client\n      .unpublishStream({ channelId, publicationId, appId })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.unpublishStream',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.unpublishStream',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.unpublishStream',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n\n  /**@throws {@link SkyWayError} */\n  async subscribe(appId: string, init: SubscriptionInit): Promise<string> {\n    const { subscriptionId } = await this._client\n      .subscribeStream({\n        channelId: init.channel.id,\n        subscriberId: init.subscriber.id,\n        publicationId: init.publication.id,\n        appId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.subscribeStream',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.subscribeStream',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          case 409:\n            throw createError({\n              operationName: 'RtcApiImpl.subscribeStream',\n              path: log.prefix,\n              info: errors.subscriptionAlreadyExists,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.subscribeStream',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n    return subscriptionId;\n  }\n\n  async unsubscribe(\n    appId: string,\n    channelId: Channel['id'],\n    subscriptionId: Subscription['id']\n  ): Promise<void> {\n    await this._client\n      .unsubscribeStream({\n        appId,\n        channelId,\n        subscriptionId,\n      })\n      .catch((e) => {\n        const { info } = e as { info: typeof rpcErrors.rpcResponseError };\n        const error = this._commonError(\n          'RtcApiImpl.unsubscribeStream',\n          info?.error?.code ?? -1,\n          e\n        );\n        if (error) {\n          throw error;\n        }\n        switch (info?.error?.code) {\n          case 404:\n            throw createError({\n              operationName: 'RtcApiImpl.unsubscribeStream',\n              path: log.prefix,\n              info: errors.publicationNotFound,\n              error: e,\n            });\n          default:\n            throw createError({\n              operationName: 'RtcApiImpl.unsubscribeStream',\n              path: log.prefix,\n              info: errors.internalError,\n              error: e,\n            });\n        }\n      });\n  }\n}\n","import { Event, Logger } from '@skyway-sdk/common';\nimport model from '@skyway-sdk/model';\nimport { ChannelEvent, RtcRpcApiClient } from '@skyway-sdk/rtc-rpc-api-client';\n\nimport { RtcApiConfig } from '../config';\nimport { EventObserver } from '../domain/eventObserver';\nimport { errors } from '../errors';\nimport { createError, createWarnPayload } from '../util';\n\nconst log = new Logger(\n  'packages/rtc-api-client/src/infrastructure/eventObserver.ts'\n);\n\nexport class EventObserverImpl implements EventObserver {\n  readonly onEvent = new Event<ChannelEvent>();\n  private _disposer: (() => void)[] = [];\n\n  constructor(\n    appId: string,\n    client: RtcRpcApiClient,\n    channelDto: model.Channel,\n    config: RtcApiConfig\n  ) {\n    const eventBuffer = new EventJitterBuffer(\n      channelDto.version,\n      async (expectNextVersion) => {\n        // ここで回復できなければシステム継続不能\n\n        await client.subscribeChannelEvents({\n          appId,\n          channelId: channelDto.id,\n          offset: expectNextVersion,\n        });\n\n        await new Promise((r) => setTimeout(r, config.eventSubscribeTimeout));\n        if (eventBuffer.packetLostHappened) {\n          log.error(\n            createError({\n              operationName: 'EventObserverImpl.eventJitterBuffer',\n              info: {\n                ...errors.internalError,\n                detail: 'failed to resolve event lost',\n              },\n              channelId: channelDto.id,\n              appId,\n              path: log.prefix,\n            })\n          );\n        }\n      }\n    );\n    this._disposer = [\n      client.onEvent.add(async ({ channelId, event }) => {\n        if (channelId === channelDto.id) {\n          eventBuffer.push({ event, version: event.data.channel.version });\n        }\n      }).removeListener,\n      eventBuffer.onEvent.add((e) => {\n        this.onEvent.emit(e as ChannelEvent);\n      }).removeListener,\n    ];\n  }\n\n  dispose() {\n    this._disposer.forEach((d) => d());\n    this.onEvent.removeAllListeners();\n  }\n}\n\nexport interface EventFrame {\n  version: number;\n  event: unknown;\n}\n\n/**@internal */\nexport class EventJitterBuffer {\n  readonly onEvent = new Event<unknown>();\n\n  private eventBuffer: { [version: number]: EventFrame } = {};\n\n  packetLifeTimer?: any;\n  packetLostHappened = false;\n\n  constructor(\n    private presentVersion: number,\n    private onPacketLost: (expectNextVersion: number) => Promise<void>,\n    private packetLifetime = 1000\n  ) {}\n\n  private get expectNextVersion() {\n    return this.presentVersion + 1;\n  }\n\n  push(eventFrame: EventFrame) {\n    const incomingVersion = eventFrame.version;\n\n    if (incomingVersion < this.expectNextVersion) {\n      log.debug('duplicate event', {\n        ...eventFrame,\n        presentVersion: this.presentVersion,\n      });\n      return;\n    }\n\n    if (incomingVersion > this.expectNextVersion) {\n      log.debug('maybe miss order event received', {\n        ...eventFrame,\n        presentVersion: this.presentVersion,\n      });\n      this.eventBuffer[incomingVersion] = eventFrame;\n\n      this.handlePacketLifetime();\n      return;\n    }\n\n    // expected version event received\n\n    if (this.packetLostHappened) {\n      log.warn(\n        'event packetLost resolved',\n        createWarnPayload({\n          operationName: 'EventJitterBuffer.push',\n          detail: 'event packetLost resolved',\n          payload: { eventFrame },\n        })\n      );\n      this.packetLostHappened = false;\n    }\n    this.eventBuffer[incomingVersion] = eventFrame;\n    this.resolveEvents();\n  }\n\n  private handlePacketLifetime() {\n    const [oldestBufferedEvent] = Object.keys(this.eventBuffer)\n      .sort()\n      .map((key) => this.eventBuffer[Number(key)]);\n\n    if (this.packetLifeTimer == undefined && oldestBufferedEvent) {\n      log.debug('set event packetLost timer', {\n        ...oldestBufferedEvent,\n        presentVersion: this.presentVersion,\n      });\n\n      this.packetLifeTimer = setTimeout(async () => {\n        if (this.presentVersion < oldestBufferedEvent.version) {\n          log.warn(\n            'event packetLost',\n            createWarnPayload({\n              operationName: 'EventJitterBuffer.handlePacketLifetime',\n              detail: 'eventPacket lost',\n              payload: {\n                oldestBufferedEvent,\n                eventBufferLength: Object.keys(this.eventBuffer).length,\n                presentVersion: this.presentVersion,\n              },\n            })\n          );\n\n          if (this.packetLostHappened) {\n            return;\n          } else {\n            this.packetLostHappened = true;\n            await this.onPacketLost(this.expectNextVersion);\n          }\n        }\n\n        this.packetLifeTimer = undefined;\n        this.handlePacketLifetime();\n      }, this.packetLifetime);\n    }\n  }\n\n  private resolveEvents() {\n    const resolve: EventFrame[] = [];\n\n    for (let i = this.expectNextVersion; ; i++) {\n      const frame = this.eventBuffer[i];\n      if (frame) {\n        resolve.push(frame);\n        delete this.eventBuffer[i];\n      } else {\n        break;\n      }\n    }\n    if (resolve.length > 0) {\n      this.presentVersion = resolve.slice(-1)[0].version;\n\n      resolve.forEach((frame) => {\n        this.onEvent.emit(frame.event);\n      });\n    }\n  }\n}\n","import { Logger, SkyWayError } from '@skyway-sdk/common';\nimport { Event } from '@skyway-sdk/common';\nimport { Channel } from '@skyway-sdk/model';\nimport { RtcRpcApiClient } from '@skyway-sdk/rtc-rpc-api-client';\n\nimport { channelFactory, ChannelInit, RtcApi } from '.';\nimport { Config, ConfigOptions } from './config';\nimport { ChannelQuery } from './domain/api';\nimport { EventObserver } from './domain/eventObserver';\nimport { RtcApiImpl } from './infrastructure/api';\nimport { EventObserverImpl } from './infrastructure/eventObserver';\n\nconst log = new Logger('packages/rtc-api-client/src/client.ts');\n\nexport type RtcApiClientArgs = {\n  appId: string;\n  token: string;\n} & Partial<ConfigOptions>;\n\nexport class RtcApiClient {\n  /** @throws {@link SkyWayError} */\n  static async Create(args: RtcApiClientArgs): Promise<RtcApiClient> {\n    const config = new Config(args);\n    if (config.log) {\n      Logger.level = config.log.level;\n      Logger.format = config.log.format;\n    }\n    log.debug('RtcApiClient spawned', config);\n\n    const rpc = new RtcRpcApiClient({\n      ...config.rtcApi,\n      token: args.token,\n      log: config.log,\n    });\n\n    const api = new RtcApiImpl(rpc);\n    await api.connect();\n\n    const eventObserverFactory = (appId: string, channel: Channel) =>\n      new EventObserverImpl(appId, rpc, channel, config.rtcApi);\n\n    return new RtcApiClient(args.appId, config, api, eventObserverFactory);\n  }\n\n  closed = false;\n\n  readonly onFatalError = new Event<SkyWayError>();\n\n  private constructor(\n    readonly appId: string,\n    readonly config: Config,\n    private apiClient: RtcApi,\n    private _eventObserverFactory: (\n      appId: string,\n      channel: Channel\n    ) => EventObserver\n  ) {\n    this.apiClient.onFatalError.pipe(this.onFatalError);\n  }\n\n  async updateAuthToken(token: string) {\n    await this.apiClient.updateAuthToken(token);\n  }\n\n  /**ms */\n  async getServerUnixtimeInMs() {\n    return this.apiClient.getServerUnixtime(this.appId);\n  }\n\n  /**sec */\n  async getServerUnixtimeInSec() {\n    return Math.floor((await this.getServerUnixtimeInMs()) / 1000);\n  }\n\n  /**@throws {@link SkyWayError} */\n  async createChannel(init: ChannelInit = {}) {\n    log.debug('[start] apiClient.createChannel', { init });\n    const channelDto = await this.apiClient\n      .createChannel(this.appId, init)\n      .catch((e) => {\n        log.debug('[failed] apiClient.createChannel', { init, e });\n        throw e;\n      });\n    log.debug('[end] apiClient.createChannel', { init, channelDto });\n\n    const channel = channelFactory(\n      this.appId,\n      this._eventObserverFactory(this.appId, channelDto),\n      this.apiClient,\n      channelDto,\n      this.config\n    );\n    return channel;\n  }\n\n  async findChannel(query: ChannelQuery) {\n    log.debug('[start] apiClient.getChannel', { query });\n    const channelDto = await this.apiClient\n      .getChannel(this.appId, query)\n      .catch((e) => {\n        log.debug('[failed] apiClient.getChannel', { query, e });\n        throw e;\n      });\n\n    const channel = channelFactory(\n      this.appId,\n      this._eventObserverFactory(this.appId, channelDto),\n      this.apiClient,\n      channelDto,\n      this.config\n    );\n    log.debug('[end] apiClient.getChannel', { channelId: channel.id });\n\n    return channel;\n  }\n\n  async findOrCreateChannel(query: ChannelInit) {\n    log.debug('[start] apiClient.findOrCreateChannel', { query });\n    const channelDto = await this.apiClient\n      .findOrCreateChannel(this.appId, query)\n      .catch((e) => {\n        log.debug('[failed] apiClient.findOrCreateChannel', { query, e });\n        throw e;\n      });\n    log.debug('[end] apiClient.findOrCreateChannel', { query });\n\n    const channel = channelFactory(\n      this.appId,\n      this._eventObserverFactory(this.appId, channelDto),\n      this.apiClient,\n      channelDto,\n      this.config\n    );\n    return channel;\n  }\n\n  deleteChannel(channelId: Channel['id']) {\n    return this.apiClient.deleteChannel(this.appId, channelId);\n  }\n\n  close() {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n\n    log.debug('closed', { appid: this.appId });\n    this.apiClient.close();\n  }\n}\n","import { Events, Logger } from '@skyway-sdk/common';\nimport model, {\n  Channel,\n  Member,\n  Publication,\n  Subscription,\n} from '@skyway-sdk/model';\nimport {\n  PublicationDisabledEvent,\n  PublicationEnabledEvent,\n  PublicationSummary,\n  StreamSubscribedEvent,\n  StreamUnsubscribedEvent,\n  SubscriptionSummary,\n} from '@skyway-sdk/rtc-rpc-api-client';\nimport {\n  PublicationMetadataUpdatedEvent,\n  StreamPublishedEvent,\n  StreamUnpublishedEvent,\n} from '@skyway-sdk/rtc-rpc-api-client';\n\nimport { Config } from '../config';\nimport { errors } from '../errors';\nimport * as event from '../model/event';\nimport { createError } from '../util';\nimport { MemberInit, PublicationInit, RtcApi, SubscriptionInit } from './api';\nimport { EventObserver } from './eventObserver';\n\nconst log = new Logger('packages/rtc-api-client/src/domain/channel.ts');\n\nexport class ChannelImpl implements model.Channel {\n  readonly id: string;\n  readonly name: string;\n  metadata?: string;\n  members: model.Member[];\n  getMember(id: string) {\n    return this.members.find((s) => s.id === id);\n  }\n  addMember(member: model.Member) {\n    const exist = this.getMember(member.id);\n    if (exist) {\n      return exist;\n    }\n    this.members.push(member);\n    return member;\n  }\n  deleteMember(id: string) {\n    this.members = this.members.filter((m) => m.id !== id);\n  }\n  publications: model.Publication[];\n  getPublication(id: string) {\n    return this.publications.find((s) => s.id === id);\n  }\n  addPublication(summary: PublicationSummary) {\n    const exist = this.getPublication(summary.id);\n    if (exist) {\n      return exist;\n    }\n    const publication: Publication = {\n      ...summary,\n      channelId: this.id,\n      codecCapabilities: summary.codecCapabilities ?? [],\n      encodings: summary.encodings ?? [],\n    };\n    this.publications.push(publication);\n    return publication;\n  }\n  deletePublication(publicationId: string) {\n    this.publications = this.publications.filter((p) => p.id !== publicationId);\n  }\n  subscriptions: model.Subscription[];\n  getSubscription(id: string) {\n    return this.subscriptions.find((s) => s.id === id);\n  }\n  addSubscription(summary: SubscriptionSummary) {\n    const exist = this.getSubscription(summary.id);\n    if (exist) {\n      return exist;\n    }\n\n    const publication = this.getPublication(summary.publicationId)!;\n\n    const subscription: Subscription = {\n      ...summary,\n      channelId: this.id,\n      publisherId: publication.publisherId,\n      contentType: publication.contentType,\n    };\n    this.subscriptions.push(subscription);\n    return subscription;\n  }\n  deleteSubscription(subscriptionId: string) {\n    this.subscriptions = this.subscriptions.filter(\n      (s) => s.id !== subscriptionId\n    );\n  }\n  version: number;\n  disposed = false;\n\n  // events\n  private readonly _events = new Events();\n  readonly onClosed = this._events.make<event.ChannelClosedEvent>();\n  readonly onMetadataUpdated =\n    this._events.make<event.ChannelMetadataUpdatedEvent>();\n  readonly onMemberListChanged = this._events.make<event.ChangedEvent>();\n  readonly onMemberJoined = this._events.make<event.MemberJoinedEvent>();\n  readonly onMemberLeft = this._events.make<event.MemberLeftEvent>();\n  readonly onMemberMetadataUpdated =\n    this._events.make<event.MemberMetadataUpdatedEvent>();\n  readonly onPublicationDisabled =\n    this._events.make<event.PublicationDisabledEvent>();\n  readonly onPublicationEnabled =\n    this._events.make<event.PublicationEnabledEvent>();\n  readonly onPublicationListChanged = this._events.make<event.ChangedEvent>();\n  readonly onStreamPublished = this._events.make<event.StreamPublishedEvent>();\n  readonly onStreamUnpublished =\n    this._events.make<event.StreamUnpublishedEvent>();\n  readonly onPublicationMetadataUpdated =\n    this._events.make<event.PublicationMetadataUpdatedEvent>();\n  readonly onSubscriptionListChanged = this._events.make<event.ChangedEvent>();\n  readonly onPublicationSubscribed =\n    this._events.make<event.StreamSubscribedEvent>();\n  readonly onPublicationUnsubscribed =\n    this._events.make<event.StreamUnsubscribedEvent>();\n\n  constructor(\n    readonly appId: string,\n    {\n      id,\n      name,\n      members,\n      metadata,\n      publications,\n      subscriptions,\n      version,\n    }: model.Channel,\n    private eventObserver: EventObserver,\n    private apiClient: RtcApi,\n    private config: Config\n  ) {\n    this.id = id;\n    this.name = name;\n    this.metadata = metadata;\n    this.members = members;\n    this.publications = publications;\n    this.subscriptions = subscriptions;\n    this.version = version;\n\n    eventObserver.onEvent.add((event) => {\n      log.debug('received event: ', event);\n      this.version = event.data.channel.version;\n\n      try {\n        switch (event.type) {\n          case 'ChannelDeleted':\n            {\n              this._channelClosed();\n            }\n            break;\n          case 'ChannelMetadataUpdated':\n            {\n              this._channelMetadataUpdated(event.data);\n            }\n            break;\n          case 'MemberAdded':\n            {\n              this._memberJoined(event.data);\n            }\n            break;\n          case 'MemberRemoved':\n            {\n              this._memberLeft(event.data);\n            }\n            break;\n          case 'MemberMetadataUpdated':\n            {\n              this._memberMetadataUpdated(event.data);\n            }\n            break;\n          case 'StreamPublished':\n            {\n              this._streamPublished(event.data);\n            }\n            break;\n          case 'StreamUnpublished':\n            {\n              this._streamUnpublished(event.data);\n            }\n            break;\n          case 'PublicationMetadataUpdated':\n            {\n              this._publicationMetadataUpdated(event.data);\n            }\n            break;\n          case 'PublicationDisabled':\n            {\n              this._publicationDisabled(event.data);\n            }\n            break;\n          case 'PublicationEnabled':\n            {\n              this._publicationEnabled(event.data);\n            }\n            break;\n          case 'StreamSubscribed':\n            {\n              this._streamSubscribed(event.data);\n            }\n            break;\n          case 'StreamUnsubscribed':\n            {\n              this._streamUnsubscribed(event.data);\n            }\n            break;\n        }\n      } catch (error) {\n        log.error(error);\n      }\n    });\n\n    apiClient.onClose.once(() => {\n      this.dispose();\n    });\n  }\n\n  private _channelClosed() {\n    this.onClosed.emit({});\n  }\n\n  private _channelMetadataUpdated(event: event.ChannelMetadataUpdatedEvent) {\n    this.metadata = event.channel.metadata;\n    this.onMetadataUpdated.emit(event);\n  }\n\n  private _memberJoined(event: event.MemberJoinedEvent) {\n    this.addMember(event.member);\n    this.onMemberJoined.emit(event);\n    this.onMemberListChanged.emit({});\n  }\n\n  private _memberLeft(event: event.MemberLeftEvent) {\n    const member = this.getMember(event.member.id);\n    if (!member) {\n      throw createError({\n        operationName: 'ChannelImpl._memberLeft',\n        info: errors.memberNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n\n    this.deleteMember(member.id);\n    this.onMemberLeft.emit({ member });\n    this.onMemberListChanged.emit({});\n  }\n\n  private _memberMetadataUpdated(event: event.MemberMetadataUpdatedEvent) {\n    const member = this.getMember(event.member.id);\n    if (!member) {\n      throw createError({\n        operationName: 'ChannelImpl._memberMetadataUpdated',\n        info: errors.memberNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n\n    member.metadata = event.member.metadata;\n    this.onMemberMetadataUpdated.emit(event);\n  }\n\n  private _streamPublished(event: StreamPublishedEvent['data']) {\n    const publication: Publication = this.addPublication(event.publication);\n\n    const outgoing: event.StreamPublishedEvent = {\n      ...event,\n      publication,\n    };\n\n    this.onStreamPublished.emit(outgoing);\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _streamUnpublished(event: StreamUnpublishedEvent['data']) {\n    const publication = this.getPublication(event.publication.id);\n    if (!publication) {\n      throw createError({\n        operationName: 'ChannelImpl._streamUnpublished',\n        info: errors.publicationNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n\n    this.deletePublication(publication.id);\n\n    const outgoing: event.StreamUnpublishedEvent = { ...event, publication };\n\n    this.onStreamUnpublished.emit(outgoing);\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _publicationMetadataUpdated(\n    event: PublicationMetadataUpdatedEvent['data']\n  ) {\n    const publication = this.getPublication(event.publication.id);\n    if (!publication) {\n      throw createError({\n        operationName: 'ChannelImpl._publicationMetadataUpdated',\n        info: errors.publicationNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n\n    publication.metadata = event.publication.metadata;\n\n    const outgoing: event.PublicationMetadataUpdatedEvent = {\n      ...event,\n      publication,\n    };\n    this.onPublicationMetadataUpdated.emit(outgoing);\n  }\n\n  private _publicationDisabled(event: PublicationDisabledEvent['data']) {\n    const publication = this.getPublication(event.publication.id);\n    if (!publication) {\n      throw createError({\n        operationName: 'ChannelImpl._publicationDisabled',\n        info: errors.publicationNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n    publication.isEnabled = event.publication.isEnabled;\n\n    const outgoing: event.PublicationDisabledEvent = {\n      publication,\n    };\n    this.onPublicationDisabled.emit(outgoing);\n  }\n\n  private _publicationEnabled(incoming: PublicationEnabledEvent['data']) {\n    const publication = this.getPublication(incoming.publication.id);\n    if (!publication) {\n      throw createError({\n        operationName: 'ChannelImpl._publicationEnabled',\n        info: errors.publicationNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n    publication.isEnabled = incoming.publication.isEnabled;\n\n    const outgoing: event.PublicationEnabledEvent = {\n      publication,\n    };\n    this.onPublicationEnabled.emit(outgoing);\n  }\n\n  private _streamSubscribed(incoming: StreamSubscribedEvent['data']) {\n    const subscription = this.addSubscription(incoming.subscription);\n\n    const outgoing: event.StreamSubscribedEvent = {\n      ...incoming,\n      subscription,\n    };\n\n    this.onPublicationSubscribed.emit(outgoing);\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  private _streamUnsubscribed(event: StreamUnsubscribedEvent['data']) {\n    const subscription = this.getSubscription(event.subscription.id);\n    if (!subscription) {\n      throw createError({\n        operationName: 'ChannelImpl._streamUnsubscribed',\n        info: errors.subscriptionNotFound,\n        path: log.prefix,\n        payload: { event },\n        appId: this.appId,\n        channelId: this.id,\n      });\n    }\n\n    this.deleteSubscription(subscription.id);\n\n    const outgoing: event.StreamUnsubscribedEvent = {\n      ...event,\n      subscription,\n    };\n\n    this.onPublicationUnsubscribed.emit(outgoing);\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  updateChannelMetadata = (metadata: string) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .updateChannelMetadata(this.appId, this.id, metadata)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onMetadataUpdated\n        .watch((e) => e.channel.metadata === metadata)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.updateChannelMetadata',\n                info: { ...errors.timeout, detail: 'onMetadataUpdated' },\n                path: log.prefix,\n                error,\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  async joinChannel(memberInit: MemberInit) {\n    if (memberInit.type) {\n      memberInit.type = (memberInit.type[0].toUpperCase() +\n        memberInit.type.slice(1)) as any;\n    }\n    if (memberInit.subtype) {\n      memberInit.subtype = (memberInit.subtype[0].toUpperCase() +\n        memberInit.subtype.slice(1)) as any;\n    }\n\n    log.debug('[start] joinChannel', { memberInit });\n    const res = await this.apiClient.join(this.appId, this.id, {\n      ...memberInit,\n    });\n\n    const member =\n      this.getMember(res.id) ??\n      (\n        await this.onMemberJoined\n          .watch((e) => e.member.id === res.id, this.config.rtcApi.timeout)\n          .catch((error) => {\n            throw createError({\n              operationName: 'ChannelImpl.joinChannel',\n              info: { ...errors.timeout, detail: 'onMemberJoined' },\n              path: log.prefix,\n              error,\n              appId: this.appId,\n              channelId: this.id,\n            });\n          })\n      ).member;\n    log.debug('[end] joinChannel', { member });\n    return member;\n  }\n\n  leave = (channelId: Channel['id'], memberId: Member['id']) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient.leave(this.appId, channelId, memberId).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this.onMemberLeft\n        .watch((e) => e.member.id === memberId, this.config.rtcApi.timeout)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.leave',\n                info: { ...errors.timeout, detail: 'onMemberLeft' },\n                path: log.prefix,\n                error,\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  updateMemberTtl(memberId: Member['id'], ttlSec: number) {\n    return this.apiClient.updateMemberTtl(\n      this.appId,\n      this.id,\n      memberId,\n      ttlSec\n    );\n  }\n\n  updateMemberMetadata = (memberId: Member['id'], metadata: string) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .updateMemberMetadata(this.appId, this.id, memberId, metadata)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onMemberMetadataUpdated\n        .watch(\n          (e) => e.member.id === memberId && e.member.metadata === metadata\n        )\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.updateMemberMetadata',\n                info: { ...errors.timeout, detail: 'onMemberMetadataUpdated' },\n                path: log.prefix,\n                error,\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  /**@throws {SkyWayError} */\n  async publish(init: Omit<PublicationInit, 'channel'>): Promise<Publication> {\n    const ts = log.debug('[start] apiClient.publish', { init });\n    const channelId = this.id;\n    const publicationId = await this.apiClient.publish(this.appId, {\n      ...init,\n      channel: channelId,\n    });\n\n    const publicationDto: Publication = {\n      id: publicationId,\n      channelId,\n      publisherId: init.publisher,\n      origin: init.origin,\n      contentType: init.contentType,\n      metadata: init.metadata,\n      codecCapabilities: init.codecCapabilities ?? [],\n      encodings: init.encodings ?? [],\n      isEnabled: init.isEnabled ?? true,\n    };\n    log.elapsed(ts, '[ongoing] apiClient.publish', { publicationDto });\n\n    const exist = this.getPublication(publicationId);\n    if (exist) {\n      return exist;\n    }\n\n    const { publication } = await this.onStreamPublished\n      .watch(\n        (e) => e.publication.id === publicationId,\n        this.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'ChannelImpl.publish',\n          info: { ...errors.timeout, detail: 'onStreamPublished' },\n          path: log.prefix,\n          error,\n          payload: { publicationDto },\n          appId: this.appId,\n          channelId: this.id,\n        });\n      });\n    log.elapsed(ts, '[end] apiClient.publish', { publicationDto });\n\n    return publication;\n  }\n\n  unpublish = (publicationId: Publication['id']) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .unpublish(this.appId, this.id, publicationId)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onStreamUnpublished\n        .watch((e) => e.publication.id === publicationId)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.unpublish',\n                info: { ...errors.timeout, detail: 'onStreamUnpublished' },\n                path: log.prefix,\n                error,\n                payload: { publicationId },\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  updatePublicationMetadata = (\n    publicationId: Publication['id'],\n    metadata: string\n  ) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .updatePublicationMetadata(this.appId, this.id, publicationId, metadata)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onPublicationMetadataUpdated\n        .watch(\n          (e) =>\n            e.publication.id === publicationId &&\n            e.publication.metadata === metadata\n        )\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.updatePublicationMetadata',\n                info: {\n                  ...errors.timeout,\n                  detail: 'onPublicationMetadataUpdated',\n                },\n                path: log.prefix,\n                error,\n                payload: { publicationId },\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  disablePublication = (publicationId: Publication['id']) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .disablePublication(this.appId, this.id, publicationId)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onPublicationDisabled\n        .watch((e) => e.publication.id === publicationId)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.disablePublication',\n                info: { ...errors.timeout, detail: 'onPublicationDisabled' },\n                path: log.prefix,\n                error,\n                payload: { publicationId },\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  enablePublication = (publicationId: Publication['id']) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .enablePublication(this.appId, this.id, publicationId)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onPublicationEnabled\n        .watch((e) => e.publication.id === publicationId)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.enablePublication',\n                info: { ...errors.timeout, detail: 'onPublicationEnabled' },\n                path: log.prefix,\n                error,\n                payload: { publicationId },\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  /**@throws {@link SkyWayError} */\n  async subscribe(\n    init: Omit<SubscriptionInit, 'channel'>\n  ): Promise<model.Subscription> {\n    const ts = log.debug('[start] apiClient.subscribe', { init });\n    const subscriptionId = await this.apiClient.subscribe(this.appId, {\n      ...init,\n      channel: this,\n    });\n\n    const subscriptionDto: Subscription = {\n      id: subscriptionId,\n      publicationId: init.publication.id,\n      channelId: this.id,\n      publisherId: init.publication.publisherId,\n      subscriberId: init.subscriber.id,\n      contentType: init.publication.contentType,\n    };\n    log.elapsed(ts, '[ongoing] apiClient.subscribe', { subscriptionDto });\n\n    const exist = this.getSubscription(subscriptionId);\n    if (exist) {\n      log.elapsed(ts, '[end] apiClient.subscribe', { subscriptionDto });\n      return exist;\n    }\n\n    const { subscription } = await this.onPublicationSubscribed\n      .watch(\n        (e) => e.subscription.id === subscriptionId,\n        this.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        log.elapsed(ts, '[fail] apiClient.subscribe', error);\n        throw createError({\n          operationName: 'ChannelImpl.subscribe',\n          info: { ...errors.timeout, detail: 'onPublicationSubscribed' },\n          path: log.prefix,\n          error,\n          payload: { subscriptionDto },\n        });\n      });\n    log.elapsed(ts, '[end] apiClient.subscribe', { subscriptionDto });\n\n    return subscription;\n  }\n\n  unsubscribe = (subscriptionId: Subscription['id']) =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this.apiClient\n        .unsubscribe(this.appId, this.id, subscriptionId)\n        .catch((e) => {\n          failed = true;\n          f(e);\n        });\n      this.onPublicationUnsubscribed\n        .watch((e) => e.subscription.id === subscriptionId)\n        .then(() => r())\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'ChannelImpl.unsubscribe',\n                info: {\n                  ...errors.timeout,\n                  detail: 'onPublicationUnsubscribed',\n                },\n                path: log.prefix,\n                error,\n                payload: { subscriptionId },\n                appId: this.appId,\n                channelId: this.id,\n              })\n            );\n        });\n    });\n\n  close() {\n    return this.apiClient.deleteChannel(this.appId, this.id);\n  }\n\n  /**\n   * リソースの解放\n   * - Channelイベントの購読停止\n   * - イベントリスナー\n   */\n  dispose() {\n    if (this.disposed) {\n      return;\n    }\n    this.disposed = true;\n\n    log.debug('disposed', { id: this.id });\n\n    this.eventObserver.dispose();\n    this._events.dispose();\n  }\n}\n\nexport function channelFactory(\n  appId: string,\n  eventObserver: EventObserver,\n  api: RtcApi,\n  channelDto: Channel,\n  config: Config\n) {\n  const channel = new ChannelImpl(\n    appId,\n    channelDto,\n    eventObserver,\n    api,\n    config\n  );\n  return channel;\n}\n","import { LogFormat, LogLevel } from '@skyway-sdk/common';\nimport { RtcApiConfig, RtcRpcApiConfig } from '@skyway-sdk/rtc-api-client';\nimport deepmerge from 'deepmerge';\n\nexport { RtcApiConfig, RtcRpcApiConfig };\n\nexport type SkyWayConfigOptions = {\n  /**@internal */\n  rtcApi: RtcApiConfig;\n  /**@internal */\n  iceParamServer: { domain?: string; version?: number; secure?: boolean };\n  /**@internal */\n  signalingService: { domain?: string; secure?: boolean };\n  /**@internal */\n  analyticsService: { domain?: string; secure?: boolean };\n  rtcConfig: {\n    encodedInsertableStreams?: boolean;\n    /**\n     * @internal\n     * @description ms\n     * */\n    timeout?: number;\n    turnPolicy?: TurnPolicy;\n    turnProtocol?: TurnProtocol;\n    /**\n     * @internal\n     * @description ms\n     * */\n    iceDisconnectBufferTimeout?: number;\n  };\n  token: { updateReminderSec?: number };\n  log: Partial<{ level: LogLevel; format: LogFormat }>;\n  /**@internal */\n  internal: { disableDPlane?: boolean };\n  member: Partial<MemberKeepAliveConfig>;\n};\n\n/**\n * @description [japanese] MemberのChannelとのKeepAliveに関する設定\n * @description [japanese]\n * Memberはブラウザのタブを閉じるとChannelから削除される。\n * iOS safariのようなbeforeunloadイベントに対応していないブラウザは、\n * タブを閉じたあと keepaliveIntervalSec + keepaliveIntervalGapSec 秒後に\n * Channelから削除される。\n */\nexport type MemberKeepAliveConfig = {\n  /**@description [japanese] KeepAliveを行う周期 */\n  keepaliveIntervalSec: number;\n  /**@description [japanese] KeepAliveの周期を超えてChannelからMemberが削除されるまでの時間 */\n  keepaliveIntervalGapSec: number;\n};\n\n/**@internal */\nexport type MemberInternalConfig = {\n  /**@internal */\n  disableSignaling?: boolean;\n  disableAnalytics?: boolean;\n};\n\nexport type TurnPolicy = 'enable' | 'disable' | 'turnOnly';\n\nexport type TurnProtocol = 'all' | 'udp' | 'tcp' | 'tls';\n\nexport class ContextConfig implements SkyWayConfigOptions {\n  /**@internal */\n  rtcApi: Required<SkyWayConfigOptions['rtcApi']> = {\n    domain: 'rtc-api.skyway.ntt.com',\n    timeout: 30_000,\n    secure: true,\n    eventSubscribeTimeout: 5000,\n  };\n  /**@internal */\n  iceParamServer: Required<SkyWayConfigOptions['iceParamServer']> = {\n    domain: 'ice-params.skyway.ntt.com',\n    version: 1,\n    secure: true,\n  };\n  /**@internal */\n  signalingService: Required<SkyWayConfigOptions['signalingService']> = {\n    domain: 'signaling.skyway.ntt.com',\n    secure: true,\n  };\n  /**@internal */\n  analyticsService: Required<SkyWayConfigOptions['analyticsService']> = {\n    domain: 'analytics-logging.skyway.ntt.com',\n    secure: true,\n  };\n  rtcConfig: Required<SkyWayConfigOptions['rtcConfig']> = {\n    timeout: 30_000,\n    turnPolicy: 'enable',\n    turnProtocol: 'all',\n    encodedInsertableStreams: false,\n    iceDisconnectBufferTimeout: 5000,\n  };\n  token: Required<SkyWayConfigOptions['token']> = {\n    updateReminderSec: 30,\n  };\n  log: Required<SkyWayConfigOptions['log']> = {\n    level: 'error',\n    format: 'string',\n  };\n  /**@internal */\n  internal: Required<SkyWayConfigOptions['internal']> = {\n    disableDPlane: false,\n  };\n  member: Required<SkyWayConfigOptions['member']> = {\n    keepaliveIntervalGapSec: 30,\n    keepaliveIntervalSec: 30,\n  };\n  /**@internal */\n  constructor(options: Partial<SkyWayConfigOptions> = {}) {\n    Object.assign(this, deepmerge(this, options));\n  }\n}\n","import { Event } from '@skyway-sdk/common';\nimport model from '@skyway-sdk/model';\n\nimport { SkyWayChannel } from '../../channel';\nimport { SkyWayContext } from '../../context';\nimport { LocalPersonImpl } from '../../member/localPerson';\nimport { RemoteMemberImplInterface } from '../../member/remoteMember';\n\n/**@internal */\nexport abstract class SkyWayPlugin {\n  subtype!: string;\n  /**@internal */\n  _context?: SkyWayContext;\n  /**@internal */\n  _onContextAttached = new Event<SkyWayContext>();\n\n  /**@internal */\n  _attachContext(context: SkyWayContext) {\n    this._context = context;\n    this._onContextAttached.emit(context);\n  }\n\n  /**@internal */\n  _whenCreateLocalPerson?: (member: LocalPersonImpl) => Promise<void>;\n\n  /**@internal */\n  _whenDisposeLocalPerson?: (member: LocalPersonImpl) => Promise<void>;\n\n  /**@internal */\n  abstract _createRemoteMember(\n    channel: SkyWayChannel,\n    memberDto: model.Member\n  ): RemoteMemberImplInterface;\n}\n","import { EventDisposer, Logger } from '@skyway-sdk/common';\n\nimport { MessageEvent, SignalingSession } from '../../../../external/signaling';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/person/connection/messageBuffer.ts'\n);\n\n/*\nconnectionが生成されるイベントの通信経路と、\nメッセージングの通信経路が違うので、\nconnectionが生成される前にメッセージを受信する\nタイミング問題が起きうる。\nその対策のためのコンポーネント\n*/\n\nexport class MessageBuffer {\n  private _indicateMessageBuffer: {\n    [requesterIdName: string]: MessageEvent[];\n  } = {};\n  private _excludeConnectionIndicateBuffering = new Set<string>();\n  private _disposer = new EventDisposer();\n\n  constructor(readonly signaling: SignalingSession) {\n    this.signaling.onMessage\n      .add((req) => {\n        const requesterIdName = req.src.id + req.src.name;\n\n        if (this._excludeConnectionIndicateBuffering.has(requesterIdName)) {\n          return;\n        }\n\n        if (!this._indicateMessageBuffer[requesterIdName]) {\n          this._indicateMessageBuffer[requesterIdName] = [];\n        }\n        this._indicateMessageBuffer[requesterIdName].push(req);\n      })\n      .disposer(this._disposer);\n  }\n\n  resolveMessagingBuffer({ id, name }: { id: string; name?: string }) {\n    const endpointIdName = id + name;\n\n    const bufferedIndicates = this._indicateMessageBuffer[endpointIdName];\n    if (bufferedIndicates?.length > 0) {\n      log.debug('resolveMessagingBuffer', { length: bufferedIndicates.length });\n\n      bufferedIndicates.forEach((req) => {\n        this.signaling.onMessage.emit(req);\n      });\n      delete this._indicateMessageBuffer[endpointIdName];\n    }\n    this._excludeConnectionIndicateBuffering.add(endpointIdName);\n  }\n\n  close() {\n    this._disposer.dispose();\n    this._indicateMessageBuffer = {};\n    this._excludeConnectionIndicateBuffering = new Set();\n  }\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { Event } from '@skyway-sdk/common';\n\nimport type { Codec } from '../../../media';\nimport { Transport, TransportConnectionState } from '../../../plugin/interface';\nimport { ContentType, Stream, WebRTCStats } from '../base';\n\nexport abstract class RemoteStreamBase implements Stream {\n  readonly side = 'remote';\n  /**\n   * @deprecated\n   * @use Subscription.onConnectionStateChanged\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   */\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n  /**@internal */\n  readonly _onConnectionStateChanged = new Event<TransportConnectionState>();\n  codec!: Codec;\n  private _connectionState: TransportConnectionState = 'new';\n\n  /**@internal */\n  constructor(readonly id: string, readonly contentType: ContentType) {\n    this._onConnectionStateChanged.pipe(this.onConnectionStateChanged);\n  }\n\n  /**@internal */\n  _setConnectionState(state: TransportConnectionState) {\n    if (this._connectionState === state) return;\n    this._connectionState = state;\n    this._onConnectionStateChanged.emit(state);\n  }\n\n  /**@internal */\n  _getTransport: () => Transport | undefined = () => undefined;\n  /**\n   * @deprecated\n   * @use Subscription.getStats\n   */\n  readonly getStats = () => {\n    return this._getStats();\n  };\n  /**@internal */\n  _getStats: () => Promise<WebRTCStats> = async () => [] as WebRTCStats;\n  /**\n   * @deprecated\n   * @use Subscription.getRTCPeerConnection\n   */\n  getRTCPeerConnection() {\n    return this._getRTCPeerConnection();\n  }\n  /**@internal */\n  _getRTCPeerConnection() {\n    return this._getTransport()?.rtcPeerConnection;\n  }\n  /**\n   * @deprecated\n   * @use Subscription.getConnectionState\n   */\n  getConnectionState() {\n    return this._getConnectionState();\n  }\n  /**@internal */\n  _getConnectionState() {\n    return this._connectionState;\n  }\n\n  /**@internal */\n  toJSON() {\n    return {\n      contentType: this.contentType,\n      id: this.id,\n      codec: this.codec,\n      side: this.side,\n    };\n  }\n}\n","import { attachElement, ContentType, detachElement } from '../base';\nimport { RemoteStreamBase } from './base';\n\nexport abstract class RemoteMediaStreamBase extends RemoteStreamBase {\n  private _element?: HTMLVideoElement | HTMLAudioElement;\n  constructor(\n    readonly id: string,\n    readonly contentType: ContentType,\n    readonly track: MediaStreamTrack\n  ) {\n    super(id, contentType);\n  }\n\n  get isEnabled() {\n    return this.track.enabled;\n  }\n\n  /**@internal */\n  setIsEnabled(b: boolean) {\n    this.track.enabled = b;\n  }\n\n  /**\n   * @description [english] Attach the stream to the element.\n   * @description [japanese] streamをelementに適用する.\n   */\n  attach(element: HTMLVideoElement | HTMLAudioElement) {\n    this._element = element;\n    attachElement(element, this.track);\n  }\n\n  /**\n   * @description [english] Detach the stream from the element.\n   * @description [japanese] elementからstreamを取り除く.\n   */\n  detach() {\n    if (this._element) {\n      detachElement(this._element, this.track);\n      this._element = undefined;\n    }\n  }\n}\n","import { RemoteMediaStreamBase } from './media';\n\nexport class RemoteAudioStream extends RemoteMediaStreamBase {\n  readonly contentType = 'audio';\n\n  /**@internal */\n  constructor(id: string, readonly track: MediaStreamTrack) {\n    super(id, 'audio', track);\n  }\n}\n","import { Event } from '@skyway-sdk/common';\n\nimport { DataStreamMessageType, objectFlag } from '../local/data';\nimport { RemoteStreamBase } from './base';\n\nexport class RemoteDataStream extends RemoteStreamBase {\n  private _isEnabled = true;\n  readonly contentType = 'data';\n  readonly onData = new Event<DataStreamMessageType>();\n\n  /**@internal */\n  constructor(\n    id: string,\n    /**@internal */\n    public _datachannel: RTCDataChannel\n  ) {\n    super(id, 'data');\n\n    _datachannel.onmessage = ({ data }) => {\n      if (!this.isEnabled) {\n        return;\n      }\n\n      if (typeof data === 'string' && data.includes(objectFlag)) {\n        data = JSON.parse(data.slice(objectFlag.length));\n      }\n      this.onData.emit(data);\n    };\n  }\n\n  /**@internal */\n  get isEnabled() {\n    return this._isEnabled;\n  }\n\n  /**@internal */\n  setIsEnabled(b: boolean) {\n    this._isEnabled = b;\n  }\n}\n","import { RemoteMediaStreamBase } from './media';\n\nexport class RemoteVideoStream extends RemoteMediaStreamBase {\n  readonly contentType = 'video';\n\n  /**@internal */\n  constructor(id: string, readonly track: MediaStreamTrack) {\n    super(id, 'video', track);\n  }\n}\n","import { Logger } from '@skyway-sdk/common';\n\nimport { errors } from '../../../errors';\nimport type { Codec } from '../../../media';\nimport { createError } from '../../../util';\nimport { RemoteStream } from '.';\nimport { RemoteAudioStream } from './audio';\nimport { RemoteDataStream } from './data';\nimport { RemoteVideoStream } from './video';\n\nconst log = new Logger('packages/core/src/media/stream/remote/factory.ts');\n\n/**@internal */\nexport const createRemoteStream = (\n  id: string,\n  media: MediaStreamTrack | RTCDataChannel,\n  codec: Codec\n): RemoteStream => {\n  if (media instanceof RTCDataChannel) {\n    const stream = new RemoteDataStream(id, media);\n    stream.codec = codec;\n    return stream;\n  } else {\n    if (media.kind === 'audio') {\n      const stream = new RemoteAudioStream(id, media);\n      stream.codec = codec;\n      return stream;\n    } else if (media.kind === 'video') {\n      const stream = new RemoteVideoStream(id, media);\n      stream.codec = codec;\n      return stream;\n    }\n  }\n\n  throw createError({\n    operationName: 'createRemoteStream',\n    path: log.prefix,\n    info: { ...errors.invalidArgumentValue, detail: 'invalid stream type' },\n  });\n};\n","import { Logger } from '@skyway-sdk/common';\n\nimport { detectDevice } from '../../../util';\nimport { TransportConnectionState } from '../../interface';\n\nconst log = new Logger('packages/core/src/plugin/internal/person/util.ts');\n\n/**@internal */\nexport const setEncodingParams = async (\n  sender: RTCRtpSender,\n  newEncodings: RTCRtpEncodingParameters[]\n) => {\n  const info = log.createBlock({ label: 'setEncodingParams' });\n\n  const params = sender.getParameters();\n  info.debug('getParameters', { params, newEncodings });\n\n  if (params.encodings == undefined) {\n    params.encodings = [];\n  }\n  params.encodings = newEncodings.map((encoding, i) => ({\n    ...(params.encodings[i] || {}),\n    ...encoding,\n  }));\n\n  await sender.setParameters(params);\n};\n\n/**@internal */\nexport const isSafari = () =>\n  detectDevice() === 'Safari12' || detectDevice() === 'Safari11';\n\n/**@internal */\nexport function convertConnectionState(\n  state: RTCPeerConnectionState | 'reconnecting'\n): TransportConnectionState {\n  switch (state) {\n    case 'closed':\n    case 'disconnected':\n    case 'failed':\n      return 'disconnected';\n    case 'connected':\n      return 'connected';\n    case 'connecting':\n      return 'connecting';\n    case 'new':\n      return 'new';\n    case 'reconnecting':\n      return 'reconnecting';\n  }\n}\n\n/**@internal */\nexport const statsToJson = (report: RTCStatsReport) => {\n  const stats: any[] = [];\n  report.forEach((stat) => {\n    stats.push(JSON.parse(JSON.stringify(stat)));\n  });\n  return stats;\n};\n","export class DataChannelNegotiationLabel {\n  constructor(readonly publicationId: string, readonly streamId: string) {}\n\n  static fromLabel(label: string) {\n    const { p, s } = JSON.parse(label);\n    return new DataChannelNegotiationLabel(p, s);\n  }\n\n  toLabel() {\n    return JSON.stringify({\n      p: this.publicationId,\n      s: this.streamId,\n    });\n  }\n}\n","import { Event, Logger } from '@skyway-sdk/common';\nimport { uuidV4 } from '@skyway-sdk/token';\n\nimport { SkyWayContext } from '../../../../context';\nimport { errors } from '../../../../errors';\nimport { AnalyticsSession } from '../../../../external/analytics';\nimport { IceManager } from '../../../../external/ice';\nimport { SignalingSession } from '../../../../external/signaling';\nimport { LocalPersonImpl } from '../../../../member/localPerson';\nimport { RemoteMember } from '../../../../member/remoteMember';\nimport { createError, createWarnPayload } from '../../../../util';\nimport { statsToJson } from '../util';\nimport { P2PMessage } from '.';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/person/connection/peer.ts'\n);\n\nexport abstract class Peer {\n  private _pendingCandidates: RTCIceCandidate[] = [];\n  readonly pc: RTCPeerConnection = new RTCPeerConnection({\n    ...this._context.config.rtcConfig,\n    iceTransportPolicy:\n      this._context.config.rtcConfig.turnPolicy === 'turnOnly'\n        ? 'relay'\n        : undefined,\n    iceServers: this._iceManager.iceServers,\n  });\n  readonly onSignalingStateChanged = new Event<RTCSignalingState>();\n  readonly onPeerConnectionStateChanged = new Event<RTCPeerConnectionState>();\n  readonly onDisconnect = new Event<void>();\n  connected = false;\n  disconnected = false;\n  rtcPeerConnectionId = uuidV4();\n\n  constructor(\n    protected readonly _context: SkyWayContext,\n    protected readonly _iceManager: IceManager,\n    protected readonly signaling: SignalingSession,\n    protected readonly analytics: AnalyticsSession | undefined,\n    protected readonly localPerson: LocalPersonImpl,\n    protected readonly endpoint: RemoteMember,\n    readonly role: PeerRole\n  ) {\n    log.debug('peerConfig', this.pc.getConfiguration());\n\n    this.setPeerConnectionListener();\n\n    // suppress firefox [RTCPeerConnection is gone] Exception\n    const peerIdentity = (this.pc as any)?.peerIdentity;\n    if (peerIdentity) {\n      peerIdentity.catch((err: any) => {\n        log.debug('firefox peerIdentity', err);\n      });\n    }\n  }\n\n  private setPeerConnectionListener(): void {\n    this.pc.onicecandidate = this._onICECandidate;\n    this.pc.onicecandidateerror = this._onICECandidateError;\n    this.pc.onicegatheringstatechange = this._onIceGatheringStateChange;\n    this.pc.onconnectionstatechange = this._onConnectionStateChange;\n    this.pc.oniceconnectionstatechange = this._onIceConnectionStateChange;\n    this.pc.onsignalingstatechange = () => {\n      void this._onSignalingStateChange();\n      this.onSignalingStateChanged.emit(this.pc.signalingState);\n    };\n  }\n\n  protected unSetPeerConnectionListener() {\n    this.pc.onicecandidate = null;\n    this.pc.onicecandidateerror = null;\n    this.pc.onicegatheringstatechange = null;\n    this.pc.onconnectionstatechange = null;\n    this.pc.oniceconnectionstatechange = null;\n    this.pc.onsignalingstatechange = null;\n  }\n\n  private _onICECandidate = async (ev: RTCPeerConnectionIceEvent) => {\n    if (\n      ev.candidate == null ||\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      //@ts-ignore firefox\n      ev.candidate === '' ||\n      this.pc.connectionState === 'closed'\n    ) {\n      return;\n    }\n\n    const message: IceCandidateMessage = {\n      kind: 'iceCandidateMessage',\n      payload: {\n        candidate: ev.candidate,\n        role: this.role,\n      },\n    };\n\n    log.debug('[start] send candidate', {\n      message,\n      localPerson: this.localPerson,\n    });\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'iceCandidate',\n        data: {\n          candidate: JSON.stringify(ev.candidate),\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    try {\n      await this.signaling.send(this.endpoint, message);\n      log.debug(`[end] send candidate`, {\n        message,\n        localPerson: this.localPerson,\n      });\n    } catch (error) {\n      log.warn(\n        `[failed] send candidate`,\n        createWarnPayload({\n          operationName: 'Peer._onICECandidate',\n          channel: this.localPerson.channel,\n          detail: '[failed] send candidate',\n          payload: { message },\n        }),\n        error\n      );\n    }\n  };\n\n  private _onICECandidateError = async (ev: globalThis.Event) => {\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'iceCandidateError',\n        data: {\n          event: JSON.stringify(ev),\n        },\n        createdAt: Date.now(),\n      });\n    }\n  };\n\n  private _onIceGatheringStateChange = async (ev: globalThis.Event) => {\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      const state = this.pc.iceGatheringState;\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'iceGatheringStateChange',\n        data: {\n          event: state,\n        },\n        createdAt: Date.now(),\n      });\n    }\n  };\n\n  private _onConnectionStateChange = async () => {\n    const state = this.pc.connectionState;\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'connectionStateChange',\n        data: {\n          connectionState: state,\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    switch (state) {\n      case 'connected':\n        this.connected = true;\n        this._pendingCandidates = [];\n        break;\n    }\n    this.onPeerConnectionStateChanged.emit(this.pc.connectionState);\n  };\n\n  private _onIceConnectionStateChange = async () => {\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      const state = this.pc.iceConnectionState;\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'iceConnectionStateChange',\n        data: {\n          iceConnectionState: state,\n        },\n        createdAt: Date.now(),\n      });\n    }\n  };\n\n  private _onSignalingStateChange = async () => {\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      const state = this.pc.signalingState;\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'signalingStateChange',\n        data: {\n          signalingState: state,\n        },\n        createdAt: Date.now(),\n      });\n    }\n  };\n\n  async handleCandidate(candidate: RTCIceCandidate) {\n    this._pendingCandidates.push(candidate);\n    if (this.pc.remoteDescription) {\n      await this.resolveCandidates();\n    }\n  }\n\n  async resolveCandidates() {\n    const candidates = [...this._pendingCandidates];\n    this._pendingCandidates = [];\n\n    log.debug('addIceCandidates', candidates);\n\n    await Promise.all(\n      candidates.map((candidate) => {\n        if (this.pc.signalingState === 'closed') return;\n\n        this.pc.addIceCandidate(candidate).catch((err) => {\n          log.warn(\n            '[failed] add ice candidate',\n            createWarnPayload({\n              operationName: 'Peer.resolveCandidates',\n              channel: this.localPerson.channel,\n              detail: '[failed] send candidate',\n              payload: { endpointId: this.endpoint.id },\n            }),\n            err\n          );\n        });\n      })\n    );\n  }\n\n  /**@throws {@link SkyWayError} */\n  protected waitForSignalingState = async (\n    state: RTCSignalingState,\n    /**ms */\n    timeout = 10_000\n  ) => {\n    if (this.pc.signalingState === state) return;\n    await this.onSignalingStateChanged\n      .watch(() => this.pc.signalingState === state, timeout)\n      .catch((err) => {\n        throw createError({\n          operationName: 'Peer.waitForSignalingState',\n          info: {\n            ...errors.timeout,\n            detail: 'waitForSignalingState timeout',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n          error: err,\n        });\n      });\n  };\n\n  /**@throws {@link SkyWayError} */\n  protected waitForConnectionState = async (\n    state: RTCPeerConnectionState,\n    /**ms */\n    timeout = 10_000\n  ) => {\n    if (state === this.pc.connectionState) return;\n    await this.onPeerConnectionStateChanged\n      .watch(() => state === this.pc.connectionState, timeout)\n      .catch((err) => {\n        throw createError({\n          operationName: 'Peer.waitForConnectionState',\n          info: {\n            ...errors.timeout,\n            detail: 'waitForConnectionState timeout',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n          error: err,\n        });\n      });\n  };\n\n  /**@throws {@link SkyWayError} */\n  protected waitForStats = async ({\n    track,\n    cb,\n    interval,\n    timeout,\n    logging,\n  }: {\n    track: MediaStreamTrack;\n    cb: (stats: { id: string; type: string; [key: string]: any }[]) => boolean;\n    /**ms */\n    interval?: number;\n    /**ms */\n    timeout?: number;\n    logging?: boolean;\n  }) => {\n    interval ??= 100;\n    timeout ??= 10_000;\n\n    for (let elapsed = 0; ; elapsed += interval) {\n      if (elapsed >= timeout) {\n        throw createError({\n          operationName: 'Peer.waitForStats',\n          info: {\n            ...errors.timeout,\n            detail: 'waitForStats timeout',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n        });\n      }\n\n      const report = await this.pc.getStats(track);\n      const stats = statsToJson(report);\n      if (logging) {\n        log.debug('Peer.waitForStats', stats);\n      }\n      if (cb(stats)) {\n        break;\n      }\n      await new Promise((r) => setTimeout(r, interval));\n    }\n  };\n}\n\nexport type PeerRole = 'sender' | 'receiver';\n\nexport interface IceCandidateMessage extends P2PMessage {\n  kind: 'iceCandidateMessage';\n  payload: { candidate: RTCIceCandidate; role: 'receiver' | 'sender' };\n}\n","import {\n  deepCopy,\n  Event,\n  EventDisposer,\n  Logger,\n  PromiseQueue,\n  SkyWayError,\n} from '@skyway-sdk/common';\nimport * as sdpTransform from 'sdp-transform';\nimport { v4 } from 'uuid';\n\nimport { SkyWayContext } from '../../../../context';\nimport { errors } from '../../../../errors';\nimport { AnalyticsSession } from '../../../../external/analytics';\nimport { IceManager } from '../../../../external/ice';\nimport { SignalingSession } from '../../../../external/signaling';\nimport { Codec } from '../../../../media';\nimport { RemoteStream } from '../../../../media/stream';\nimport { createRemoteStream } from '../../../../media/stream/remote/factory';\nimport { LocalPersonImpl } from '../../../../member/localPerson';\nimport { RemoteMember } from '../../../../member/remoteMember';\nimport { SubscriptionImpl } from '../../../../subscription';\nimport {\n  createError,\n  createWarnPayload,\n  fmtpConfigParser,\n  statsToArray,\n} from '../../../../util';\nimport { TransportConnectionState } from '../../../interface';\nimport { convertConnectionState } from '../util';\nimport { P2PMessage } from '.';\nimport { DataChannelNegotiationLabel } from './datachannel';\nimport { IceCandidateMessage, Peer } from './peer';\nimport {\n  SenderProduceMessage,\n  SenderRestartIceMessage,\n  SenderUnproduceMessage,\n} from './sender';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/person/connection/receiver.ts'\n);\n\nexport class Receiver extends Peer {\n  readonly id = v4();\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n  readonly onStreamAdded = new Event<{\n    publicationId: string;\n    stream: RemoteStream;\n  }>();\n  readonly onError = new Event<SkyWayError>();\n\n  private _connectionState: TransportConnectionState = 'new';\n  private _publicationInfo: {\n    [publicationId: string]: SenderProduceMessage['payload']['info'];\n  } = {};\n  streams: {\n    [publicationId: string]: RemoteStream;\n  } = {};\n  private _subscriptions: { [subscriptionId: string]: SubscriptionImpl } = {};\n  private readonly _promiseQueue = new PromiseQueue();\n  private _disposer = new EventDisposer();\n  private _log = log.createBlock({\n    localPersonId: this.localPerson.id,\n    id: this.id,\n  });\n\n  constructor(\n    context: SkyWayContext,\n    iceManager: IceManager,\n    signaling: SignalingSession,\n    analytics: AnalyticsSession | undefined,\n    localPerson: LocalPersonImpl,\n    endpoint: RemoteMember\n  ) {\n    super(\n      context,\n      iceManager,\n      signaling,\n      analytics,\n      localPerson,\n      endpoint,\n      'receiver'\n    );\n    this._log.debug('spawned');\n\n    this.signaling.onMessage\n      .add(async ({ src, data }) => {\n        if (!(src.id === endpoint.id && src.name === endpoint.name)) return;\n\n        const message = data as\n          | SenderProduceMessage\n          | SenderUnproduceMessage\n          | SenderRestartIceMessage\n          | IceCandidateMessage;\n\n        switch (message.kind) {\n          case 'senderProduceMessage':\n            {\n              this._promiseQueue\n                .push(() => this._handleSenderProduce(message.payload))\n                .catch((err) =>\n                  this._log.error('handle senderProduceMessage failed', err, {\n                    localPersonId: this.localPerson.id,\n                    endpointId: this.endpoint.id,\n                  })\n                );\n            }\n            break;\n          case 'senderUnproduceMessage':\n            {\n              this._promiseQueue\n                .push(() => this._handleSenderUnproduce(message.payload))\n                .catch((err) =>\n                  this._log.error('handle handleSenderUnproduce', err, {\n                    localPersonId: this.localPerson.id,\n                    endpointId: this.endpoint.id,\n                  })\n                );\n            }\n            break;\n          case 'senderRestartIceMessage':\n            {\n              this._promiseQueue\n                .push(() => this._handleSenderRestartIce(message.payload))\n                .catch((err) =>\n                  this._log.error('_handleSenderRestartIce', err, {\n                    localPersonId: this.localPerson.id,\n                    endpointId: this.endpoint.id,\n                  })\n                );\n            }\n            break;\n          case 'iceCandidateMessage':\n            {\n              const { role, candidate } = message.payload;\n              if (role === 'sender') {\n                await this.handleCandidate(candidate);\n              }\n            }\n            break;\n        }\n      })\n      .disposer(this._disposer);\n\n    this.pc.ontrack = async ({ track, transceiver }) => {\n      if (!transceiver.mid) {\n        throw createError({\n          operationName: 'Receiver.pc.ontrack',\n          info: {\n            ...errors.missingProperty,\n            detail: 'mid missing',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n        });\n      }\n\n      const info = Object.values(this._publicationInfo).find(\n        (i) => i.mid === transceiver.mid?.toString()\n      );\n      if (!info) {\n        const error = createError({\n          operationName: 'Receiver.pc.ontrack',\n          info: { ...errors.notFound, detail: 'publicationInfo not found' },\n          path: log.prefix,\n          context: this._context,\n          channel: localPerson.channel,\n          payload: {\n            endpointId: this.endpoint.id,\n            publicationInfo: this._publicationInfo,\n            mid: transceiver.mid,\n          },\n        });\n        this.onError.emit(error);\n        this._log.error(error);\n        return;\n      }\n\n      const sdpObject = sdpTransform.parse(this.pc.remoteDescription!.sdp);\n      const codec = this._getCodecFromSdp(sdpObject, transceiver, track.kind);\n\n      const stream = createRemoteStream(info.streamId, track, codec);\n      stream.codec = codec;\n      this._setupTransportAccessForStream(stream);\n      this.streams[info.publicationId] = stream;\n\n      this._log.debug('MediaStreamTrack added', info, track, codec);\n\n      this.onStreamAdded.emit({\n        publicationId: info.publicationId,\n        stream,\n      });\n    };\n\n    this.pc.ondatachannel = async ({ channel }) => {\n      const { publicationId, streamId } = DataChannelNegotiationLabel.fromLabel(\n        channel.label\n      );\n\n      const codec = { mimeType: 'datachannel' };\n\n      const stream = createRemoteStream(streamId, channel, codec);\n      this._setupTransportAccessForStream(stream);\n      this.streams[publicationId] = stream;\n\n      this._log.debug('DataChannel added', publicationId, channel, codec);\n\n      this.onStreamAdded.emit({\n        publicationId,\n        stream,\n      });\n    };\n\n    this.onPeerConnectionStateChanged\n      .add((state) => {\n        switch (state) {\n          case 'connecting':\n          case 'connected':\n            this._setConnectionState(state);\n            break;\n          case 'failed':\n          case 'closed':\n            this._setConnectionState('disconnected');\n            break;\n        }\n      })\n      .disposer(this._disposer);\n  }\n\n  private _setConnectionState(state: TransportConnectionState) {\n    if (this._connectionState === state) {\n      return;\n    }\n    this._log.debug(\n      'onConnectionStateChanged',\n      this.id,\n      this._connectionState,\n      state\n    );\n    this._connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n  }\n\n  private _setupTransportAccessForStream(stream: RemoteStream) {\n    stream._getTransport = () => ({\n      rtcPeerConnection: this.pc,\n      connectionState: convertConnectionState(this.pc.connectionState),\n    });\n    stream._getStats = async () => {\n      if (stream.contentType === 'data') {\n        const stats = await this.pc.getStats();\n        const arr = statsToArray(stats);\n        return arr;\n      }\n      const stats = await this.pc.getStats(stream.track);\n      const arr = statsToArray(stats);\n      return arr;\n    };\n    this._disposer.push(() => {\n      stream._getTransport = () => undefined;\n    });\n    this.onConnectionStateChanged\n      .add((state) => {\n        stream._setConnectionState(state);\n        if (\n          this.localPerson._analytics &&\n          !this.localPerson._analytics.isClosed()\n        ) {\n          void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport(\n            {\n              rtcPeerConnectionId: this.rtcPeerConnectionId,\n              type: 'skywayConnectionStateChange',\n              data: {\n                skywayConnectionState: state,\n              },\n              createdAt: Date.now(),\n            }\n          );\n        }\n      })\n      .disposer(this._disposer);\n  }\n\n  private _getCodecFromSdp(\n    sdpObject: sdpTransform.SessionDescription,\n    transceiver: RTCRtpTransceiver,\n    kind: string\n  ): Codec {\n    const media = sdpObject.media.find(\n      // sdpTransformのmidは実際はnumber\n      (m) => m.mid?.toString() === transceiver.mid?.toString()\n    );\n    if (!media) {\n      throw createError({\n        operationName: 'Receiver._getCodecFromSdp',\n        info: {\n          ...errors.notFound,\n          detail: 'm-line not exist',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n      });\n    }\n    const codecPT = media.payloads!.split(' ')[0];\n\n    const rtp = media.rtp.find((r) => r.payload.toString() === codecPT)!;\n    const mimeType = `${kind}/${rtp.codec}`.toLowerCase();\n\n    let parameters: { [key: string]: any } = {};\n    const fmtp = media.fmtp.find((f) => f.payload.toString() === codecPT);\n    if (fmtp?.config) {\n      parameters = fmtpConfigParser(fmtp.config);\n    }\n\n    const codec = { mimeType, parameters };\n    return codec;\n  }\n\n  get hasMedia() {\n    const count = Object.values(this.streams).length;\n    this._log.debug('hasMedia', { count });\n    if (count > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  close() {\n    this._log.debug('closed');\n\n    this.unSetPeerConnectionListener();\n    this.pc.close();\n    this._setConnectionState('disconnected');\n\n    this._disposer.dispose();\n  }\n\n  add(subscription: SubscriptionImpl) {\n    this._subscriptions[subscription.id] = subscription;\n  }\n\n  remove(subscriptionId: string) {\n    const subscription = this._subscriptions[subscriptionId];\n    if (!subscription) return;\n    delete this._subscriptions[subscription.id];\n\n    const publicationId = subscription.publication.id;\n    const stream = this.streams[publicationId];\n    if (!stream) return;\n    delete this.streams[publicationId];\n  }\n\n  /**@throws {SkyWayError} */\n  private _validateRemoteOffer(sdp: string) {\n    const sdpObject = sdpTransform.parse(sdp);\n    this._log.debug('_validateRemoteOffer', { sdpObject });\n\n    for (const sdpMediaLine of sdpObject.media) {\n      if (sdpMediaLine.direction === 'inactive') {\n        continue;\n      }\n      const exist = Object.values(this._publicationInfo).find(\n        (info) => sdpMediaLine.mid?.toString() === info.mid\n      );\n      if (!exist) {\n        const error = createError({\n          operationName: 'Receiver._validateRemoteOffer',\n          info: {\n            ...errors.notFound,\n            detail: 'mismatch between sdp and state',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n          payload: {\n            sdpMedia: sdpObject.media,\n            sdpMediaLine,\n            info: this._publicationInfo,\n          },\n        });\n        this.onError.emit(error);\n        throw error;\n      }\n    }\n  }\n\n  private get isWrongSignalingState() {\n    return (\n      (this.pc.signalingState === 'have-local-offer' &&\n        this.pc.remoteDescription) ||\n      this.pc.signalingState === 'have-remote-offer'\n    );\n  }\n\n  /**@throws {SkyWayError} */\n  private async _handleSenderProduce({\n    sdp,\n    publicationId,\n    info,\n  }: SenderProduceMessage['payload']) {\n    if (this.pc.signalingState === 'closed') {\n      return;\n    }\n\n    if (this.pc.signalingState !== 'stable') {\n      if (this.isWrongSignalingState) {\n        this._log.warn(\n          '_handleSenderProduce wait for be stable',\n          createWarnPayload({\n            operationName: 'Receiver._handleSenderProduce',\n            channel: this.localPerson.channel,\n            detail: '_handleSenderProduce wait for be stable',\n            payload: { signalingState: this.pc.signalingState },\n          })\n        );\n\n        await this.waitForSignalingState('stable');\n        await this._handleSenderProduce({\n          sdp,\n          publicationId,\n          info,\n        });\n        return;\n      }\n      throw createError({\n        operationName: 'Receiver._handleSenderProduce',\n        context: this._context,\n        channel: this.localPerson.channel,\n        info: { ...errors.internal, detail: 'wrong signalingState' },\n        payload: { signalingState: this.pc.signalingState },\n        path: log.prefix,\n      });\n    }\n\n    this._log.debug('_handleSenderProduce', {\n      info,\n      publicationId,\n      publicationInfo: Object.values(this._publicationInfo),\n    });\n    this._publicationInfo[info.publicationId] = info;\n\n    this._validateRemoteOffer(sdp.sdp!);\n\n    await this.sendAnswer(sdp);\n    await this.resolveCandidates();\n  }\n\n  /**@throws {SkyWayError} */\n  private async _handleSenderUnproduce({\n    sdp,\n    publicationId,\n  }: SenderUnproduceMessage['payload']) {\n    if (this.pc.signalingState === 'closed') {\n      this._log.warn(\n        'signalingState closed',\n        createWarnPayload({\n          channel: this.localPerson.channel,\n          detail: 'signalingState closed',\n          operationName: 'Receiver._handleSenderUnproduce',\n        })\n      );\n      return;\n    }\n\n    this._log.debug('<handleSenderUnproduce> start', { sdp, publicationId });\n\n    if (this.pc.signalingState !== 'stable') {\n      if (this.isWrongSignalingState) {\n        this._log.warn(\n          'signalingState is not stable',\n          createWarnPayload({\n            channel: this.localPerson.channel,\n            detail: 'signalingState is not stable',\n            operationName: 'Receiver._handleSenderUnproduce',\n            payload: { signalingState: this.pc.signalingState },\n          })\n        );\n        await this.waitForSignalingState('stable');\n        await this._handleSenderUnproduce({\n          sdp,\n          publicationId,\n        });\n        return;\n      }\n      throw createError({\n        operationName: 'Receiver._handleSenderProduce',\n        context: this._context,\n        channel: this.localPerson.channel,\n        info: { ...errors.internal, detail: 'wrong signalingState' },\n        payload: { signalingState: this.pc.signalingState },\n        path: log.prefix,\n      });\n    }\n\n    delete this._publicationInfo[publicationId];\n\n    await this.sendAnswer(sdp);\n    await this.resolveCandidates();\n\n    this._log.debug('<handleSenderUnproduce> end', { publicationId });\n  }\n\n  /**@throws {SkyWayError} */\n  private async _handleSenderRestartIce({\n    sdp,\n  }: SenderRestartIceMessage['payload']) {\n    if (this.pc.signalingState === 'closed') {\n      return;\n    }\n\n    if (this.pc.signalingState !== 'stable') {\n      if (this.isWrongSignalingState) {\n        this._log.warn(\n          'signalingState is not stable',\n          createWarnPayload({\n            channel: this.localPerson.channel,\n            detail: 'signalingState is not stable',\n            operationName: 'Receiver._handleSenderRestartIce',\n            payload: { signalingState: this.pc.signalingState },\n          })\n        );\n        await this.waitForSignalingState('stable');\n        await this._handleSenderRestartIce({ sdp });\n        return;\n      }\n      throw createError({\n        operationName: 'Receiver._handleSenderRestartIce',\n        context: this._context,\n        channel: this.localPerson.channel,\n        info: { ...errors.internal, detail: 'wrong signalingState' },\n        payload: { signalingState: this.pc.signalingState },\n        path: log.prefix,\n      });\n    }\n\n    this._setConnectionState('reconnecting');\n\n    await this.sendAnswer(sdp);\n    await this.resolveCandidates();\n\n    if (this.pc.connectionState === 'connected') {\n      this._setConnectionState('connected');\n    }\n  }\n\n  private async sendAnswer(sdp: RTCSessionDescriptionInit) {\n    this._log.debug(`[receiver] start: sendAnswer`);\n\n    await this.pc.setRemoteDescription(sdp);\n    const answer = await this.pc.createAnswer();\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'answer',\n        data: {\n          answer: JSON.stringify(answer),\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    const offerObject = sdpTransform.parse(this.pc.remoteDescription!.sdp);\n    const answerObject = sdpTransform.parse(answer.sdp!);\n\n    // fmtpの一部の設定(stereo)はremote側でも設定しないと効果を発揮しない\n    offerObject.media.forEach((offerMedia, i) => {\n      const answerMedia = answerObject.media[i];\n      answerMedia.fmtp = deepCopy(answerMedia.fmtp).map((answerFmtp) => {\n        const offerFmtp = offerMedia.fmtp.find(\n          (f) => f.payload === answerFmtp.payload\n        );\n        if (offerFmtp) {\n          return offerFmtp;\n        }\n        return answerFmtp;\n      });\n    });\n    const munged = sdpTransform.write(answerObject);\n\n    await this.pc.setLocalDescription({ type: 'answer', sdp: munged });\n\n    const message: ReceiverAnswerMessage = {\n      kind: 'receiverAnswerMessage',\n      payload: { sdp: this.pc.localDescription! },\n    };\n    await this.signaling.send(this.endpoint, message).catch((e) =>\n      this._log.error('failed to send answer', e, {\n        localPersonId: this.localPerson.id,\n        endpointId: this.endpoint.id,\n      })\n    );\n\n    this._log.debug(`[receiver] end: sendAnswer`);\n  }\n\n  get subscriptions() {\n    return this._subscriptions;\n  }\n}\n\nexport interface ReceiverAnswerMessage extends P2PMessage {\n  kind: 'receiverAnswerMessage';\n  payload: {\n    sdp: RTCSessionDescriptionInit;\n  };\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import {\n  BackOff,\n  Event,\n  EventDisposer,\n  Logger,\n  PromiseQueue,\n  SkyWayError,\n} from '@skyway-sdk/common';\nimport isEqual from 'lodash/isEqual';\nimport * as sdpTransform from 'sdp-transform';\nimport { v4 } from 'uuid';\n\nimport { SkyWayContext } from '../../../../context';\nimport { errors } from '../../../../errors';\nimport { AnalyticsSession } from '../../../../external/analytics';\nimport { IceManager } from '../../../../external/ice';\nimport { SignalingSession } from '../../../../external/signaling';\nimport { Codec } from '../../../../media';\nimport {\n  LocalAudioStream,\n  LocalCustomVideoStream,\n  LocalStream,\n  LocalVideoStream,\n} from '../../../../media/stream';\nimport { LocalPersonImpl } from '../../../../member/localPerson';\nimport { RemoteMember } from '../../../../member/remoteMember';\nimport { PublicationImpl } from '../../../../publication';\nimport {\n  createError,\n  createWarnPayload,\n  getParameters,\n  statsToArray,\n} from '../../../../util';\nimport { TransportConnectionState } from '../../../interface';\nimport { isSafari } from '../util';\nimport { setEncodingParams } from '../util';\nimport { P2PMessage } from '.';\nimport { DataChannelNegotiationLabel } from './datachannel';\nimport { IceCandidateMessage, Peer } from './peer';\nimport { ReceiverAnswerMessage } from './receiver';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/person/connection/sender.ts'\n);\n\nexport class Sender extends Peer {\n  readonly id = v4();\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n\n  publications: { [publicationId: string]: PublicationImpl } = {};\n  transceivers: { [publicationId: string]: RTCRtpTransceiver } = {};\n  datachannels: { [publicationId: string]: RTCDataChannel } = {};\n  private _pendingPublications: (PublicationImpl | string)[] = [];\n  private _isNegotiating = false;\n  private readonly promiseQueue = new PromiseQueue();\n  private _disposer = new EventDisposer();\n  private _ms = new MediaStream();\n  private _backoffIceRestarted = new BackOff({\n    times: 8,\n    interval: 100,\n    jitter: 100,\n  });\n  private _connectionState: TransportConnectionState = 'new';\n  private _log = log.createBlock({\n    localPersonId: this.localPerson.id,\n    id: this.id,\n  });\n  private _unsubscribeStreamEnableChange: {\n    [publicationId: string]: () => void;\n  } = {};\n\n  private _cleanupStreamCallbacks: {\n    [streamId: string]: () => void;\n  } = {};\n\n  constructor(\n    context: SkyWayContext,\n    iceManager: IceManager,\n    signaling: SignalingSession,\n    analytics: AnalyticsSession | undefined,\n    localPerson: LocalPersonImpl,\n    endpoint: RemoteMember\n  ) {\n    super(\n      context,\n      iceManager,\n      signaling,\n      analytics,\n      localPerson,\n      endpoint,\n      'sender'\n    );\n    this._log.debug('spawned');\n\n    this.signaling.onMessage\n      .add(async ({ src, data }) => {\n        if (!(src.id === endpoint.id && src.name === endpoint.name)) return;\n\n        const message = data as ReceiverAnswerMessage | IceCandidateMessage;\n\n        switch (message.kind) {\n          case 'receiverAnswerMessage':\n            {\n              this.promiseQueue\n                .push(() => this._handleReceiverAnswer(message.payload))\n                .catch((err) =>\n                  this._log.error('handle receiverAnswerMessage', {\n                    localPersonId: this.localPerson.id,\n                    endpointId: this.endpoint.id,\n                    err,\n                  })\n                );\n            }\n            break;\n          case 'iceCandidateMessage':\n            {\n              const { role, candidate } = message.payload;\n              if (role === 'receiver') {\n                await this.handleCandidate(candidate);\n              }\n            }\n            break;\n        }\n      })\n      .disposer(this._disposer);\n\n    this.onPeerConnectionStateChanged\n      .add(async (state) => {\n        try {\n          log.debug('onPeerConnectionStateChanged', { state });\n          switch (state) {\n            case 'disconnected':\n            case 'failed':\n              {\n                const e = await this.waitForConnectionState(\n                  'connected',\n                  context.config.rtcConfig.iceDisconnectBufferTimeout\n                ).catch((e) => e as SkyWayError);\n                if (e && this._connectionState !== 'reconnecting') {\n                  await this.restartIce();\n                }\n              }\n              break;\n            case 'connecting':\n            case 'connected':\n              this._setConnectionState(state);\n              break;\n            case 'closed':\n              this._setConnectionState('disconnected');\n              break;\n          }\n        } catch (error) {\n          log.error('onPeerConnectionStateChanged', error, this.id);\n        }\n      })\n      .disposer(this._disposer);\n  }\n\n  private _setConnectionState(state: TransportConnectionState) {\n    if (this._connectionState === state) {\n      return;\n    }\n    this._log.debug(\n      'onConnectionStateChanged',\n      this.id,\n      this._connectionState,\n      state\n    );\n    this._connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n  }\n\n  /**@throws */\n  readonly restartIce = async () => {\n    if (this._backoffIceRestarted.exceeded) {\n      this._log.error(\n        createError({\n          operationName: 'Sender.restartIce',\n          context: this._context,\n          channel: this.localPerson.channel,\n          info: { ...errors.internal, detail: 'restartIce limit exceeded' },\n          path: log.prefix,\n        })\n      );\n      this._setConnectionState('disconnected');\n      return;\n    }\n    this._log.warn(\n      '[start] restartIce',\n      createWarnPayload({\n        operationName: 'Sender.restartIce',\n        detail: 'start restartIce',\n        channel: this.localPerson.channel,\n        payload: { count: this._backoffIceRestarted.count },\n      })\n    );\n\n    const checkNeedEnd = () => {\n      if (this.endpoint.state === 'left') {\n        this._log.warn(\n          'endpointMemberLeft',\n          createWarnPayload({\n            operationName: 'restartIce',\n            detail: 'endpointMemberLeft',\n            channel: this.localPerson.channel,\n            payload: { endpointId: this.endpoint.id },\n          })\n        );\n        this._setConnectionState('disconnected');\n        return true;\n      }\n\n      if ((this.pc.connectionState as RTCPeerConnectionState) === 'connected') {\n        this._log.warn(\n          '[end] restartIce',\n          createWarnPayload({\n            operationName: 'restartIce',\n            detail: 'reconnected',\n            channel: this.localPerson.channel,\n            payload: { count: this._backoffIceRestarted.count },\n          })\n        );\n        this._backoffIceRestarted.reset();\n        this._setConnectionState('connected');\n\n        if (\n          this.localPerson._analytics &&\n          !this.localPerson._analytics.isClosed()\n        ) {\n          // 再送時に他の処理をブロックしないためにawaitしない\n          void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport(\n            {\n              rtcPeerConnectionId: this.id,\n              type: 'restartIce',\n              data: undefined,\n              createdAt: Date.now(),\n            }\n          );\n        }\n        return true;\n      }\n    };\n\n    this._setConnectionState('reconnecting');\n    await this._backoffIceRestarted.wait();\n\n    if (checkNeedEnd()) return;\n\n    let e = await this._iceManager.updateIceParams().catch((e) => e as Error);\n    if (e) {\n      this._log.warn(\n        '[failed] restartIce',\n        createWarnPayload({\n          operationName: 'restartIce',\n          detail: 'update IceParams failed',\n          channel: this.localPerson.channel,\n          payload: { count: this._backoffIceRestarted.count },\n        }),\n        e\n      );\n      await this.restartIce();\n      return;\n    }\n    if (this.pc.setConfiguration) {\n      this.pc.setConfiguration({\n        ...this.pc.getConfiguration(),\n        iceServers: this._iceManager.iceServers,\n      });\n      this._log.debug('<restartIce> setConfiguration', {\n        iceServers: this._iceManager.iceServers,\n      });\n    }\n\n    if (checkNeedEnd()) return;\n\n    if (this.signaling.connectionState !== 'connected') {\n      this._log.warn(\n        '<restartIce> reconnect signaling service',\n        createWarnPayload({\n          operationName: 'restartIce',\n          detail: 'reconnect signaling service',\n          channel: this.localPerson.channel,\n          payload: { count: this._backoffIceRestarted.count },\n        })\n      );\n      e = await this.signaling.onConnectionStateChanged\n        .watch((s) => s === 'connected', 10_000)\n        .catch((e) => e as SkyWayError)\n        .then(() => {});\n\n      if (e instanceof SkyWayError) {\n        await this.restartIce();\n        return;\n      }\n\n      if (checkNeedEnd()) return;\n    }\n\n    const offer = await this.pc.createOffer({ iceRestart: true });\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'offer',\n        data: {\n          offer: JSON.stringify(offer),\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    await this.pc.setLocalDescription(offer);\n\n    const message: SenderRestartIceMessage = {\n      kind: 'senderRestartIceMessage',\n      payload: { sdp: this.pc.localDescription! },\n    };\n    e = await this.signaling\n      .send(this.endpoint, message, 10_000)\n      .catch((e) => e);\n    if (e) {\n      this._log.warn(\n        '<restartIce> [failed]',\n        createWarnPayload({\n          operationName: 'restartIce',\n          detail: 'timeout send signaling message',\n          channel: this.localPerson.channel,\n          payload: { count: this._backoffIceRestarted.count },\n        }),\n        e\n      );\n      await this.restartIce();\n      return;\n    }\n\n    e = await this.waitForConnectionState(\n      'connected',\n      this._context.config.rtcConfig.iceDisconnectBufferTimeout\n    ).catch((e) => e);\n    if (!e) {\n      if (checkNeedEnd()) return;\n    }\n\n    await this.restartIce();\n  };\n\n  get hasMedia() {\n    const count = Object.keys(this.publications).length;\n    this._log.debug('hasMedia', { count });\n    if (count > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  private _getMid(\n    publication: PublicationImpl,\n    sdpObject: sdpTransform.SessionDescription\n  ) {\n    if (publication.contentType === 'data') {\n      const media = sdpObject.media.find((m) => m.type === 'application');\n      if (media?.mid == undefined) {\n        throw createError({\n          operationName: 'Sender._getMid',\n          info: {\n            ...errors.missingProperty,\n            detail: 'datachannel mid undefined',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n        });\n      }\n      return media.mid.toString();\n    } else {\n      const transceiver = this.transceivers[publication.id];\n      const mid = transceiver.mid;\n      if (mid == undefined) {\n        throw createError({\n          operationName: 'Sender._getMid',\n          info: {\n            ...errors.missingProperty,\n            detail: 'media mid undefined',\n          },\n          path: log.prefix,\n          context: this._context,\n          channel: this.localPerson.channel,\n        });\n      }\n      return mid.toString();\n    }\n  }\n\n  private _listenStreamEnableChange(\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    publicationId: string\n  ) {\n    if (this._unsubscribeStreamEnableChange[publicationId]) {\n      this._unsubscribeStreamEnableChange[publicationId]();\n    }\n    const { removeListener } = stream._onEnableChanged.add(async (track) => {\n      await this._replaceTrack(publicationId, track).catch((e) => {\n        log.warn(\n          createWarnPayload({\n            member: this.localPerson,\n            detail: '_replaceTrack failed',\n            operationName: 'Sender._listenStreamEnableChange',\n            payload: e,\n          })\n        );\n      });\n    });\n    this._unsubscribeStreamEnableChange[publicationId] = removeListener;\n  }\n\n  /**@throws {@link SkyWayError} */\n  async add(publication: PublicationImpl) {\n    if (this._isNegotiating || this.pc.signalingState !== 'stable') {\n      this._pendingPublications.push(publication);\n      this._log.debug('<add> isNegotiating', {\n        publication,\n        isNegotiating: this._isNegotiating,\n        signalingState: this.pc.signalingState,\n        pendingPublications: this._pendingPublications.length,\n      });\n      return;\n    }\n    this._isNegotiating = true;\n\n    this._log.debug('<add> add publication', { publication });\n\n    this.publications[publication.id] = publication;\n    const stream = publication.stream;\n    if (!stream) {\n      throw createError({\n        operationName: 'Sender.add',\n        info: {\n          ...errors.missingProperty,\n          detail: '<add> stream not found',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n      });\n    }\n\n    this._cleanupStreamCallbacks[stream.id] =\n      this._setupTransportAccessForStream(stream);\n\n    if (stream.contentType === 'data') {\n      const dc = this.pc.createDataChannel(\n        new DataChannelNegotiationLabel(publication.id, stream.id).toLabel(),\n        stream.options\n      );\n      stream._onWriteData\n        .add((data) => {\n          if (dc.readyState === 'open') {\n            dc.send(data as any);\n          }\n        })\n        .disposer(this._disposer);\n\n      this.datachannels[publication.id] = dc;\n    } else {\n      publication._onReplaceStream\n        .add(async ({ newStream, oldStream }) => {\n          newStream._replacingTrack = true;\n          this._listenStreamEnableChange(\n            newStream as LocalAudioStream,\n            publication.id\n          );\n          if (this._cleanupStreamCallbacks[oldStream.id]) {\n            this._cleanupStreamCallbacks[oldStream.id]();\n          }\n          this._cleanupStreamCallbacks[newStream.id] =\n            this._setupTransportAccessForStream(newStream as LocalStream);\n          await this._replaceTrack(publication.id, newStream.track);\n          newStream._replacingTrack = false;\n          newStream._onReplacingTrackDone.emit();\n        })\n        .disposer(this._disposer);\n      this._listenStreamEnableChange(stream, publication.id);\n\n      const transceiver = this.pc.addTransceiver(stream.track, {\n        direction: 'sendonly',\n        streams: [this._ms],\n      });\n\n      publication._onEncodingsChanged\n        .add(async (encodings) => {\n          await setEncodingParams(transceiver.sender, encodings).catch((e) => {\n            this._log.error('_onEncodingsChanged failed', e);\n          });\n        })\n        .disposer(this._disposer);\n      this.transceivers[publication.id] = transceiver;\n    }\n\n    const offer = await this.pc.createOffer().catch((err) => {\n      throw createError({\n        operationName: 'Sender.add',\n        info: {\n          ...errors.internal,\n          detail: \"can't create offer\",\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n        error: err,\n      });\n    });\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'offer',\n        data: {\n          offer: JSON.stringify(offer),\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    await this.pc.setLocalDescription(offer);\n    const sdpObject = sdpTransform.parse(this.pc.localDescription!.sdp);\n    this._log.debug('<add> create offer base', sdpObject);\n\n    const mid = this._getMid(publication, sdpObject);\n\n    if (publication.contentType !== 'data') {\n      applyCodecCapabilities(\n        publication.codecCapabilities ?? [],\n        mid,\n        sdpObject\n      );\n      const offerSdp = sdpTransform.write(sdpObject);\n      await this.pc.setLocalDescription({ type: 'offer', sdp: offerSdp });\n      this._log.debug('<add> create offer', this.pc.localDescription);\n\n      if (publication.encodings?.length > 0) {\n        if (isSafari()) {\n          this._safariSetupEncoding(\n            publication as PublicationImpl<LocalVideoStream>\n          );\n        } else {\n          const transceiver = this.transceivers[publication.id];\n          await setEncodingParams(transceiver.sender, [\n            publication.encodings[0],\n          ]);\n        }\n      }\n    }\n\n    const message: SenderProduceMessage = {\n      kind: 'senderProduceMessage',\n      payload: {\n        sdp: this.pc.localDescription!,\n        publicationId: publication.id,\n        info: {\n          publicationId: publication.id,\n          streamId: stream.id,\n          mid,\n        },\n      },\n    };\n\n    this._log.debug('[start] send message', message);\n    await this.signaling.send(this.endpoint, message).catch((error) => {\n      this._log.error('[failed] send message :', error, {\n        localPersonId: this.localPerson.id,\n        endpointId: this.endpoint.id,\n      });\n      throw error;\n    });\n    this._log.debug('[end] send message', message);\n  }\n\n  private _setupTransportAccessForStream(stream: LocalStream) {\n    stream._getTransportCallbacks[this.endpoint.id] = () => ({\n      rtcPeerConnection: this.pc,\n      connectionState: this._connectionState,\n    });\n    stream._getStatsCallbacks[this.endpoint.id] = async () => {\n      if (stream.contentType === 'data') {\n        const stats = await this.pc.getStats();\n        const arr = statsToArray(stats);\n        return arr;\n      }\n\n      if (stream._replacingTrack) {\n        await stream._onReplacingTrackDone.asPromise(200);\n      }\n\n      const stats = await this.pc.getStats(stream.track);\n      const arr = statsToArray(stats);\n      return arr;\n    };\n\n    // replaceStream時に古いstreamに紐づくcallbackを削除するため、戻り値としてcallback削除用の関数を返し、replaceStream時に呼び出す\n    const cleanupCallbacks = () => {\n      delete stream._getTransportCallbacks[this.endpoint.id];\n      delete stream._getStatsCallbacks[this.endpoint.id];\n    };\n\n    this._disposer.push(() => {\n      cleanupCallbacks();\n    });\n    this.onConnectionStateChanged\n      .add((state) => {\n        stream._setConnectionState(this.endpoint, state);\n        if (\n          this.localPerson._analytics &&\n          !this.localPerson._analytics.isClosed()\n        ) {\n          void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport(\n            {\n              rtcPeerConnectionId: this.rtcPeerConnectionId,\n              type: 'skywayConnectionStateChange',\n              data: {\n                skywayConnectionState: state,\n              },\n              createdAt: Date.now(),\n            }\n          );\n        }\n      })\n      .disposer(this._disposer);\n\n    return cleanupCallbacks;\n  }\n\n  /**@throws {SkyWayError} */\n  async remove(publicationId: string) {\n    const publication = this.publications[publicationId];\n    if (!publication) {\n      this._log.warn(\n        '<remove> publication not found',\n        createWarnPayload({\n          operationName: 'Sender.remove',\n          detail: 'publication already removed',\n          channel: this.localPerson.channel,\n          payload: { publicationId },\n        })\n      );\n      return;\n    }\n\n    // 対向のConnectionがcloseされた際にanswerが帰ってこなくなり、\n    // _isNegotiatingが永久にfalseにならなくなる。\n    // この時点でpublicationを削除しないと、このConnectionのcloseIfNeedが\n    // 正常に動作しなくなる\n    delete this.publications[publicationId];\n\n    if (this._isNegotiating || this.pc.signalingState !== 'stable') {\n      this._pendingPublications.push(publicationId);\n      this._log.debug('<remove> isNegotiating', {\n        publicationId,\n        _isNegotiating: this._isNegotiating,\n        signalingState: this.pc.signalingState,\n      });\n      return;\n    }\n    this._isNegotiating = true;\n\n    this._log.debug('<remove> [start]', { publicationId });\n\n    const stream = publication.stream;\n    if (!stream) {\n      throw createError({\n        operationName: 'Sender.remove',\n        info: {\n          ...errors.missingProperty,\n          detail: '<remove> publication not have stream',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n        payload: { publication },\n      });\n    }\n\n    if (stream.contentType === 'data') {\n      const dc = this.datachannels[publicationId];\n      dc.close();\n      delete this.datachannels[publicationId];\n    } else {\n      const transceiver = this.transceivers[publicationId];\n      transceiver.stop();\n\n      delete this.transceivers[publicationId];\n    }\n\n    const offer = await this.pc.createOffer().catch((err) => {\n      throw createError({\n        operationName: 'Sender.remove',\n        info: {\n          ...errors.internal,\n          detail: \"<remove> can't create offer\",\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n        error: err,\n      });\n    });\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.rtcPeerConnectionId,\n        type: 'offer',\n        data: {\n          offer: JSON.stringify(offer),\n        },\n        createdAt: Date.now(),\n      });\n    }\n\n    await this.pc.setLocalDescription(offer);\n\n    const message: SenderUnproduceMessage = {\n      kind: 'senderUnproduceMessage',\n      payload: { sdp: this.pc.localDescription!, publicationId },\n    };\n    this._log.debug('<remove> send message', { message });\n    await this.signaling.send(this.endpoint, message).catch((error) => {\n      this._log.error('<remove> in remote error :', error, {\n        localPersonId: this.localPerson.id,\n        endpointId: this.endpoint.id,\n      });\n      throw error;\n    });\n\n    this._log.debug('<remove> [end]', { publicationId });\n  }\n\n  private async _replaceTrack(\n    publicationId: string,\n    track: MediaStreamTrack | null\n  ) {\n    const transceiver = this.transceivers[publicationId];\n    if (!transceiver) {\n      this._log.warn(\n        \"can't replace track, transceiver not found\",\n        createWarnPayload({\n          operationName: 'Sender._replaceTrack',\n          detail: 'transceiver already removed',\n          channel: this.localPerson.channel,\n          payload: { publicationId },\n        })\n      );\n      return;\n    }\n\n    await transceiver.sender.replaceTrack(track).catch((e) => {\n      throw createError({\n        operationName: 'Sender._replaceTrack',\n        context: this._context,\n        info: errors.internal,\n        error: e,\n        path: log.prefix,\n        channel: this.localPerson.channel,\n      });\n    });\n  }\n\n  private async _handleReceiverAnswer({\n    sdp,\n  }: ReceiverAnswerMessage['payload']) {\n    if (this.pc.signalingState === 'closed') {\n      return;\n    }\n\n    this._log.debug('<handleReceiverAnswer> [start]');\n\n    await this.pc\n      .setRemoteDescription(new RTCSessionDescription(sdp))\n      .catch((err) => {\n        const error = createError({\n          operationName: 'Sender._handleReceiverAnswer',\n          context: this._context,\n          info: {\n            ...errors.internal,\n            detail: 'failed to setRemoteDescription',\n          },\n          path: log.prefix,\n          payload: { sdp },\n          channel: this.localPerson.channel,\n          error: err,\n        });\n        this._log.error(error);\n        throw error;\n      });\n\n    this._log.debug('<handleReceiverAnswer> sRD');\n    await this.resolveCandidates();\n    this._log.debug('<handleReceiverAnswer> resolveCandidates');\n    await this.waitForSignalingState('stable');\n    this._log.debug('<handleReceiverAnswer> waitForSignalingState');\n\n    this._isNegotiating = false;\n    await this._resolvePendingSender();\n    this._log.debug(\n      '<handleReceiverAnswer> _resolvePendingSender',\n      this._pendingPublications.length\n    );\n\n    this._log.debug('<handleReceiverAnswer> [end]');\n  }\n\n  private _safariSetupEncoding(publication: PublicationImpl<LocalVideoStream>) {\n    // 映像の送信が始まる前にEncodeの設定をするとEncodeの設定の更新ができなくなる\n    const transceiver = this.transceivers[publication.id];\n\n    const stream = publication.stream as LocalVideoStream;\n    this.waitForStats({\n      track: stream.track,\n      cb: (stats) => {\n        const outbound = stats.find(\n          (s) =>\n            s.id.includes('RTCOutboundRTP') || s.type.includes('outbound-rtp')\n        );\n        if (outbound?.keyFramesEncoded > 0) return true;\n        return false;\n      },\n      interval: 10,\n      timeout: this._context.config.rtcConfig.timeout,\n    })\n      .then(() => {\n        log.debug('safari wait for stats resolved, setEncodingParams');\n        setEncodingParams(transceiver.sender, [publication.encodings[0]]).catch(\n          (e) => {\n            this._log.error('setEncodingParams failed', e);\n          }\n        );\n      })\n      .catch((e) => {\n        this._log.error('waitForStats', e);\n      });\n  }\n\n  /**@throws {@link SkyWayError} */\n  private async _resolvePendingSender() {\n    const publication = this._pendingPublications.shift();\n    if (!publication) return;\n\n    this._log.debug('resolve pending sender', { publication });\n\n    if (typeof publication === 'string') {\n      await this.remove(publication);\n    } else {\n      await this.add(publication);\n    }\n  }\n\n  close() {\n    this._log.debug('closed');\n\n    this.unSetPeerConnectionListener();\n    Object.values(this._unsubscribeStreamEnableChange).forEach((f) => f());\n    this.pc.close();\n    this._setConnectionState('disconnected');\n\n    this._disposer.dispose();\n  }\n}\n\nexport function applyCodecCapabilities(\n  codecCapabilities: Codec[],\n  mid: string,\n  sdpObject: sdpTransform.SessionDescription\n) {\n  const media = sdpObject.media.find((m) => m.mid?.toString() === mid);\n  if (!media) {\n    throw createError({\n      operationName: 'applyCodecCapabilities',\n      info: {\n        ...errors.notFound,\n        detail: 'media not found',\n      },\n      path: log.prefix,\n    });\n  }\n\n  // parametersをfmtp形式に変換\n  codecCapabilities.forEach((cap) => {\n    if (cap.parameters) {\n      for (const [key, value] of Object.entries(cap.parameters ?? {})) {\n        if (value === false || !cap.parameters[key]) {\n          return;\n        }\n        if (key === 'usedtx' && value) {\n          cap.parameters[key] = 1;\n        }\n      }\n    }\n  });\n\n  /**codec名とparametersの一致するものを探す */\n  const findCodecFromCodecCapability = (\n    cap: Codec,\n    rtp: sdpTransform.MediaAttributes['rtp'],\n    fmtp: sdpTransform.MediaAttributes['fmtp']\n  ): sdpTransform.MediaAttributes['rtp'][number] | undefined => {\n    const rtpList = rtp.map((r) => ({\n      ...r,\n      parameters: getParameters(fmtp, r.payload),\n    }));\n    const codecName = mimeTypeToCodec(cap.mimeType);\n    if (!codecName) {\n      return undefined;\n    }\n\n    const matched =\n      rtpList.find((r) => {\n        if (r.codec.toLowerCase() !== codecName.toLowerCase()) {\n          return false;\n        }\n\n        if (Object.keys(cap.parameters ?? {}).length === 0) {\n          return true;\n        }\n\n        // audioはブラウザが勝手にfmtp configを足してくるので厳密にマッチさせる必要がない\n        if (mimeTypeToContentType(cap.mimeType) === 'audio') {\n          return true;\n        }\n\n        return isEqual(r.parameters, cap.parameters ?? {});\n      }) ?? undefined;\n\n    return matched;\n  };\n\n  const preferredCodecs = codecCapabilities\n    .map((cap) => findCodecFromCodecCapability(cap, media.rtp, media.fmtp))\n    .filter((v): v is NonNullable<typeof v> => v != undefined);\n\n  const sorted = [\n    ...preferredCodecs,\n    ...media.rtp.filter(\n      (rtp) => !preferredCodecs.find((p) => p.payload === rtp.payload)\n    ),\n  ];\n\n  // apply codec fmtp\n  for (const fmtp of media.fmtp) {\n    const payloadType = fmtp.payload;\n    const targetCodecWithPayload = sorted.find(\n      (c) => c.payload === payloadType\n    );\n\n    if (targetCodecWithPayload) {\n      const targetCodecCapability = codecCapabilities.find((c) =>\n        findCodecFromCodecCapability(c, [targetCodecWithPayload], media.fmtp)\n      );\n      if (targetCodecCapability) {\n        if (\n          targetCodecCapability.parameters &&\n          Object.keys(targetCodecCapability.parameters).length > 0\n        ) {\n          // codecCapabilitiesのfmtpを適用する\n          fmtp.config = '';\n          Object.entries(targetCodecCapability.parameters).forEach(\n            ([key, value]) => {\n              if (value === false || fmtp.config.includes(key)) {\n                return;\n              }\n              if (fmtp.config.length > 0) {\n                fmtp.config += `;${key}=${value}`;\n              } else {\n                fmtp.config = `${key}=${value}`;\n              }\n            }\n          );\n        }\n      }\n    }\n\n    // opusDtxはデフォルトで有効に設定する\n    const opus = sorted.find((rtp) => rtp.codec.toLowerCase() === 'opus');\n    const opusDtx = codecCapabilities.find(\n      (f) => mimeTypeToCodec(f.mimeType).toLowerCase() === 'opus'\n    )?.parameters?.usedtx;\n    if (\n      opus &&\n      opusDtx !== false &&\n      fmtp.payload === opus.payload &&\n      !fmtp.config.includes('usedtx')\n    ) {\n      if (fmtp.config.length > 0) {\n        fmtp.config += ';usedtx=1';\n      } else {\n        fmtp.config = 'usedtx=1';\n      }\n    }\n  }\n\n  media.payloads = sorted.map((rtp) => rtp.payload.toString()).join(' ');\n}\n\nexport interface SenderProduceMessage extends P2PMessage {\n  kind: 'senderProduceMessage';\n  payload: {\n    sdp: RTCSessionDescriptionInit;\n    publicationId: string;\n    info: {\n      publicationId: string;\n      streamId: string;\n      mid: string;\n    };\n  };\n}\n\nexport interface SenderUnproduceMessage extends P2PMessage {\n  kind: 'senderUnproduceMessage';\n  payload: {\n    sdp: RTCSessionDescriptionInit;\n    publicationId: string;\n  };\n}\n\nexport interface SenderRestartIceMessage extends P2PMessage {\n  kind: 'senderRestartIceMessage';\n  payload: {\n    sdp: RTCSessionDescriptionInit;\n  };\n}\n\nconst mimeTypeToCodec = (mimeType: string) => mimeType.split('/')[1];\nconst mimeTypeToContentType = (mimeType: string) => mimeType.split('/')[0];\n","import { Event, Logger, PromiseQueue } from '@skyway-sdk/common';\nimport { v4 } from 'uuid';\n\nimport { SkyWayContext } from '../../../../context';\nimport { errors } from '../../../../errors';\nimport { AnalyticsSession } from '../../../../external/analytics';\nimport { IceManager } from '../../../../external/ice';\nimport { SignalingSession } from '../../../../external/signaling';\nimport { LocalPersonImpl } from '../../../../member/localPerson';\nimport { RemoteMember } from '../../../../member/remoteMember';\nimport { Publication, PublicationImpl } from '../../../../publication';\nimport { Subscription, SubscriptionImpl } from '../../../../subscription';\nimport { createError } from '../../../../util';\nimport { SkyWayConnection } from '../../../interface/connection';\nimport { Receiver } from './receiver';\nimport { Sender } from './sender';\n\nconst log = new Logger(\n  'packages/core/src/plugin/internal/person/connection/index.ts'\n);\n\n/**@internal */\nexport class P2PConnection implements SkyWayConnection {\n  readonly id = v4();\n  readonly type = 'p2p';\n  readonly onDisconnect = new Event<void>();\n  readonly onClose = new Event<void>();\n  closed = false;\n  disconnected = false;\n  private _log = log.createBlock({\n    id: this.id,\n    localPersonId: this.localPerson.id,\n  });\n  private _pubsubQueue = new PromiseQueue();\n  private sendSubscriptionStatsReportTimers: Map<\n    string,\n    ReturnType<typeof setInterval>\n  > = new Map();\n  private _waitingSendSubscriptionStatsReportsFromPublish: Map<string, string> =\n    new Map();\n  private _waitingSendSubscriptionStatsReportsFromSubscribe: string[] = [];\n\n  readonly sender = new Sender(\n    this._context,\n    this._iceManager,\n    this._signaling,\n    this._analytics,\n    this.localPerson,\n    this.remoteMember\n  );\n  readonly receiver = new Receiver(\n    this._context,\n    this._iceManager,\n    this._signaling,\n    this._analytics,\n    this.localPerson,\n    this.remoteMember\n  );\n\n  /**@internal */\n  constructor(\n    private readonly _iceManager: IceManager,\n    private readonly _signaling: SignalingSession,\n    private readonly _analytics: AnalyticsSession | undefined,\n    private readonly _context: SkyWayContext,\n    readonly channelId: string,\n    readonly localPerson: LocalPersonImpl,\n    readonly remoteMember: RemoteMember\n  ) {\n    this.sender.onDisconnect.once(() => {\n      this.disconnected = true;\n      this.onDisconnect.emit();\n    });\n    this.receiver.onDisconnect.once(() => {\n      this.disconnected = true;\n      this.onDisconnect.emit();\n    });\n\n    if (this._analytics) {\n      this._analytics.onConnectionStateChanged.add((state) => {\n        // AnalyticsServerに初回接続できなかった場合のsendSubscriptionStatsReportタイマー再セット処理\n        if (state !== 'connected') return;\n        if (this._waitingSendSubscriptionStatsReportsFromPublish.size > 0) {\n          for (const [subscriptionId, publicationId] of this\n            ._waitingSendSubscriptionStatsReportsFromPublish) {\n            const publication = this.sender.publications[publicationId];\n            if (publication) {\n              this.startSendSubscriptionStatsReportTimer(\n                publication,\n                subscriptionId\n              );\n            }\n          }\n          this._waitingSendSubscriptionStatsReportsFromPublish.clear();\n        }\n        if (this._waitingSendSubscriptionStatsReportsFromSubscribe.length > 0) {\n          for (const subscriptionId of this\n            ._waitingSendSubscriptionStatsReportsFromSubscribe) {\n            const subscription = this.receiver.subscriptions[subscriptionId];\n            if (subscription) {\n              this.startSendSubscriptionStatsReportTimer(\n                subscription,\n                subscriptionId\n              );\n            }\n          }\n          this._waitingSendSubscriptionStatsReportsFromSubscribe = [];\n        }\n      });\n    }\n  }\n\n  /**\n   * @internal\n   * @throws {SkyWayError}\n   */\n  async startPublishing(publication: PublicationImpl, subscriptionId: string) {\n    await this._pubsubQueue.push(async () => {\n      this._log.debug('startPublishing', { publication });\n      await this.sender.add(publication);\n    });\n\n    if (this._analytics && !this._analytics.isClosed()) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._analytics.client.sendBindingRtcPeerConnectionToSubscription({\n        subscriptionId: subscriptionId,\n        role: 'sender',\n        rtcPeerConnectionId: this.sender.rtcPeerConnectionId,\n      });\n\n      if (this._analytics.client.isConnectionEstablished()) {\n        this.startSendSubscriptionStatsReportTimer(publication, subscriptionId);\n      } else {\n        // AnalyticsServerに初回接続できなかった場合はキューに入れる\n        this._waitingSendSubscriptionStatsReportsFromPublish.set(\n          subscriptionId,\n          publication.id\n        );\n      }\n    }\n  }\n\n  /**@internal */\n  async stopPublishing(publication: Publication) {\n    await this._pubsubQueue.push(async () => {\n      this._log.debug('<stopPublishing> start', { publication });\n      this.sender\n        .remove(publication.id)\n        .then(() => {\n          this._log.debug('<stopPublishing> removed', { publication });\n        })\n        .catch((e) => {\n          this._log.error('<stopPublishing> remove failed', e, { publication });\n        });\n      this._closeIfNeeded();\n      this._log.debug('<stopPublishing> end', { publication });\n    });\n\n    // publication(=stream）のidをkeyとして一致するタイマーを取得する\n    const sendSubscriptionStatsReportTimer =\n      this.sendSubscriptionStatsReportTimers.get(publication.id);\n    if (sendSubscriptionStatsReportTimer) {\n      clearInterval(sendSubscriptionStatsReportTimer);\n      this.sendSubscriptionStatsReportTimers.delete(publication.id);\n    }\n  }\n\n  /**@internal */\n  async startSubscribing(subscription: SubscriptionImpl) {\n    await this._pubsubQueue.push(async () => {\n      this._log.debug('startSubscribing', { subscription });\n      this.receiver.add(subscription);\n      const publicationId = subscription.publication.id;\n\n      let stream = this.receiver.streams[publicationId];\n      if (!stream) {\n        await this.receiver.onStreamAdded\n          .watch(\n            (res) => res.publicationId === publicationId,\n            this._context.config.rtcConfig.timeout\n          )\n          .catch(() => {\n            throw createError({\n              operationName: 'P2PConnection.startSubscribing',\n              info: { ...errors.timeout, detail: 'onStreamAdded' },\n              path: log.prefix,\n              context: this._context,\n              channel: this.localPerson.channel,\n              payload: { subscription },\n            });\n          });\n        stream = this.receiver.streams[publicationId];\n      }\n\n      stream.setIsEnabled(subscription.publication.state === 'enabled');\n      subscription.codec = stream.codec;\n      subscription._setStream(stream);\n\n      if (this._analytics && !this._analytics.isClosed()) {\n        // 再送時に他の処理をブロックしないためにawaitしない\n        void this._analytics.client.sendBindingRtcPeerConnectionToSubscription({\n          subscriptionId: subscription.id,\n          role: 'receiver',\n          rtcPeerConnectionId: this.receiver.rtcPeerConnectionId,\n        });\n\n        if (this._analytics.client.isConnectionEstablished()) {\n          this.startSendSubscriptionStatsReportTimer(\n            subscription,\n            subscription.id\n          );\n        } else {\n          // AnalyticsServerに初回接続できなかった場合はキューに入れる\n          this._waitingSendSubscriptionStatsReportsFromSubscribe.push(\n            subscription.id\n          );\n        }\n      }\n    });\n  }\n\n  /**@internal */\n  async stopSubscribing(subscription: Subscription) {\n    await this._pubsubQueue.push(async () => {\n      this._log.debug('stopSubscribing', { subscription });\n      this.receiver.remove(subscription.id);\n      this._closeIfNeeded();\n    });\n\n    // subscription(=stream）のidをkeyとして一致するタイマーを取得する\n    const sendSubscriptionStatsReportTimer =\n      this.sendSubscriptionStatsReportTimers.get(subscription.id);\n    if (sendSubscriptionStatsReportTimer) {\n      clearInterval(sendSubscriptionStatsReportTimer);\n      this.sendSubscriptionStatsReportTimers.delete(subscription.id);\n    }\n  }\n\n  private _closeIfNeeded(): void {\n    if (this.sender.hasMedia || this.receiver.hasMedia) return;\n    this.close({ reason: 'no media' });\n  }\n\n  async getStats(content: Subscription | Publication) {\n    const stream = content.stream;\n    if (!stream) {\n      throw createError({\n        operationName: 'P2PConnection.getStats',\n        info: {\n          ...errors.invalidArgumentValue,\n          detail: 'Subscription or Publication must has stream',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.localPerson.channel,\n      });\n    }\n    if (stream.side === 'local') {\n      if (stream.contentType === 'data') {\n        return this.sender.pc.getStats();\n      }\n      return this.sender.pc.getStats(stream.track);\n    } else {\n      if (stream.contentType === 'data') {\n        return this.receiver.pc.getStats();\n      }\n      return this.receiver.pc.getStats(stream.track);\n    }\n  }\n\n  /**@internal */\n  close({ reason }: { reason?: string } = {}) {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n\n    this._log.debug('closed', {\n      endpointId: this.remoteMember.id,\n      reason,\n      sender: this.sender.id,\n      receiver: this.receiver.id,\n      id: this.id,\n    });\n\n    this.sender.close();\n    this.receiver.close();\n\n    this.onClose.emit();\n  }\n\n  private startSendSubscriptionStatsReportTimer(\n    stream: Publication | Subscription,\n    subscriptionId: string\n  ) {\n    if (this._analytics) {\n      const role = stream instanceof PublicationImpl ? 'sender' : 'receiver';\n      const intervalSec = this._analytics.client.getIntervalSec();\n      this.sendSubscriptionStatsReportTimers.set(\n        stream.id,\n        setInterval(async () => {\n          if (!this._analytics) {\n            throw createError({\n              operationName: 'P2PConnection.sendSubscriptionStatsReportTimer',\n              info: {\n                ...errors.missingProperty,\n                detail: 'AnalyticsSession not exist',\n              },\n              path: log.prefix,\n              context: this._context,\n              channel: this.localPerson.channel,\n            });\n          }\n\n          // AnalyticsSessionがcloseされていたらタイマーを止める\n          if (this._analytics.isClosed()) {\n            const subscriptionStatsReportTimer =\n              this.sendSubscriptionStatsReportTimers.get(stream.id);\n            if (subscriptionStatsReportTimer) {\n              clearInterval(subscriptionStatsReportTimer);\n              this.sendSubscriptionStatsReportTimers.delete(stream.id);\n            }\n            return;\n          }\n\n          const stats = await this.getStats(stream);\n          if (stats) {\n            // 再送時に他の処理をブロックしないためにawaitしない\n            void this._analytics.client.sendSubscriptionStatsReport(stats, {\n              subscriptionId: subscriptionId,\n              role: role,\n              createdAt: Date.now(),\n            });\n          }\n        }, intervalSec * 1000)\n      );\n    }\n  }\n}\n\nconst p2pMessageKinds = [\n  'senderProduceMessage',\n  'senderUnproduceMessage',\n  'receiverAnswerMessage',\n  'iceCandidateMessage',\n  'senderRestartIceMessage',\n  'ping',\n] as const;\n\n/**@internal */\nexport type P2PMessageKind = (typeof p2pMessageKinds)[number];\n\n/**@internal */\nexport type P2PMessage = {\n  kind: P2PMessageKind;\n  payload: any;\n};\n","import { Event, EventDisposer, Logger } from '@skyway-sdk/common';\n\nimport { SkyWayChannelImpl } from '../../../channel';\nimport { SkyWayContext } from '../../../context';\nimport { errors } from '../../../errors';\nimport { RemoteAudioStream } from '../../../media/stream/remote/audio';\nimport { RemoteDataStream } from '../../../media/stream/remote/data';\nimport { RemoteVideoStream } from '../../../media/stream/remote/video';\nimport { MemberImpl } from '../../../member';\nimport { LocalPersonImpl } from '../../../member/localPerson';\nimport { Person } from '../../../member/person';\nimport {\n  RemoteMember,\n  RemoteMemberImplInterface,\n} from '../../../member/remoteMember';\nimport { Subscription } from '../../../subscription';\nimport { createError } from '../../../util';\nimport { P2PConnection } from './connection';\nimport { PersonPlugin } from './plugin';\n\nconst log = new Logger('packages/core/src/plugin/internal/person/member.ts');\n\nexport type RemotePerson = RemoteMemberImplInterface &\n  Person & {\n    /**@description [japanese] この RemotePerson がPublicationをSubscribeしたとき */\n    readonly onPublicationSubscribed: Event<{\n      subscription: Subscription;\n    }>;\n    /**@description [japanese] この RemotePerson がPublicationをUnsubscribeしたとき */\n    readonly onPublicationUnsubscribed: Event<{ subscription: Subscription }>;\n    readonly onPublicationListChanged: Event<void>;\n    readonly onSubscriptionListChanged: Event<void>;\n    /**@description [japanese] この RemotePerson にPublicationをSubscribeさせる */\n    subscribe: (\n      publicationId: string\n    ) => Promise<{ subscription: Subscription }>;\n    /**@description [japanese] この RemotePerson にPublicationをUnsubscribeさせる */\n    unsubscribe: (subscriptionId: string) => Promise<void>;\n  };\n\n/**@internal */\nexport class RemotePersonImpl extends MemberImpl implements RemotePerson {\n  readonly type = 'person';\n  readonly subtype = 'person';\n  readonly side = 'remote';\n  readonly plugin: PersonPlugin;\n  private _connections: { [localPersonSystemId: string]: P2PConnection } = {};\n  private _context = this.args.channel._context;\n  private _disposer = new EventDisposer();\n\n  readonly onPublicationSubscribed = this._events.make<{\n    subscription: Subscription;\n    stream?: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>();\n  readonly onPublicationUnsubscribed = this._events.make<{\n    subscription: Subscription;\n  }>();\n  readonly onPublicationListChanged = this._events.make<void>();\n  readonly onSubscriptionListChanged = this._events.make<void>();\n\n  constructor(\n    private args: {\n      channel: SkyWayChannelImpl;\n      name?: string;\n      id: string;\n      metadata?: string;\n      plugin: PersonPlugin;\n      context: SkyWayContext;\n    }\n  ) {\n    super(args);\n\n    this.plugin = args.plugin;\n\n    this.channel.onPublicationUnsubscribed\n      .add(({ subscription }) => {\n        if (subscription.subscriber.id === this.id) {\n          this.onPublicationUnsubscribed.emit({ subscription });\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n    this.channel.onPublicationSubscribed\n      .add(({ subscription }) => {\n        if (subscription.subscriber.id === this.id) {\n          this.onPublicationSubscribed.emit({ subscription });\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n    this.channel.onStreamPublished\n      .add(({ publication }) => {\n        if (publication.publisher.id === this.id) {\n          this.onPublicationListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n    this.channel.onStreamUnpublished\n      .add(({ publication }) => {\n        if (publication.publisher.id === this.id) {\n          this.onPublicationListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n    this.onLeft.once(() => {\n      log.debug('RemotePerson left: ', this.toJSON());\n      Object.values(this._connections).forEach((connection) => {\n        connection.close({ reason: 'remote person left' });\n      });\n      this._connections = {};\n    });\n  }\n\n  /**@private */\n  _getConnection(localPersonId: string): P2PConnection {\n    return this._connections[localPersonId];\n  }\n\n  /**@private */\n  _getOrCreateConnection(localPerson: LocalPersonImpl): P2PConnection {\n    const connection =\n      this._getConnection(localPerson.id) ??\n      this._createConnection(this.channel, localPerson, this);\n\n    return connection;\n  }\n\n  private _createConnection(\n    channel: SkyWayChannelImpl,\n    localPerson: LocalPersonImpl,\n    endpointMember: RemoteMember\n  ) {\n    if (localPerson.side !== 'local') {\n      throw createError({\n        operationName: 'RemotePersonImpl._createConnection',\n        info: {\n          ...errors.invalidArgumentValue,\n          detail: 'wrong localPerson type',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.channel,\n      });\n    }\n    if (!localPerson._signaling) {\n      throw createError({\n        operationName: 'RemotePersonImpl._createConnection',\n        info: {\n          ...errors.missingProperty,\n          detail: 'signalingSession not exist',\n        },\n        path: log.prefix,\n        context: this._context,\n        channel: this.channel,\n      });\n    }\n\n    const connection = new P2PConnection(\n      localPerson.iceManager,\n      localPerson._signaling,\n      localPerson._analytics,\n      this._context,\n      channel.id,\n      localPerson,\n      endpointMember\n    );\n    this.plugin._messageBuffers[localPerson.id].resolveMessagingBuffer(\n      endpointMember\n    );\n    connection.onClose.once(() => {\n      log.debug('connection closed', this.toJSON(), {\n        connectionId: connection.id,\n      });\n      delete this._connections[localPerson.id];\n    });\n    this._connections[localPerson.id] = connection;\n    return connection;\n  }\n\n  subscribe = (publicationId: string) =>\n    new Promise<{ subscription: Subscription }>((r, f) => {\n      let failed = false;\n      this.channel._subscribe(this.id, publicationId).catch((e) => {\n        failed = true;\n        f(e);\n      });\n\n      this.onPublicationSubscribed\n        .watch(\n          ({ subscription }) => subscription.publication.id === publicationId,\n          this._context.config.rtcApi.timeout\n        )\n        .then(({ subscription }) => {\n          r({ subscription });\n        })\n        .catch(() => {\n          if (!failed) {\n            f(\n              createError({\n                operationName: 'RemotePersonImpl.subscribe',\n                info: {\n                  ...errors.timeout,\n                  detail: 'onPublicationSubscribed',\n                },\n                path: log.prefix,\n                context: this._context,\n                channel: this.channel,\n              })\n            );\n          }\n        });\n    });\n\n  async unsubscribe(subscriptionId: string) {\n    await this.channel._unsubscribe(subscriptionId);\n  }\n\n  _dispose() {\n    this._disposer.dispose();\n  }\n}\n","import model from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../../../channel';\nimport { SkyWayContext } from '../../../context';\nimport { LocalPersonImpl } from '../../../member/localPerson';\nimport { SkyWayPlugin } from '../../interface/plugin';\nimport { MessageBuffer } from './connection/messageBuffer';\nimport { RemotePersonImpl } from './member';\n\nexport class PersonPlugin extends SkyWayPlugin {\n  readonly subtype = 'person';\n  _messageBuffers: { [localPersonId: string]: MessageBuffer } = {};\n\n  readonly _whenCreateLocalPerson = async (person: LocalPersonImpl) => {\n    if (person._signaling) {\n      this._messageBuffers[person.id] = new MessageBuffer(person._signaling);\n    }\n  };\n\n  readonly _whenDisposeLocalPerson = async (person: LocalPersonImpl) => {\n    const messageBuffer = this._messageBuffers[person.id];\n    if (messageBuffer) {\n      messageBuffer.close();\n      delete this._messageBuffers[person.id];\n    }\n  };\n\n  readonly _createRemoteMember = (\n    channel: SkyWayChannelImpl,\n    memberDto: model.Member\n  ) => {\n    const person = new RemotePersonImpl({\n      ...this._context,\n      context: this._context!,\n      channel,\n      metadata: memberDto.metadata,\n      id: memberDto.id,\n      name: memberDto.name,\n      plugin: this,\n    });\n    return person;\n  };\n}\n\nexport const registerPersonPlugin = (context: SkyWayContext) => {\n  const plugin = new PersonPlugin();\n  context.registerPlugin(plugin);\n  return plugin;\n};\n","import model from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../../../channel';\nimport { SkyWayPlugin } from '../../interface/plugin';\nimport { UnknownMemberImpl } from './member';\n\nexport class UnknownPlugin extends SkyWayPlugin {\n  readonly subtype = 'unknown';\n\n  readonly _createRemoteMember = (\n    channel: SkyWayChannelImpl,\n    memberDto: model.Member\n  ) => {\n    const person = new UnknownMemberImpl({\n      ...this._context,\n      context: this._context!,\n      channel,\n      metadata: memberDto.metadata,\n      id: memberDto.id,\n      name: memberDto.name,\n      plugin: this,\n      subtype: memberDto.subtype,\n    });\n    return person;\n  };\n}\n","export const PACKAGE_VERSION = '1.9.0';\n","import { Events, Logger, RuntimeInfo, SkyWayError } from '@skyway-sdk/common';\nimport model, { MemberType } from '@skyway-sdk/model';\nimport { RtcApiClient } from '@skyway-sdk/rtc-api-client';\nimport { SkyWayAuthToken } from '@skyway-sdk/token';\n\nimport { SkyWayChannelImpl } from './channel';\nimport { ContextConfig, SkyWayConfigOptions } from './config';\nimport { errors } from './errors';\nimport { RemoteMemberImplInterface } from './member/remoteMember';\nimport { SkyWayPlugin } from './plugin/interface/plugin';\nimport { registerPersonPlugin } from './plugin/internal/person/plugin';\nimport { UnknownPlugin } from './plugin/internal/unknown/plugin';\nimport { createError, getRuntimeInfo } from './util';\nimport { PACKAGE_VERSION } from './version';\n\nconst log = new Logger('packages/core/src/context.ts');\n\nexport class SkyWayContext {\n  /**@internal */\n  static version = PACKAGE_VERSION;\n\n  /**\n   * @description [japanese] Contextの作成\n   */\n  static async Create(\n    authTokenString: string,\n    configOptions: Partial<SkyWayConfigOptions> = {}\n  ) {\n    const config = new ContextConfig(configOptions);\n    Logger.level = config.log.level;\n    Logger.format = config.log.format;\n\n    const token = SkyWayAuthToken.Decode(authTokenString);\n\n    const { osName, osVersion, browserName, browserVersion } = getRuntimeInfo();\n    const runtime = {\n      sdkName: 'core',\n      sdkVersion: this.version,\n      osName,\n      osVersion,\n      browserName,\n      browserVersion,\n    };\n    const endpoint = {\n      rapi: config.rtcApi.domain,\n      signaling: config.signalingService.domain,\n      ice: config.iceParamServer.domain,\n    };\n\n    log.info('core sdk spawned', {\n      operationName: 'SkyWayContext.Create',\n      runtime,\n      endpoint,\n      config,\n      token,\n    });\n\n    try {\n      const api = await RtcApiClient.Create({\n        appId: token.scope.app.id,\n        token: authTokenString,\n        log: config.log,\n        rtcApi: config.rtcApi,\n      });\n      const context = new SkyWayContext(api, config, token, {\n        endpoint,\n        runtime,\n      });\n      await context._setTokenExpireTimer();\n      return context;\n    } catch (error: any) {\n      throw createError({\n        operationName: 'SkyWayContext.Create',\n        info: errors.connectRtcApiFailed,\n        error,\n        path: log.prefix,\n      });\n    }\n  }\n\n  readonly appId: string;\n  disposed = false;\n\n  /**@internal */\n  public plugins: SkyWayPlugin[] = [];\n  private _unknownPlugin = new UnknownPlugin();\n  /**@private */\n  readonly _api: RtcApiClient;\n  private _authTokenString: string;\n  /**seconds */\n  private _reminderSec = this.config.token.updateReminderSec;\n  private tokenUpdateReminderTimer: any;\n  private tokenExpiredTimer: any;\n\n  private _events = new Events();\n  /**\n   * @description [japanese] トークンの期限がまもなく切れる\n   * @example\n   * context.onTokenUpdateReminder.add(() => {\n      context.updateAuthToken(tokenString);\n    });\n   */\n  readonly onTokenUpdateReminder = this._events.make<void>();\n  /**\n   * @description [japanese] トークンの期限切れ。トークンを更新するまでサービスを利用できない\n   */\n  readonly onTokenExpired = this._events.make<void>();\n  /**\n   * @description [japanese] 回復不能なエラー。インターネット接続状況を確認した上で別のインスタンスを作り直す必要がある\n   */\n  readonly onFatalError = this._events.make<SkyWayError>();\n\n  /**@private */\n  readonly _onTokenUpdated = this._events.make<string>();\n  /**@private */\n  readonly _onDisposed = this._events.make<void>();\n\n  /**@private */\n  constructor(\n    api: RtcApiClient,\n    public config: ContextConfig,\n    public authToken: SkyWayAuthToken,\n    /**@internal */\n    readonly info: { endpoint: EndpointInfo; runtime: RuntimeInfo }\n  ) {\n    this._authTokenString = authToken.tokenString!;\n    this.appId = this.authToken.scope.app.id;\n\n    registerPersonPlugin(this);\n\n    this._api = api;\n    this._api.onFatalError.once((error) => {\n      log.error('onFatalError', { appId: this.appId, error });\n      this.onFatalError.emit(\n        createError({\n          operationName: 'SkyWayContext._api.onFatalError',\n          context: this,\n          info: errors.rtcApiFatalError,\n          error,\n          path: log.prefix,\n        })\n      );\n      this.dispose();\n    });\n  }\n\n  get authTokenString() {\n    return this._authTokenString;\n  }\n\n  /**@internal */\n  async _setTokenExpireTimer() {\n    // seconds\n    const now = await this._api.getServerUnixtimeInSec();\n\n    const expiresInSec = this.authToken.exp - now;\n    if (expiresInSec < 0) {\n      throw createError({\n        operationName: 'SkyWayContext._setTokenExpireTimer',\n        context: this,\n        info: errors.invalidExpireTokenValue,\n        path: log.prefix,\n        payload: { exp: this.authToken.exp, now },\n      });\n    }\n\n    if (this.tokenUpdateReminderTimer) {\n      clearTimeout(this.tokenUpdateReminderTimer);\n    }\n    const tokenExpireReminderTimeSec = expiresInSec - this._reminderSec;\n    if (tokenExpireReminderTimeSec < 0) {\n      throw createError({\n        operationName: 'SkyWayContext._setTokenExpireTimer',\n        context: this,\n        info: errors.invalidRemindExpireTokenValue,\n        path: log.prefix,\n        payload: { expiresInSec, reminderSec: this._reminderSec },\n      });\n    }\n    log.debug('_setTokenExpireTimer', {\n      expiresInSec,\n      tokenExpireReminderTimeSec,\n    });\n\n    this.tokenUpdateReminderTimer = setTimeout(() => {\n      log.debug('tokenUpdateReminder', { appid: this.appId });\n      this.onTokenUpdateReminder.emit();\n    }, tokenExpireReminderTimeSec * 1000);\n\n    if (this.tokenExpiredTimer) {\n      clearTimeout(this.tokenExpiredTimer);\n    }\n    this.tokenExpiredTimer = setTimeout(() => {\n      log.debug('tokenExpired', { appid: this.appId });\n      this.onTokenExpired.emit();\n    }, expiresInSec * 1000);\n  }\n\n  /**\n   * @description [japanese] トークンの更新\n   */\n  async updateAuthToken(token: string) {\n    const newToken = SkyWayAuthToken.Decode(token);\n    log.info(\n      { operationName: 'SkyWayContext.updateAuthToken' },\n      { oldToken: this.authToken, newToken }\n    );\n\n    if (newToken.scope.app.id !== this.appId) {\n      throw createError({\n        operationName: 'SkyWayContext.updateAuthToken',\n        context: this,\n        info: errors.invalidTokenAppId,\n        path: log.prefix,\n        payload: { invalid: this.authToken.scope.app.id, expect: this.appId },\n      });\n    }\n\n    this._authTokenString = token;\n    this.authToken = newToken;\n\n    this._onTokenUpdated.emit(token);\n    await this._setTokenExpireTimer();\n\n    await this._api.updateAuthToken(token);\n  }\n\n  /**\n   * @description [japanese] プラグインの登録\n   */\n  registerPlugin(plugin: SkyWayPlugin) {\n    if (this.plugins.find((p) => p.subtype === plugin.subtype)) {\n      return;\n    }\n    plugin._attachContext(this);\n    this.plugins.push(plugin);\n  }\n\n  /**@private */\n  _createRemoteMember(\n    channel: SkyWayChannelImpl,\n    memberDto: model.Member\n  ): RemoteMemberImplInterface {\n    const exist = channel._getMember(memberDto.id);\n    if (exist) {\n      return exist;\n    }\n\n    log.debug('createRemoteMember', { memberDto });\n\n    memberDto.type = memberDto.type.toLowerCase() as MemberType;\n    memberDto.subtype = memberDto.subtype.toLowerCase();\n\n    let plugin = this.plugins.find((p) => p.subtype === memberDto.subtype);\n    if (!plugin) {\n      plugin = this._unknownPlugin;\n    }\n    const member = plugin._createRemoteMember(channel, memberDto);\n    return member;\n  }\n\n  /**\n   * @description [japanese] Contextの利用を終了し次のリソースを解放する\n   * - イベントリスナー\n   * - バックエンドサーバとの通信\n   * - Contextを参照する全Channelインスタンス\n   */\n  dispose() {\n    if (this.disposed) {\n      return;\n    }\n    this.disposed = true;\n\n    log.debug('disposed', { appid: this.appId });\n\n    clearTimeout(this.tokenUpdateReminderTimer);\n\n    this._onDisposed.emit();\n    this._events.dispose();\n\n    this._api.close();\n  }\n}\n\n/**@internal */\nexport interface EndpointInfo {\n  rapi: string;\n  signaling: string;\n  ice: string;\n}\n","import { AnalyticsClient, ConnectionState } from '@skyway-sdk/analytics-client';\nimport { Event, Logger } from '@skyway-sdk/common';\nimport { Member } from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { createError } from '../util';\n\nconst log = new Logger('packages/core/src/external/analytics.ts');\n\nexport async function setupAnalyticsSession(\n  context: SkyWayContext,\n  channel: SkyWayChannelImpl,\n  memberDto: Member\n) {\n  const { analyticsService } = context.config;\n\n  const client = new AnalyticsClient(\n    {\n      token: context.authTokenString,\n      channelId: channel.id,\n      channelName: channel.name,\n      memberId: memberDto.id,\n      memberName: memberDto.name,\n      sdkVersion: SkyWayContext.version, // coreパッケージのバージョンを引き渡す\n    },\n    {\n      logger: {\n        error: async (message: string, error: any) => {\n          log.error(\n            `AnalyticsClient error: ${message}`,\n            createError({\n              operationName: 'AnalyticsClient.logger',\n              context,\n              info: { ...errors.internal, detail: 'AnalyticsClient error' },\n              error,\n              path: log.prefix,\n              channel,\n            })\n          );\n        },\n        debug: (message, ...optionalParams) => {\n          log.debug('[analytics]:', message, ...optionalParams);\n        },\n        warn: (message, ...optionalParams) => {\n          log.warn('[analytics]:', message, ...optionalParams);\n        },\n      },\n      analyticsLoggingServerDomain: analyticsService.domain,\n      secure: analyticsService.secure,\n    }\n  );\n\n  const analyticsSession = new AnalyticsSession(client, context);\n\n  analyticsSession.connectWithTimeout().catch((error) => {\n    analyticsSession.close();\n    log.error(\n      `AnalyticsClient error: ${error.message}`,\n      createError({\n        operationName: 'AnalyticsClient.logger',\n        context,\n        info: { ...errors.internal, detail: 'AnalyticsClient error' },\n        error,\n        path: log.prefix,\n        channel,\n      })\n    );\n    analyticsSession.onConnectionFailed.emit({});\n  });\n  return analyticsSession;\n}\n\nexport class AnalyticsSession {\n  readonly onConnectionFailed = new Event();\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n  readonly onMessage = new Event<MessageEvent>();\n  private _isClosed = false;\n\n  constructor(public client: AnalyticsClient, private context: SkyWayContext) {\n    this._listen();\n    context._onTokenUpdated.add((token) => {\n      this.client.setNewSkyWayAuthToken(token);\n    });\n  }\n\n  private _listen() {\n    this.client.onConnectionFailed.addOneTimeListener(() => {\n      this.onConnectionFailed.emit({});\n    });\n    this.client.onConnectionStateChanged.addListener((state) => {\n      if (state === 'closed' && !this.isClosed() && this.client.isClosed()) {\n        this.close();\n      }\n      this.onConnectionStateChanged.emit(state);\n    });\n  }\n\n  get connectionState() {\n    return this.client.connectionState;\n  }\n\n  private async _connect(): Promise<void> {\n    log.debug('[start] connect analyticsService');\n    await this.client\n      .connect()\n      .then(() => {\n        log.debug('[end] connect analyticsService');\n      })\n      .catch((error) => {\n        this.close();\n        log.debug(\n          '[end] failed connect analyticsService: also unreachable to server'\n        );\n        log.error(\n          `AnalyticsClient error: ${error.message}`,\n          createError({\n            operationName: 'AnalyticsClient.logger',\n            info: { ...errors.internal, detail: 'AnalyticsClient error' },\n            error,\n            path: log.prefix,\n          })\n        );\n        this.onConnectionFailed.emit({});\n      });\n    return;\n  }\n\n  async connectWithTimeout() {\n    let connectTimeout: NodeJS.Timeout;\n    const timeoutPromise = new Promise((_, reject) => {\n      connectTimeout = setTimeout(() => {\n        log.debug(\n          '[end] failed connect analyticsService: no initial response from the server'\n        );\n        reject(new Error('failed connect analyticsService'));\n      }, 30 * 1000);\n    });\n\n    return Promise.race([this._connect(), timeoutPromise]).finally(() => {\n      clearTimeout(connectTimeout);\n    });\n  }\n\n  close() {\n    this._isClosed = true;\n    this.onConnectionFailed.removeAllListeners();\n    this.onConnectionStateChanged.removeAllListeners();\n    this.onMessage.removeAllListeners();\n  }\n\n  isClosed() {\n    return this._isClosed;\n  }\n}\n\nexport { ConnectionState };\n","import { BackOff, HttpClient, Logger } from '@skyway-sdk/common';\n\nimport { SkyWayContext } from '../context';\n\nconst log = new Logger('packages/core/src/external/ice.ts');\n\n/**@internal */\nexport class IceManager {\n  readonly domain = this.args.domain;\n  readonly version = this.args.version;\n  readonly secure = this.args.secure;\n  readonly memberId = this.args.memberId;\n  readonly channelId = this.args.channelId;\n  readonly ttl = this.args.ttl;\n  readonly context = this.args.context;\n\n  private _stunServers: RTCIceServer[] = [];\n  private _turnServers: RTCIceServer[] = [];\n  private readonly _endpoint = `http${this.secure ? 's' : ''}://${\n    this.domain\n  }/v${this.version}`;\n  readonly http = new HttpClient(this._endpoint);\n\n  constructor(\n    private args: {\n      domain: string;\n      version: number;\n      secure: boolean;\n      memberId: string;\n      channelId: string;\n      ttl?: number;\n      context: SkyWayContext;\n    }\n  ) {}\n\n  async updateIceParams() {\n    const body = {\n      memberId: this.memberId,\n      channelId: this.channelId,\n      ttl: this.ttl,\n    };\n    log.debug('[start] fetch iceParams');\n\n    const backoff = new BackOff({ times: 6, interval: 500, jitter: 100 });\n    const { turn, stun } = await this.http.post<{\n      turn?: {\n        username: string;\n        credential: string;\n        domain: string;\n        port: number;\n      };\n      stun: { domain: string; port: number };\n    }>(`/ice-params`, body, {\n      headers: { authorization: `Bearer ${this.context.authTokenString}` },\n      retry: () => backoff.wait(),\n    });\n\n    if (turn) {\n      this._turnServers = [\n        {\n          credential: turn.credential,\n          urls: `turn:${turn.domain}:${turn.port}?transport=tcp`,\n          username: turn.username,\n        },\n        {\n          credential: turn.credential,\n          urls: `turn:${turn.domain}:${turn.port}?transport=udp`,\n          username: turn.username,\n        },\n        {\n          credential: turn.credential,\n          urls: `turns:${turn.domain}:${turn.port}?transport=tcp`,\n          username: turn.username,\n        },\n      ];\n    }\n    this._stunServers = [{ urls: `stun:${stun.domain}:${stun.port}` }];\n\n    log.debug('[end] fetch iceParams', { turn, stun });\n  }\n\n  get iceServers(): RTCIceServer[] {\n    let iceServers: RTCIceServer[] = [...this._stunServers];\n    const turnServers = this._turnServers.filter((t) => {\n      const url = t.urls as string;\n      switch (this.context.config.rtcConfig.turnProtocol) {\n        case 'all':\n          return true;\n        case 'udp':\n          return url.endsWith('udp');\n        case 'tcp':\n          return !url.startsWith('turns') && url.endsWith('tcp');\n        case 'tls':\n          return url.startsWith('turns');\n      }\n    });\n\n    if (this.context.config.rtcConfig.turnPolicy !== 'disable') {\n      iceServers = [...iceServers, ...turnServers];\n    }\n\n    return iceServers;\n  }\n}\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from 'uuid';\n\nconst MAX_PAYLOAD_LENGTH = 20480;\n\nexport type ClientEventType =\n  | 'sendRequestSignalingMessage'\n  | 'sendResponseSignalingMessage'\n  | 'updateSkyWayAuthToken'\n  | 'checkConnectivity';\n\nexport class ClientEvent {\n  readonly eventId: string;\n\n  data: string;\n\n  constructor(readonly event: ClientEventType, readonly payload: Record<string, unknown> = {}) {\n    this.eventId = uuidv4();\n    this.data = JSON.stringify({ event: this.event, eventId: this.eventId, payload: this.payload });\n    if (this.data.length > MAX_PAYLOAD_LENGTH) {\n      throw new Error('payload size exceeds the upper limit');\n    }\n  }\n}\n","export type Member = {\n  id: string;\n  name?: string;\n};\n\nexport type MessagePayload = {\n  src: Member;\n  requestEventId?: string;\n  data: Record<string, unknown>;\n};\n\nconst AcknowledgeReason = [\n  'rateLimitExceeded',\n  'targetNotFound',\n  'payloadLengthExceeded',\n  'invalidPayload',\n  'unknown',\n  'parameterError',\n  'permissionError',\n] as const;\nexport type AcknowledgeReason = (typeof AcknowledgeReason)[number];\n\nexport type AcknowledgePayload = {\n  eventId: string;\n  ok: boolean;\n  reason?: AcknowledgeReason;\n};\n\nexport function isMessagePayload(payload: any): payload is MessagePayload {\n  if (!payload || typeof payload !== 'object') return false;\n  if (!isMember(payload.src)) return false;\n  if (!payload.data || typeof payload.data !== 'object') return false;\n  return true;\n}\n\nexport function isAcknowledgePayload(payload: any): payload is AcknowledgePayload {\n  if (!payload || typeof payload !== 'object') return false;\n  if (typeof payload.eventId !== 'string') return false;\n  if (typeof payload.ok !== 'boolean') return false;\n  if (\n    typeof payload.reason !== 'undefined' &&\n    (typeof payload.reason !== 'string' || !AcknowledgeReason.includes(payload.reason))\n  )\n    return false;\n  return true;\n}\n\nexport function isMember(arg: any): arg is Member {\n  if (arg === undefined || Array.isArray(arg)) return false;\n  if (typeof arg !== 'object') return false;\n  if (typeof arg.id !== 'string') return false;\n  if (typeof arg.name !== 'undefined' && typeof arg.name !== 'string') return false;\n  return true;\n}\n","type EventExecute<T> = (arg: T) => void;\n\nexport class Event<T> {\n  private _listeners = new Map<number, EventExecute<T>>();\n\n  private _listenerIndex = 0;\n\n  emit = (arg: T): void => {\n    this._listeners.forEach((listener) => listener(arg));\n  };\n\n  removeAllListeners = (): void => {\n    this._listeners.clear();\n  };\n\n  addListener = (listener: EventExecute<T>): { removeListener: () => void } => {\n    const id = this._listenerIndex;\n    this._listeners.set(id, listener);\n    this._listenerIndex++;\n    const removeListener = () => {\n      this._listeners.delete(id);\n    };\n\n    return { removeListener };\n  };\n\n  addOneTimeListener = (listener: EventExecute<T>): { removeListener: () => void } => {\n    const off = this.addListener((arg) => {\n      off.removeListener();\n      listener(arg);\n    });\n\n    return off;\n  };\n\n  asPromise = (timeLimit?: number): Promise<T> =>\n    new Promise<T>((resolve, reject) => {\n      let removeListener = () => {};\n      const timeout =\n        timeLimit &&\n        setTimeout(() => {\n          reject('Event asPromise timeout');\n          removeListener();\n        }, timeLimit);\n\n      const off = this.addOneTimeListener((arg) => {\n        if (timeout) clearTimeout(timeout);\n        resolve(arg);\n      });\n      removeListener = off.removeListener;\n    });\n}\n","export const PACKAGE_VERSION = '1.0.4';\n","import WebSocket from 'isomorphic-ws';\n\nimport { ClientEvent } from './clientEvent';\nimport { Event } from './utils/event';\nimport { Logger } from './utils/logger';\nimport { PACKAGE_VERSION } from './version';\n\nconst ServerEventType = ['open', 'sendRequestSignalingMessage', 'sendResponseSignalingMessage', 'acknowledge'] as const;\ntype ServerEventType = (typeof ServerEventType)[number];\n\nexport type ServerEvent = {\n  event: ServerEventType;\n  eventId: string;\n  payload: Record<string, unknown> | undefined;\n};\n\nexport type ConnectionState = 'connected' | 'reconnecting' | 'closed';\n\nexport type SocketParams = {\n  sessionEndpoint: string;\n  channelId: string;\n  channelName?: string;\n  memberId: string;\n  memberName?: string;\n  token: string;\n  logger: Logger;\n};\n\nconst getReconnectWaitTime = (reconnectCount: number): number => {\n  return (2 ** reconnectCount + Math.random()) * 1000;\n};\n\nexport class Socket {\n  private _sessionEndpoint: string;\n\n  private readonly _channelId: string;\n\n  private readonly _channelName?: string;\n\n  private readonly _memberId: string;\n\n  private readonly _memberName?: string;\n\n  private _token: string;\n\n  private _logger: Logger;\n\n  private _isOpen = false;\n\n  private _isDestroyed = false;\n\n  private _reconnectCount = 0;\n\n  private _ws: WebSocket | undefined;\n\n  connectionState: ConnectionState = 'closed';\n\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n\n  readonly onOpened = new Event<void>();\n\n  readonly onEventReceived = new Event<ServerEvent>();\n\n  readonly onConnectionFailed = new Event<void>();\n\n  private _reconnectTimer: ReturnType<typeof setTimeout> | undefined;\n\n  constructor({ channelId, channelName, memberId, memberName, sessionEndpoint, token, logger }: SocketParams) {\n    this._sessionEndpoint = sessionEndpoint;\n    this._channelId = channelId;\n    this._channelName = channelName;\n    this._memberId = memberId;\n    this._memberName = memberName;\n    this._token = token;\n    this._logger = logger;\n\n    this._connect();\n  }\n\n  private _setConnectionState(state: ConnectionState) {\n    this._logger.debug(`connectionState changed : ${state}`);\n    this.connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n  }\n\n  private _connect(): void {\n    let ws: WebSocket;\n    try {\n      // We use the SubProtocol header to send the token.\n      // This is because the browser's WebSocket class does not allow the header to be changed freely.\n      const subProtocol = `SkyWayAuthToken!${this._token}`;\n\n      const wsProperties = {\n        channelId: this._channelId,\n        channelName: this._channelName,\n        memberId: this._memberId,\n        memberName: this._memberName,\n        platform: 'javascript',\n        version: PACKAGE_VERSION,\n      };\n      const queryString = Object.entries(wsProperties)\n        .filter(([_, v]) => v !== undefined)\n        .map((pair) => pair.join('='))\n        .join('&');\n      const wsURL = `${this._sessionEndpoint}?${queryString}`;\n      ws = new WebSocket(wsURL, subProtocol);\n\n      this._logger.debug(`Connecting to signaling-server: ${this._sessionEndpoint}`);\n\n      ws.onerror = (event) => {\n        this._logger.error('WebSocket error occurred', event.error);\n        ws.close(4202);\n      };\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error();\n      this._logger.error('Failed to create WebSocket instance', error);\n      this.reconnect();\n      return;\n    }\n\n    ws.onopen = () => {\n      this._logger.debug('Connected to signaling-server');\n    };\n\n    ws.onclose = (event) => {\n      const logMessage =\n        'Close event fired: ' + JSON.stringify({ code: event.code, reason: event.reason, type: event.type });\n\n      // 1000, 4000~4099: normal case (should not reconnect)\n      // 4100~4199: non-normal case (should not reconnect)\n      // 4200~4299: non-normal case (should reconnect)\n      // others: unexpected case (should reconnect)\n      if (4100 <= event.code && event.code <= 4199) {\n        this._logger.error(logMessage, new Error());\n      } else {\n        this._logger.debug(logMessage);\n      }\n\n      if (event.code !== 1000 && !(4000 <= event.code && event.code <= 4199)) {\n        this.reconnect();\n        return;\n      }\n\n      // Return not to destroy _ws successfully reconnected\n      if (event.code === 4000) {\n        return;\n      }\n\n      this._logger.debug('Closed the connection to signaling-server');\n      this.onConnectionFailed.emit();\n      this.destroy();\n    };\n\n    ws.onmessage = (event) => {\n      this._messageHandler(event.data);\n    };\n\n    this._ws = ws;\n  }\n\n  updateAuthToken(token: string) {\n    this._token = token;\n  }\n\n  reconnect(): void {\n    if (this._ws !== undefined) {\n      this._ws.close(4000);\n    }\n    this._ws = undefined;\n    this._isOpen = false;\n\n    if (this._reconnectCount >= 8) {\n      this.onConnectionFailed.emit();\n      this.destroy();\n      this._logger.error('Failed to reconnect for eight times', new Error());\n    } else {\n      this._setConnectionState('reconnecting');\n\n      const waitTime = getReconnectWaitTime(this._reconnectCount);\n      this._reconnectTimer = setTimeout(() => {\n        this._connect();\n        this._reconnectCount++;\n        this._logger.debug(`Try to reconnect: count = ${this._reconnectCount}`);\n      }, waitTime);\n    }\n  }\n\n  destroy(): void {\n    this._isDestroyed = true;\n\n    this._setConnectionState('closed');\n\n    this.onConnectionStateChanged.removeAllListeners();\n    this.onOpened.removeAllListeners();\n    this.onEventReceived.removeAllListeners();\n    this.onConnectionFailed.removeAllListeners();\n\n    if (this._reconnectTimer) {\n      clearTimeout(this._reconnectTimer);\n    }\n\n    if (this._ws !== undefined) {\n      this._ws.close(1000);\n    }\n  }\n\n  send(clientEvent: ClientEvent): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const retrySend = () => {\n        this.onOpened.addOneTimeListener(() => {\n          this.send(clientEvent)\n            .then(() => {\n              resolve();\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        });\n        this.onConnectionFailed.addOneTimeListener(() => {\n          reject(new Error('Connection failed'));\n        });\n      };\n\n      if (this._isDestroyed) {\n        reject(new Error('The socket is already destroyed'));\n        return;\n      }\n\n      if (this._ws === undefined || !this._isOpen) {\n        // Call send method again after connected\n        this._logger.debug(\n          'Retry send the client event when connected because WebSocket is undefined or isOpen = false'\n        );\n        retrySend();\n        return;\n      }\n\n      this._logger.debug(`Send the event: ${clientEvent.data}`);\n\n      this._ws.send(clientEvent.data, (err) => {\n        if (err) {\n          // If state is invalid, call send method again after reconnected\n          if (this._ws === undefined || !this._isOpen || this._ws.readyState !== WebSocket.OPEN) {\n            this._logger.debug('Retry send the client event when connected because WebSocket.send failed');\n            retrySend();\n            return;\n          }\n\n          reject(err);\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\n\n  private _messageHandler(data: WebSocket.Data) {\n    if (typeof data !== 'string') {\n      this._logger.error('Received invalid message: not string', new Error());\n      return;\n    }\n\n    let parsedData: unknown;\n    try {\n      parsedData = JSON.parse(data);\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error();\n      this._logger.error('Received invalid message: parse error', error);\n      return;\n    }\n\n    if (!isServerEvent(parsedData)) {\n      this._logger.error(`Received invalid message: ${parsedData}`, new Error());\n      return;\n    }\n\n    if (parsedData.event === 'open') {\n      this._logger.debug('Received a open event');\n      this._isOpen = true;\n      this._setConnectionState('connected');\n\n      if (this._reconnectCount !== 0) {\n        this._reconnectCount = 0;\n        this._logger.debug('Succeeded to reconnect');\n      }\n\n      this.onOpened.emit();\n    } else {\n      this._logger.debug(`Received the event: ${parsedData.event}, payload: ${JSON.stringify(parsedData.payload)}`);\n      this.onEventReceived.emit(parsedData);\n    }\n  }\n}\n\nfunction isServerEvent(data: any): data is ServerEvent {\n  if (!data || typeof data !== 'object') return false;\n  if (typeof data.event !== 'string' || !ServerEventType.includes(data.event)) return false;\n  if (typeof data.eventId !== 'string') return false;\n  if (data.payload && typeof data.payload !== 'object') return false;\n  return true;\n}\n","import { validate as uuidValidate } from 'uuid';\n\nimport { ClientEvent } from './clientEvent';\nimport { AcknowledgePayload, isAcknowledgePayload, isMember, isMessagePayload, Member } from './payloadTypes';\nimport { ConnectionState, ServerEvent, Socket } from './socket';\nimport { Event } from './utils/event';\nimport { Logger } from './utils/logger';\n\nconst SIGNALING_SERVER_DOMAIN = 'signaling.skyway.ntt.com';\nconst API_VERSION = 'v1';\n\ntype SignalingClientParams = {\n  token: string;\n  channelId: string;\n  channelName?: string;\n  memberId: string;\n  memberName?: string;\n};\n\ntype SignalingClientOptions = {\n  signalingServerDomain?: string;\n  secure?: boolean;\n  logger?: Logger;\n};\n\ntype SignalingClientInternalOptions = Required<SignalingClientOptions> & {\n  connectivityCheckIntervalSec: number;\n};\n\nexport class SignalingClient {\n  private readonly _options: SignalingClientInternalOptions;\n\n  private readonly _logger: Logger;\n\n  private _socket: Socket | undefined;\n\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n\n  readonly onConnectionFailed = new Event<void>();\n\n  readonly onRequested = new Event<{\n    data: Record<string, unknown>;\n    reply: (data: Record<string, unknown>) => Promise<void>;\n    requestEventId: string;\n    src: Member;\n  }>();\n\n  private readonly _token: string;\n\n  private readonly _channelId: string;\n\n  private readonly _channelName?: string;\n\n  private readonly _memberId: string;\n\n  private readonly _memberName?: string;\n\n  private _connectivityCheckInterval: ReturnType<typeof setInterval> | undefined;\n\n  private _connectivityCheckTimers: Map<string, ReturnType<typeof setTimeout>> = new Map();\n\n  private _responseCallbacks: Map<string, (data: Record<string, unknown>) => void> = new Map();\n\n  private _acknowledgeCallbacks: Map<string, (data: AcknowledgePayload) => void> = new Map();\n\n  constructor(\n    { token, channelId, channelName, memberId, memberName }: SignalingClientParams,\n    options?: SignalingClientOptions\n  ) {\n    this._token = token;\n    this._channelId = channelId;\n    this._channelName = channelName;\n    this._memberId = memberId;\n    this._memberName = memberName;\n\n    const defaultOptions: SignalingClientInternalOptions = {\n      connectivityCheckIntervalSec: 30,\n      signalingServerDomain: SIGNALING_SERVER_DOMAIN,\n      secure: true,\n      logger: {\n        debug: (message) => {\n          console.debug(message);\n        },\n        error: (error) => {\n          console.error(error);\n        },\n      },\n    };\n    this._options = Object.assign({}, defaultOptions, options ?? {});\n\n    this._logger = this._options.logger;\n    this._logger.debug(`Created instance with the options: ${this._options}`);\n  }\n\n  get connectionState(): ConnectionState {\n    return this._socket?.connectionState ?? 'closed';\n  }\n\n  async connect(): Promise<void> {\n    const WSProtocol = this._options.secure ? 'wss' : 'ws';\n\n    const signalingServerDomain = this._options.signalingServerDomain || SIGNALING_SERVER_DOMAIN;\n\n    this._socket = new Socket({\n      sessionEndpoint: `${WSProtocol}://${signalingServerDomain}/${API_VERSION}/ws`,\n      channelId: this._channelId,\n      channelName: this._channelName,\n      memberId: this._memberId,\n      memberName: this._memberName,\n      token: this._token,\n      logger: this._logger,\n    });\n\n    this._socket.onEventReceived.addListener((data: ServerEvent) => {\n      try {\n        this._eventReceivedHandler(data);\n      } catch (error) {\n        this._logger.error('in _eventReceivedHandler', error as Error);\n      }\n    });\n\n    this._socket.onConnectionFailed.addListener(() => {\n      this.onConnectionFailed.emit();\n    });\n\n    this._socket.onConnectionStateChanged.addListener((state) => {\n      this.onConnectionStateChanged.emit(state);\n    });\n\n    await this._socket.onOpened.asPromise(15 * 1000);\n\n    this._startConnectivityCheck();\n  }\n\n  disconnect(): void {\n    this._stopConnectivityCheck();\n\n    this._socket?.destroy();\n    this._socket = undefined;\n\n    this._responseCallbacks.clear();\n    this._acknowledgeCallbacks.clear();\n  }\n\n  private _startConnectivityCheck() {\n    if (this._connectivityCheckInterval) {\n      this._logger.debug('connectivity check timer is already set');\n      return;\n    }\n\n    this._connectivityCheckInterval = setInterval(() => {\n      const clientEvent = new ClientEvent('checkConnectivity');\n      this._socket?.send(clientEvent).catch(() => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n      });\n\n      this._connectivityCheckTimers.set(\n        clientEvent.eventId,\n        setTimeout(() => {\n          this._acknowledgeCallbacks.delete(clientEvent.eventId);\n          this._socket?.reconnect();\n          this._logger.debug('connectivity check timer is expired');\n        }, 5 * 1000)\n      );\n\n      this._setAcknowledgeCallback(clientEvent.eventId, (data: Record<string, unknown>) => {\n        const timer = this._connectivityCheckTimers.get(clientEvent.eventId);\n        if (timer) {\n          clearTimeout(timer);\n          this._connectivityCheckTimers.delete(clientEvent.eventId);\n        }\n        if (!data.ok) {\n          this._socket?.reconnect();\n          this._logger.debug('connectivity check response from server was not ok');\n        }\n      });\n    }, this._options.connectivityCheckIntervalSec * 1000);\n\n    this._logger.debug('Started connectivity check timer');\n  }\n\n  private _stopConnectivityCheck() {\n    if (!this._connectivityCheckInterval) {\n      this._logger.debug('connectivity check timer is not set');\n      return;\n    }\n\n    clearInterval(this._connectivityCheckInterval);\n    this._connectivityCheckInterval = undefined;\n    this._logger.debug('Stopped connectivity check timer');\n\n    for (const [_, timer] of this._connectivityCheckTimers) {\n      clearTimeout(timer);\n    }\n    this._connectivityCheckTimers.clear();\n  }\n\n  request(target: Member, data: Record<string, unknown>, timeoutSec = 10): Promise<Record<string, unknown>> {\n    validateTarget(target);\n    validateData(data);\n    return new Promise((resolve, reject) => {\n      if (this._socket === undefined) {\n        reject(new Error('websocket is not connected'));\n        return;\n      }\n\n      const payload = {\n        dst: target,\n        data,\n      };\n      const clientEvent = new ClientEvent('sendRequestSignalingMessage', payload);\n\n      const timer = setTimeout(() => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        reject(new Error('request timeout'));\n      }, timeoutSec * 1000);\n\n      this._setResponseCallback(clientEvent.eventId, (data: Record<string, unknown>) => {\n        clearTimeout(timer);\n        resolve(data);\n      });\n\n      this._setAcknowledgeCallback(clientEvent.eventId, (data: AcknowledgePayload) => {\n        if (!data.ok) {\n          clearTimeout(timer);\n          reject(data);\n        }\n      });\n\n      this._socket.send(clientEvent).catch((err) => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        clearTimeout(timer);\n        reject(err);\n      });\n    });\n  }\n\n  private _response(\n    target: Member,\n    requestEventId: string,\n    data: Record<string, unknown>,\n    timeoutSec: number\n  ): Promise<void> {\n    return new Promise((resolve, reject) => {\n      validateData(data);\n      if (this._socket === undefined) {\n        reject(new Error('websocket is not connected'));\n        return;\n      }\n\n      const payload = {\n        dst: target,\n        requestEventId,\n        data,\n      };\n      const clientEvent = new ClientEvent('sendResponseSignalingMessage', payload);\n\n      const timer = setTimeout(() => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        reject(new Error('response timeout'));\n      }, timeoutSec * 1000);\n\n      this._setAcknowledgeCallback(clientEvent.eventId, (data: AcknowledgePayload) => {\n        clearTimeout(timer);\n\n        if (data.ok) {\n          resolve();\n        } else {\n          reject(data);\n        }\n      });\n\n      this._socket.send(clientEvent).catch((err) => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        clearTimeout(timer);\n        reject(err);\n      });\n    });\n  }\n\n  updateSkyWayAuthToken(token: string, timeoutSec = 10): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (this._socket === undefined) {\n        reject(new Error('websocket is not connected'));\n        return;\n      }\n\n      const payload = {\n        token,\n      };\n      const clientEvent = new ClientEvent('updateSkyWayAuthToken', payload);\n\n      const timer = setTimeout(() => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        reject(new Error('updateSkyWayAuthToken timeout'));\n      }, timeoutSec * 1000);\n\n      this._setAcknowledgeCallback(clientEvent.eventId, (data: AcknowledgePayload) => {\n        clearTimeout(timer);\n        if (data.ok) {\n          if (this._socket === undefined) {\n            reject(new Error('websocket is not connected'));\n            return;\n          }\n          this._socket.updateAuthToken(token);\n          resolve();\n        } else {\n          reject(data);\n        }\n      });\n\n      this._socket.send(clientEvent).catch((err) => {\n        this._acknowledgeCallbacks.delete(clientEvent.eventId);\n        clearTimeout(timer);\n        reject(err);\n      });\n    });\n  }\n\n  private _eventReceivedHandler(data: ServerEvent) {\n    switch (data.event) {\n      case 'acknowledge':\n        this._acknowledgeHandler(data.payload);\n        break;\n      case 'sendRequestSignalingMessage':\n        this._eventMessageRequestHandler(data.payload);\n        break;\n      case 'sendResponseSignalingMessage':\n        this._eventMessageResponseHandler(data.payload);\n        break;\n      case 'open':\n        break; // nop\n      default: {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = data.event;\n        this._logger.debug(`Unknown event: ${data.event}`);\n      }\n    }\n  }\n\n  private _acknowledgeHandler(payload: unknown) {\n    if (!isAcknowledgePayload(payload)) {\n      throw new Error('Invalid payload');\n    }\n\n    const { eventId } = payload;\n    if (!this._acknowledgeCallbacks.has(eventId)) {\n      throw new Error(`acknowledge event has unknown eventId: ${eventId}`);\n    }\n    const callback = this._acknowledgeCallbacks.get(eventId);\n    if (callback) {\n      this._acknowledgeCallbacks.delete(eventId);\n      callback(payload);\n    }\n  }\n\n  private _eventMessageRequestHandler(payload: unknown) {\n    if (!isMessagePayload(payload)) {\n      throw new Error('Invalid payload');\n    }\n\n    if (!payload.requestEventId) {\n      throw new Error('Invalid payload');\n    }\n    const src = payload.src;\n    const requestEventId = payload.requestEventId;\n\n    const reply = async (data: Record<string, unknown>, timeout = 10): Promise<void> => {\n      await this._response(src, requestEventId, data, timeout);\n    };\n\n    this.onRequested.emit({\n      data: payload.data,\n      reply: reply,\n      requestEventId: payload.requestEventId,\n      src: payload.src,\n    });\n  }\n\n  private _eventMessageResponseHandler(payload: unknown) {\n    if (!isMessagePayload(payload)) {\n      throw new Error('Invalid payload');\n    }\n\n    if (!payload.requestEventId || !this._responseCallbacks.has(payload.requestEventId)) {\n      throw new Error(`received response has unknown eventId: ${payload.requestEventId}`);\n    }\n\n    const callback = this._responseCallbacks.get(payload.requestEventId);\n    if (callback) {\n      this._responseCallbacks.delete(payload.requestEventId);\n      callback(payload.data);\n    }\n  }\n\n  private _setResponseCallback(eventId: string, callback: (data: Record<string, unknown>) => void) {\n    this._responseCallbacks.set(eventId, callback);\n  }\n\n  private _setAcknowledgeCallback(eventId: string, callback: (data: AcknowledgePayload) => void) {\n    this._acknowledgeCallbacks.set(eventId, callback);\n  }\n}\n\nfunction validateData(data: Record<string, unknown>): void {\n  if (!data || typeof data !== 'object') {\n    throw new Error('the type of data must be object');\n  }\n}\n\nfunction validateTarget(target: Member): void {\n  if (!isMember(target)) {\n    throw new Error('the type of target must be {id: string, name: string}');\n  }\n  if (!uuidValidate(target.id)) {\n    throw new Error('the type of target.id must be uuid format');\n  }\n}\n","import { BackOff, Event, EventDisposer, Logger } from '@skyway-sdk/common';\nimport { Member } from '@skyway-sdk/model';\nimport { ConnectionState, SignalingClient } from '@skyway-sdk/signaling-client';\nimport { uuidV4 } from '@skyway-sdk/token';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { RemoteMember } from '../member/remoteMember';\nimport { createError, createWarnPayload } from '../util';\n\nconst log = new Logger('packages/core/src/external/signaling.ts');\n\nexport async function setupSignalingSession(\n  context: SkyWayContext,\n  channel: SkyWayChannelImpl,\n  memberDto: Member\n) {\n  const { signalingService } = context.config;\n\n  const client = new SignalingClient(\n    {\n      token: context.authTokenString,\n      channelId: channel.id,\n      channelName: channel.name,\n      memberId: memberDto.id,\n      memberName: memberDto.name,\n    },\n    {\n      logger: {\n        error: async (error: any) => {\n          log.error(\n            'SignalingClient error',\n            createError({\n              operationName: 'SignalingClient.logger',\n              context,\n              info: { ...errors.internal, detail: 'signalingClient error' },\n              error,\n              path: log.prefix,\n              channel,\n            })\n          );\n        },\n        debug: (s) => {\n          // log.debug('signaling service:', s);\n        },\n      },\n      signalingServerDomain: signalingService.domain,\n      secure: signalingService.secure,\n    }\n  );\n\n  const signalingSession = new SignalingSession(client, context);\n  await signalingSession.connect();\n\n  return signalingSession;\n}\n\nexport class SignalingSession {\n  readonly onConnectionFailed = new Event();\n  readonly onConnectionStateChanged = new Event<ConnectionState>();\n  readonly onMessage = new Event<MessageEvent>();\n  closed = false;\n\n  private _chunkedMessageBuffer: { [messageId: string]: string[] } = {};\n  private _backoffUpdateSkyWayAuthToken = new BackOff({\n    times: 8,\n    interval: 100,\n    jitter: 100,\n  });\n  private _disposer = new EventDisposer();\n\n  constructor(public _client: SignalingClient, private context: SkyWayContext) {\n    this._listen();\n    context._onTokenUpdated\n      .add(async (token) => {\n        await this._updateSkyWayAuthToken(token);\n      })\n      .disposer(this._disposer);\n  }\n\n  updateClient(client: SignalingClient) {\n    this._client = client;\n    this._listen();\n  }\n\n  private _listen() {\n    this._client.onConnectionFailed.addOneTimeListener(() => {\n      this.onConnectionFailed.emit({});\n    });\n    this._client.onConnectionStateChanged.addListener((state) => {\n      log.debug('signalingClient onConnectionStateChanged', state);\n      this.onConnectionStateChanged.emit(state);\n    });\n    this._client.onRequested.addListener(async ({ data, src, reply }) => {\n      const messageChunk = data as unknown as SignalingMessageChunk;\n      const { chunk, length, offset, id, type } = messageChunk;\n      if (type !== messageType) return;\n\n      if (length === 0) {\n        this.onMessage.emit({\n          src,\n          data: JSON.parse(chunk),\n        });\n      } else {\n        this._chunkedMessageBuffer[id] = [\n          ...(this._chunkedMessageBuffer[id] ?? []),\n          messageChunk.chunk,\n        ];\n        if (length === offset) {\n          const message = this._chunkedMessageBuffer[id].join('');\n          delete this._chunkedMessageBuffer[id];\n\n          this.onMessage.emit({\n            src,\n            data: JSON.parse(message),\n          });\n        }\n      }\n\n      await reply({}).catch((e) => {\n        if (this.closed) return;\n        log.warn(\n          'failed to reply',\n          createWarnPayload({\n            operationName: 'SignalingSession.reply',\n            detail: 'SignalingClient failed to reply',\n          }),\n          e\n        );\n      });\n    });\n  }\n\n  private async _updateSkyWayAuthToken(token: string) {\n    if (this._backoffUpdateSkyWayAuthToken.exceeded) {\n      log.error('[failed] updateSkyWayAuthToken');\n      return;\n    }\n    await this._backoffUpdateSkyWayAuthToken.wait();\n\n    log.debug('[start] updateSkyWayAuthToken', {\n      count: this._backoffUpdateSkyWayAuthToken.count,\n    });\n\n    const e = await this._client\n      .updateSkyWayAuthToken(token)\n      .catch((e) => e as Error);\n    if (e) {\n      log.warn(\n        '[retry] updateSkyWayAuthToken',\n        createWarnPayload({\n          operationName: 'SignalingSession._updateSkyWayAuthToken',\n          detail: '[retry] updateSkyWayAuthToken',\n        }),\n        e\n      );\n      await this._updateSkyWayAuthToken(token);\n      return;\n    }\n\n    log.debug('[end] updateSkyWayAuthToken');\n    this._backoffUpdateSkyWayAuthToken.reset();\n  }\n\n  get connectionState() {\n    return this._client.connectionState;\n  }\n\n  async connect() {\n    log.debug('[start] connect signalingService');\n    await this._client.connect().catch((err) => {\n      throw createError({\n        operationName: 'signalingSession.connect',\n        path: log.prefix,\n        info: {\n          ...errors.internal,\n          detail: 'signalingClient failed to connect Server',\n        },\n        context: this.context,\n        error: err,\n      });\n    });\n    log.debug('[end] connect signalingService');\n  }\n\n  close() {\n    this.closed = true;\n    this._disposer.dispose();\n    this._client.disconnect();\n  }\n\n  /**@throws {@link SkyWayError} */\n  async send(\n    target: RemoteMember,\n    data: object,\n    /**ms */\n    timeout = 10_000\n  ) {\n    try {\n      const payload = JSON.stringify(data);\n      const id = uuidV4();\n\n      // chunking message\n      if (payload.length > 20480) {\n        const split = payload.match(/.{1,20480}/g) ?? [];\n\n        let offset = 0;\n        for (const chunk of split) {\n          const chunkMessage: SignalingMessageChunk = {\n            type: messageType,\n            length: split.length - 1,\n            offset: offset++,\n            chunk,\n            id,\n          };\n          await this._client.request(\n            target,\n            chunkMessage as any,\n            timeout / 1000\n          );\n        }\n      } else {\n        const chunkMessage: SignalingMessageChunk = {\n          type: messageType,\n          length: 0,\n          offset: 0,\n          chunk: payload,\n          id,\n        };\n        await this._client.request(target, chunkMessage as any, timeout / 1000);\n      }\n    } catch (error: any) {\n      if (this.closed || target.state !== 'joined') return;\n\n      throw createError({\n        operationName: 'SignalingSession.send',\n        context: this.context,\n        info: { ...errors.internal, detail: 'signalingClient' },\n        error,\n        path: log.prefix,\n        payload: { target, data },\n      });\n    }\n  }\n}\n\nconst messageType = 'signalingMessage' as const;\n\ninterface SignalingMessageChunk {\n  type: typeof messageType;\n  length: number;\n  offset: number;\n  chunk: string;\n  id: string;\n}\n\nexport interface MessageEvent {\n  src: { name?: string; id: string };\n  data: Record<string, any>;\n}\n","import { Logger } from '@skyway-sdk/common';\nimport model from '@skyway-sdk/model';\nimport { SkyWayAuthToken } from '@skyway-sdk/token';\n\nimport { PersonInit, SkyWayChannelImpl } from '../../channel';\nimport { MaxIceParamServerTTL } from '../../const';\nimport { SkyWayContext } from '../../context';\nimport { errors } from '../../errors';\nimport { setupAnalyticsSession } from '../../external/analytics';\nimport { IceManager } from '../../external/ice';\nimport { setupSignalingSession } from '../../external/signaling';\nimport { createError } from '../../util';\nimport { LocalPersonImpl } from '.';\n\nconst log = new Logger('packages/core/src/member/person/local/factory.ts');\n\n/**@internal */\nexport async function createLocalPerson(\n  context: SkyWayContext,\n  channel: SkyWayChannelImpl,\n  memberDto: model.Member,\n  {\n    keepaliveIntervalSec,\n    keepaliveIntervalGapSec,\n    disableSignaling,\n    disableAnalytics,\n  }: PersonInit = {}\n) {\n  log.debug('createLocalPerson', {\n    channel,\n    memberDto,\n    keepaliveIntervalSec,\n    keepaliveIntervalGapSec,\n  });\n\n  const { iceParamServer } = context.config;\n\n  const signalingSession =\n    disableSignaling === true\n      ? undefined\n      : await setupSignalingSession(context, channel, memberDto);\n\n  const decodedToken = SkyWayAuthToken.Decode(context.authTokenString);\n  const existAnalyticsScope = decodedToken.scope.app.analytics ?? false;\n\n  const analyticsSession =\n    disableAnalytics === true || !existAnalyticsScope\n      ? undefined\n      : await setupAnalyticsSession(context, channel, memberDto);\n\n  const iceManager = new IceManager({\n    ...iceParamServer,\n    memberId: memberDto.id,\n    channelId: channel.id,\n    ttl: MaxIceParamServerTTL,\n    context,\n  });\n\n  await iceManager.updateIceParams().catch((err) => {\n    throw createError({\n      operationName: 'createLocalPerson',\n      context,\n      channel,\n      info: { ...errors.internal, detail: 'updateIceParams failed' },\n      path: log.prefix,\n      error: err,\n    });\n  });\n\n  const person = await LocalPersonImpl.Create({\n    iceManager,\n    channel,\n    signaling: signalingSession,\n    analytics: analyticsSession,\n    metadata: memberDto.metadata,\n    name: memberDto.name,\n    id: memberDto.id,\n    keepaliveIntervalSec,\n    keepaliveIntervalGapSec,\n    context,\n  });\n\n  for (const plugin of context.plugins) {\n    await plugin._whenCreateLocalPerson?.(person);\n    person._onDisposed.once(async () => {\n      await plugin._whenDisposeLocalPerson?.(person);\n    });\n  }\n\n  return person;\n}\n","import {\n  Event,\n  EventDisposer,\n  Logger,\n  PromiseQueue,\n  SkyWayError,\n} from '@skyway-sdk/common';\nimport { Encoding } from '@skyway-sdk/model';\nimport { PublicationInit } from '@skyway-sdk/rtc-api-client';\n\nimport { PersonInit, SkyWayChannelImpl } from '../../channel';\nimport { SkyWayContext } from '../../context';\nimport { errors } from '../../errors';\nimport { AnalyticsSession } from '../../external/analytics';\nimport { IceManager } from '../../external/ice';\nimport { SignalingSession } from '../../external/signaling';\nimport { Codec, EncodingParameters } from '../../media';\nimport { LocalStream } from '../../media/stream';\nimport {\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteVideoStream,\n} from '../../media/stream';\nimport { MemberImpl } from '../../member';\nimport { SkyWayConnection } from '../../plugin/interface';\nimport { UnknownMemberImpl } from '../../plugin/internal/unknown/member';\nimport {\n  normalizeEncodings,\n  Publication,\n  PublicationImpl,\n  sortEncodingParameters,\n} from '../../publication';\nimport { Subscription, SubscriptionImpl } from '../../subscription';\nimport { createError, createLogPayload } from '../../util';\nimport { Person } from '../person';\nimport { isRemoteMember } from '../remoteMember';\nimport { PublishingAgent, SubscribingAgent } from './agent';\n\nexport * from './adapter';\nexport * from './factory';\n\nconst log = new Logger('packages/core/src/member/localPerson/index.ts');\n\nexport interface LocalPerson extends Person {\n  /**@internal */\n  readonly keepaliveIntervalSec?: number | null;\n  /**\n   * @description [japanese] このPersonがStreamをPublishしたときに発火するイベント\n   */\n  readonly onStreamPublished: Event<{ publication: Publication }>;\n  /**\n   * @description [japanese] このPersonがStreamをUnpublishしたときに発火するイベント\n   */\n  readonly onStreamUnpublished: Event<{ publication: Publication }>;\n  /**@description [japanese] このPersonのPublicationの数が変化したときに発火するイベント */\n  readonly onPublicationListChanged: Event<void>;\n  /**\n   * @description [japanese] このPersonがStreamをSubscribeしたときに発火するイベント\n   */\n  readonly onPublicationSubscribed: Event<{\n    subscription: Subscription;\n    stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>;\n  /**\n   * @description [japanese] このPersonがStreamをUnsubscribeしたときに発火するイベント\n   */\n  readonly onPublicationUnsubscribed: Event<{ subscription: Subscription }>;\n  /**@description [japanese] このPersonのSubscriptionの数が変化したときに発火するイベント */\n  readonly onSubscriptionListChanged: Event<void>;\n  /**\n   * @description [japanese] 回復不能なエラー。このインスタンスは継続して利用できない。\n   */\n  readonly onFatalError: Event<SkyWayError>;\n\n  /**\n   * @description [japanese] StreamをPublishする\n   */\n  publish: <T extends LocalStream = LocalStream>(\n    stream: T,\n    options?: PublicationOptions\n  ) => Promise<Publication<T>>;\n  /**\n   * @description [japanese] StreamのPublicationをUnpublishする\n   */\n  unpublish: (publication: string | Publication) => Promise<void>;\n  /**\n   * @description [japanese] StreamのPublicationをSubscribeする\n   */\n  subscribe: <\n    T extends RemoteDataStream | RemoteAudioStream | RemoteVideoStream\n  >(\n    publication: string | Publication,\n    options?: SubscriptionOptions\n  ) => Promise<{ subscription: Subscription<T>; stream: T }>;\n  /**\n   * @description [japanese] StreamのSubscriptionをUnsubscribeする\n   */\n  unsubscribe: (subscription: string | Subscription) => Promise<void>;\n}\n\n/**@internal */\nexport class LocalPersonImpl extends MemberImpl implements LocalPerson {\n  readonly type = 'person' as const;\n  readonly subtype = 'person' as const;\n  readonly side = 'local' as const;\n  ttlSec?: number;\n  readonly keepaliveIntervalSec = this.args.keepaliveIntervalSec;\n  readonly keepaliveIntervalGapSec = this.args.keepaliveIntervalGapSec;\n  readonly disableSignaling = this.args.disableSignaling;\n  readonly disableAnalytics = this.args.disableAnalytics;\n  readonly config = this.context.config;\n\n  readonly onStreamPublished = this._events.make<{\n    publication: Publication;\n  }>();\n  readonly onStreamUnpublished = this._events.make<{\n    publication: Publication;\n  }>();\n  readonly onPublicationListChanged = this._events.make<void>();\n  readonly onPublicationSubscribed = this._events.make<{\n    subscription: Subscription;\n    stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>();\n  readonly onPublicationUnsubscribed = this._events.make<{\n    subscription: Subscription;\n  }>();\n  readonly onSubscriptionListChanged = this._events.make<void>();\n  readonly onFatalError = this._events.make<SkyWayError>();\n\n  private readonly _onStreamSubscribeFailed = this._events.make<{\n    error: SkyWayError;\n    subscription: Subscription;\n  }>();\n  /**@private */\n  readonly _onDisposed = this._events.make<void>();\n\n  private _disposer = new EventDisposer();\n  private readonly _publishingAgent: PublishingAgent;\n  private readonly _subscribingAgent: SubscribingAgent;\n  private ttlInterval?: any;\n  private _subscribing: {\n    [publicationId: string]: {\n      options: SubscriptionOptions;\n      processing: boolean;\n    };\n  } = {};\n\n  private _requestQueue = new PromiseQueue();\n\n  /**@private */\n  readonly iceManager = this.args.iceManager;\n  /**@private */\n  readonly _signaling?: SignalingSession;\n  /**@private */\n  readonly _analytics?: AnalyticsSession;\n  /**@private */\n  _disposed = false;\n\n  static async Create(...args: ConstructorParameters<typeof LocalPersonImpl>) {\n    const person = new LocalPersonImpl(...args);\n    await person._setupTtlTimer();\n    return person;\n  }\n\n  /**@private */\n  constructor(\n    private args: {\n      channel: SkyWayChannelImpl;\n      signaling?: SignalingSession;\n      analytics?: AnalyticsSession;\n      name?: string;\n      id: string;\n      metadata?: string;\n      iceManager: IceManager;\n      context: SkyWayContext;\n    } & PersonInit\n  ) {\n    super(args);\n\n    this._publishingAgent = new PublishingAgent(this);\n    this._subscribingAgent = new SubscribingAgent(this);\n    this._signaling = args.signaling;\n    this._analytics = args.analytics;\n\n    this._listenChannelEvent();\n    this._listenBeforeUnload();\n  }\n\n  private _listenChannelEvent() {\n    this.channel.onPublicationSubscribed\n      .add(async ({ subscription }) => {\n        await this._handleOnPublicationSubscribe(\n          subscription as SubscriptionImpl\n        ).catch((e) => log.error('_handleOnStreamSubscribe', e));\n      })\n      .disposer(this._disposer);\n    this.channel.onPublicationUnsubscribed\n      .add(async ({ subscription }) => {\n        await this._handleOnPublicationUnsubscribe(\n          subscription as SubscriptionImpl\n        ).catch((e) => log.error('_handleOnStreamUnsubscribe', e));\n      })\n      .disposer(this._disposer);\n    this.channel._onDisposed.once(() => {\n      this.dispose();\n    });\n    this.onLeft.once(() => {\n      this.dispose();\n    });\n  }\n\n  /**@throws {@SkyWayError} */\n  private async _setupTtlTimer() {\n    const { keepaliveIntervalSec, keepaliveIntervalGapSec } = this;\n    if (keepaliveIntervalSec == null) return;\n\n    log.debug('_setupTtlTimer', this.toJSON(), {\n      keepaliveIntervalSec,\n      keepaliveIntervalGapSec,\n    });\n\n    if (keepaliveIntervalSec === -1) {\n      return;\n    }\n\n    const updateTtl = async () => {\n      if (this._disposed) {\n        return;\n      }\n\n      const now = await this.context._api.getServerUnixtimeInSec();\n      this.ttlSec = Math.floor(\n        now + keepaliveIntervalSec + (keepaliveIntervalGapSec ?? 0)\n      );\n      try {\n        await this.channel._updateMemberTtl(this.id, this.ttlSec);\n        log.debug('updateTtl', this.toJSON(), {\n          now,\n          ttlSec: this.ttlSec,\n          keepaliveIntervalSec: keepaliveIntervalSec ?? 0,\n          keepaliveIntervalGapSec: keepaliveIntervalGapSec ?? 0,\n          diff: this.ttlSec - now,\n        });\n      } catch (error) {\n        if (this._disposed) {\n          return;\n        }\n        throw error;\n      }\n    };\n\n    await updateTtl();\n\n    this.ttlInterval = setInterval(async () => {\n      await updateTtl().catch((error) => {\n        if (!this._disposed) {\n          this.onFatalError.emit(\n            createError({\n              operationName: 'localPerson._setupTtlTimer',\n              path: log.prefix,\n              info: {\n                ...errors.internal,\n                detail: 'updateMemberTtl failed',\n              },\n              channel: this.channel,\n              context: this.context,\n              error,\n            })\n          );\n          this.dispose();\n        }\n      });\n    }, keepaliveIntervalSec * 1000);\n  }\n\n  private _listenBeforeUnload() {\n    if (window) {\n      const leave = async () => {\n        window.removeEventListener('beforeunload', leave);\n        if (this.state !== 'joined') {\n          return;\n        }\n\n        log.debug('leave by beforeunload', this.toJSON());\n        await this.leave();\n      };\n      window.addEventListener('beforeunload', leave);\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  private async _handleOnPublicationSubscribe(subscription: SubscriptionImpl) {\n    if (subscription.subscriber.id === this.id) {\n      try {\n        const timestamp = log.info(\n          '[start] startSubscribing',\n          await createLogPayload({\n            operationName: 'onPublicationSubscribed',\n            channel: this.channel,\n          }),\n          { subscription }\n        );\n\n        const options = this._subscribing[subscription.publication.id]?.options;\n\n        if (options) {\n          subscription.preferredEncoding = options.preferredEncodingId;\n        }\n\n        await this._subscribingAgent.startSubscribing(subscription);\n\n        this.onPublicationSubscribed.emit({\n          subscription,\n          stream: subscription.stream!,\n        });\n        this.onSubscriptionListChanged.emit();\n\n        log.elapsed(\n          timestamp,\n          '[end] startSubscribing',\n          await createLogPayload({\n            operationName: 'onPublicationSubscribed',\n            channel: this.channel,\n          }),\n          {\n            subscription,\n          }\n        );\n      } catch (error: any) {\n        this._onStreamSubscribeFailed.emit({ error, subscription });\n        throw error;\n      }\n    }\n\n    if (subscription.publication.publisher.id === this.id) {\n      if (subscription.subscriber.id === this.id) {\n        throw createError({\n          operationName: 'localPerson._handleOnStreamSubscribe',\n          path: log.prefix,\n          info: {\n            ...errors.internal,\n            detail: 'can not subscribe own Publication',\n          },\n          channel: this.channel,\n          context: this.context,\n        });\n      }\n\n      const timestamp = log.info(\n        '[start] startPublishing',\n        await createLogPayload({\n          operationName: 'onPublicationSubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n\n      await this._publishingAgent.startPublishing(subscription).catch((e) => {\n        log.error('[failed] startPublishing', e, { subscription });\n        throw e;\n      });\n      log.elapsed(\n        timestamp,\n        '[end] startPublishing',\n        await createLogPayload({\n          operationName: 'onPublicationSubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  private async _handleOnPublicationUnsubscribe(\n    subscription: SubscriptionImpl\n  ) {\n    if (subscription.publication.publisher.id === this.id) {\n      const timestamp = log.info(\n        '[start] stopPublishing',\n        await createLogPayload({\n          operationName: 'onPublicationUnsubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n\n      await this._publishingAgent\n        .stopPublishing(subscription.publication, subscription.subscriber)\n        .catch((e) => {\n          log.error('[failed] stopPublishing', e, { subscription });\n          throw e;\n        });\n\n      log.elapsed(\n        timestamp,\n        '[end] stopPublishing',\n        await createLogPayload({\n          operationName: 'onPublicationUnsubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n    }\n    if (subscription.subscriber.id === this.id) {\n      const timestamp = log.info(\n        '[start] stopSubscribing',\n        await createLogPayload({\n          operationName: 'onPublicationUnsubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n\n      await this._subscribingAgent.stopSubscribing(subscription).catch((e) => {\n        log.error('[failed] stopSubscribing', { subscription }, e);\n        throw e;\n      });\n\n      this.onPublicationUnsubscribed.emit({ subscription });\n      this.onSubscriptionListChanged.emit();\n      log.elapsed(\n        timestamp,\n        '[end] stopSubscribing',\n        await createLogPayload({\n          operationName: 'onPublicationUnsubscribed',\n          channel: this.channel,\n        }),\n        { subscription }\n      );\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  async publish<T extends LocalStream>(\n    stream: T,\n    options: PublicationOptions = {}\n  ): Promise<Publication<T>> {\n    const timestamp = log.info(\n      '[start] publish',\n      await createLogPayload({\n        operationName: 'localPerson.publish',\n        channel: this.channel,\n      }),\n      { options }\n    );\n\n    if (this.state !== 'joined') {\n      throw createError({\n        operationName: 'localPerson.publish',\n        info: errors.localPersonNotJoinedChannel,\n        path: log.prefix,\n        channel: this.channel,\n        context: this.context,\n      });\n    }\n    if (stream.published) {\n      throw createError({\n        operationName: 'localPerson.publish',\n        channel: this.channel,\n        context: this.context,\n        info: errors.alreadyPublishedStream,\n        path: log.prefix,\n      });\n    }\n    stream.published = true;\n\n    if (options.codecCapabilities) {\n      options.codecCapabilities = options.codecCapabilities.filter(\n        (c) => c != undefined\n      );\n    }\n\n    const init: PublicationInit = {\n      metadata: options.metadata,\n      publisher: this.id,\n      channel: this.channel.id,\n      contentType: stream.contentType,\n      codecCapabilities: options.codecCapabilities ?? [],\n      isEnabled: options.isEnabled,\n    };\n    if (\n      stream.contentType === 'video' &&\n      init.codecCapabilities!.length === 0\n    ) {\n      init.codecCapabilities = [{ mimeType: 'video/vp8' }];\n    }\n    if (options.encodings && options.encodings.length > 0) {\n      init.encodings = normalizeEncodings(\n        sortEncodingParameters(options.encodings)\n      );\n    }\n\n    const published = await this._requestQueue.push(() =>\n      this.channel._publish(init).catch((e) => {\n        throw createError({\n          operationName: 'localPerson.publish',\n          context: this.context,\n          channel: this.channel,\n          info: e.info,\n          path: log.prefix,\n          error: e,\n        });\n      })\n    );\n\n    // publication作成時にpublication.state=isEnabledとなり、その後isEnabledに合わせてpublicationのenableStream/disableStreamを呼び出してもsetIsEnabled/setEnabledが実行されない。\n    // そのままではpublication.stateとstreamで状態の乖離が発生する場合があるため、ここで直接実行し一致させておく。\n    if (stream.contentType === 'data') {\n      stream.setIsEnabled(published.isEnabled);\n    } else {\n      await stream.setEnabled(published.isEnabled);\n    }\n\n    const publication = this.channel._addPublication(published);\n    publication._setStream(stream);\n\n    if (init.codecCapabilities?.length) {\n      publication.setCodecCapabilities(init.codecCapabilities);\n    }\n    if (init.encodings?.length) {\n      publication.setEncodings(init.encodings);\n    }\n\n    await this._handleOnStreamPublish(publication);\n\n    log.elapsed(\n      timestamp,\n      '[end] publish',\n      await createLogPayload({\n        operationName: 'localPerson.publish',\n        channel: this.channel,\n      }),\n      { publication }\n    );\n\n    // dataの場合はMediaDeviceがないので送信処理をしない\n    if (\n      ['video', 'audio'].includes(publication.contentType) &&\n      this._analytics &&\n      !this._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._analytics.client.sendMediaDeviceReport({\n        publicationId: publication.id,\n        mediaDeviceName: publication.deviceName as string,\n        mediaDeviceTrigger: 'publish',\n        updatedAt: Date.now(),\n      });\n\n      const encodings = init.encodings ?? [];\n      void this._analytics.client.sendPublicationUpdateEncodingsReport({\n        publicationId: publication.id,\n        encodings: encodings,\n        updatedAt: Date.now(),\n      });\n    }\n\n    return publication as Publication<T>;\n  }\n\n  private async _handleOnStreamPublish(publication: Publication) {\n    log.info(\n      'onStreamPublished',\n      await createLogPayload({\n        operationName: 'onStreamPublished',\n        channel: this.channel,\n      })\n    );\n    this.onStreamPublished.emit({ publication });\n    this.onPublicationListChanged.emit();\n  }\n\n  /**@throws {@link SkyWayError} */\n  async unpublish(target: string | Publication) {\n    const timestamp = log.info(\n      '[start] unpublish',\n      await createLogPayload({\n        operationName: 'localPerson.unpublish',\n        channel: this.channel,\n      })\n    );\n\n    const publicationId = typeof target === 'string' ? target : target.id;\n\n    if (this.state !== 'joined') {\n      throw createError({\n        operationName: 'localPerson.unpublish',\n        info: errors.localPersonNotJoinedChannel,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n      });\n    }\n\n    const publication = this.channel._getPublication(publicationId);\n    if (!publication) {\n      throw createError({\n        operationName: 'localPerson.unpublish',\n        info: errors.publicationNotExist,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { publicationId },\n      });\n    }\n\n    if (publication.stream) {\n      publication.stream._unpublished();\n    }\n\n    await this._requestQueue.push(() => this.channel._unpublish(publicationId));\n\n    publication.subscriptions\n      .map((s) => s.subscriber)\n      .forEach((s) => {\n        if (isRemoteMember(s)) {\n          this._publishingAgent.stopPublishing(publication, s).catch((e) => {\n            log.error('[failed] stopPublishing', e, { publication });\n          });\n        }\n      });\n\n    await this._handleOnStreamUnpublished(publication);\n\n    log.elapsed(\n      timestamp,\n      '[end] unpublish',\n      await createLogPayload({\n        operationName: 'localPerson.unpublish',\n        channel: this.channel,\n      }),\n      { publication }\n    );\n  }\n\n  private async _handleOnStreamUnpublished(publication: Publication) {\n    log.info(\n      'onStreamUnpublished',\n      await createLogPayload({\n        operationName: 'onStreamUnpublished',\n        channel: this.channel,\n      })\n    );\n    this.onStreamUnpublished.emit({ publication });\n    this.onPublicationListChanged.emit();\n  }\n\n  /**@throws {@link SkyWayError} */\n  async subscribe<\n    T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >(\n    target: string | Publication,\n    options: SubscriptionOptions = {}\n  ): Promise<{ subscription: Subscription<T>; stream: T }> {\n    const timestamp = log.info(\n      '[start] subscribe',\n      await createLogPayload({\n        operationName: 'localPerson.subscribe',\n        channel: this.channel,\n      }),\n      { target }\n    );\n\n    const publicationId = typeof target === 'string' ? target : target.id;\n\n    if (this.state !== 'joined') {\n      throw createError({\n        operationName: 'localPerson.subscribe',\n        info: errors.localPersonNotJoinedChannel,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { target },\n      });\n    }\n\n    const publication = this.channel._getPublication(publicationId);\n    if (publication == undefined) {\n      throw createError({\n        operationName: 'localPerson.subscribe',\n        info: errors.publicationNotExist,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: publication,\n      });\n    }\n\n    this._validatePublicationForSubscribe(publication);\n\n    this._subscribing[publication.id] = {\n      options,\n      processing: true,\n    };\n    const subscribing = this._subscribing[publication.id];\n\n    try {\n      const subscriptionDto = await this._requestQueue.push(() =>\n        this.channel._subscribe(this.id, publicationId)\n      );\n\n      log.elapsed(timestamp, '[elapsed] subscribe / subscriptionDto received', {\n        subscriptionDto,\n      });\n      const subscription = this.channel._addSubscription(subscriptionDto);\n\n      if (!subscription.stream) {\n        await Promise.race([\n          new Promise((r, f) => {\n            this.onPublicationSubscribed\n              .watch(\n                ({ subscription }) =>\n                  subscription.publication.id === publicationId,\n                this.context.config.rtcApi.timeout\n              )\n              .then(r)\n              .catch(async (e) => {\n                if (subscribing.processing) {\n                  f(\n                    createError({\n                      operationName: 'localPerson.subscribe',\n                      info: {\n                        ...errors.timeout,\n                        detail:\n                          'failed to subscribe publication. maybe publisher already left room',\n                      },\n                      path: log.prefix,\n                      context: this.context,\n                      channel: this.channel,\n                      payload: { subscription, publication },\n                      error: e,\n                    })\n                  );\n                }\n              });\n          }),\n          new Promise((r, f) => {\n            this.channel.onMemberLeft\n              .watch(\n                (e) => e.member.id === publication.publisher.id,\n                this.context.config.rtcApi.timeout + 1000\n              )\n              .then(() => {\n                if (subscribing.processing) {\n                  f(\n                    createError({\n                      operationName: 'localPerson.subscribe',\n                      info: {\n                        ...errors.internal,\n                        detail:\n                          'failed to subscribe publication. publisher already left room',\n                      },\n                      path: log.prefix,\n                      context: this.context,\n                      channel: this.channel,\n                      payload: { subscription, publication },\n                    })\n                  );\n                }\n              })\n              .catch(r);\n          }),\n          new Promise((r, f) => {\n            this._onStreamSubscribeFailed\n              .watch(\n                (e) => e.subscription.publication.id === publication.id,\n                this.context.config.rtcApi.timeout + 1000\n              )\n              .then((e) => {\n                if (subscribing.processing) {\n                  const info = e?.error?.info ?? {\n                    ...errors.internal,\n                    detail: 'subscribe _onStreamSubscribeFailed',\n                  };\n                  f(\n                    createError({\n                      operationName: 'localPerson.subscribe',\n                      info,\n                      path: log.prefix,\n                      context: this.context,\n                      channel: this.channel,\n                      error: e.error,\n                      payload: { subscription, publication },\n                    })\n                  );\n                }\n              })\n              .catch(r);\n          }),\n        ]);\n      }\n\n      subscribing.processing = false;\n      log.elapsed(\n        timestamp,\n        '[end] subscribe',\n        await createLogPayload({\n          operationName: 'localPerson.subscribe',\n          channel: this.channel,\n        }),\n        { subscription, publication }\n      );\n\n      return {\n        subscription: subscription as Subscription<T>,\n        stream: subscription.stream as T,\n      };\n    } catch (error) {\n      subscribing.processing = false;\n      // 対象のPublicationがすでにUnPublishされている時に失敗しうる\n      log.warn('[failed] subscribe', error, { publication });\n      throw error;\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  private _validatePublicationForSubscribe(publication: PublicationImpl) {\n    if (publication.publisher.id === this.id) {\n      throw createError({\n        operationName: 'localPerson._validatePublicationForSubscribe',\n        info: errors.publicationNotExist,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { publication },\n      });\n    }\n\n    if (publication.publisher instanceof UnknownMemberImpl) {\n      throw createError({\n        operationName: 'localPerson._validatePublicationForSubscribe',\n        info: errors.unknownMemberType,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { publication },\n      });\n    }\n\n    if (this.subscriptions.find((s) => s.publication.id === publication.id)) {\n      throw createError({\n        operationName: 'localPerson._validatePublicationForSubscribe',\n        info: errors.alreadySubscribedPublication,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { publication },\n      });\n    }\n  }\n\n  /**@throws {@link SkyWayError} */\n  async unsubscribe(target: string | Subscription) {\n    const timestamp = log.info(\n      '[start] unsubscribe',\n      await createLogPayload({\n        operationName: 'localPerson.unsubscribe',\n        channel: this.channel,\n      })\n    );\n\n    const subscriptionId = typeof target === 'string' ? target : target.id;\n\n    if (this.state !== 'joined') {\n      throw createError({\n        operationName: 'localPerson.unsubscribe',\n        info: errors.localPersonNotJoinedChannel,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n      });\n    }\n\n    const subscription = this.subscriptions.find(\n      (s) => s.id === subscriptionId\n    );\n\n    if (!subscription) {\n      throw createError({\n        operationName: 'localPerson.unsubscribe',\n        info: errors.subscriptionNotExist,\n        path: log.prefix,\n        context: this.context,\n        channel: this.channel,\n        payload: { subscriptionId },\n      });\n    }\n\n    delete this._subscribing[subscription.publication.id];\n\n    await this._requestQueue.push(() =>\n      this.channel._unsubscribe(subscriptionId)\n    );\n    log.elapsed(\n      timestamp,\n      '[end] unsubscribe',\n      await createLogPayload({\n        operationName: 'localPerson.unsubscribe',\n        channel: this.channel,\n      }),\n      { subscription }\n    );\n  }\n\n  private _getConnections() {\n    const connections = this.channel.members.map((m) =>\n      m._getConnection(this.id)\n    );\n\n    const active = connections.filter(\n      (c): c is SkyWayConnection => c?.closed === false\n    );\n    return active;\n  }\n\n  /**\n   * リソース解放\n   * - メッセージサービスとのセッション\n   * - メディア通信\n   * - イベントリスナー\n   * - TTL更新\n   */\n  dispose() {\n    if (this._disposed) {\n      return;\n    }\n    this._disposed = true;\n\n    log.debug('disposed', this.toJSON());\n\n    clearInterval(this.ttlInterval);\n\n    if (this._signaling) {\n      this._signaling.close();\n    }\n\n    if (this._analytics) {\n      this._analytics.close();\n    }\n\n    this._getConnections().forEach((c) =>\n      c.close({ reason: 'localPerson disposed' })\n    );\n\n    this._onDisposed.emit();\n    this._events.dispose();\n    this._disposer.dispose();\n  }\n}\n\nexport type PublicationOptions = {\n  metadata?: string | undefined;\n  /**\n   * @description [japanese]\n   * publishする際に優先して利用するCodec設定を指定する。\n   * 利用するCodecは配列の先頭が優先される。\n   */\n  codecCapabilities?: Codec[];\n  /**\n   * @description [japanese]\n   * メディアのエンコードの設定を行うことができる。\n   * サイマルキャストに対応している通信モデル（SFU）を利用している場合、encodingsの配列に複数のEncodingを設定するとサイマルキャストが有効になる。\n   * この時、encodingの配列はビットレートの低い順にソートされて設定される。\n   * P2Pを利用している場合、最もビットレートの低い設定のみが適用される。\n   */\n  encodings?: EncodingParameters[];\n  /**\n   * @description [japanese]\n   * publicationを有効にしてpublishするか指定する。\n   * デフォルトではtrueが設定される。\n   * falseに設定された場合、publicationは一時停止された状態でpublishされる。\n   */\n  isEnabled?: boolean;\n};\n\nexport type SubscriptionOptions = {\n  preferredEncodingId?: string;\n};\n","import { SkyWayConnection } from '../plugin/interface';\nimport { Member, MemberImpl } from '.';\nimport { LocalPersonImpl } from './localPerson';\n\nexport interface RemoteMember extends Member {\n  readonly side: 'remote';\n}\n\n/**@internal */\nexport interface RemoteMemberImplInterface extends MemberImpl {\n  readonly side: 'remote';\n\n  _getConnection: (localPersonId: string) => SkyWayConnection | undefined;\n  _getOrCreateConnection: (localPerson: LocalPersonImpl) => SkyWayConnection;\n  _dispose: () => void;\n}\n\n/**@internal */\nexport function isRemoteMember(\n  member: Member\n): member is RemoteMemberImplInterface {\n  if (member == undefined) return false;\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  //@ts-ignore\n  if (member['side'] === 'remote') {\n    return true;\n  }\n  return false;\n}\n","import { EventDisposer, Logger } from '@skyway-sdk/common';\nimport { Event } from '@skyway-sdk/common';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { Codec } from '../media';\nimport { ContentType, WebRTCStats } from '../media/stream';\nimport { RemoteStream } from '../media/stream/remote';\nimport { RemoteAudioStream } from '../media/stream/remote/audio';\nimport { RemoteDataStream } from '../media/stream/remote/data';\nimport { RemoteVideoStream } from '../media/stream/remote/video';\nimport {\n  RemoteMember,\n  RemoteMemberImplInterface,\n} from '../member/remoteMember';\nimport { TransportConnectionState } from '../plugin/interface';\nimport { Publication, PublicationImpl } from '../publication';\nimport { createError } from '../util';\n\nexport * from './factory';\n\nconst log = new Logger('packages/core/src/subscription/index.ts');\n\nexport interface Subscription<\n  T extends\n    | RemoteVideoStream\n    | RemoteAudioStream\n    | RemoteDataStream = RemoteStream\n> {\n  id: string;\n  contentType: ContentType;\n  publication: Publication;\n  subscriber: RemoteMember;\n  state: SubscriptionState;\n  /** @description [japanese] unsubscribeした時に発火するイベント */\n  onCanceled: Event<void>;\n  /** @description [japanese] SubscriptionにStreamが紐つけられた時に発火するイベント */\n  onStreamAttached: Event<void>;\n  /**\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   */\n  onConnectionStateChanged: Event<TransportConnectionState>;\n  /**\n   * @description [japanese] subscribeしているStreamの実体。\n   * ローカルでSubscribeしているSubscriptionでなければundefinedとなる\n   */\n  stream?: T;\n  /**\n   * @description [japanese] Streamのコーデック\n   */\n  codec?: Codec;\n  /**\n   * @description [japanese] 現在の優先エンコーディング設定\n   */\n  preferredEncoding?: string;\n  /**\n   * @description [japanese] unsubscribeする\n   */\n  cancel: () => Promise<void>;\n  /** @description [japanese] Streamで優先して受信するエンコード設定の変更 */\n  changePreferredEncoding: (id: string) => void;\n  /**\n   * @experimental\n   * @description [japanese] RemoteStreamの通信の統計情報を取得する\n   */\n  getStats(): Promise<WebRTCStats>;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] 対象のMemberとのRTCPeerConnectionを取得する。RTCPeerConnectionを直接操作すると SDK は正しく動作しなくなる可能性があります。\n   */\n  getRTCPeerConnection(): RTCPeerConnection | undefined;\n  /**\n   * @description [japanese] メディア通信の状態を取得\n   */\n  getConnectionState(): TransportConnectionState;\n}\n\n/**@internal */\nexport class SubscriptionImpl<\n  T extends\n    | RemoteVideoStream\n    | RemoteAudioStream\n    | RemoteDataStream = RemoteStream\n> implements Subscription<T>\n{\n  readonly id: string;\n  readonly contentType: ContentType;\n  readonly subscriber: RemoteMemberImplInterface;\n  readonly publication: PublicationImpl;\n  private readonly _channel: SkyWayChannelImpl;\n  private readonly _context: SkyWayContext;\n  private readonly _disposer = new EventDisposer();\n\n  private _state: SubscriptionState = 'enabled';\n  get state() {\n    return this._state;\n  }\n  codec?: Codec;\n  preferredEncoding?: string;\n  private _stream?: T;\n  readonly onCanceled = new Event<void>();\n  readonly onStreamAttached = new Event<void>();\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n\n  /**@internal */\n  readonly _onChangeEncoding = new Event<void>();\n\n  constructor(args: {\n    channel: SkyWayChannelImpl;\n    id: string;\n    contentType: ContentType;\n    subscriber: RemoteMemberImplInterface;\n    publication: PublicationImpl;\n  }) {\n    this._channel = args.channel;\n    this._context = this._channel._context;\n    this.id = args.id;\n    this.contentType = args.contentType;\n    this.subscriber = args.subscriber;\n    this.publication = args.publication;\n\n    log.debug('subscription spawned', this.toJSON());\n\n    this._handlePublicationEnabled();\n  }\n\n  private _handlePublicationEnabled() {\n    this.publication.onDisabled\n      .add(() => {\n        if (this.stream) {\n          log.debug('disabled', this);\n          this.stream.setIsEnabled(false);\n        }\n      })\n      .disposer(this._disposer);\n    this.publication.onEnabled\n      .add(() => {\n        if (this.stream) {\n          log.debug('enabled', this);\n          this.stream.setIsEnabled(true);\n        }\n      })\n      .disposer(this._disposer);\n    if (this.stream) {\n      this.stream.setIsEnabled(this.publication.state === 'enabled');\n    }\n  }\n\n  /**@internal */\n  _setStream(stream: T) {\n    this._stream = stream;\n    this.onStreamAttached.emit();\n    stream._onConnectionStateChanged.add((e) => {\n      log.debug('onConnectionStateChanged', this.id, e);\n      this.onConnectionStateChanged.emit(e);\n    });\n  }\n\n  get stream() {\n    return this._stream;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      contentType: this.contentType,\n      subscriber: this.subscriber,\n      publication: this.publication,\n      channelId: this._channel.id,\n      state: this.state,\n      stream: this.stream,\n    };\n  }\n\n  /**@private */\n  _canceled() {\n    this._state = 'canceled';\n    this.onCanceled.emit();\n\n    this._disposer.dispose();\n  }\n\n  cancel = () =>\n    new Promise<void>((r, f) => {\n      let failed = false;\n      this._channel._unsubscribe(this.id).catch((e) => {\n        failed = true;\n        f(e);\n      });\n      this.onCanceled\n        .asPromise(this._context.config.rtcApi.timeout)\n        .then(() => r())\n        .catch((e) => {\n          if (!failed) f(e);\n        });\n    });\n\n  changePreferredEncoding(id: string) {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'SubscriptionImpl.changePreferredEncoding',\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    if (this.stream.contentType === 'data') {\n      throw createError({\n        operationName: 'SubscriptionImpl.changePreferredEncoding',\n        info: errors.dataStreamNotSupportEncoding,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    if (!this.publication.encodings.map((e) => e.id).includes(id)) {\n      throw createError({\n        operationName: 'SubscriptionImpl.changePreferredEncoding',\n        info: errors.correspondingEncodeNotExistForId,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    this.preferredEncoding = id;\n    this._onChangeEncoding.emit();\n  }\n\n  getStats(): Promise<WebRTCStats> {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'SubscriptionImpl.getStats',\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    return this.stream._getStats();\n  }\n\n  getRTCPeerConnection(): RTCPeerConnection | undefined {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'SubscriptionImpl.getRTCPeerConnection',\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    return this.stream._getRTCPeerConnection();\n  }\n\n  getConnectionState(): TransportConnectionState {\n    if (!this.stream) {\n      throw createError({\n        operationName: 'SubscriptionImpl.getConnectionState',\n        info: errors.streamNotExistInSubscription,\n        path: log.prefix,\n        context: this._context,\n        channel: this._channel,\n      });\n    }\n    return this.stream._getConnectionState();\n  }\n}\n\nexport type SubscriptionState = 'enabled' | 'canceled';\n","import model from '@skyway-sdk/model';\n\nimport { SkyWayChannelImpl } from '../channel';\nimport { SubscriptionImpl } from '.';\n\n/**@internal */\nexport function createSubscription(\n  channel: SkyWayChannelImpl,\n  { subscriberId, publicationId, id }: model.Subscription\n): SubscriptionImpl {\n  const exist = channel._getSubscription(id);\n  if (exist) return exist;\n\n  const publication = channel._getPublication(publicationId);\n  const contentType = publication.contentType;\n\n  const subscription = new SubscriptionImpl({\n    channel,\n    id,\n    subscriber: channel._getMember(subscriberId),\n    publication: channel._getPublication(publicationId),\n    contentType,\n  });\n\n  return subscription;\n}\n","import { Event, SkyWayError } from '@skyway-sdk/common';\nimport { Logger } from '@skyway-sdk/common';\nimport { Events } from '@skyway-sdk/common';\nimport model from '@skyway-sdk/model';\nimport {\n  ChannelImpl,\n  ChannelInit,\n  ChannelQuery,\n  MemberInit,\n  PublicationInit,\n} from '@skyway-sdk/rtc-api-client';\n\nimport { MemberInternalConfig, MemberKeepAliveConfig } from '../config';\nimport { SkyWayContext } from '../context';\nimport { errors } from '../errors';\nimport { Member } from '../member';\nimport {\n  createLocalPerson,\n  LocalPerson,\n  LocalPersonAdapter,\n  LocalPersonImpl,\n} from '../member/localPerson';\nimport {\n  RemoteMember,\n  RemoteMemberImplInterface,\n} from '../member/remoteMember';\nimport { Publication, PublicationImpl } from '../publication';\nimport { createPublication } from '../publication/factory';\nimport { Subscription, SubscriptionImpl } from '../subscription';\nimport { createSubscription } from '../subscription/factory';\nimport { createError, createLogPayload } from '../util';\nimport {\n  ChannelClosedEvent,\n  ChannelMetadataUpdatedEvent,\n  ListChangedEvent,\n  MemberJoinedEvent,\n  MemberLeftEvent,\n  MemberMetadataUpdatedEvent,\n  PublicationDisabledEvent,\n  PublicationEnabledEvent,\n  PublicationMetadataUpdatedEvent,\n  StreamPublishedEvent,\n  StreamSubscribedEvent,\n  StreamUnpublishedEvent,\n  StreamUnsubscribedEvent,\n} from './event';\n\nexport type { ChannelInit, ChannelQuery, MemberInit };\n\nconst log = new Logger('packages/core/src/channel/index.ts');\n\nexport interface Channel {\n  readonly id: string;\n  readonly name?: string;\n  readonly appId: string;\n  metadata?: string;\n  state: ChannelState;\n\n  /**\n   * @description [japanese] このChannelが閉じられた時に発生するイベント\n   */\n  readonly onClosed: Event<ChannelClosedEvent>;\n  /**\n   * @description [japanese] このChannelのMetadataが更新された時に発生するイベント\n   */\n  readonly onMetadataUpdated: Event<ChannelMetadataUpdatedEvent>;\n\n  /**@description [japanese] このChannelのMemberの数が変化した時に発生するイベント */\n  readonly onMemberListChanged: Event<ListChangedEvent>;\n  /**\n   * @description [japanese] ChannelにMemberが参加した時に発生するイベント\n   */\n  readonly onMemberJoined: Event<MemberJoinedEvent>;\n  /**\n   * @description [japanese] ChannelからMemberが退出した時に発生するイベント\n   */\n  readonly onMemberLeft: Event<MemberLeftEvent>;\n  /**\n   * @description [japanese] MemberのMetadataが更新された時に発生するイベント\n   */\n  readonly onMemberMetadataUpdated: Event<MemberMetadataUpdatedEvent>;\n\n  /**\n   * @description [japanese] ChannelにStreamがPublishされた時に発生するイベント\n   */\n  readonly onStreamPublished: Event<StreamPublishedEvent>;\n  /**\n   * @description [japanese] ChannelからStreamがUnpublishされた時に発生するイベント\n   */\n  readonly onStreamUnpublished: Event<StreamUnpublishedEvent>;\n  /**@description [japanese] このChannelのPublicationの数が変化した時に発生するイベント */\n  readonly onPublicationListChanged: Event<ListChangedEvent>;\n  /**\n   * @description [japanese] StreamのPublicationのMetadataが更新された時に発生するイベント\n   */\n  readonly onPublicationMetadataUpdated: Event<PublicationMetadataUpdatedEvent>;\n  /**@description [japanese] このChannelのPublicationが有効化された時に発生するイベント */\n  readonly onPublicationEnabled: Event<PublicationEnabledEvent>;\n  /**@description [japanese] このChannelのPublicationが無効化された時に発生するイベント */\n  readonly onPublicationDisabled: Event<PublicationDisabledEvent>;\n\n  /**\n   * @description [japanese] ChannelのPublicationがSubscribeされた時に発生するイベント\n   */\n  readonly onPublicationSubscribed: Event<StreamSubscribedEvent>;\n  /**\n   * @description [japanese] ChannelのPublicationがUnsubscribeされた時に発生するイベント\n   */\n  readonly onPublicationUnsubscribed: Event<StreamUnsubscribedEvent>;\n  /**@description [japanese] このChannelのSubscriptionの数が変化した時に発生するイベント */\n  readonly onSubscriptionListChanged: Event<ListChangedEvent>;\n\n  /**\n   * @description [japanese] Channel中のMemberの一覧を取得する\n   */\n  members: RemoteMember[];\n\n  /**\n   * @description [japanese] Channel中のLocalPersonを取得する\n   */\n  localPerson?: LocalPerson;\n\n  /**\n   * @description [japanese] Channel中のBotの一覧を取得する\n   */\n  bots: RemoteMember[];\n\n  /**\n   * @description [japanese] Channel中のPublicationの一覧を取得する\n   */\n  publications: Publication[];\n\n  /**\n   * @description [japanese] Channel中のSubscriptionの一覧を取得する\n   */\n  subscriptions: Subscription[];\n\n  /**\n   * @description [japanese] ChannelにMemberを追加する\n   */\n  join: (\n    memberInit?: {\n      name?: MemberInit['name'];\n      metadata?: MemberInit['metadata'];\n    } & Partial<MemberKeepAliveConfig>\n  ) => Promise<LocalPerson>;\n\n  /**\n   * @description [japanese] ChannelからMemberを退出させる\n   */\n  leave: (member: Member) => Promise<void>;\n\n  /**\n   * @description [japanese] 別のChannelのMemberを移動させる\n   */\n  moveChannel: (adapter: LocalPerson) => Promise<void>;\n\n  /**\n   * @description [japanese] ChannelのMetadataを更新する\n   */\n  updateMetadata: (metadata: string) => Promise<void>;\n\n  /**\n   * @description [japanese] Channelを閉じる。\n   */\n  close: () => Promise<void>;\n  /**\n   * @description [japanese] Channelを閉じずにChannelインスタンスの利用を終了し次のリソースを解放する。\n   * - サーバとの通信\n   * - イベントリスナー\n   * - LocalPersonのインスタンス\n   */\n  dispose: () => void;\n}\n\n/**@internal */\nexport class SkyWayChannelImpl implements Channel {\n  readonly id: model.Channel['id'] = this._channelImpl.id;\n  readonly name: model.Channel['name'] = this._channelImpl.name;\n  readonly appId = this._context.appId;\n  _localPerson?: LocalPersonImpl;\n  disposed = false;\n  readonly config = this._context.config;\n\n  private _state: ChannelState = 'opened';\n  private readonly _api = this._context._api;\n\n  private _members: {\n    [memberId: model.Channel['id']]: RemoteMemberImplInterface;\n  } = {};\n  /**@private */\n  _getMember = (id: string) => this._members[id];\n  private _addMember(memberDto: model.Member) {\n    const exist = this._getMember(memberDto.id);\n    if (exist) {\n      return exist;\n    }\n    const member = this._context._createRemoteMember(this, memberDto);\n    this._members[member.id] = member as RemoteMemberImplInterface;\n    return member;\n  }\n  private _removeMember(memberId: model.Channel['id']) {\n    delete this._members[memberId];\n  }\n\n  private _publications: { [publicationId: string]: PublicationImpl } = {};\n  /**@private */\n  _getPublication = (id: string) => this._publications[id];\n  /**@private */\n  _addPublication(p: model.Publication) {\n    const exist = this._getPublication(p.id);\n    if (exist) {\n      return exist;\n    }\n    const publication = createPublication(this, p);\n    this._publications[p.id] = publication;\n    return publication;\n  }\n  private _removePublication(publicationId: string) {\n    delete this._publications[publicationId];\n  }\n\n  private _subscriptions: { [subscriptionId: string]: SubscriptionImpl } = {};\n  /**@private */\n  _getSubscription = (id: string) => this._subscriptions[id];\n  /**@private */\n  _addSubscription(s: model.Subscription) {\n    const exist = this._getSubscription(s.id);\n    if (exist) {\n      return exist;\n    }\n    const subscription = createSubscription(this, s);\n    this._subscriptions[s.id] = subscription;\n    return subscription;\n  }\n  private _removeSubscription(subscriptionId: string) {\n    delete this._subscriptions[subscriptionId];\n  }\n\n  // events\n  private readonly _events = new Events();\n  readonly onClosed = this._events.make<ChannelClosedEvent>();\n  readonly onMetadataUpdated = this._events.make<ChannelMetadataUpdatedEvent>();\n\n  readonly onMemberListChanged = this._events.make<ListChangedEvent>();\n  readonly onMemberJoined = this._events.make<MemberJoinedEvent>();\n  readonly onMemberLeft = this._events.make<MemberLeftEvent>();\n  readonly onMemberMetadataUpdated =\n    this._events.make<MemberMetadataUpdatedEvent>();\n\n  readonly onPublicationListChanged = this._events.make<ListChangedEvent>();\n  readonly onStreamPublished = this._events.make<StreamPublishedEvent>();\n  readonly onStreamUnpublished = this._events.make<StreamUnpublishedEvent>();\n  readonly onPublicationMetadataUpdated =\n    this._events.make<PublicationMetadataUpdatedEvent>();\n  readonly onPublicationEnabled = this._events.make<PublicationEnabledEvent>();\n  readonly onPublicationDisabled =\n    this._events.make<PublicationDisabledEvent>();\n\n  readonly onSubscriptionListChanged = this._events.make<ListChangedEvent>();\n  readonly onPublicationSubscribed = this._events.make<StreamSubscribedEvent>();\n  readonly onPublicationUnsubscribed =\n    this._events.make<StreamUnsubscribedEvent>();\n\n  /**@private */\n  readonly _onDisposed = this._events.make<void>();\n\n  constructor(\n    /**@private */\n    readonly _context: SkyWayContext,\n    /**@private */\n    private readonly _channelImpl: ChannelImpl\n  ) {\n    this._setupPropertiesFromChannel();\n    this._setupListenChannelEvent();\n\n    _context._onDisposed.once(() => {\n      this.dispose();\n    });\n\n    log.debug('channel spawned', this.toJSON());\n  }\n\n  get localPerson() {\n    return this._localPerson;\n  }\n\n  get members() {\n    return Object.values(this._members);\n  }\n\n  get bots(): RemoteMember[] {\n    return this.members.filter((m) => m.type === 'bot') as RemoteMember[];\n  }\n\n  get publications(): Publication[] {\n    return Object.values(this._publications);\n  }\n\n  get subscriptions(): Subscription[] {\n    return Object.values(this._subscriptions);\n  }\n\n  get metadata() {\n    return this._channelImpl.metadata;\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      name: this.name,\n      appId: this.appId,\n      metadata: this.metadata,\n      members: this.members,\n      publications: this.publications,\n      subscriptions: this.subscriptions,\n    };\n  }\n\n  private _setupPropertiesFromChannel() {\n    this._channelImpl.members.forEach((memberDto) => {\n      this._addMember(memberDto);\n    });\n    this._channelImpl.publications.forEach((publicationDto) => {\n      this._addPublication(publicationDto);\n    });\n    this._channelImpl.subscriptions.forEach((subscriptionDto) => {\n      this._addSubscription(subscriptionDto);\n    });\n  }\n\n  private _setupListenChannelEvent() {\n    this._channelImpl.onClosed.add(() => this._handleOnChannelClose());\n    this._channelImpl.onMetadataUpdated.add(({ channel }) =>\n      this._handleOnChannelMetadataUpdate(channel.metadata)\n    );\n\n    this._channelImpl.onMemberJoined.add(({ member }) => {\n      this._handleOnMemberJoin(member);\n    });\n    this._channelImpl.onMemberLeft.add(({ member }) => {\n      this._handleOnMemberLeft(member);\n    });\n    this._channelImpl.onMemberListChanged.pipe(this.onMemberListChanged);\n    this._channelImpl.onMemberMetadataUpdated.add(({ member }) => {\n      this._handleOnMemberMetadataUpdate(member, member.metadata!);\n    });\n\n    this._channelImpl.onStreamPublished.add(({ publication }) => {\n      this._handleOnStreamPublish(publication);\n    });\n    this._channelImpl.onStreamUnpublished.add(({ publication }) => {\n      this._handleOnStreamUnpublish(publication);\n    });\n    this._channelImpl.onPublicationListChanged.pipe(\n      this.onPublicationListChanged\n    );\n    this._channelImpl.onPublicationMetadataUpdated.add(({ publication }) => {\n      this._handleOnPublicationMetadataUpdate(\n        publication,\n        publication.metadata!\n      );\n    });\n    this._channelImpl.onPublicationEnabled.add(\n      async ({ publication }) =>\n        await this._handleOnPublicationEnabled(publication)\n    );\n    this._channelImpl.onPublicationDisabled.add(\n      async ({ publication }) =>\n        await this._handleOnPublicationDisabled(publication)\n    );\n    this._channelImpl.onPublicationSubscribed.add(({ subscription }) => {\n      this._handleOnStreamSubscribe(subscription);\n    });\n    this._channelImpl.onPublicationUnsubscribed.add(({ subscription }) => {\n      this._handleOnStreamUnsubscribe(subscription);\n    });\n    this._channelImpl.onSubscriptionListChanged.pipe(\n      this.onSubscriptionListChanged\n    );\n  }\n\n  private _handleOnChannelClose() {\n    this._state = 'closed';\n    this.onClosed.emit({});\n\n    this.dispose();\n  }\n\n  private _handleOnChannelMetadataUpdate(metadata: string) {\n    this.onMetadataUpdated.emit({ metadata });\n  }\n\n  private _handleOnMemberJoin(memberDto: model.Member) {\n    const member = this._addMember(memberDto);\n    this.onMemberJoined.emit({ member });\n  }\n\n  private _handleOnMemberLeft(memberDto: model.Member) {\n    const member = this._getMember(memberDto.id);\n    this._removeMember(member.id);\n    member._left();\n\n    if (this.localPerson?.id === memberDto.id) {\n      this.localPerson._left();\n      this._localPerson = undefined;\n    }\n\n    this.onMemberLeft.emit({ member });\n  }\n\n  private _handleOnMemberMetadataUpdate(\n    memberDto: model.Member,\n    metadata: string\n  ) {\n    const member = this._getMember(memberDto.id);\n    member._metadataUpdated(metadata);\n\n    if (this.localPerson?.id === memberDto.id) {\n      this.localPerson._metadataUpdated(metadata);\n    }\n\n    this.onMemberMetadataUpdated.emit({ member, metadata });\n  }\n\n  private _handleOnStreamPublish(publicationDto: model.Publication) {\n    const publication = this._addPublication(publicationDto);\n\n    this.onStreamPublished.emit({ publication });\n  }\n\n  private _handleOnStreamUnpublish(publicationDto: model.Publication) {\n    const publication = this._getPublication(publicationDto.id);\n\n    this._removePublication(publication.id);\n\n    publication._unpublished();\n    this.onStreamUnpublished.emit({ publication });\n  }\n\n  private _handleOnPublicationMetadataUpdate(\n    publicationDto: model.Publication,\n    metadata: string\n  ) {\n    const publication = this._getPublication(publicationDto.id);\n    publication._updateMetadata(metadata);\n\n    this.onPublicationMetadataUpdated.emit({ publication, metadata });\n  }\n\n  private async _handleOnPublicationEnabled(publicationDto: model.Publication) {\n    const publication = this._getPublication(publicationDto.id);\n    publication._enable();\n\n    this.onPublicationEnabled.emit({ publication });\n  }\n\n  private async _handleOnPublicationDisabled(\n    publicationDto: model.Publication\n  ) {\n    const publication = this._getPublication(publicationDto.id);\n    await publication._disable();\n\n    this.onPublicationDisabled.emit({ publication });\n  }\n\n  private _handleOnStreamSubscribe(subscriptionDto: model.Subscription) {\n    const subscription = this._addSubscription(subscriptionDto);\n\n    const publication = this._getPublication(subscription.publication.id);\n    publication._subscribed(subscription);\n\n    this.onPublicationSubscribed.emit({ subscription });\n  }\n\n  private _handleOnStreamUnsubscribe(subscriptionDto: model.Subscription) {\n    const subscription = this._getSubscription(subscriptionDto.id);\n    this._removeSubscription(subscription.id);\n    subscription._canceled();\n\n    const publication = this._getPublication(subscription.publication.id);\n    publication._unsubscribed(subscription);\n\n    this.onPublicationUnsubscribed.emit({ subscription });\n  }\n\n  async join(options: PersonInit = {}) {\n    const timestamp = log.info(\n      '[start] join',\n      await createLogPayload({\n        operationName: 'SkyWayChannelImpl.join',\n        channel: this,\n      })\n    );\n\n    if (this._localPerson) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl.join',\n        path: log.prefix,\n        info: errors.alreadyLocalPersonExist,\n        channel: this,\n        context: this._context,\n      });\n    }\n\n    if (options.name != undefined) {\n      const exist = this.members.find((m) => m.name === options.name);\n      if (exist) {\n        throw createError({\n          operationName: 'SkyWayChannelImpl.join',\n          path: log.prefix,\n          info: errors.alreadySameNameMemberExist,\n          channel: this,\n          context: this._context,\n          payload: options,\n        });\n      }\n    }\n\n    options.keepaliveIntervalSec ??= this.config.member.keepaliveIntervalSec;\n    options.keepaliveIntervalGapSec ??=\n      this.config.member.keepaliveIntervalGapSec;\n\n    const init: MemberInit = {\n      ...options,\n      type: 'person',\n      subtype: 'person',\n    };\n    if (options.keepaliveIntervalSec !== null) {\n      init['ttlSec'] =\n        (await this._context._api.getServerUnixtimeInSec()) +\n        options.keepaliveIntervalSec;\n    }\n\n    const member = await this._channelImpl.joinChannel(init).catch((e) => {\n      log.error('[failed] join', e);\n      throw e;\n    });\n    log.elapsed(timestamp, '[elapsed] join / channelImpl.joinChannel', {\n      member,\n    });\n\n    const person = await this._createLocalPerson(member, options);\n    const adapter = new LocalPersonAdapter(person);\n    log.elapsed(timestamp, '[end] join', { person });\n\n    return adapter as LocalPerson;\n  }\n\n  readonly leave = async (member: Member) =>\n    this._channelImpl.leave(this.id, member.id);\n\n  async moveChannel(adapter: LocalPerson) {\n    if (this._localPerson) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl.moveChannel',\n        path: log.prefix,\n        info: errors.alreadyLocalPersonExist,\n        channel: this,\n        context: this._context,\n      });\n    }\n\n    if (!(adapter instanceof LocalPersonAdapter)) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl.moveChannel',\n        path: log.prefix,\n        info: errors.invalidArgumentValue,\n        channel: this,\n        context: this._context,\n      });\n    }\n\n    const leaveChannel = adapter.channel;\n    if (this.id === leaveChannel.id) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl.moveChannel',\n        path: log.prefix,\n        info: errors.cantMoveSameIdChannel,\n        channel: this,\n        context: this._context,\n      });\n    }\n    await leaveChannel.leave(adapter);\n\n    const init: MemberInit = {\n      name: adapter.name,\n      type: adapter.type,\n      subtype: adapter.subtype,\n      metadata: adapter.metadata,\n    };\n    if (adapter.keepaliveIntervalSec != undefined) {\n      init['ttlSec'] =\n        (await this._context._api.getServerUnixtimeInSec()) +\n        adapter.keepaliveIntervalSec;\n    }\n    const member = await this._channelImpl.joinChannel(init);\n    const person = await this._createLocalPerson(member, {\n      keepaliveIntervalSec: adapter.keepaliveIntervalSec,\n      keepaliveIntervalGapSec: adapter.keepaliveIntervalGapSec,\n      disableSignaling: adapter.disableSignaling,\n      disableAnalytics: adapter.disableAnalytics,\n    });\n    adapter.apply(person);\n  }\n\n  private async _createLocalPerson(\n    member: model.Member,\n    config: PersonInit\n  ): Promise<LocalPersonImpl> {\n    const person = await createLocalPerson(this._context, this, member, config);\n    this._localPerson = person;\n\n    return person;\n  }\n\n  readonly updateMetadata = (metadata: string) =>\n    this._channelImpl.updateChannelMetadata(metadata);\n\n  readonly close = () =>\n    new Promise<void>(async (r, f) => {\n      if (this.state === 'closed') {\n        f(\n          createError({\n            operationName: 'SkyWayChannelImpl.close',\n            path: log.prefix,\n            info: errors.alreadyChannelClosed,\n            channel: this,\n            context: this._context,\n            payload: this.toJSON(),\n          })\n        );\n        return;\n      }\n\n      const timestamp = log.info(\n        '[start] close channel',\n        await createLogPayload({\n          operationName: 'SkyWayChannelImpl.close',\n          channel: this,\n        })\n      );\n\n      try {\n        await this._channelImpl.close().catch((e) => {\n          const error = createError({\n            operationName: 'SkyWayChannelImpl.close',\n            context: this._context,\n            info: { ...errors.internal, detail: '_api.deleteChannel failed' },\n            error: e,\n            path: log.prefix,\n            channel: this,\n          });\n          throw error;\n        });\n\n        if (this._state !== 'closed') {\n          await this.onClosed\n            .asPromise(this._context.config.rtcApi.timeout)\n            .catch((e) => {\n              const error = createError({\n                operationName: 'SkyWayChannelImpl.close',\n                context: this._context,\n                info: { ...errors.timeout, detail: 'channel.onClosed' },\n                error: e,\n                path: log.prefix,\n                channel: this,\n              });\n              throw error;\n            });\n        }\n      } catch (error: any) {\n        log.error((error as SkyWayError).message, error);\n        f(error);\n      }\n\n      log.elapsed(\n        timestamp,\n        '[end] close channel',\n        await createLogPayload({\n          operationName: 'SkyWayChannelImpl.close',\n          channel: this,\n        })\n      );\n\n      r();\n    });\n\n  /**@private */\n  readonly _updateMemberTtl = (memberId: string, ttlSec: number) =>\n    this._channelImpl.updateMemberTtl(memberId, ttlSec);\n\n  /**@private */\n  readonly _updateMemberMetadata = (memberId: string, metadata: string) =>\n    this._channelImpl.updateMemberMetadata(memberId, metadata);\n\n  /**@private */\n  /**@throws  {SkyWayError} */\n  readonly _publish = (init: PublicationInit) =>\n    this._channelImpl.publish(init);\n\n  /**@private */\n  readonly _unpublish = async (publicationId: string) =>\n    this._channelImpl.unpublish(publicationId);\n\n  /**@private\n   * @throws {@link SkyWayError}\n   */\n  readonly _subscribe = (subscriberId: string, publicationId: string) => {\n    const publication = this._getPublication(publicationId);\n\n    const subscriber = this._getMember(subscriberId);\n    if (subscriber == undefined) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl._subscribe',\n        path: log.prefix,\n        info: {\n          ...errors.internal,\n          detail: 'subscriber not found',\n        },\n        channel: this,\n        context: this._context,\n        payload: { subscriberId, publicationId },\n      });\n    }\n\n    return this._channelImpl.subscribe({\n      publication: publication.toJSON(),\n      subscriber: subscriber.toJSON(),\n    });\n  };\n\n  /**@private */\n  readonly _unsubscribe = async (subscriptionId: string) => {\n    if (!this._getSubscription(subscriptionId)) {\n      throw createError({\n        operationName: 'SkyWayChannelImpl._unsubscribe',\n        path: log.prefix,\n        info: {\n          ...errors.internal,\n          detail: \"can't unsubscribe not exist subscription\",\n        },\n        channel: this,\n        context: this._context,\n        payload: { subscriptionId },\n      });\n    }\n\n    await this._channelImpl.unsubscribe(subscriptionId);\n  };\n\n  /**@private */\n  readonly _updatePublicationMetadata = (\n    publicationId: string,\n    metadata: string\n  ) => this._channelImpl.updatePublicationMetadata(publicationId, metadata);\n\n  /**@private */\n  readonly _disablePublication = (publicationId: string) =>\n    this._channelImpl.disablePublication(publicationId);\n\n  /**@private */\n  readonly _enablePublication = (publicationId: string) =>\n    this._channelImpl.enablePublication(publicationId);\n\n  dispose() {\n    if (this.disposed) {\n      return;\n    }\n    this.disposed = true;\n\n    log.debug('disposed', this.toJSON());\n\n    this._channelImpl.dispose();\n\n    this._onDisposed.emit();\n    this._events.dispose();\n  }\n}\n\nexport class SkyWayChannel {\n  /**\n   * @description [japanese] Channelの作成\n   */\n  static async Create(\n    context: SkyWayContext,\n    init: ChannelInit = {}\n  ): Promise<Channel> {\n    const timestamp = log.info('[start] createChannel', {\n      operationName: 'SkyWayChannel.Create',\n    });\n    const channelImpl = await context._api.createChannel(init).catch((e) => {\n      log.error('[failed] createChannel', e);\n      throw e;\n    });\n    const channel = new SkyWayChannelImpl(context, channelImpl);\n    log.elapsed(timestamp, '[end] createChannel');\n    return channel;\n  }\n\n  /**\n   * @description [japanese] 既存のChannelの取得\n   */\n  static async Find(\n    context: SkyWayContext,\n    query: ChannelQuery\n  ): Promise<Channel> {\n    const timestamp = log.info('[start] findChannel', {\n      operationName: 'SkyWayChannel.Find',\n    });\n    const channelImpl = await context._api.findChannel(query).catch((e) => {\n      log.error('[failed] findChannel', e);\n      throw e;\n    });\n    const channel = new SkyWayChannelImpl(context, channelImpl);\n    log.elapsed(timestamp, '[end] findChannel');\n    return channel;\n  }\n\n  /**\n   * @description [japanese] Channelの取得を試み、存在しなければ作成する\n   */\n  static async FindOrCreate(\n    context: SkyWayContext,\n    query: ChannelInit\n  ): Promise<Channel> {\n    const timestamp = log.info('[start] findOrCreateChannel', {\n      operationName: 'SkyWayChannel.FindOrCreate',\n    });\n    const channelImpl = await context._api\n      .findOrCreateChannel(query)\n      .catch((e) => {\n        log.error('[failed] findOrCreateChannel', e);\n        throw e;\n      });\n    const channel = new SkyWayChannelImpl(context, channelImpl);\n    log.elapsed(timestamp, '[end] findOrCreateChannel');\n    return channel;\n  }\n\n  /**@private */\n  constructor() {}\n}\n\nexport type ChannelState = 'opened' | 'closed';\n\nexport type PersonInit = {\n  name?: MemberInit['name'];\n  metadata?: MemberInit['metadata'];\n} & Partial<MemberKeepAliveConfig> &\n  MemberInternalConfig;\n","import { Event, Logger } from '@skyway-sdk/common';\n\nimport { errors } from '../errors';\nimport { createError, createWarnPayload } from '../util';\nimport { LocalMediaStreamOptions } from './stream';\nimport { LocalAudioStream } from './stream/local/audio';\nimport {\n  LocalCustomVideoStream,\n  ProcessedStream,\n} from './stream/local/customVideo';\nimport { DataStreamOptions, LocalDataStream } from './stream/local/data';\nimport { LocalVideoStream } from './stream/local/video';\n\nconst log = new Logger('packages/core/src/media/factory.ts');\n\nexport class StreamFactory {\n  /**\n   * @description [japanese] 一度参照した種類のデバイスの状態が変化した時に発火するイベント\n   */\n  readonly onDeviceChange = new Event<{\n    device: MediaDevice;\n    state: 'added' | 'removed';\n  }>();\n\n  private _devices: MediaDevice[] = [];\n\n  /**@private */\n  constructor() {\n    if (!navigator?.mediaDevices) {\n      throw createError({\n        operationName: 'StreamFactory.constructor',\n        info: errors.mediaDevicesNotFound,\n        path: log.prefix,\n      });\n    }\n    navigator.mediaDevices.addEventListener('devicechange', async () => {\n      const devices = await this._enumerateDevicesArray();\n\n      const removed: MediaDevice[] = [];\n      this._devices.forEach((prev) => {\n        if (!devices.map((d) => d.id).includes(prev.id)) {\n          removed.push(prev);\n        }\n      });\n\n      const added: MediaDevice[] = [];\n      devices\n        .map((d) => d.id)\n        .forEach((next) => {\n          if (!this._devices.map((d) => d.id).includes(next)) {\n            added.push(devices.find((d) => d.id === next)!);\n          }\n        });\n\n      log.debug('device changed', { added, removed });\n\n      removed.forEach((device) => {\n        this.onDeviceChange.emit({ state: 'removed', device });\n      });\n      added.forEach((device) => {\n        this.onDeviceChange.emit({ state: 'added', device });\n      });\n\n      this._devices = devices;\n    });\n  }\n\n  private async _enumerateDevicesArray() {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    return devices\n      .map((d) => new MediaDevice(d))\n      .filter((d) => d.id.length > 0);\n  }\n\n  private async _enumerateDevicesWithAuth(\n    { video, audio }: { video?: boolean; audio?: boolean } = {\n      audio: true,\n      video: true,\n    }\n  ) {\n    let tracks: MediaStreamTrack[] = [];\n    if (video || audio) {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video,\n        audio,\n      });\n      tracks = stream.getTracks();\n    }\n\n    this._devices = await this._enumerateDevicesArray();\n    tracks.forEach((t) => t.stop());\n\n    return this._devices;\n  }\n\n  /**\n   * @description [japanese] デバイスの一覧を取得する\n   */\n  async enumerateDevices() {\n    const devices = await this._enumerateDevicesWithAuth();\n    return devices;\n  }\n\n  /**\n   * @description [japanese] 映像入力デバイスの一覧を取得する\n   */\n  async enumerateInputVideoDevices() {\n    const devices = await this._enumerateDevicesWithAuth({ video: true });\n    return devices.filter((d) => d.kind === 'videoinput');\n  }\n\n  /**\n   * @description [japanese] 音声入力デバイスの一覧を取得する\n   */\n  async enumerateInputAudioDevices() {\n    const devices = await this._enumerateDevicesWithAuth({ audio: true });\n    return devices.filter((d) => d.kind === 'audioinput');\n  }\n\n  /**\n   * @description [japanese] 音声出力デバイスの一覧を取得する\n   */\n  async enumerateOutputAudioDevices() {\n    const devices = await this._enumerateDevicesWithAuth({ audio: true });\n    return devices.filter((d) => d.kind === 'audiooutput');\n  }\n\n  /**\n   * @description [japanese] CameraのVideoStreamを作成する\n   */\n  async createCameraVideoStream(\n    options: VideoMediaTrackConstraints & Partial<LocalMediaStreamOptions> = {}\n  ) {\n    options.stopTrackWhenDisabled = options.stopTrackWhenDisabled ?? true;\n\n    const [track] = (\n      await navigator.mediaDevices.getUserMedia({ video: options })\n    ).getTracks();\n\n    const stream = new LocalVideoStream(track, options);\n    stream._setLabel('camera');\n    return stream;\n  }\n\n  /**\n   * @description [japanese] マイクのAudioStreamを作成する\n   */\n  async createMicrophoneAudioStream(\n    options: AudioMediaTrackConstraints & Partial<LocalMediaStreamOptions> = {}\n  ) {\n    options.stopTrackWhenDisabled = options.stopTrackWhenDisabled ?? true;\n\n    const [track] = (\n      await navigator.mediaDevices.getUserMedia({ audio: options })\n    ).getTracks();\n\n    const stream = new LocalAudioStream(track, options);\n    stream._setLabel('microphone');\n    return stream;\n  }\n\n  /**\n   * @description [japanese]\n   * PCブラウザでのみ利用可能なAPI。\n   * VideoStreamは常に取得される（AudioStreamのみ取得することはできない）\n   * audioオプションを有効にするとAudioStreamを取得することができる。\n   * audioオプションはWindowsのChromeにしか対応しておらず、\n   * それ以外の環境では有効にしても戻り値のaudioにはundefinedが返される。\n   */\n  async createDisplayStreams<T extends DisplayStreamOptions>(\n    options: T = {} as T\n  ): Promise<{\n    video: LocalVideoStream;\n    audio: T extends { audio: infer U }\n      ? U extends false | undefined | null\n        ? undefined\n        : LocalAudioStream | undefined\n      : undefined;\n  }> {\n    const videoOption = options.video ?? {};\n    videoOption.stopTrackWhenDisabled ??= true;\n\n    let audioOption = options.audio;\n    if (audioOption) {\n      audioOption = typeof audioOption === 'boolean' ? {} : audioOption;\n      audioOption.stopTrackWhenDisabled ??= true;\n    }\n\n    options = { audio: audioOption, video: videoOption } as T;\n\n    const stream = await navigator.mediaDevices.getDisplayMedia(options);\n    const [video] = stream.getVideoTracks();\n    const [audio] = stream.getAudioTracks();\n\n    if (options.audio && !audio) {\n      log.warn(\n        createWarnPayload({\n          operationName: 'StreamFactory.createDisplayStreams',\n          detail: 'This client does not support device audio capture',\n        })\n      );\n    }\n\n    const videoStream = new LocalVideoStream(video, {\n      ...videoOption,\n      isDisplayMedia: true,\n    });\n    videoStream._setLabel('displayVideo');\n\n    const audioStream = audio\n      ? new LocalAudioStream(audio, {\n          ...audioOption,\n          isDisplayMedia: true,\n        })\n      : undefined;\n    if (audioStream) {\n      audioStream._setLabel('displayAudio');\n    }\n\n    return {\n      video: videoStream,\n      audio: audioStream as any,\n    };\n  }\n\n  /**\n   * @description [japanese] DataStreamを作成する\n   */\n  async createDataStream(options: DataStreamOptions = {}) {\n    return new LocalDataStream(options);\n  }\n\n  /**\n   * @description [japanese] CameraのVideoStreamとマイクのAudioStreamを作成する\n   */\n  async createMicrophoneAudioAndCameraStream({\n    audio,\n    video,\n  }: {\n    audio?: AudioMediaTrackConstraints & Partial<LocalMediaStreamOptions>;\n    video?: VideoMediaTrackConstraints & Partial<LocalMediaStreamOptions>;\n  } = {}) {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: audio ?? true,\n      video: video ?? true,\n    });\n    const [audioTrack] = stream.getAudioTracks();\n    const [videoTrack] = stream.getVideoTracks();\n\n    audio = audio ?? {};\n    audio.stopTrackWhenDisabled = audio.stopTrackWhenDisabled ?? true;\n    const audioStream = new LocalAudioStream(audioTrack, audio);\n    audioStream._setLabel('microphone');\n\n    video = video ?? {};\n    video.stopTrackWhenDisabled = video.stopTrackWhenDisabled ?? true;\n    const videoStream = new LocalVideoStream(videoTrack, video);\n    videoStream._setLabel('camera');\n\n    return {\n      audio: audioStream,\n      video: videoStream,\n    };\n  }\n\n  /**\n   * @description [japanese] CustomVideoStreamを作成する\n   */\n  async createCustomVideoStream(\n    processor: VideoStreamProcessor,\n    options: {\n      stopTrackWhenDisabled?: boolean;\n      constraints?: MediaTrackConstraints;\n    } = {}\n  ): Promise<LocalCustomVideoStream> {\n    options.stopTrackWhenDisabled = options.stopTrackWhenDisabled ?? true;\n    const stream = new LocalCustomVideoStream(options);\n\n    const processedStream = await processor.createProcessedStream({\n      constraints: options.constraints ?? {},\n      stopTrackWhenDisabled: options.stopTrackWhenDisabled,\n      onUpdateTrack: (track) => {\n        return stream.updateTrack(track);\n      },\n    });\n    await stream.setStream(processedStream);\n    return stream;\n  }\n}\n\nexport const SkyWayStreamFactory = new StreamFactory();\n\n/**@internal */\nexport class MediaDevice {\n  id: string;\n  label: string;\n  kind: MediaDeviceKind;\n\n  /**@private */\n  constructor(info: MediaDeviceInfo) {\n    this.id = info.deviceId;\n    this.label = info.label;\n    this.kind = info.kind;\n  }\n}\n\n/**\n * @description [japanese] ブラウザによって対応しているパラメータが異なるので、必要に応じて確認してください\n */\nexport type VideoMediaTrackConstraints = {\n  aspectRatio?: ConstrainDouble;\n  facingMode?: ConstrainDOMString;\n  frameRate?: ConstrainDouble;\n  height?: ConstrainULong;\n  width?: ConstrainULong;\n  deviceId?: ConstrainDOMString;\n};\n\n/**\n * @description [japanese] ブラウザによって対応しているパラメータが異なるので、必要に応じて確認してください\n */\nexport type AudioMediaTrackConstraints = {\n  autoGainControl?: ConstrainBoolean;\n  channelCount?: ConstrainULong;\n  echoCancellation?: ConstrainBoolean;\n  latency?: ConstrainDouble;\n  noiseSuppression?: ConstrainBoolean;\n  sampleRate?: ConstrainULong;\n  sampleSize?: ConstrainULong;\n  suppressLocalAudioPlayback?: ConstrainBoolean;\n  deviceId?: ConstrainDOMString;\n  /**\n   * @description [english] Non-standard. Check browser support before using.\n   */\n  volume?: number;\n};\n\nexport type DisplayMediaTrackConstraints = VideoMediaTrackConstraints & {\n  /** @description [japanese] 選択画面で最初に表示するキャプチャー対象の指定*/\n  displaySurface?: 'monitor' | 'window' | 'browser';\n  /**\n   * @description [english]\n   * \tAs a setting, a value of true indicates capture of a logical display surface, whereas a value of false indicates a capture of a visible display surface. As a capability, this same value MUST be the lone value present, rendering this property immutable from the application viewpoint.\n   * A logical display surface is the surface that an operating system makes available to an application for the purposes of rendering.\n   * a visible display surface is the portion of a logical display surface that is rendered to a monitor\n   * https://w3c.github.io/mediacapture-screen-share/#dfn-logicalsurface\n   */\n  // logicalSurface?: boolean;\n  /** @description [japanese] マウスカーソルのキャプチャー方法の指定 */\n  // cursor?: CursorNever | CursorAlways | CursorMotion;\n};\n\nexport type DisplayStreamOptions = {\n  audio?:\n    | (AudioMediaTrackConstraints &\n        Partial<Pick<LocalMediaStreamOptions, 'stopTrackWhenDisabled'>>)\n    | boolean;\n  video?:\n    | DisplayMediaTrackConstraints &\n        VideoMediaTrackConstraints &\n        Partial<Pick<LocalMediaStreamOptions, 'stopTrackWhenDisabled'>>;\n};\n\ninterface VideoStreamProcessor {\n  createProcessedStream(options?: {\n    stopTrackWhenDisabled?: boolean;\n    onUpdateTrack?: (track: MediaStreamTrack) => Promise<void>;\n    constraints?: MediaTrackConstraints;\n  }): Promise<ProcessedStream>;\n}\n","import { SfuApiOptions } from '.';\n\nexport const defaultSfuApiOptions: Omit<SfuApiOptions, 'log'> = {\n  domain: 'sfu.skyway.ntt.com',\n  secure: true,\n  version: 4,\n};\n","export const errors = {\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  invalidRequestParameter: {\n    name: 'invalidRequestParameter',\n    detail: 'リクエストの値が不正です',\n    solution: '正しい値を入力してください',\n  },\n  notFound: {\n    name: 'notFound',\n    detail: '対象のリソースが見つかりません',\n    solution: '対象のリソースが存在するか確かめてください',\n  },\n  maxSubscriberExceededError: {\n    name: 'maxSubscribersExceededError',\n    detail:\n      'forwardingのmaxSubscribersの制限を超えています。maxSubscribersの値を超えてSubscribeすることはできません',\n    solution: 'maxSubscribersの範囲内でご利用ください',\n  },\n  quotaExceededError: {\n    name: 'quotaExceededError',\n    detail: 'リソースの制限量を超えてリソースを利用することはできません',\n    solution: 'リソース制限量の範囲内でご利用ください',\n  },\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  insufficientPermissions: {\n    name: 'insufficientPermissions',\n    detail: 'tokenの権限が不足しています',\n    solution: 'tokenに必要な権限を付与してください',\n  },\n  backendError: { name: 'backendError:', detail: '', solution: '' },\n  notAllowedConsumeError: {\n    name: 'notAllowedConsumeError',\n    detail: 'ForwardingからのConsume許可がありません',\n    solution: 'Forwardingしているmemberによる許可操作が必要です',\n  },\n} as const;\n","import { ErrorInfo, SkyWayError } from '@skyway-sdk/common';\n\nexport function createError({\n  operationName,\n  info,\n  error,\n  path,\n  payload,\n}: {\n  operationName: string;\n  info: ErrorInfo;\n  error?: Error;\n  path: string;\n  payload?: any;\n}) {\n  return new SkyWayError({\n    error,\n    info: info,\n    payload: { payload, operationName },\n    path,\n  });\n}\n\nexport function createWarnPayload({\n  appId,\n  detail,\n  channelId,\n  operationName,\n  payload,\n  memberId,\n  botId,\n}: {\n  operationName: string;\n  channelId?: string;\n  appId?: string;\n  memberId?: string;\n  botId?: string;\n  detail: string;\n  payload?: any;\n}) {\n  const warn: any = {\n    operationName,\n    payload,\n    detail,\n    appId,\n    channelId,\n    memberId,\n    botId,\n  };\n\n  return warn;\n}\n","import {\n  BackOff,\n  HttpClient,\n  HttpResponse,\n  LogFormat,\n  Logger,\n  LogLevel,\n} from '@skyway-sdk/common';\nimport { ConsumerOptions } from 'mediasoup-client/lib/Consumer';\nimport { DataConsumerOptions } from 'mediasoup-client/lib/DataConsumer';\nimport { RtpCapabilities } from 'mediasoup-client/lib/RtpParameters';\nimport {\n  IceParameters,\n  TransportOptions,\n} from 'mediasoup-client/lib/Transport';\n\nimport { defaultSfuApiOptions } from './const';\nimport { errors } from './errors';\nimport { createError, createWarnPayload } from './util';\n\nconst log = new Logger('packages/sfu-api-client/src/api.ts');\n\nexport class SfuRestApiClient {\n  readonly options: SfuApiOptions;\n  readonly endpoint: string;\n  readonly http: HttpClient;\n  private readonly _headers = { authorization: `Bearer ${this._token}` };\n\n  constructor(\n    private _token: string,\n    _options: Partial<SfuApiOptions> & Pick<SfuApiOptions, 'log'>\n  ) {\n    this.options = {\n      ...defaultSfuApiOptions,\n      ..._options,\n    };\n\n    this.endpoint = `http${this.options.secure ? 's' : ''}://${\n      this.options.domain\n    }/v${this.options.version}`;\n    this.http = new HttpClient(this.endpoint);\n\n    Logger.level = this.options.log.level;\n    Logger.format = this.options.log.format;\n\n    log.debug('SfuRestApiClient spawned', { endpoint: this.endpoint });\n  }\n\n  updateToken(token: string) {\n    this._token = token;\n  }\n\n  private _commonErrorHandler(e: HttpResponse, operationName: string) {\n    switch (e?.status) {\n      case 401:\n        return createError({\n          operationName,\n          info: errors.invalidRequestParameter,\n          path: log.prefix,\n          payload: e,\n        });\n      case 403:\n        return createError({\n          operationName,\n          info: errors.insufficientPermissions,\n          path: log.prefix,\n          payload: e,\n        });\n      case 404:\n        return createError({\n          operationName,\n          info: errors.notFound,\n          path: log.prefix,\n          payload: e,\n        });\n      case 429:\n        return createError({\n          operationName,\n          info: errors.quotaExceededError,\n          path: log.prefix,\n          payload: e,\n        });\n      default:\n        return createError({\n          operationName,\n          info: errors.backendError,\n          path: log.prefix,\n          payload: e,\n        });\n    }\n  }\n\n  async createBot({\n    appId,\n    channelId,\n  }: {\n    appId: string;\n    channelId: string;\n  }): Promise<string> {\n    const res = await this.http\n      .post<{ id: string }>(\n        '/bots',\n        {\n          appId,\n          channelId,\n        },\n        { headers: { authorization: `Bearer ${this._token}` } }\n      )\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.createBot');\n      });\n\n    return res.id;\n  }\n\n  async deleteBot({ botId }: { botId: string }) {\n    await this.http\n      .delete(`/bots/${botId}`, {\n        headers: { authorization: `Bearer ${this._token}` },\n      })\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.deleteBot');\n      });\n  }\n\n  async startForwarding({\n    botId,\n    publicationId,\n    maxSubscribers,\n    contentType,\n    publisherId,\n  }: {\n    botId: string;\n    publicationId: string;\n    maxSubscribers: number;\n    contentType: ContentType;\n    publisherId: string;\n  }) {\n    const backOff = new BackOff();\n\n    const body = {\n      publicationId,\n      maxSubscribers,\n      contentType: contentType[0].toUpperCase() + contentType.slice(1),\n      publisherId,\n    };\n\n    const res = await this.http\n      .post<{\n        forwardingId: string;\n        broadcasterTransportId: string;\n        rtpCapabilities?: RtpCapabilities;\n        broadcasterTransportOptions?: TransportOptions;\n        identifierKey: string;\n      }>(`/bots/${botId}/forwardings`, body, {\n        headers: { authorization: `Bearer ${this._token}` },\n        retry: async (err) => {\n          if ([400, 403, 429].includes(err.status)) {\n            return false;\n          }\n          return await backOff.wait();\n        },\n      })\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.startForwarding');\n      });\n\n    if (backOff.count > 0) {\n      log.warn(\n        'success to retry startForwarding',\n        createWarnPayload({\n          operationName: 'SfuRestApiClient.startForwarding',\n          detail: 'success to retry startForwarding',\n          botId,\n          memberId: publisherId,\n          payload: { publicationId, count: backOff.count },\n        })\n      );\n    }\n\n    return res;\n  }\n\n  async createProducer({\n    botId,\n    forwardingId,\n    transportId,\n    producerOptions,\n  }: {\n    botId: string;\n    forwardingId: string;\n    transportId: string;\n    producerOptions: object;\n  }) {\n    const backOff = new BackOff();\n\n    const res = await this.http\n      .put<{ producerId: string }>(\n        `/bots/${botId}/forwardings/${forwardingId}/transports/producers`,\n        { transportId, producerOptions },\n        {\n          headers: { authorization: `Bearer ${this._token}` },\n          retry: async () => {\n            return await backOff.wait();\n          },\n        }\n      )\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.createProducer');\n      });\n\n    if (backOff.count > 0) {\n      log.warn(\n        'success to retry createProducer',\n        createWarnPayload({\n          operationName: 'SfuRestApiClient.createProducer',\n          detail: 'success to retry createProducer',\n          botId,\n          payload: { forwardingId, transportId, count: backOff.count },\n        })\n      );\n    }\n\n    return res;\n  }\n\n  /**@throws {maxSubscriberExceededError,} */\n  async createConsumer({\n    botId,\n    forwardingId,\n    rtpCapabilities,\n    subscriptionId,\n    subscriberId,\n    spatialLayer,\n    originPublicationId,\n  }: {\n    botId: string;\n    forwardingId: string;\n    rtpCapabilities: RtpCapabilities;\n    subscriptionId: string;\n    subscriberId: string;\n    spatialLayer?: number;\n    originPublicationId: string;\n  }) {\n    const backOff = new BackOff({ times: 5, interval: 100 }); // 5.5sec\n\n    const requestPayload: {\n      rtpCapabilities: object;\n      subscriptionId: string;\n      subscriberId: string;\n      spatialLayer?: number;\n      originPublicationId: string;\n    } = {\n      rtpCapabilities,\n      subscriptionId,\n      subscriberId,\n      spatialLayer,\n      originPublicationId,\n    };\n\n    const res = await this.http\n      .post<{\n        consumerOptions: ConsumerOptions;\n        producerId: string;\n        transportId: string;\n        transportOptions: TransportOptions | undefined;\n      }>(\n        `/bots/${botId}/forwardings/${forwardingId}/transports/consumers`,\n        requestPayload,\n        {\n          retry: async (err) => {\n            if (\n              [\n                400, 403,\n                //  404,\n                429,\n              ].includes(err.status)\n            ) {\n              return false;\n            }\n            return await backOff.wait();\n          },\n          headers: { authorization: `Bearer ${this._token}` },\n        }\n      )\n      .catch((e: HttpResponse) => {\n        if (e.status === 429) {\n          throw createError({\n            operationName: 'SfuRestApiClient.createConsumer',\n            info: errors.maxSubscriberExceededError,\n            path: log.prefix,\n            payload: e,\n          });\n        } else if (e.status === 403) {\n          throw createError({\n            operationName: 'SfuRestApiClient.createConsumer',\n            info: errors.notAllowedConsumeError,\n            path: log.prefix,\n            payload: e,\n          });\n        } else {\n          throw this._commonErrorHandler(e, 'SfuRestApiClient.createConsumer');\n        }\n      });\n\n    if (backOff.count > 0) {\n      log.warn(\n        'success to retry createConsumer',\n        createWarnPayload({\n          operationName: 'SfuRestApiClient.createConsumer',\n          detail: 'success to retry createConsumer',\n          botId,\n          payload: { forwardingId, count: backOff.count },\n        })\n      );\n    }\n    log.debug('response of createConsumer', res);\n    return res;\n  }\n\n  async connect({\n    transportId,\n    dtlsParameters,\n  }: {\n    transportId: string;\n    dtlsParameters: object;\n  }) {\n    const backOff = new BackOff();\n\n    const body = { transportId, dtlsParameters };\n\n    const res = await this.http\n      .put<{ transportId: string }>(`/transports/connections`, body, {\n        headers: { authorization: `Bearer ${this._token}` },\n        retry: async () => {\n          return await backOff.wait();\n        },\n      })\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.connect');\n      });\n\n    if (backOff.count > 0) {\n      log.warn(\n        'success to retry connect',\n        createWarnPayload({\n          operationName: 'SfuRestApiClient.connect',\n          detail: 'success to retry connect',\n          payload: { transportId, count: backOff.count },\n        })\n      );\n    }\n\n    return res;\n  }\n\n  async changeConsumerLayer({\n    transportId,\n    consumerId,\n    spatialLayer,\n    publicationId,\n  }: {\n    transportId: string;\n    consumerId: string;\n    spatialLayer: number;\n    publicationId: string;\n  }) {\n    const res = await this.http\n      .put<{ transportId: string }>(\n        `transports/consumers/${consumerId}/layers`,\n        { transportId, spatialLayer, publicationId },\n        {\n          headers: { authorization: `Bearer ${this._token}` },\n        }\n      )\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(\n          e,\n          'SfuRestApiClient.changeConsumerLayer'\n        );\n      });\n\n    return res;\n  }\n\n  stopForwarding({\n    botId,\n    forwardingId,\n  }: {\n    botId: string;\n    forwardingId: string;\n  }) {\n    let fulfilled: any = false;\n\n    const promise = this.http\n      .delete(`/bots/${botId}/forwardings/${forwardingId}`, {\n        headers: { authorization: `Bearer ${this._token}` },\n      })\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.stopForwarding');\n      })\n      .then((res) => {\n        fulfilled = res;\n      });\n    return { promise, fulfilled };\n  }\n\n  async iceRestart({ transportId }: { transportId: string }) {\n    const res = await this.http\n      .put<{ iceParameters: IceParameters }>(\n        `/transports/connections/ice`,\n        { transportId },\n        { headers: this._headers }\n      )\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(e, 'SfuRestApiClient.iceRestart');\n      });\n\n    return res.iceParameters;\n  }\n\n  async getRtpCapabilities({\n    botId,\n    forwardingId,\n    originPublicationId,\n  }: {\n    botId: string;\n    forwardingId: string;\n    originPublicationId: string;\n  }): Promise<RtpCapabilities> {\n    const backOff = new BackOff();\n\n    const res = await this.http\n      .get<{\n        rtpCapabilities: RtpCapabilities;\n      }>(\n        `/bots/${botId}/forwardings/${forwardingId}/transports/rtp-capabilities?originPublicationId=${originPublicationId}`,\n        {\n          headers: { authorization: `Bearer ${this._token}` },\n          retry: async () => {\n            return await backOff.wait();\n          },\n        }\n      )\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(\n          e,\n          'SfuRestApiClient.getRtpCapabilities'\n        );\n      });\n\n    if (backOff.count > 0) {\n      log.warn(\n        'getCapabilities to retry connect',\n        createWarnPayload({\n          operationName: 'SfuRestApiClient.getRtpCapabilities',\n          detail: 'getCapabilities to retry connect',\n          botId,\n          payload: { forwardingId, count: backOff.count },\n        })\n      );\n    }\n\n    return res.rtpCapabilities;\n  }\n\n  async confirmSubscription({\n    forwardingId,\n    subscriptionId,\n    identifierKey,\n  }: {\n    forwardingId: string;\n    subscriptionId: string;\n    identifierKey: string;\n  }) {\n    const requestPayload: {\n      forwardingId: string;\n      subscriptionId: string;\n      identifierKey: string;\n    } = {\n      forwardingId,\n      subscriptionId,\n      identifierKey,\n    };\n\n    const res = await this.http\n      .post<{\n        message: string;\n        operationId: string;\n      }>('/confirm-subscription', requestPayload, {\n        headers: { authorization: `Bearer ${this._token}` },\n      })\n      .catch((e: HttpResponse) => {\n        throw this._commonErrorHandler(\n          e,\n          'SfuRestApiClient.confirmSubscription'\n        );\n      });\n    log.debug('response of confirmSubscription', res);\n    return res;\n  }\n}\n\ntype ContentType = 'video' | 'audio';\n\nexport type SfuApiOptions = {\n  domain: string;\n  secure: boolean;\n  version: number;\n  log: { level: LogLevel; format: LogFormat };\n};\n","import { errors as apiErrors } from '@skyway-sdk/sfu-api-client';\n\nexport const errors = {\n  ...apiErrors,\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  internal: { name: 'internal', detail: '', solution: '' },\n  sfuBotNotInChannel: {\n    name: 'sfuBotNotInChannel',\n    detail: 'SfuBotがChannelに存在しません',\n    solution: '操作しようとしているSfuBotが正しいか確かめてください',\n  },\n  maxSubscribersMustNotBeZero: {\n    name: 'maxSubscribersMustNotBeZero',\n    detail: 'maxSubscribersは１以上である必要があります',\n    solution: '正しい値を入力してください',\n  },\n  remotePublisherId: {\n    name: 'remotePublisherId',\n    detail: 'publisherがremoteのPublicationをForwardingすることはできません',\n    solution: 'PublicationがLocalでPublishされたものか確かめてください',\n  },\n  dataStreamNotSupported: {\n    name: 'dataStreamNotSupported',\n    detail: 'dataStreamはSFUに対応していません',\n    solution: 'ありません',\n  },\n  streamNotExistInPublication: {\n    name: 'streamNotExistInPublication',\n    detail:\n      'PublicationにStreamがありません。RemoteMemberのPublicationのStreamにはアクセスできません',\n    solution: '参照しているPublicationが目的のものか確かめてください。',\n  },\n  invalidPreferredEncoding: {\n    name: 'invalidPreferredEncoding',\n    detail:\n      'preferredEncodingの値が不正です。エンコード設定切り替え機能が使えません',\n    solution: '正しい文字列を入力してください',\n  },\n  invalidEncodings: {\n    name: 'invalidEncodings',\n    detail:\n      'エンコード設定が設定されていません。エンコード設定切り替え機能が使えません',\n    solution:\n      'エンコード設定切り替え機能を利用する場合はエンコード設定をしたPublicationをForwardingしてください',\n  },\n  receiverNotFound: {\n    name: 'receiverNotFound',\n    detail: 'SFUはRemoteMemberのSubscriptionを操作できません',\n    solution:\n      'SFUでsubscriptionの操作をする際にはLocalPersonがSubscribeしているSubscriptionインスタンスを利用してください',\n  },\n  consumerNotFound: {\n    name: 'consumerNotFound',\n    detail: 'SFUはLocalPersonがUnsubscribeしたSubscriptionを操出来ません',\n    solution: '操作対象のSubscriptionが正しいか確かめてください',\n  },\n  forwardingNotFound: {\n    name: 'forwardingNotFound',\n    detail: '存在しないForwardingを操作しようとしています',\n    solution: '対象のForwardingが正しいか確かめてください',\n  },\n  netWorkError: {\n    name: 'netWorkError',\n    detail: '通信環境に問題があります',\n    solution: 'ネットワーク接続状況を確認してください',\n  },\n  confirmSubscriptionFailed: {\n    name: 'confirmSubscriptionFailed',\n    detail: 'Forwardingのconsume許可を出すのに失敗しました',\n    solution: 'ありません',\n  },\n} as const;\n","import { Channel, EncodingParameters, Member } from '@skyway-sdk/core';\n\nexport function getLayerFromEncodings(\n  id: string,\n  encodings: EncodingParameters[]\n) {\n  let layer = 0;\n  for (; layer < encodings.length; layer++) {\n    const encoding = encodings[layer];\n    if (encoding.id === id) {\n      break;\n    }\n  }\n  return layer;\n}\n\nexport function moveToHead<T>(arr: T[], selector: (o: T) => boolean) {\n  const target = arr.find(selector)!;\n  return [target, ...arr.filter((o) => !selector(o))];\n}\n\nexport function createWarnPayload({\n  channel,\n  detail,\n  operationName,\n  payload,\n  bot,\n}: {\n  operationName: string;\n  channel?: Channel;\n  detail: string;\n  payload?: any;\n  bot?: Member;\n}) {\n  const warn: any = {\n    operationName,\n    payload,\n    detail,\n  };\n  if (channel) {\n    warn['appId'] = channel.appId;\n    warn['channelId'] = channel.id;\n    if (channel.localPerson) {\n      warn['memberId'] = channel.localPerson.id;\n    }\n  }\n\n  if (bot) {\n    warn['botId'] = bot.id;\n    warn['appId'] = bot.channel.appId;\n    warn['channelId'] = bot.channel.id;\n    warn['memberId'] = bot.channel.localPerson?.id;\n  }\n\n  return warn;\n}\n","import { EventDisposer, Logger } from '@skyway-sdk/common';\nimport {\n  createError,\n  IceManager,\n  LocalPersonImpl,\n  RemoteStream,\n  SkyWayContext,\n  statsToArray,\n  SubscriptionImpl,\n  uuidV4,\n} from '@skyway-sdk/core';\nimport { createRemoteStream } from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\nimport { Consumer } from 'mediasoup-client/lib/Consumer';\n\nimport { errors } from '../errors';\nimport { SfuBotMember } from '../member';\nimport { getLayerFromEncodings } from '../util';\nimport { SfuTransport } from './transport/transport';\nimport { TransportRepository } from './transport/transportRepository';\n\nconst log = new Logger('packages/sfu-bot/src/connection/receiver.ts');\n\nexport class Receiver {\n  consumer?: Consumer;\n  transport?: SfuTransport;\n\n  private _disposer = new EventDisposer();\n  private sendSubscriptionStatsReportTimer: ReturnType<\n    typeof setInterval\n  > | null = null;\n  private _waitingSendSubscriptionStatsReports: string[] = [];\n\n  constructor(\n    readonly subscription: SubscriptionImpl,\n    private readonly _api: SfuRestApiClient,\n    private readonly _transportRepository: TransportRepository,\n    private _localPerson: LocalPersonImpl,\n    private _bot: SfuBotMember,\n    private _iceManager: IceManager,\n    private _context: SkyWayContext\n  ) {\n    const analyticsSession = this._localPerson._analytics;\n    if (analyticsSession) {\n      analyticsSession.onConnectionStateChanged.add((state) => {\n        if (\n          state === 'connected' &&\n          this._waitingSendSubscriptionStatsReports.length > 0\n        ) {\n          for (const consumerId of this._waitingSendSubscriptionStatsReports) {\n            if (this.consumer && this.consumer.id === consumerId) {\n              this.startSendSubscriptionStatsReportTimer();\n            }\n          }\n          this._waitingSendSubscriptionStatsReports = [];\n        }\n      });\n    }\n  }\n\n  toJSON() {\n    return {\n      transport: this.transport,\n      subscription: this.subscription,\n    };\n  }\n\n  /**@throws {maxSubscriberExceededError} */\n  async consume() {\n    let rtpCapabilities = this._transportRepository.rtpCapabilities;\n    if (!rtpCapabilities) {\n      log.debug('[start] getCapabilities');\n      rtpCapabilities = await this._api.getRtpCapabilities({\n        botId: this._bot.id,\n        forwardingId: this.subscription.publication.id,\n        originPublicationId: this.subscription.publication.origin!.id,\n      });\n      log.debug('[end] getCapabilities');\n\n      await this._transportRepository.loadDevice(rtpCapabilities).catch((e) => {\n        throw createError({\n          operationName: 'Receiver.consume',\n          context: this._context,\n          channel: this._localPerson.channel,\n          info: { ...errors.internal, detail: 'sfu loadDevice failed' },\n          path: log.prefix,\n          error: e,\n        });\n      });\n    }\n\n    const spatialLayer = this.subscription.preferredEncoding\n      ? getLayerFromEncodings(\n          this.subscription.preferredEncoding,\n          this.subscription.publication.origin?.encodings ?? []\n        )\n      : undefined;\n\n    log.debug('[start] createConsumer', { subscription: this.subscription });\n\n    const { consumerOptions, transportOptions, transportId, producerId } =\n      await this._api.createConsumer({\n        botId: this._bot.id,\n        forwardingId: this.subscription.publication.id,\n        rtpCapabilities,\n        subscriptionId: this.subscription.id,\n        subscriberId: this.subscription.subscriber.id,\n        spatialLayer,\n        originPublicationId: this.subscription.publication.origin!.id,\n      });\n    if (transportOptions) {\n      this._transportRepository.createTransport(\n        this._localPerson.id,\n        this._bot,\n        transportOptions as any,\n        'recv',\n        this._iceManager,\n        this._localPerson._analytics\n      );\n    }\n\n    this.transport = this._transportRepository.getTransport(\n      this._localPerson.id,\n      transportId\n    );\n    if (!this.transport) {\n      log.warn('transport is under race condition', { transportId });\n      await this._transportRepository.onTransportCreated\n        .watch((id) => id === transportId, this._bot.options.endpointTimeout)\n        .catch((e) => {\n          throw createError({\n            operationName: 'Receiver.consume',\n            context: this._context,\n            channel: this._localPerson.channel,\n            info: {\n              ...errors.timeout,\n              detail: 'receiver sfuTransport not found',\n            },\n            path: log.prefix,\n            error: e,\n            payload: {\n              transportOptions,\n              transportId,\n              producerId,\n              consumerOptions,\n              subscription: this.subscription,\n            },\n          });\n        });\n      this.transport = this._transportRepository.getTransport(\n        this._localPerson.id,\n        transportId\n      );\n    }\n\n    if (\n      this._localPerson._analytics &&\n      !this._localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._localPerson._analytics.client.sendBindingRtcPeerConnectionToSubscription(\n        {\n          subscriptionId: this.subscription.id,\n          role: 'receiver',\n          rtcPeerConnectionId: this.transport.id,\n        }\n      );\n    }\n\n    log.debug('[end] createConsumer');\n\n    log.debug('[start] consume', {\n      consumerOptions,\n      subscription: this.subscription,\n    });\n    const consumer = await this.transport.msTransport\n      .consume({\n        ...consumerOptions,\n        producerId,\n      })\n      .catch((e) => {\n        throw createError({\n          operationName: 'Receiver.consume',\n          context: this._context,\n          channel: this._localPerson.channel,\n          info: {\n            ...errors.internal,\n            detail: 'consume failed, maybe subscribing unsupported codec',\n          },\n          path: log.prefix,\n          error: e,\n        });\n      });\n    this.consumer = consumer;\n    log.debug('[end] consume', { subscription: this.subscription });\n\n    const [selectedCodec] = consumer.rtpParameters.codecs;\n\n    const stream = createRemoteStream(uuidV4(), consumer.track, selectedCodec);\n    const codec = {\n      mimeType: selectedCodec.mimeType,\n      parameters: selectedCodec.parameters,\n    };\n    this._setupTransportAccessForStream(stream, consumer);\n\n    const analyticsSession = this._localPerson._analytics;\n    if (analyticsSession && !analyticsSession.isClosed()) {\n      if (analyticsSession.client.isConnectionEstablished()) {\n        this.startSendSubscriptionStatsReportTimer();\n      } else {\n        // AnalyticsServerに初回接続できなかった場合はキューに入れる\n        this._waitingSendSubscriptionStatsReports.push(consumer.id);\n      }\n    }\n\n    return { stream, codec };\n  }\n\n  private _setupTransportAccessForStream(\n    stream: RemoteStream,\n    consumer: Consumer\n  ) {\n    const transport = this.transport!;\n    const pc = this.pc!;\n\n    stream._getTransport = () => ({\n      rtcPeerConnection: pc,\n      connectionState: transport.connectionState,\n      info: this,\n    });\n    stream._getStats = async () => {\n      const stats = await consumer.getStats();\n      let arr = statsToArray(stats);\n      arr = arr.map((stats) => {\n        stats['sfuTransportId'] = transport.id;\n        return stats;\n      });\n      return arr;\n    };\n    this._disposer.push(() => {\n      stream._getTransport = () => undefined;\n    });\n    transport.onConnectionStateChanged.add((state) => {\n      log.debug('transport connection state changed', transport.id, state);\n      stream._setConnectionState(state);\n    });\n  }\n\n  unconsume() {\n    if (!this.consumer) {\n      log.debug('unconsume failed, consumer not exist', {\n        subscription: this.subscription,\n      });\n      return;\n    }\n\n    this.consumer.close();\n    this.consumer = undefined;\n\n    if (this.sendSubscriptionStatsReportTimer) {\n      clearInterval(this.sendSubscriptionStatsReportTimer);\n    }\n  }\n\n  close() {\n    this._disposer.dispose();\n  }\n\n  get pc() {\n    return this.transport?.pc;\n  }\n\n  private startSendSubscriptionStatsReportTimer() {\n    const analyticsSession = this._localPerson._analytics;\n    if (analyticsSession) {\n      const intervalSec = analyticsSession.client.getIntervalSec();\n      this.sendSubscriptionStatsReportTimer = setInterval(async () => {\n        // AnalyticsSessionがcloseされていたらタイマーを止める\n        if (!analyticsSession || analyticsSession.isClosed()) {\n          if (this.sendSubscriptionStatsReportTimer) {\n            clearInterval(this.sendSubscriptionStatsReportTimer);\n          }\n          return;\n        }\n        if (this.consumer) {\n          const stats = await this.consumer.getStats();\n          if (stats) {\n            // 再送時に他の処理をブロックしないためにawaitしない\n            void analyticsSession.client.sendSubscriptionStatsReport(stats, {\n              subscriptionId: this.subscription.id,\n              role: 'receiver',\n              createdAt: Date.now(),\n            });\n          }\n        }\n      }, intervalSec * 1000);\n    }\n  }\n}\n","import { Event, Logger } from '@skyway-sdk/common';\nimport {\n  createError,\n  Publication,\n  SkyWayContext,\n  Subscription,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\n\nimport { errors } from './errors';\n\nconst log = new Logger('packages/sfu-bot/src/connection/sender.ts');\n\nexport class Forwarding {\n  state: ForwardingState = 'started';\n  configure: ForwardingConfigure = this.props.configure;\n  originPublication: Publication = this.props.originPublication;\n  relayingPublication: Publication = this.props.relayingPublication;\n\n  private _identifierKey: string = this.props.identifierKey;\n  private _api: SfuRestApiClient = this.props.api;\n  private _context: SkyWayContext = this.props.context;\n\n  /** @description [japanese] forwardingが終了された時に発火するイベント */\n  readonly onStopped = new Event<void>();\n\n  /**@internal */\n  constructor(\n    private props: {\n      configure: ForwardingConfigure;\n      originPublication: Publication;\n      relayingPublication: Publication;\n      api: SfuRestApiClient;\n      context: SkyWayContext;\n      identifierKey: string;\n    }\n  ) {\n    this.relayingPublication.onSubscribed.add(async (e) => {\n      await this.confirmSubscription(e.subscription).catch((e) => e);\n    });\n    this.relayingPublication.subscriptions.forEach(async (subscription) => {\n      await this.confirmSubscription(subscription).catch((e) => e);\n    });\n  }\n\n  get id() {\n    return this.relayingPublication.id;\n  }\n\n  /**@private */\n  _stop() {\n    this.state = 'stopped';\n    this.onStopped.emit();\n  }\n\n  /**@internal */\n  toJSON() {\n    return {\n      id: this.id,\n      configure: this.configure,\n      originPublication: this.originPublication,\n      relayingPublication: this.relayingPublication,\n    };\n  }\n\n  async confirmSubscription(subscription: Subscription) {\n    log.debug('[start] Forwarding confirmSubscription');\n    const { message } = await this._api\n      .confirmSubscription({\n        forwardingId: this.id,\n        subscriptionId: subscription.id,\n        identifierKey: this._identifierKey,\n      })\n      .catch((error) => {\n        log.error('Forwarding confirmSubscription failed:', error);\n        throw createError({\n          operationName: 'Forwarding.confirmSubscription',\n          context: this._context,\n          info: errors.confirmSubscriptionFailed,\n          path: log.prefix,\n          payload: error,\n        });\n      });\n    log.debug('[end] Forwarding confirmSubscription', { message });\n  }\n}\n\nexport type ForwardingState = 'started' | 'stopped';\n\nexport interface ForwardingConfigure {\n  maxSubscribers: number;\n}\n","import { Event, EventDisposer, Logger } from '@skyway-sdk/common';\nimport {\n  createError,\n  createLogPayload,\n  IceManager,\n  isSafari,\n  LocalAudioStream,\n  LocalCustomVideoStream,\n  LocalPersonImpl,\n  LocalStream,\n  LocalVideoStream,\n  PublicationImpl,\n  setEncodingParams,\n  SkyWayChannelImpl,\n  SkyWayContext,\n  statsToArray,\n  SubscriptionImpl,\n  TransportConnectionState,\n  uuidV4,\n  waitForLocalStats,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\nimport isEqual from 'lodash/isEqual';\nimport { Producer, ProducerOptions } from 'mediasoup-client/lib/Producer';\nimport {\n  RtpCodecCapability,\n  RtpCodecParameters,\n  RtpParameters,\n} from 'mediasoup-client/lib/RtpParameters';\n\nimport { errors } from '../errors';\nimport { Forwarding, ForwardingConfigure } from '../forwarding';\nimport { SfuBotMember } from '../member';\nimport { createWarnPayload } from '../util';\nimport { SfuTransport } from './transport/transport';\nimport { TransportRepository } from './transport/transportRepository';\n\nconst log = new Logger('packages/sfu-bot/src/connection/sender.ts');\n\nexport class Sender {\n  forwarding?: Forwarding;\n  forwardingId?: string;\n  private _producer?: Producer;\n  /**@private */\n  _broadcasterTransport?: SfuTransport;\n  private _disposer = new EventDisposer();\n  private _unsubscribeStreamEnableChange?: () => void;\n  private _cleanupStreamCallbacks?: () => void;\n  private _connectionState: TransportConnectionState = 'new';\n  private readonly onConnectionStateChanged =\n    new Event<TransportConnectionState>();\n  closed = false;\n  private sendSubscriptionStatsReportTimer: ReturnType<\n    typeof setInterval\n  > | null = null;\n  private _waitingSendSubscriptionStatsReports: string[] = [];\n\n  constructor(\n    readonly publication: PublicationImpl<\n      LocalAudioStream | LocalVideoStream | LocalCustomVideoStream\n    >,\n    readonly channel: SkyWayChannelImpl,\n    private readonly _api: SfuRestApiClient,\n    private _transportRepository: TransportRepository,\n    private _localPerson: LocalPersonImpl,\n    private _bot: SfuBotMember,\n    private _iceManager: IceManager,\n    private _context: SkyWayContext\n  ) {\n    const analyticsSession = this._localPerson._analytics;\n    if (analyticsSession) {\n      // AnalyticsServerに初回接続できなかった場合のタイマー再セット処理\n      analyticsSession.onConnectionStateChanged.add((state) => {\n        if (\n          state === 'connected' &&\n          this._waitingSendSubscriptionStatsReports.length > 0\n        ) {\n          for (const producerId of this._waitingSendSubscriptionStatsReports) {\n            if (this._producer && this._producer.id === producerId) {\n              this.startSendSubscriptionStatsReportTimer();\n            }\n          }\n          this._waitingSendSubscriptionStatsReports = [];\n        }\n      });\n    }\n  }\n\n  private _setConnectionState(state: TransportConnectionState) {\n    if (this._connectionState === state) {\n      return;\n    }\n    log.debug('_setConnectionState', {\n      state,\n      forwardingId: this.forwardingId,\n    });\n    this._connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n  }\n\n  toJSON() {\n    return {\n      forwarding: this.forwarding,\n      broadcasterTransport: this._broadcasterTransport,\n      _connectionState: this._connectionState,\n    };\n  }\n\n  /**@throws {SkyWayError} */\n  async startForwarding(configure: ForwardingConfigure) {\n    if (this.publication.contentType === 'data') {\n      throw createError({\n        operationName: 'Sender.startForwarding',\n        context: this._context,\n        info: errors.dataStreamNotSupported,\n        path: log.prefix,\n        channel: this.channel,\n      });\n    }\n\n    const stream = this.publication.stream;\n    if (!stream) {\n      throw createError({\n        operationName: 'Sender.startForwarding',\n        context: this._context,\n        info: errors.streamNotExistInPublication,\n        path: log.prefix,\n        channel: this.channel,\n      });\n    }\n    this.onConnectionStateChanged\n      .add((state) => {\n        log.debug(\n          'transport connection state changed',\n          this._broadcasterTransport?.id,\n          state\n        );\n        stream._setConnectionState(this._bot, state);\n      })\n      .disposer(this._disposer);\n\n    log.debug('[start] Sender startForwarding', {\n      botId: this._bot.id,\n      publicationId: this.publication.id,\n      contentType: this.publication.contentType,\n      maxSubscribers: configure.maxSubscribers,\n    });\n\n    const {\n      forwardingId,\n      broadcasterTransportId,\n      // optional\n      broadcasterTransportOptions,\n      rtpCapabilities,\n      identifierKey,\n    } = await this._api.startForwarding({\n      botId: this._bot.id,\n      publicationId: this.publication.id,\n      contentType: this.publication.contentType,\n      maxSubscribers: configure.maxSubscribers,\n      publisherId: this.publication.publisher.id,\n    });\n    this.forwardingId = forwardingId;\n\n    if (broadcasterTransportOptions) {\n      log.debug('sender create new transport', {\n        broadcasterTransportOptions,\n      });\n      await this._transportRepository.loadDevice(rtpCapabilities!);\n\n      this._broadcasterTransport = this._transportRepository.createTransport(\n        this._localPerson.id,\n        this._bot,\n        broadcasterTransportOptions,\n        'send',\n        this._iceManager,\n        this._localPerson._analytics\n      );\n    }\n\n    this._broadcasterTransport = this._transportRepository.getTransport(\n      this._localPerson.id,\n      broadcasterTransportId\n    );\n    if (!this._broadcasterTransport) {\n      throw createError({\n        operationName: 'Sender.startForwarding',\n        context: this._context,\n        info: { ...errors.internal, detail: '_broadcasterTransport not found' },\n        path: log.prefix,\n        channel: this.channel,\n        payload: { broadcasterTransportOptions },\n      });\n    }\n\n    this._broadcasterTransport.onConnectionStateChanged\n      .add((state) => {\n        this._setConnectionState(state);\n      })\n      .disposer(this._disposer);\n    this._setConnectionState(this._broadcasterTransport.connectionState);\n\n    const producer = await this._produce(stream, this._broadcasterTransport);\n    this._cleanupStreamCallbacks = this._setupTransportAccessForStream(\n      stream,\n      this._broadcasterTransport,\n      producer\n    );\n\n    const analyticsSession = this._localPerson._analytics;\n    if (analyticsSession && !analyticsSession.isClosed()) {\n      if (analyticsSession.client.isConnectionEstablished()) {\n        this.startSendSubscriptionStatsReportTimer();\n      } else {\n        // AnalyticsServerに初回接続できなかった場合はキューに入れる\n        this._waitingSendSubscriptionStatsReports.push(producer.id);\n      }\n    }\n\n    log.debug('[end] Sender startForwarding', {\n      forwardingId,\n    });\n\n    let relayingPublication = this.channel._getPublication(forwardingId);\n    if (!relayingPublication) {\n      relayingPublication = (\n        await this.channel.onStreamPublished\n          .watch(\n            (e) => e.publication.id === forwardingId,\n            this._context.config.rtcApi.timeout\n          )\n          .catch(() => {\n            throw createError({\n              operationName: 'Sender.startForwarding',\n              context: this._context,\n              info: {\n                ...errors.timeout,\n                detail: 'SfuBotMember onStreamPublished',\n              },\n              path: log.prefix,\n              channel: this.channel,\n              payload: { forwardingId },\n            });\n          })\n      ).publication as PublicationImpl<LocalStream>;\n    }\n\n    const forwarding = new Forwarding({\n      configure,\n      originPublication: this.publication,\n      relayingPublication,\n      api: this._api,\n      context: this._context,\n      identifierKey,\n    });\n    this.forwarding = forwarding;\n\n    const botSubscribing = this.channel.subscriptions.find(\n      (s) => s.publication.id === this.publication.id\n    ) as SubscriptionImpl;\n    const [codec] = producer.rtpParameters.codecs;\n    botSubscribing.codec = codec;\n\n    if (\n      this._localPerson._analytics &&\n      this._localPerson._analytics.client.connectionState !== 'closed'\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this._localPerson._analytics.client.sendBindingRtcPeerConnectionToSubscription(\n        {\n          subscriptionId: botSubscribing.id,\n          role: 'sender',\n          rtcPeerConnectionId: this._broadcasterTransport.id,\n        }\n      );\n    }\n\n    if (isSafari()) {\n      waitForLocalStats({\n        stream,\n        remoteMember: this._bot.id,\n        end: (stats) => {\n          const outbound = stats.find(\n            (s) =>\n              s.id.includes('RTCOutboundRTP') || s.type.includes('outbound-rtp')\n          );\n          if (outbound?.keyFramesEncoded > 0) return true;\n          return false;\n        },\n        interval: 10,\n      })\n        .then(async () => {\n          const encodings = this.publication.encodings;\n\n          if (encodings?.length > 0) {\n            await setEncodingParams(producer.rtpSender!, encodings).catch(\n              (e) => {\n                log.error('_onEncodingsChanged failed', e, this);\n              }\n            );\n          }\n        })\n        .catch((err) => {\n          log.error('setEncodingParams waitForLocalStats failed', err, this);\n        });\n    }\n\n    waitForLocalStats({\n      stream,\n      remoteMember: this._bot.id,\n      end: (stats) => !!stats.find((s) => s.type.includes('local-candidate')),\n    })\n      .then(async () => {\n        const payload = await createLogPayload({\n          operationName: 'startForwarding/waitForLocalStats',\n          channel: this.channel,\n        });\n        log.debug(payload, 'forwarding connection connected', {\n          broadcasterTransportId,\n        });\n      })\n      .catch(() => {});\n\n    return forwarding;\n  }\n\n  private _listenStreamEnableChange(\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream\n  ) {\n    if (this._unsubscribeStreamEnableChange) {\n      this._unsubscribeStreamEnableChange();\n    }\n    const { removeListener } = stream._onEnableChanged.add(async (track) => {\n      await this._replaceTrack(track).catch((e) => {\n        log.warn(\n          createWarnPayload({\n            detail: 'replaceTrack failed',\n            operationName: 'Sender._listenStreamEnableChange',\n            bot: this._bot,\n            payload: e,\n          })\n        );\n      });\n    });\n    this._unsubscribeStreamEnableChange = removeListener;\n  }\n\n  private async _produce(\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    transport: SfuTransport\n  ) {\n    this.publication._onReplaceStream\n      .add(async ({ newStream }) => {\n        if (!this._broadcasterTransport) {\n          throw createError({\n            operationName: 'Sender._produce',\n            context: this._context,\n            info: {\n              ...errors.internal,\n              detail: '_broadcasterTransport not found',\n            },\n            path: log.prefix,\n            channel: this.channel,\n          });\n        }\n        this._listenStreamEnableChange(newStream as LocalAudioStream);\n        if (this._cleanupStreamCallbacks) {\n          this._cleanupStreamCallbacks();\n        }\n        this._cleanupStreamCallbacks = this._setupTransportAccessForStream(\n          newStream as LocalStream,\n          this._broadcasterTransport,\n          producer\n        );\n        await this._replaceTrack(newStream.track);\n      })\n      .disposer(this._disposer);\n    this._listenStreamEnableChange(stream);\n\n    const transactionId = uuidV4();\n    const producerOptions: ProducerOptions = {\n      track: stream.track,\n      // mediasoup-clientはデフォルトでunproduce時にtrack.stopを実行する\n      stopTracks: false,\n      appData: { transactionId },\n      // デフォルトで一度mutedなTrackをProduceするとreplaceTrackしたTrackがDisableされる\n      disableTrackOnPause: false,\n    };\n\n    const encodings = this.publication.encodings;\n    if (encodings) {\n      producerOptions.encodings = encodings;\n    }\n    this.publication._onEncodingsChanged\n      .add(async (encodings) => {\n        await setEncodingParams(producer.rtpSender!, encodings).catch((e) => {\n          log.error('_onEncodingsChanged failed', e, this);\n        });\n      })\n      .disposer(this._disposer);\n\n    const codecCapabilities = this.publication.codecCapabilities;\n    const deviceCodecs =\n      this._transportRepository.rtpCapabilities?.codecs ?? [];\n    log.debug('select codec', { codecCapabilities, deviceCodecs });\n\n    const [codec] = codecCapabilities.map((cap) => {\n      if (cap.mimeType.toLowerCase().includes('video')) {\n        const codec = deviceCodecs.find((c) => {\n          if (c.mimeType.toLowerCase() !== cap.mimeType.toLowerCase()) {\n            return false;\n          }\n          if (\n            Object.keys(cap.parameters ?? {}).length > 0 &&\n            !isEqual(cap.parameters, c.parameters)\n          ) {\n            return false;\n          }\n          return true;\n        });\n        return codec;\n      }\n      const codec = deviceCodecs.find(\n        (c) => c.mimeType.toLowerCase() === cap.mimeType.toLowerCase()\n      );\n      return codec;\n    });\n    log.debug('selected codec', { codec });\n\n    if (codec) {\n      const [codecType, codecName] = codec.mimeType.split('/');\n      producerOptions.codec = {\n        ...codec,\n        mimeType: `${codecType}/${codecName.toUpperCase()}`,\n      };\n\n      if (stream.contentType === 'video') {\n        this._fixVideoCodecWithParametersOrder(codec);\n      }\n    } else if (codecCapabilities.length > 0) {\n      log.warn(\n        'preferred codec not supported',\n        createWarnPayload({\n          channel: this.channel,\n          detail: 'preferred codec not supported',\n          operationName: 'Sender._produce',\n          bot: this._bot,\n          payload: {\n            codecCapabilities,\n            deviceCodecs,\n          },\n        })\n      );\n    }\n\n    if (stream.contentType === 'audio') {\n      // apply opusDtx\n      const opusDtx = codecCapabilities.find(\n        (c) => c.mimeType.toLowerCase() === 'audio/opus'\n      )?.parameters?.usedtx;\n      if (opusDtx !== false) {\n        producerOptions.codecOptions = {\n          ...producerOptions.codecOptions,\n          opusDtx: true,\n        };\n      }\n\n      // apply opusStereo\n      const opusStereo = codecCapabilities.find(\n        (c) => c.mimeType.toLowerCase() === 'audio/opus'\n      )?.parameters?.stereo;\n      if (opusStereo) {\n        producerOptions.codecOptions = {\n          ...producerOptions.codecOptions,\n          opusStereo: true,\n        };\n      }\n\n      // apply opusFec\n      const opusFec = codecCapabilities.find(\n        (c) => c.mimeType.toLowerCase() === 'audio/opus'\n      )?.parameters?.useinbandfec;\n      if (opusFec) {\n        producerOptions.codecOptions = {\n          ...producerOptions.codecOptions,\n          opusFec: true,\n        };\n      }\n    }\n\n    transport.onProduce\n      .watch(\n        (p) => p.producerOptions.appData?.transactionId === transactionId,\n        this._context.config.rtcConfig.timeout\n      )\n      .then(async (producer) => {\n        try {\n          const { producerId } = await this._api.createProducer({\n            botId: this._bot.id,\n            transportId: transport.id,\n            forwardingId: this.forwardingId!,\n            producerOptions: producer.producerOptions,\n          });\n\n          producer.callback({ id: producerId });\n        } catch (error) {\n          producer.errback(error);\n        }\n      })\n      .catch((e) => {\n        log.error('onProduce failed', e, this);\n      });\n    log.debug('[start] msTransport.produce', this);\n    const producer = await transport.msTransport\n      .produce(producerOptions)\n      .catch((err) => {\n        throw createError({\n          operationName: 'Sender._produce',\n          context: this._context,\n          info: { ...errors.internal, detail: 'msTransport.produce failed' },\n          path: log.prefix,\n          channel: this.channel,\n          error: err,\n        });\n      });\n    log.debug('[end] msTransport.produce', this);\n    this._producer = producer;\n\n    return producer;\n  }\n\n  /** @description 引数のParametersを持ったCodecを優先度配列の先頭に持ってくる\n   *  @description H264対応のため\n   */\n  private _fixVideoCodecWithParametersOrder(codec: RtpCodecCapability) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    //@ts-ignore\n    const handler = this._broadcasterTransport!.msTransport._handler;\n\n    const findCodecWithParameters = (c: RtpCodecParameters) => {\n      if (c.mimeType === codec.mimeType) {\n        if (codec.parameters && Object.keys(codec.parameters).length > 0) {\n          if (isEqual(c.parameters, codec.parameters)) {\n            return true;\n          }\n          return false;\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const copyCodecExceptPayloadType = (\n      target: RtpCodecParameters,\n      src: RtpCodecParameters\n    ) => {\n      for (const key of Object.keys(target)) {\n        if (key === 'payloadType') {\n          continue;\n        }\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        //@ts-ignore\n        target[key] = src[key];\n      }\n    };\n\n    if (handler._sendingRtpParametersByKind) {\n      const parameters: RtpParameters =\n        handler._sendingRtpParametersByKind['video'];\n      const target = parameters.codecs.find(findCodecWithParameters);\n\n      if (parameters && target) {\n        const origin = JSON.parse(JSON.stringify(parameters));\n        const [head] = parameters.codecs;\n        const copyOfHead = JSON.parse(JSON.stringify(head));\n\n        // 目的のRtpCodecParametersと先頭のRtpCodecParametersを入れ替える\n        copyCodecExceptPayloadType(head, target);\n        copyCodecExceptPayloadType(target, copyOfHead);\n\n        log.debug('sort _sendingRtpParametersByKind', {\n          origin,\n          new: parameters.codecs,\n        });\n      }\n    }\n    if (handler._sendingRemoteRtpParametersByKind) {\n      const parameters: RtpParameters =\n        handler._sendingRemoteRtpParametersByKind['video'];\n      const target = parameters.codecs.find(findCodecWithParameters);\n\n      if (parameters && target) {\n        const origin = JSON.parse(JSON.stringify(parameters));\n        const [head] = parameters.codecs;\n        const copyOfHead = JSON.parse(JSON.stringify(head));\n\n        // 目的のRtpCodecParametersと先頭のRtpCodecParametersを入れ替える\n        copyCodecExceptPayloadType(head, target);\n        copyCodecExceptPayloadType(target, copyOfHead);\n\n        log.debug('sort _sendingRemoteRtpParametersByKind', {\n          origin,\n          new: parameters.codecs,\n        });\n      }\n    }\n  }\n\n  private _setupTransportAccessForStream(\n    stream: LocalStream,\n    transport: SfuTransport,\n    producer: Producer\n  ) {\n    stream._getTransportCallbacks[this._bot.id] = () => ({\n      rtcPeerConnection: transport.pc,\n      connectionState: transport.connectionState,\n      info: this,\n    });\n    stream._getStatsCallbacks[this._bot.id] = async () => {\n      if (producer.closed) {\n        delete stream._getStatsCallbacks[this._bot.id];\n        return [];\n      }\n      const stats = await producer.getStats();\n      let arr = statsToArray(stats);\n      arr = arr.map((stats) => {\n        stats['sfuTransportId'] = transport.id;\n        return stats;\n      });\n      return arr;\n    };\n\n    // replaceStream時に古いstreamに紐づくcallbackを削除するため、戻り値としてcallback削除用の関数を返し、replaceStream時に呼び出す\n    const cleanupCallbacks = () => {\n      delete stream._getTransportCallbacks[this._bot.id];\n      delete stream._getStatsCallbacks[this._bot.id];\n    };\n\n    this._disposer.push(() => {\n      cleanupCallbacks();\n    });\n\n    return cleanupCallbacks;\n  }\n\n  unproduce() {\n    if (!this._producer) {\n      return;\n    }\n\n    this._producer.close();\n    this._producer = undefined;\n\n    if (this.sendSubscriptionStatsReportTimer) {\n      clearInterval(this.sendSubscriptionStatsReportTimer);\n    }\n  }\n\n  private async _replaceTrack(track: MediaStreamTrack | null) {\n    await this._producer?.replaceTrack?.({ track }).catch((e) => {\n      throw createError({\n        operationName: 'Sender._replaceTrack',\n        context: this._context,\n        info: errors.internal,\n        error: e,\n        path: log.prefix,\n        channel: this.channel,\n      });\n    });\n  }\n\n  close() {\n    this.closed = true;\n    if (this._unsubscribeStreamEnableChange) {\n      this._unsubscribeStreamEnableChange();\n    }\n    this._setConnectionState('disconnected');\n\n    this._disposer.dispose();\n  }\n\n  get pc() {\n    return this._broadcasterTransport?.pc;\n  }\n\n  private startSendSubscriptionStatsReportTimer() {\n    const analyticsSession = this._localPerson._analytics;\n    const subscription = this._bot.subscriptions.find(\n      (s) => s.publication.id === this.publication.id\n    );\n    if (subscription && analyticsSession) {\n      const intervalSec = analyticsSession.client.getIntervalSec();\n      this.sendSubscriptionStatsReportTimer = setInterval(async () => {\n        // AnalyticsSessionがcloseされていたらタイマーを止める\n        if (!analyticsSession || analyticsSession.isClosed()) {\n          if (this.sendSubscriptionStatsReportTimer) {\n            clearInterval(this.sendSubscriptionStatsReportTimer);\n          }\n          return;\n        }\n        if (this._producer) {\n          const stats = await this._producer.getStats();\n          if (stats) {\n            // 再送時に他の処理をブロックしないためにawaitしない\n            void analyticsSession.client.sendSubscriptionStatsReport(stats, {\n              subscriptionId: subscription.id,\n              role: 'sender',\n              createdAt: Date.now(),\n            });\n          }\n        }\n      }, intervalSec * 1000);\n    }\n  }\n}\n","import { Event, Logger, PromiseQueue } from '@skyway-sdk/common';\nimport {\n  createError,\n  LocalAudioStream,\n  LocalCustomVideoStream,\n  LocalPersonImpl,\n  LocalVideoStream,\n  Publication,\n  PublicationImpl,\n  SkyWayChannelImpl,\n  SkyWayConnection,\n  SkyWayContext,\n  Subscription,\n  SubscriptionImpl,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\n\nimport { errors } from '../errors';\nimport { SfuBotMember } from '../member';\nimport { getLayerFromEncodings } from '../util';\nimport { Receiver } from './receiver';\nimport { Sender } from './sender';\nimport { TransportRepository } from './transport/transportRepository';\n\nconst log = new Logger('packages/sfu-bot/src/connection/index.ts');\n\n/**@internal */\nexport class SFUConnection implements SkyWayConnection {\n  readonly type = 'sfu';\n  readonly onDisconnect = new Event<void>();\n  readonly onClose = new Event<void>();\n  closed = false;\n\n  /**@private */\n  _receivers: {\n    [subscriptionId: string]: Receiver;\n  } = {};\n  /**@private */\n  _senders: {\n    [forwardingId: string]: Sender;\n  } = {};\n\n  /**@internal */\n  constructor(\n    private readonly _api: SfuRestApiClient,\n    readonly channel: SkyWayChannelImpl,\n    readonly localPerson: LocalPersonImpl,\n    readonly remoteMember: SfuBotMember,\n    private _transportRepository: TransportRepository,\n    private _context: SkyWayContext\n  ) {}\n\n  /**@internal */\n  addSender(\n    publication: PublicationImpl<\n      LocalAudioStream | LocalVideoStream | LocalCustomVideoStream\n    >\n  ) {\n    const sender = new Sender(\n      publication,\n      this.channel,\n      this._api,\n      this._transportRepository,\n      this.localPerson,\n      this.remoteMember,\n      this.localPerson.iceManager,\n      this._context\n    );\n    this._senders[publication.id] = sender;\n\n    return sender;\n  }\n\n  /**@internal */\n  removeSender(originPublicationId: string) {\n    log.debug('removeSender', originPublicationId);\n    const sender = this._senders[originPublicationId];\n    if (!sender) {\n      return;\n    }\n    sender.unproduce();\n  }\n\n  async startSubscribing(subscription: SubscriptionImpl) {\n    const receiver = new Receiver(\n      subscription,\n      this._api,\n      this._transportRepository,\n      this.localPerson,\n      this.remoteMember,\n      this.localPerson.iceManager,\n      this._context\n    );\n    this._receivers[subscription.id] = receiver;\n\n    const ts = log.debug('[start] _startSubscribing consume');\n    const { stream, codec } = await receiver.consume().catch((e) => {\n      log.error(\n        '[failed] _startSubscribing consume',\n        createError({\n          operationName: 'SFUConnection.startSubscribing',\n          context: this._context,\n          channel: this.channel,\n          info: { ...errors.internal, detail: 'failed to receiver.consume' },\n          error: e,\n          path: log.prefix,\n          payload: { subscription: subscription.toJSON() },\n        })\n      );\n      throw e;\n    });\n    log.elapsed(ts, '[end] _startSubscribing consume');\n\n    stream.setIsEnabled(subscription.publication.state === 'enabled');\n    subscription.codec = codec;\n    subscription._setStream(stream);\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      const preferredEncoding = subscription.preferredEncoding;\n      const encodings = subscription.publication.origin?.encodings;\n      if (!preferredEncoding || !encodings || encodings.length === 0) {\n        return;\n      }\n      const layer = getLayerFromEncodings(preferredEncoding, encodings);\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendSubscriptionUpdatePreferredEncodingReport(\n        {\n          subscriptionId: subscription.id,\n          preferredEncodingIndex: layer,\n          updatedAt: Date.now(),\n        }\n      );\n    }\n  }\n\n  /**@internal */\n  async stopSubscribing(subscription: Subscription) {\n    const connection = this._receivers[subscription.id];\n    if (!connection) {\n      return;\n    }\n    connection.unconsume();\n  }\n\n  /**@internal */\n  async stopPublishing(publication: Publication) {\n    this.removeSender(publication.id);\n  }\n\n  /**@internal */\n  close({ reason }: { reason?: string } = {}) {\n    if (this.closed) {\n      return;\n    }\n    log.debug('close sfu connection', {\n      remote: this.remoteMember,\n      local: this.localPerson,\n      reason,\n    });\n\n    this.closed = true;\n    Object.values(this._senders).forEach((sender) => {\n      sender.close();\n    });\n    Object.values(this._receivers).forEach((receiver) => {\n      receiver.close();\n    });\n    this._senders = {};\n    this._receivers = {};\n\n    this.onClose.emit();\n  }\n\n  private _getReceiver(subscriptionId: string): Receiver | undefined {\n    return this._receivers[subscriptionId];\n  }\n\n  async changePreferredEncoding(subscription: SubscriptionImpl) {\n    const preferredEncoding = subscription.preferredEncoding;\n    const encodings = subscription.publication.origin?.encodings;\n    log.debug('changePreferredEncoding', {\n      preferredEncoding,\n      encodings,\n      subscription,\n    });\n\n    if (!preferredEncoding) {\n      throw createError({\n        operationName: 'SFUConnection.changePreferredEncoding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.invalidPreferredEncoding,\n        path: log.prefix,\n        payload: { subscription },\n      });\n    }\n    if (!encodings || encodings.length === 0) {\n      throw createError({\n        operationName: 'SFUConnection.changePreferredEncoding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.invalidEncodings,\n        path: log.prefix,\n        payload: { subscription },\n      });\n    }\n\n    const layer = getLayerFromEncodings(preferredEncoding, encodings);\n\n    const receiver = this._getReceiver(subscription.id);\n    if (!receiver) {\n      throw createError({\n        operationName: 'SFUConnection.changePreferredEncoding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.receiverNotFound,\n        path: log.prefix,\n        payload: { subscription },\n      });\n    }\n\n    const transport = receiver.transport;\n    if (!transport) {\n      throw createError({\n        operationName: 'SFUConnection.changePreferredEncoding',\n        context: this._context,\n        channel: this.channel,\n        info: { ...errors.internal, detail: 'transport not found' },\n        path: log.prefix,\n        payload: { subscription },\n      });\n    }\n\n    const consumer = receiver.consumer;\n    if (!consumer) {\n      throw createError({\n        operationName: 'SFUConnection.changePreferredEncoding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.consumerNotFound,\n        path: log.prefix,\n        payload: { subscription },\n      });\n    }\n\n    await this._api.changeConsumerLayer({\n      transportId: transport.id,\n      consumerId: consumer.id,\n      publicationId: subscription.publication.id,\n      spatialLayer: layer,\n    });\n\n    if (\n      this.localPerson._analytics &&\n      !this.localPerson._analytics.isClosed()\n    ) {\n      // 再送時に他の処理をブロックしないためにawaitしない\n      void this.localPerson._analytics.client.sendSubscriptionUpdatePreferredEncodingReport(\n        {\n          subscriptionId: subscription.id,\n          preferredEncodingIndex: layer,\n          updatedAt: Date.now(),\n        }\n      );\n    }\n  }\n}\n","export const defaultMaxSubscribers = 10;\n","import { Event, Logger, PromiseQueue } from '@skyway-sdk/common';\nimport {\n  createError,\n  createLogPayload,\n  errors as coreErrors,\n  LocalAudioStream,\n  LocalCustomVideoStream,\n  LocalPersonImpl,\n  LocalVideoStream,\n  MemberImpl,\n  MemberType,\n  Publication,\n  PublicationImpl,\n  RemoteMemberImplInterface,\n  SkyWayChannelImpl,\n  SkyWayContext,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\n\nimport { SfuBotPlugin } from '.';\nimport { SFUConnection } from './connection';\nimport { TransportRepository } from './connection/transport/transportRepository';\nimport { defaultMaxSubscribers } from './const';\nimport { errors } from './errors';\nimport { Forwarding, ForwardingConfigure } from './forwarding';\nimport { SfuBotPluginOptions } from './option';\n\nconst log = new Logger('packages/sfu-bot/src/member.ts');\n\nexport class SfuBotMember\n  extends MemberImpl\n  implements RemoteMemberImplInterface\n{\n  readonly side = 'remote';\n  static readonly subtype = 'sfu';\n  readonly subtype = SfuBotMember.subtype;\n  readonly type: MemberType = 'bot';\n\n  private readonly _context: SkyWayContext;\n  private readonly _transportRepository: TransportRepository;\n  readonly options: SfuBotPluginOptions;\n  private _connections: { [localPersonSystemId: string]: SFUConnection } = {};\n\n  /** @description [japanese] forwardingを開始した時に発火するイベント */\n  readonly onForwardingStarted = new Event<{ forwarding: Forwarding }>();\n  /** @description [japanese] forwardingを終了した時に発火するイベント */\n  readonly onForwardingStopped = new Event<{ forwarding: Forwarding }>();\n  /** @description [japanese] forwardingの数が変化した時に発火するイベント */\n  readonly onForwardingListChanged = new Event<void>();\n  private readonly _api: SfuRestApiClient;\n  private _startForwardQueue = new PromiseQueue();\n  private _forwardings: { [forwardingId: string]: Forwarding } = {};\n\n  get forwardings() {\n    return Object.values(this._forwardings);\n  }\n\n  /**@internal */\n  constructor(args: {\n    channel: SkyWayChannelImpl;\n    id: string;\n    name?: string;\n    metadata?: string | undefined;\n    plugin: SfuBotPlugin;\n    api: SfuRestApiClient;\n    context: SkyWayContext;\n    transportRepository: TransportRepository;\n    options: SfuBotPluginOptions;\n  }) {\n    super(args);\n    this._api = args.api;\n    this._context = args.context;\n    this._transportRepository = args.transportRepository;\n    this.options = args.options;\n\n    this.onLeft.once(() => {\n      log.debug('SfuBotMember left: ', { id: this.id });\n      Object.values(this._connections).forEach((c) => {\n        c.close({ reason: 'sfu bot left' });\n      });\n      this._connections = {};\n    });\n  }\n\n  /**@private */\n  _getConnection(localPersonId: string): SFUConnection {\n    return this._connections[localPersonId];\n  }\n\n  /**@private */\n  _getOrCreateConnection(localPerson: LocalPersonImpl): SFUConnection {\n    const connection =\n      this._getConnection(localPerson.id) ??\n      this._createConnection(this.channel, localPerson, this);\n\n    return connection;\n  }\n\n  /**@private */\n  private _createConnection(\n    channel: SkyWayChannelImpl,\n    localPerson: LocalPersonImpl,\n    endpointBot: SfuBotMember\n  ) {\n    const connection = new SFUConnection(\n      endpointBot._api,\n      channel,\n      localPerson,\n      endpointBot,\n      this._transportRepository,\n      this._context\n    );\n    connection.onClose.once(() => {\n      delete this._connections[localPerson.id];\n    });\n    this._connections[localPerson.id] = connection;\n    return connection;\n  }\n\n  /**\n   * @description [japanese] StreamのPublicationをForwardingする\n   * @throws {SkyWayError}\n   * @example\n   * const forwarding = await bot.startForwarding(publication, { maxSubscribers: 99 });\n   */\n  async startForwarding(\n    publication: Publication<\n      LocalVideoStream | LocalAudioStream | LocalCustomVideoStream\n    >,\n    configure: Partial<ForwardingConfigure> = {}\n  ) {\n    const timestamp = log.info(\n      '[start] startForwarding',\n      await createLogPayload({\n        operationName: 'SfuBotMember.startForwarding',\n        channel: this.channel,\n      })\n    );\n\n    const res = await this._startForwardQueue.push(() =>\n      this._startForwarding(\n        publication as PublicationImpl<\n          LocalAudioStream | LocalVideoStream | LocalCustomVideoStream\n        >,\n        configure\n      )\n    );\n\n    log.elapsed(\n      timestamp,\n      '[end] startForwarding',\n      await createLogPayload({\n        operationName: 'SfuBotMember.startForwarding',\n        channel: this.channel,\n      })\n    );\n\n    return res;\n  }\n\n  private async _startForwarding(\n    relayed: PublicationImpl<\n      LocalAudioStream | LocalVideoStream | LocalCustomVideoStream\n    >,\n    configure: Partial<ForwardingConfigure>\n  ): Promise<Forwarding> {\n    if (configure.maxSubscribers == undefined) {\n      configure.maxSubscribers = defaultMaxSubscribers;\n    }\n\n    if (configure.maxSubscribers === 0) {\n      throw createError({\n        operationName: 'SfuBotMember._startForwarding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.maxSubscribersMustNotBeZero,\n        path: log.prefix,\n        payload: { configure },\n      });\n    }\n\n    if (this.state !== 'joined') {\n      throw createError({\n        operationName: 'SfuBotMember._startForwarding',\n        context: this._context,\n        channel: this.channel,\n        info: errors.sfuBotNotInChannel,\n        path: log.prefix,\n        payload: { status: this.state },\n      });\n    }\n\n    if (!this.channel._getPublication(relayed.id)) {\n      throw createError({\n        operationName: 'SfuBotMember._startForwarding',\n        context: this._context,\n        channel: this.channel,\n        info: coreErrors.publicationNotExist,\n        path: log.prefix,\n      });\n    }\n\n    const localPerson = this.channel.localPerson;\n    if (!localPerson) {\n      throw createError({\n        operationName: 'SfuBotMember._startForwarding',\n        context: this._context,\n        channel: this.channel,\n        info: coreErrors.localPersonNotJoinedChannel,\n        path: log.prefix,\n      });\n    }\n    if (localPerson.id !== relayed.publisher.id) {\n      throw createError({\n        operationName: 'SfuBotMember._startForwarding',\n        context: this._context,\n        info: errors.remotePublisherId,\n        path: log.prefix,\n        channel: this.channel,\n      });\n    }\n\n    const ts = log.debug('[start] SfuBotMember startForwarding', {\n      publication: relayed.toJSON(),\n      configure,\n    });\n\n    const connection = this._getOrCreateConnection(localPerson);\n    const sender = connection.addSender(relayed);\n\n    const forwarding = await sender\n      .startForwarding(configure as ForwardingConfigure)\n      .catch((error) => {\n        throw createError({\n          operationName: 'SfuBotMember._startForwarding',\n          context: this._context,\n          info: {\n            ...errors.internal,\n            detail: '[failed] SfuBotMember startForwarding',\n          },\n          path: log.prefix,\n          channel: this.channel,\n          error,\n          payload: { publication: relayed.toJSON() },\n        });\n      });\n    this._forwardings[forwarding.id] = forwarding;\n\n    this.listenStopForwardEvent(forwarding);\n    this.onForwardingStarted.emit({ forwarding });\n    this.onForwardingListChanged.emit();\n\n    log.elapsed(ts, '[end] SfuBotMember startForwarding', {\n      forwarding: forwarding.toJSON(),\n    });\n\n    return forwarding;\n  }\n\n  private listenStopForwardEvent(forwarding: Forwarding) {\n    const { removeListener } = this.channel.onStreamUnpublished.add((e) => {\n      if (e.publication.id === forwarding.id) {\n        removeListener();\n        forwarding._stop();\n\n        const origin = forwarding.originPublication as PublicationImpl;\n        const connection = this._getConnection(origin.publisher.id);\n        if (connection) {\n          connection.removeSender(origin.id);\n        }\n        this.onForwardingStopped.emit({ forwarding });\n        this.onForwardingListChanged.emit();\n      }\n    });\n  }\n\n  /**\n   * @description [japanese] Forwardingを停止する\n   */\n  stopForwarding = (target: string | Forwarding) =>\n    new Promise<void>(async (r, f) => {\n      const timestamp = log.info(\n        '[start] stopForwarding',\n        await createLogPayload({\n          operationName: 'SfuBotMember.stopForwarding',\n          channel: this.channel,\n        })\n      );\n\n      if (this.state !== 'joined') {\n        f(\n          createError({\n            operationName: 'SfuBotMember.stopForwarding',\n            context: this._context,\n            info: errors.sfuBotNotInChannel,\n            path: log.prefix,\n            channel: this.channel,\n            payload: { status: this.state },\n          })\n        );\n        return;\n      }\n\n      const forwardingId = typeof target === 'string' ? target : target.id;\n      const forwarding = this._forwardings[forwardingId];\n      if (!forwarding) {\n        f(\n          createError({\n            operationName: 'SfuBotMember.stopForwarding',\n            context: this._context,\n            info: errors.forwardingNotFound,\n            path: log.prefix,\n            channel: this.channel,\n            payload: {\n              forwardingId,\n              _forwardings: Object.keys(this._forwardings),\n            },\n          })\n        );\n        return;\n      }\n      delete this._forwardings[forwarding.id];\n\n      const { promise, fulfilled } = this._api.stopForwarding({\n        botId: this.id,\n        forwardingId,\n      });\n      let failed = false;\n      promise.catch((e) => {\n        failed = true;\n        f(e);\n      });\n\n      this.onForwardingStopped\n        .watch(\n          (e) => e.forwarding.id === forwardingId,\n          this._context.config.rtcApi.timeout\n        )\n        .then(async () => {\n          log.elapsed(\n            timestamp,\n            '[end] stopForwarding',\n            await createLogPayload({\n              operationName: 'SfuBotMember.stopForwarding',\n              channel: this.channel,\n            })\n          );\n          r();\n        })\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'SfuBotMember.stopForwarding',\n                context: this._context,\n                info: { ...errors.timeout, detail: 'onForwardingStopped' },\n                path: log.prefix,\n                channel: this.channel,\n                payload: { fulfilled },\n                error,\n              })\n            );\n        });\n    });\n\n  /**@private */\n  _dispose() {}\n}\n","import {\n  defaultSfuApiOptions,\n  SfuApiOptions,\n} from '@skyway-sdk/sfu-api-client';\n\nexport type SfuBotPluginOptions = Omit<SfuApiOptions, 'log'> & {\n  endpointTimeout: number;\n  ackTimeout: number;\n  disableRestartIce: boolean;\n};\n\nexport const defaultSfuBotPluginOptions: SfuBotPluginOptions = {\n  ...defaultSfuApiOptions,\n  endpointTimeout: 30_000,\n  ackTimeout: 10_000,\n  disableRestartIce: false,\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.debug = exports.parseScalabilityMode = exports.detectDevice = exports.Device = exports.version = exports.types = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nexports.debug = debug_1.default;\nconst Device_1 = require(\"./Device\");\nObject.defineProperty(exports, \"Device\", { enumerable: true, get: function () { return Device_1.Device; } });\nObject.defineProperty(exports, \"detectDevice\", { enumerable: true, get: function () { return Device_1.detectDevice; } });\nconst types = __importStar(require(\"./types\"));\nexports.types = types;\n/**\n * Expose mediasoup-client version.\n */\nexports.version = '3.6.82';\n/**\n * Expose parseScalabilityMode() function.\n */\nvar scalabilityModes_1 = require(\"./scalabilityModes\");\nObject.defineProperty(exports, \"parseScalabilityMode\", { enumerable: true, get: function () { return scalabilityModes_1.parse; } });\n","import { BackOff, Event, SkyWayError } from '@skyway-sdk/common';\nimport {\n  AnalyticsSession,\n  createError,\n  createLogPayload,\n  IceManager,\n  Logger,\n  SkyWayContext,\n  TransportConnectionState,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\nimport { DataProducerOptions } from 'mediasoup-client/lib/DataProducer';\nimport { MediaKind, RtpParameters } from 'mediasoup-client/lib/RtpParameters';\nimport {\n  ConnectionState,\n  DtlsParameters,\n  Transport,\n} from 'mediasoup-client/lib/Transport';\n\nimport { errors } from '../../errors';\nimport { SfuBotMember } from '../../member';\nimport { SfuBotPluginOptions } from '../../option';\nimport { SfuBotPlugin } from '../../plugin';\nimport { createWarnPayload } from '../../util';\n\nconst log = new Logger(\n  'packages/sfu-bot/src/connection/transport/transport.ts'\n);\n\nexport class SfuTransport {\n  private _backoffIceRestart = new BackOff({\n    times: 8,\n    interval: 100,\n    jitter: 100,\n  });\n  private _connectionState: TransportConnectionState = 'new';\n  private _options: SfuBotPluginOptions;\n\n  readonly onProduce = new Event<{\n    producerOptions: {\n      kind: MediaKind;\n      rtpParameters: RtpParameters;\n      appData: any;\n    };\n    callback: (props: { id: string }) => void;\n    errback: (err: any) => void;\n  }>();\n  readonly onProduceData = new Event<{\n    producerOptions: DataProducerOptions;\n    callback: (props: { id: string }) => void;\n    errback: (err: any) => void;\n  }>();\n  readonly onMediasoupConnectionStateChanged = new Event<ConnectionState>();\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n\n  get pc(): RTCPeerConnection {\n    return (this.msTransport as any)?._handler?._pc ?? {};\n  }\n\n  get id() {\n    return this.msTransport.id;\n  }\n\n  get connectionState() {\n    return this._connectionState;\n  }\n\n  constructor(\n    public msTransport: Transport,\n    private _bot: SfuBotMember,\n    private _iceManager: IceManager,\n    private _sfuApi: SfuRestApiClient,\n    private _context: SkyWayContext,\n    private _analyticsSession?: AnalyticsSession\n  ) {\n    const sfuPlugin = _context.plugins.find(\n      (p) => p.subtype === SfuBotPlugin.subtype\n    ) as SfuBotPlugin;\n    this._options = sfuPlugin.options;\n\n    log.debug('peerConfig', this.pc?.getConfiguration?.() ?? {});\n\n    msTransport.on('connect', (params, callback, errback) =>\n      this._onConnect(msTransport.id)(\n        params as {\n          dtlsParameters: DtlsParameters;\n        },\n        callback as any,\n        errback!\n      )\n    );\n    msTransport.on('connectionstatechange', (e) => {\n      this.onMediasoupConnectionStateChanged.emit(e);\n\n      if (this._analyticsSession && !this._analyticsSession.isClosed()) {\n        // 再送時に他の処理をブロックしないためにawaitしない\n        void this._analyticsSession.client.sendRtcPeerConnectionEventReport({\n          rtcPeerConnectionId: this.id,\n          type: 'connectionStateChange',\n          data: {\n            connectionState: e,\n          },\n          createdAt: Date.now(),\n        });\n      }\n    });\n\n    msTransport.on('produce', (producerOptions, callback, errback) => {\n      this.onProduce.emit({\n        producerOptions,\n        callback: callback!,\n        errback: errback!,\n      });\n    });\n    msTransport.on('producedata', (producerOptions, callback, errback) => {\n      this.onProduceData.emit({\n        producerOptions,\n        callback: callback!,\n        errback: errback!,\n      });\n    });\n\n    this.onMediasoupConnectionStateChanged.add(\n      async (state: ConnectionState) => {\n        createLogPayload({\n          operationName: 'onMediasoupConnectionStateChanged',\n          channel: this._bot.channel,\n        })\n          .then((debug) => {\n            log.debug(debug, { state, transportId: this.id, bot: _bot });\n          })\n          .catch(() => {});\n\n        switch (state) {\n          case 'disconnected':\n          case 'failed':\n            {\n              if (this._connectionState === 'reconnecting') {\n                return;\n              }\n              const e = await this._waitForMsConnectionState(\n                'connected',\n                _context.config.rtcConfig.iceDisconnectBufferTimeout\n              ).catch((e) => e as SkyWayError);\n              if (\n                e &&\n                (this._connectionState as TransportConnectionState) !==\n                  'reconnecting' &&\n                _bot.options.disableRestartIce !== true\n              ) {\n                await this.restartIce();\n              }\n            }\n            break;\n          case 'connecting':\n          case 'connected':\n            this._setConnectionState(state);\n            break;\n          case 'closed':\n            this._setConnectionState('disconnected');\n            break;\n        }\n        log.debug('onMediasoupConnectionStateChanged', this);\n      }\n    );\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      direction: this.msTransport.direction,\n      connectionState: this._connectionState,\n    };\n  }\n\n  close() {\n    log.debug('close', this.id);\n    // suppress firefox [RTCPeerConnection is gone] Exception\n    if ((this.pc as any)?.peerIdentity) {\n      (this.pc as any).peerIdentity.catch(() => {});\n    }\n    this.msTransport.close();\n    this._setConnectionState('disconnected');\n  }\n\n  private _setConnectionState(state: TransportConnectionState) {\n    if (this._connectionState === state) {\n      return;\n    }\n    log.debug('onConnectionStateChanged', this._connectionState, state, this);\n    this._connectionState = state;\n    this.onConnectionStateChanged.emit(state);\n    if (this._analyticsSession && !this._analyticsSession.isClosed()) {\n      void this._analyticsSession.client.sendRtcPeerConnectionEventReport({\n        rtcPeerConnectionId: this.id,\n        type: 'skywayConnectionStateChange',\n        data: {\n          skywayConnectionState: state,\n        },\n        createdAt: Date.now(),\n      });\n    }\n  }\n\n  readonly restartIce = async () => {\n    if (this._backoffIceRestart.exceeded) {\n      log.error(\n        '_iceRestartedCount exceeded',\n        createError({\n          operationName: 'SfuTransport.restartIce',\n          context: this._context,\n          info: errors.netWorkError,\n          path: log.prefix,\n        })\n      );\n      this._setConnectionState('disconnected');\n      return;\n    }\n    log.warn(\n      '[start] restartIce',\n      createWarnPayload({\n        bot: this._bot,\n        detail: 'start restartIce',\n        operationName: 'SfuTransport.restartIce',\n        payload: { count: this._backoffIceRestart.count, transport: this },\n      })\n    );\n\n    const checkNeedEnd = () => {\n      if (this._bot.state === 'left') {\n        log.debug('bot already left', this);\n        this._setConnectionState('disconnected');\n\n        log.warn(\n          '[end] restartIce',\n          createWarnPayload({\n            bot: this._bot,\n            detail: 'end restartIce',\n            operationName: 'SfuTransport.restartIce',\n            payload: { count: this._backoffIceRestart.count, transport: this },\n          })\n        );\n        return true;\n      }\n\n      if (this.msTransport.connectionState === 'connected') {\n        this._backoffIceRestart.reset();\n        this._setConnectionState('connected');\n\n        log.warn(\n          '[end] restartIce',\n          createWarnPayload({\n            bot: this._bot,\n            detail: 'end restartIce',\n            operationName: 'SfuTransport.restartIce',\n            payload: { count: this._backoffIceRestart.count, transport: this },\n          })\n        );\n\n        if (this._analyticsSession && !this._analyticsSession.isClosed()) {\n          // 再送時に他の処理をブロックしないためにawaitしない\n          void this._analyticsSession.client.sendRtcPeerConnectionEventReport({\n            rtcPeerConnectionId: this.id,\n            type: 'restartIce',\n            data: undefined,\n            createdAt: Date.now(),\n          });\n        }\n        return true;\n      }\n    };\n\n    this._setConnectionState('reconnecting');\n\n    await this._backoffIceRestart.wait();\n\n    if (checkNeedEnd()) {\n      return;\n    }\n\n    let e = await this._iceManager.updateIceParams().catch((e) => e as Error);\n    if (e) {\n      log.warn(\n        'updateIceParams failed',\n        createWarnPayload({\n          operationName: 'SfuTransport.restartIce',\n          detail: 'updateIceParams failed',\n          bot: this._bot,\n          payload: { transport: this },\n        }),\n        e\n      );\n      await this.restartIce();\n      return;\n    }\n    await this.msTransport.updateIceServers({\n      iceServers: this._iceManager.iceServers,\n    });\n\n    if (checkNeedEnd()) {\n      return;\n    }\n\n    const iceParameters = await this._mediasoupRestartIce();\n\n    e = await this._waitForMsConnectionState(\n      'connected',\n      this._context.config.rtcConfig.iceDisconnectBufferTimeout\n    ).catch((e) => e);\n    if (!e && checkNeedEnd()) {\n      return iceParameters;\n    }\n\n    await this.restartIce();\n  };\n\n  /**@private */\n  async _mediasoupRestartIce() {\n    const iceParameters = await this._sfuApi\n      .iceRestart({\n        transportId: this.id,\n      })\n      .catch((e) => e as Error);\n    if (iceParameters instanceof Error) {\n      log.warn(\n        'iceRestart failed',\n        createWarnPayload({\n          operationName: 'SfuTransport._mediasoupRestartIce',\n          detail: 'iceRestart failed',\n          bot: this._bot,\n          payload: { transport: this },\n        }),\n        iceParameters\n      );\n      await this.restartIce();\n      return;\n    }\n    await this.msTransport.restartIce({ iceParameters });\n    return iceParameters;\n  }\n\n  private _waitForMsConnectionState = async (\n    state: ConnectionState,\n    /**ms */\n    timeout = 10_000\n  ) => {\n    if (state === this.msTransport.connectionState) return;\n    await this.onMediasoupConnectionStateChanged\n      .watch(() => state === this.msTransport.connectionState, timeout)\n      .catch((err) => {\n        throw createError({\n          operationName: 'SfuTransport._waitForMsConnectionState',\n          context: this._context,\n          info: { ...errors.timeout, detail: 'waitForConnectionState timeout' },\n          error: err,\n          path: log.prefix,\n        });\n      });\n  };\n\n  private _onConnect =\n    (transportId: string) =>\n    async (\n      {\n        dtlsParameters,\n      }: {\n        dtlsParameters: DtlsParameters;\n      },\n      callback: () => void,\n      errback: (err: any) => void\n    ) => {\n      try {\n        log.debug('[start] transport connect', { transportId });\n        await this._sfuApi.connect({ transportId, dtlsParameters });\n        log.debug('[end] transport connect', { transportId });\n        callback();\n      } catch (error) {\n        log.error('[failed] transport connect', {\n          error,\n          transportId,\n        });\n        errback(error);\n      }\n    };\n}\n","import { Event, Logger } from '@skyway-sdk/common';\nimport {\n  AnalyticsSession,\n  createError,\n  getRuntimeInfo,\n  IceManager,\n  SkyWayContext,\n} from '@skyway-sdk/core';\nimport { SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\nimport { Device } from 'mediasoup-client';\nimport { RtpCapabilities } from 'mediasoup-client/lib/RtpParameters';\nimport { TransportOptions } from 'mediasoup-client/lib/Transport';\n\nimport { errors } from '../../errors';\nimport { SfuBotMember } from '../../member';\nimport { SfuTransport } from './transport';\n\nconst log = new Logger(\n  'packages/sfu-bot/src/connection/transport/transportRepository.ts'\n);\n\nexport class TransportRepository {\n  onTransportCreated = new Event<string>();\n\n  private readonly _device: Device;\n  /**@private */\n  _transports: { [id: string]: SfuTransport } = {};\n\n  get rtpCapabilities() {\n    if (!this._device.loaded) {\n      return undefined;\n    }\n    return this._device.rtpCapabilities;\n  }\n\n  constructor(\n    private _context: SkyWayContext,\n    private readonly _api: SfuRestApiClient\n  ) {\n    const { browserName, browserVersion } = getRuntimeInfo();\n    log.debug('runtime info', { browserName, browserVersion });\n    // wkwebview対応\n    if (browserName === 'Safari' && browserVersion == undefined) {\n      this._device = new Device({ handlerName: 'Safari12' });\n    } else {\n      this._device = new Device();\n    }\n  }\n\n  async loadDevice(rtpCapabilities: RtpCapabilities) {\n    if (!this._device.loaded) {\n      await this._device\n        .load({\n          routerRtpCapabilities: rtpCapabilities as any,\n        })\n        .catch((err) => {\n          throw createError({\n            operationName: 'TransportRepository.loadDevice',\n            context: this._context,\n            info: { ...errors.internal, detail: 'loadDevice failed' },\n            path: log.prefix,\n            payload: { rtpCapabilities },\n            error: err,\n          });\n        });\n      log.debug('device loaded', {\n        routerRtpCapabilities: rtpCapabilities,\n        rtpCapabilities: this._device.rtpCapabilities,\n      });\n    }\n  }\n\n  /**worker内にmemberIdに紐つくTransportが無ければ新しいTransportが作られる */\n  createTransport(\n    personId: string,\n    bot: SfuBotMember,\n    transportOptions: TransportOptions,\n    direction: 'send' | 'recv',\n    iceManager: IceManager,\n    analyticsSession?: AnalyticsSession\n  ) {\n    const createTransport =\n      direction === 'send'\n        ? (o: TransportOptions) => this._device.createSendTransport(o)\n        : (o: TransportOptions) => this._device.createRecvTransport(o);\n\n    const msTransport = createTransport({\n      ...transportOptions,\n      iceServers: iceManager.iceServers,\n      iceTransportPolicy:\n        this._context.config.rtcConfig.turnPolicy === 'turnOnly'\n          ? 'relay'\n          : undefined,\n      additionalSettings: this._context.config.rtcConfig,\n    });\n\n    const transport = new SfuTransport(\n      msTransport,\n      bot,\n      iceManager,\n      this._api,\n      this._context,\n      analyticsSession\n    );\n    this._transports[personId + msTransport.id] = transport;\n\n    this.onTransportCreated.emit(msTransport.id);\n\n    return transport;\n  }\n\n  readonly getTransport = (personId: string, id: string) =>\n    this._transports[personId + id];\n\n  deleteTransports(personId: string) {\n    Object.entries({ ...this._transports }).forEach(([id, transport]) => {\n      if (id.includes(personId)) {\n        transport.close();\n        delete this._transports[id];\n      }\n    });\n  }\n}\n","export const PACKAGE_VERSION = '1.9.0';\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  Channel,\n  createError,\n  createLogPayload,\n  SkyWayChannelImpl,\n  SkyWayPlugin,\n} from '@skyway-sdk/core';\nimport model from '@skyway-sdk/model';\nimport { SfuApiOptions, SfuRestApiClient } from '@skyway-sdk/sfu-api-client';\n\nimport { TransportRepository } from './connection/transport/transportRepository';\nimport { errors } from './errors';\nimport { SfuBotMember } from './member';\nimport {\n  defaultSfuBotPluginOptions,\n  SfuBotPluginOptions as SfuBotPluginOptions,\n} from './option';\nimport { PACKAGE_VERSION } from './version';\n\nexport type { SfuApiOptions };\n\nconst log = new Logger('packages/sfu-bot/src/plugin.ts');\n\nexport class SfuBotPlugin extends SkyWayPlugin {\n  static readonly subtype = SfuBotMember.subtype;\n  readonly subtype = SfuBotPlugin.subtype;\n  readonly options: SfuBotPluginOptions;\n  private _api!: SfuRestApiClient;\n  /**@private */\n  _transportRepository!: TransportRepository;\n\n  constructor(_options: Partial<SfuBotPluginOptions> = {}) {\n    super();\n\n    this.options = {\n      ...defaultSfuBotPluginOptions,\n      ..._options,\n    };\n\n    this._onContextAttached.once((context) => {\n      Logger.level = context.config.log.level;\n      Logger.format = context.config.log.format;\n\n      log.info('SfuBotPlugin spawned', {\n        operationName: 'SfuBotPlugin.constructor',\n        endpoint: { sfu: this.options.domain },\n        options: this.options,\n        sdkName: 'sfu-bot',\n        sdkVersion: PACKAGE_VERSION,\n      });\n\n      this._api = new SfuRestApiClient(context.authTokenString, {\n        ...this.options,\n        log: context.config.log,\n      });\n      this._transportRepository = new TransportRepository(context, this._api);\n      context._onTokenUpdated.add((token) => {\n        this._api.updateToken(token);\n      });\n    });\n\n    this._whenDisposeLocalPerson = async (person) => {\n      this._transportRepository.deleteTransports(person.id);\n    };\n  }\n\n  /**@private */\n  _createRemoteMember = (channel: SkyWayChannelImpl, sfuBot: model.Member) => {\n    const member = new SfuBotMember({\n      ...this._context!,\n      channel,\n      id: sfuBot.id,\n      name: sfuBot.name,\n      metadata: sfuBot.metadata,\n      plugin: this,\n      api: this._api,\n      context: this._context!,\n      transportRepository: this._transportRepository,\n      options: this.options,\n    });\n    return member;\n  };\n\n  /**\n   * @description [japanese] SFU BotをChannelに呼び出す\n   */\n  createBot = async (channel: Channel) => {\n    const timestamp = log.info(\n      '[start] createBot',\n      await createLogPayload({\n        operationName: 'SfuBotPlugin.createBot',\n        channel: channel as SkyWayChannelImpl,\n      })\n    );\n    const botId = await this._api.createBot({\n      appId: this._context!.authToken.scope.app.id,\n      channelId: channel.id,\n    });\n    const member =\n      (channel as SkyWayChannelImpl)._getMember(botId) ??\n      (\n        await channel.onMemberJoined\n          .watch(\n            (e) => e.member.id === botId,\n            this._context!.config.rtcApi.timeout\n          )\n          .catch((error) => {\n            throw createError({\n              operationName: 'SfuBotPlugin.createBot',\n              info: { ...errors.timeout, detail: 'onMemberJoined' },\n              path: log.prefix,\n              error,\n              context: this._context,\n            });\n          })\n      ).member;\n\n    log.elapsed(\n      timestamp,\n      '[end] createBot',\n      await createLogPayload({\n        operationName: 'SfuBotPlugin.createBot',\n        channel,\n      })\n    );\n\n    return member as SfuBotMember;\n  };\n\n  /**\n   * @description [japanese] SFU BotをChannelから削除する\n   */\n  deleteBot = async (channel: Channel, botId: string) =>\n    new Promise<void>(async (r, f) => {\n      const timestamp = log.info(\n        '[start] deleteBot',\n        await createLogPayload({\n          operationName: 'SfuBotPlugin.deleteBot',\n          channel,\n        })\n      );\n\n      let failed = false;\n      this._api.deleteBot({ botId }).catch((e) => {\n        failed = true;\n        f(e);\n      });\n\n      channel.onMemberLeft\n        .watch(\n          (e) => e.member.id === botId,\n          this._context!.config.rtcApi.timeout\n        )\n        .then(async () => {\n          log.elapsed(\n            timestamp,\n            '[end] deleteBot',\n            await createLogPayload({\n              operationName: 'SfuBotPlugin.deleteBot',\n              channel,\n            })\n          );\n          r();\n        })\n        .catch((error) => {\n          if (!failed)\n            f(\n              createError({\n                operationName: 'SfuBotPlugin.deleteBot',\n                info: { ...errors.timeout, detail: 'onMemberLeft' },\n                path: log.prefix,\n                channel,\n                error,\n                context: this._context,\n              })\n            );\n        });\n    });\n}\n","import { errors as coreErrors } from '@skyway-sdk/core';\nimport { errors as sfuErrors } from '@skyway-sdk/sfu-bot';\n\nexport const roomErrors = {\n  invalidParameter: { name: 'invalidParameter', detail: '', solution: '' },\n  timeout: { name: 'timeout', detail: '', solution: '' },\n  internal: { name: 'internal', detail: '', solution: '' },\n  notImplemented: {\n    name: 'notImplemented',\n    detail: '対応していないRoomTypeです',\n    solution: '正しいRoomTypeを指定してください',\n  },\n  roomNotOpened: {\n    name: 'roomNotOpened',\n    detail: 'RoomがOpenされていません',\n    solution: 'Roomの状態を確かめてください',\n  },\n  subscribeOtherMemberType: {\n    name: 'subscribeOtherMemberType',\n    detail:\n      'RemoteMemberにSubscribe/Unsubscribeさせる場合、対象のMemberのTypeはPersonである必要があります',\n    solution: '対象のRemoteMemberが正しいか確認してください',\n  },\n  sfuRoomNotSupportDataStream: {\n    name: 'sfuRoomNotSupportDataStream',\n    detail: 'SFURoomでDataStreamを使うことは出来ません',\n    solution: 'ありません',\n  },\n  publicationNotHasOrigin: {\n    name: 'publicationNotHasOrigin',\n    detail: 'SfuRoomで操作するPublicationはOriginをもつ必要があります',\n    solution: 'SfuRoomとP2PRoomを同一のIDで混在させていないか確かめてください',\n  },\n  notFound: {\n    name: 'notFound',\n    detail: '参照しようとしていたものが見つかりません',\n    solution: '参照しようとしたものが存在するか確かめてください',\n  },\n} as const;\n\nexport const errors = { ...coreErrors, ...sfuErrors, ...roomErrors } as const;\n","import { Event } from '@skyway-sdk/common';\nimport { Member, MemberState } from '@skyway-sdk/core';\n\nimport { RoomPublication } from '../publication';\nimport { RoomType } from '../room';\nimport { RoomImpl } from '../room/base';\nimport { RoomSubscription } from '../subscription';\n\nexport interface RoomMember {\n  readonly id: string;\n  readonly name?: string;\n  readonly roomId: string;\n  readonly roomName?: string;\n  readonly roomType: RoomType;\n  readonly metadata?: string;\n  state: RoomMemberState;\n  /**@description [japanese] Memberが Publish した Publication のリスト */\n  readonly publications: RoomPublication[];\n  /**@description [japanese] Memberが Subscribe している Subscription のリスト */\n  readonly subscriptions: RoomSubscription[];\n  /**@description [japanese] MemberがRoomから出たときに発火するイベント*/\n  readonly onLeft: Event<void>;\n  /**@description [japanese] Memberのメタデータが更新された時に発火するイベント*/\n  readonly onMetadataUpdated: Event<string>;\n  /**@description [japanese] Memberのメタデータを更新する */\n  updateMetadata: (metadata: string) => Promise<void>;\n  /**\n   * @description [japanese] Channelから退室する\n   */\n  leave: () => Promise<void>;\n}\n\n/**@internal */\nexport abstract class RoomMemberImpl implements RoomMember {\n  readonly onLeft = new Event<void>();\n  readonly onMetadataUpdated: Event<string>;\n\n  get id() {\n    return this.member.id;\n  }\n  get name() {\n    return this.member.name;\n  }\n  get roomId() {\n    return this.room.id;\n  }\n  get roomName() {\n    return this.room.name;\n  }\n  get roomType() {\n    return this.room.type;\n  }\n\n  get state() {\n    return this.member.state;\n  }\n\n  get metadata() {\n    return this.member.metadata;\n  }\n\n  constructor(protected member: Member, public room: RoomImpl) {\n    const { removeListener } = room.onMemberLeft.add((e) => {\n      if (e.member.id === this.member.id) {\n        removeListener();\n        this.onLeft.emit();\n      }\n    });\n    this.onMetadataUpdated = member.onMetadataUpdated;\n  }\n\n  /**@private */\n  get _member() {\n    return this.member;\n  }\n\n  get publications() {\n    return this.room.publications.filter((p) => p.publisher.id === this.id);\n  }\n\n  get subscriptions() {\n    return this.member.subscriptions.map((s) =>\n      this.room._getSubscription(s.id)\n    );\n  }\n\n  updateMetadata(metadata: string) {\n    return this.member.updateMetadata(metadata);\n  }\n\n  leave() {\n    return this.member.leave();\n  }\n\n  /**@internal */\n  toJSON() {\n    return { id: this.id, name: this.name, metadata: this.metadata };\n  }\n}\n\nexport type RoomMemberState = MemberState;\n","import { Event, SkyWayError } from '@skyway-sdk/common';\nimport {\n  LocalPerson,\n  LocalPersonAdapter,\n  PublicationOptions,\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteVideoStream,\n  SubscriptionImpl,\n  SubscriptionOptions,\n} from '@skyway-sdk/core';\n\nimport { RoomMember, RoomMemberImpl } from '../../member';\nimport { RoomPublication } from '../../publication';\nimport { Room, RoomImpl } from '../../room/base';\nimport { RoomSubscription } from '../../subscription';\nimport { RemoteRoomMemberImpl } from '../remote/base';\n\nexport interface LocalRoomMember extends RoomMember {\n  side: 'local';\n  room: Room;\n  /**@private */\n  _updateRoom(room: Room): void;\n  /**\n   * @description [japanese] このMemberがStreamをPublishしたときに発火するイベント\n   */\n  onStreamPublished: Event<{ publication: RoomPublication }>;\n  /**\n   * @description [japanese] このMemberがStreamをUnPublishしたときに発火するイベント\n   */\n  onStreamUnpublished: Event<{ publication: RoomPublication }>;\n  /**\n   * @description [japanese] Publicationの数が変化した時に発火するイベント\n   */\n  onPublicationListChanged: Event<void>;\n  /**\n   * @description [japanese] このMemberがStreamをSubscribeしたときに発火するイベント\n   */\n  onPublicationSubscribed: Event<{\n    subscription: RoomSubscription;\n    stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>;\n  /**\n   * @description [japanese] このMemberがStreamをUnsubscribeしたときに発火するイベント\n   */\n  onPublicationUnsubscribed: Event<{ subscription: RoomSubscription }>;\n  /**\n   * @description [japanese] Subscriptionの数が変化した時に発火するイベント\n   */\n  onSubscriptionListChanged: Event<void>;\n  /**\n   * @description [japanese] 回復不能なエラー。このインスタンスは継続して利用できない。\n   */\n  readonly onFatalError: Event<SkyWayError>;\n\n  /**\n   * @description [japanese] StreamのPublicationをUnpublishする\n   */\n  unpublish: (publicationId: string | RoomPublication) => Promise<void>;\n  /**\n   * @description [japanese] StreamのPublicationをSubscribeする\n   */\n  subscribe: <\n    T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >(\n    publicationId: string | RoomPublication,\n    options?: SubscriptionOptions\n  ) => Promise<{ subscription: RoomSubscription<T>; stream: T }>;\n  /**\n   * @description [japanese] StreamのSubscriptionをUnsubscribeする\n   */\n  unsubscribe: (subscriptionId: string | RoomSubscription) => Promise<void>;\n}\n\n/**@internal */\nexport abstract class LocalRoomMemberImpl\n  extends RoomMemberImpl\n  implements LocalRoomMember\n{\n  readonly side = 'local';\n  readonly _local = this._member as LocalPerson;\n  readonly onStreamPublished = new Event<{ publication: RoomPublication }>();\n  readonly onStreamUnpublished = new Event<{ publication: RoomPublication }>();\n  readonly onPublicationListChanged = new Event<void>();\n  readonly onPublicationSubscribed = new Event<{\n    subscription: RoomSubscription;\n    stream: RemoteVideoStream | RemoteAudioStream | RemoteDataStream;\n  }>();\n  readonly onPublicationUnsubscribed = new Event<{\n    subscription: RoomSubscription;\n  }>();\n  readonly onSubscriptionListChanged = new Event<void>();\n  readonly onFatalError = new Event<SkyWayError>();\n\n  readonly _context = this.room._context;\n\n  /**@private */\n  constructor(member: LocalPersonAdapter, room: RoomImpl) {\n    super(member, room);\n\n    this._local.onPublicationSubscribed.add(async (e) => {\n      const roomSubscription = room._addSubscription(\n        e.subscription as SubscriptionImpl\n      );\n      this.onPublicationSubscribed.emit({\n        subscription: roomSubscription,\n        stream: e.stream,\n      });\n    });\n    this._local.onFatalError.pipe(this.onFatalError);\n\n    this._listenRoomEvent();\n\n    this.onStreamPublished.add(() => this.onPublicationListChanged.emit());\n    this.onStreamUnpublished.add(() => this.onPublicationListChanged.emit());\n    this.onPublicationSubscribed.add(() =>\n      this.onSubscriptionListChanged.emit()\n    );\n    this.onPublicationUnsubscribed.add(() =>\n      this.onSubscriptionListChanged.emit()\n    );\n  }\n\n  get subscriptions() {\n    return this.member.subscriptions\n      .map((s) => this.room._getSubscription(s.id))\n      .filter((s) => s.stream);\n  }\n\n  protected _listenRoomEvent() {\n    this.room.onPublicationUnsubscribed.add((e) => {\n      if (\n        (e.subscription.subscriber as RemoteRoomMemberImpl)._member.id ===\n        this._local.id\n      ) {\n        this.onPublicationUnsubscribed.emit(e);\n      }\n    });\n  }\n\n  abstract unpublish(publicationId: string | RoomPublication): Promise<void>;\n  abstract subscribe<\n    T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >(\n    publicationId: string | RoomPublication\n  ): Promise<{ subscription: RoomSubscription<T>; stream: T }>;\n  abstract unsubscribe(\n    subscriptionId: string | RoomSubscription\n  ): Promise<void>;\n\n  abstract _updateRoom(room: Room): void;\n}\n\nexport type RoomPublicationOptions = PublicationOptions & {\n  /**sfu only */\n  maxSubscribers?: number;\n};\n","import { ErrorInfo, SkyWayError } from '@skyway-sdk/common';\nimport { SkyWayContext } from '@skyway-sdk/core';\n\nimport { RoomImpl } from './room/base';\n\nexport function createError({\n  operationName,\n  context,\n  info,\n  error,\n  path,\n  payload,\n  room,\n}: {\n  operationName: string;\n  path: string;\n  info: ErrorInfo;\n  context?: SkyWayContext;\n  room?: RoomImpl;\n  error?: Error;\n  payload?: any;\n}) {\n  const errPayload: any = {\n    operationName,\n    payload,\n  };\n\n  if (room) {\n    errPayload['appId'] = room._channel.appId;\n    errPayload['roomId'] = room.id;\n    if (room.localRoomMember) {\n      errPayload['memberId'] = room.localRoomMember.id;\n    }\n  }\n  if (context) {\n    errPayload['info'] = context.info;\n    errPayload['plugins'] = context.plugins.map((p) => p.subtype);\n  }\n\n  return new SkyWayError({ error, info, payload: errPayload, path });\n}\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  LocalPersonAdapter,\n  LocalStream,\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteVideoStream,\n  SubscriptionImpl,\n} from '@skyway-sdk/core';\n\nimport { errors } from '../../errors';\nimport { RoomPublication } from '../../publication';\nimport { P2PRoomImpl } from '../../room/p2p';\nimport { RoomSubscription } from '../../subscription';\nimport { createError } from '../../util';\nimport {\n  LocalRoomMember,\n  LocalRoomMemberImpl,\n  RoomPublicationOptions,\n} from './base';\n\nconst log = new Logger('packages/room/src/member/local/p2p.ts');\n\nexport interface LocalP2PRoomMember extends LocalRoomMember {\n  /**\n   * @description [japanese] StreamをPublishする\n   */\n  publish: <T extends LocalStream = LocalStream>(\n    stream: T,\n    options?: RoomPublicationOptions\n  ) => Promise<RoomPublication<T>>;\n}\n\n/**@internal */\nexport class LocalP2PRoomMemberImpl\n  extends LocalRoomMemberImpl\n  implements LocalP2PRoomMember\n{\n  /**@private */\n  constructor(member: LocalPersonAdapter, room: P2PRoomImpl) {\n    super(member, room);\n  }\n\n  async publish<T extends LocalStream = LocalStream>(\n    stream: LocalStream,\n    options: RoomPublicationOptions = {}\n  ): Promise<RoomPublication<T>> {\n    const publication = await this._local.publish(stream, options);\n\n    const roomPublication = this.room._addPublication<T>(publication);\n    this.onStreamPublished.emit({ publication: roomPublication });\n\n    return roomPublication;\n  }\n\n  async unpublish(target: string | RoomPublication) {\n    const publicationId = typeof target === 'string' ? target : target.id;\n    this._local.unpublish(publicationId).catch((error) => {\n      log.error('unpublish', error, { target }, this.toJSON());\n    });\n    const { publication } = await this.room.onStreamUnpublished\n      .watch(\n        (e) => e.publication.id === publicationId,\n        this._context.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'LocalP2PRoomMemberImpl.unpublish',\n          context: this._context,\n          room: this.room,\n          info: { ...errors.timeout, detail: 'onStreamUnpublished' },\n          path: log.prefix,\n          error,\n        });\n      });\n\n    this.onStreamUnpublished.emit({ publication });\n  }\n\n  async subscribe<\n    T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >(\n    target: string | RoomPublication\n  ): Promise<{ subscription: RoomSubscription<T>; stream: T }> {\n    const publicationId = typeof target === 'string' ? target : target.id;\n    const { subscription, stream } = await this._local.subscribe(publicationId);\n\n    const roomSubscription = this.room._addSubscription(\n      subscription as SubscriptionImpl\n    );\n\n    return {\n      subscription: roomSubscription as RoomSubscription<T>,\n      stream: stream as T,\n    };\n  }\n\n  async unsubscribe(target: string | RoomSubscription) {\n    const subscriptionId = typeof target === 'string' ? target : target.id;\n    this._local.unsubscribe(subscriptionId).catch((error) => {\n      log.error('unsubscribe', error, { target }, this.toJSON());\n    });\n    await this.room.onPublicationUnsubscribed\n      .watch(\n        (e) => e.subscription.id === subscriptionId,\n        this._context.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'LocalP2PRoomMemberImpl.unsubscribe',\n          context: this._context,\n          room: this.room,\n          info: { ...errors.timeout, detail: 'onPublicationUnsubscribed' },\n          path: log.prefix,\n          error,\n        });\n      });\n  }\n\n  _updateRoom(room: P2PRoomImpl): void {\n    log.debug('_updateRoom', { memberId: this.id });\n    this.room = room;\n    this._listenRoomEvent();\n  }\n}\n","export const defaultMaxSubscribers = 10;\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  LocalDataStream,\n  LocalPersonAdapter,\n  LocalStream,\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteVideoStream,\n  SubscriptionImpl,\n  SubscriptionOptions,\n} from '@skyway-sdk/core';\nimport { errors as sfuErrors, SfuBotMember } from '@skyway-sdk/sfu-bot';\n\nimport { defaultMaxSubscribers } from '../../const';\nimport { errors } from '../../errors';\nimport { RoomPublication } from '../../publication';\nimport { SfuRoomImpl } from '../../room/sfu';\nimport { RoomSubscription } from '../../subscription';\nimport { createError } from '../../util';\nimport {\n  LocalRoomMember,\n  LocalRoomMemberImpl,\n  RoomPublicationOptions,\n} from './base';\n\nconst log = new Logger('packages/room/src/member/local/sfu.ts');\n\nexport interface LocalSFURoomMember extends LocalRoomMember {\n  /**\n   * @description [japanese] RoomにStreamをPublishする\n   */\n  publish: <T extends LocalStream = LocalStream>(\n    stream: LocalStream,\n    options?: RoomPublicationOptions & SfuRoomPublicationOptions\n  ) => Promise<RoomPublication<T>>;\n}\n\n/**@internal */\nexport class LocalSFURoomMemberImpl\n  extends LocalRoomMemberImpl\n  implements LocalSFURoomMember\n{\n  /**@private */\n  constructor(member: LocalPersonAdapter, room: SfuRoomImpl) {\n    super(member, room);\n  }\n\n  async publish<T extends LocalStream = LocalStream>(\n    stream: LocalStream,\n    options: RoomPublicationOptions & SfuRoomPublicationOptions = {}\n  ): Promise<RoomPublication<T>> {\n    if (stream instanceof LocalDataStream) {\n      throw createError({\n        operationName: 'LocalSFURoomMemberImpl.publish',\n        context: this._context,\n        room: this.room,\n        info: errors.sfuRoomNotSupportDataStream,\n        path: log.prefix,\n      });\n    }\n\n    options.maxSubscribers = options.maxSubscribers ?? defaultMaxSubscribers;\n\n    const origin = await this._local.publish(stream, options);\n    const bot = this.room._channel.members.find(\n      (m) => m.subtype === SfuBotMember.subtype\n    ) as SfuBotMember;\n    if (!bot) {\n      throw createError({\n        operationName: 'LocalSFURoomMemberImpl.publish',\n        context: this._context,\n        room: this.room,\n        info: sfuErrors.sfuBotNotInChannel,\n        path: log.prefix,\n      });\n    }\n\n    const forwarding = await bot.startForwarding(origin, {\n      maxSubscribers: options.maxSubscribers,\n    });\n    const relayingPublication = forwarding.relayingPublication;\n\n    const roomPublication = this.room._addPublication<T>(relayingPublication);\n    this.onStreamPublished.emit({ publication: roomPublication });\n\n    return roomPublication;\n  }\n\n  /**\n   * @description [japanese] Room上のStreamをUnPublishする\n   */\n  async unpublish(target: string | RoomPublication) {\n    const publicationId = typeof target === 'string' ? target : target.id;\n    const publication = this.room._getPublication(publicationId);\n    const origin = publication._publication.origin;\n    if (!origin) {\n      throw createError({\n        operationName: 'LocalSFURoomMemberImpl.unpublish',\n        context: this._context,\n        room: this.room,\n        info: errors.publicationNotHasOrigin,\n        path: log.prefix,\n      });\n    }\n\n    this._local.unpublish(origin.id).catch((error) => {\n      log.error('unpublish error', error, { target }, this.toJSON());\n    });\n    await this.room.onStreamUnpublished\n      .watch(\n        (e) => e.publication.id === publicationId,\n        this._context.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'LocalSFURoomMemberImpl.unpublish',\n          context: this._context,\n          room: this.room,\n          info: { ...errors.timeout, detail: 'onStreamUnpublished' },\n          path: log.prefix,\n          error,\n        });\n      });\n\n    this.onStreamUnpublished.emit({ publication });\n  }\n\n  /**\n   * @description [japanese] MemberがRoom上のStreamのPublicationをSubscribeする\n   */\n  async subscribe<\n    T extends RemoteVideoStream | RemoteAudioStream | RemoteDataStream\n  >(\n    target: string | RoomPublication,\n    options?: SubscriptionOptions\n  ): Promise<{ subscription: RoomSubscription<T>; stream: T }> {\n    const publicationId = typeof target === 'string' ? target : target.id;\n    const { subscription, stream } = await this._local.subscribe(\n      publicationId,\n      options\n    );\n\n    const roomSubscription = this.room._addSubscription(\n      subscription as SubscriptionImpl\n    );\n\n    return {\n      subscription: roomSubscription as RoomSubscription<T>,\n      stream: stream as T,\n    };\n  }\n\n  /**\n   * @description [japanese] MemberがSubscribeしているStreamのSubscriptionをUnSubscribeする\n   */\n  async unsubscribe(target: string | RoomSubscription) {\n    const subscriptionId = typeof target === 'string' ? target : target.id;\n    this._local.unsubscribe(subscriptionId).catch((error) => {\n      log.error('unsubscribe error', error, { target }, this.toJSON());\n    });\n    await this.room.onPublicationUnsubscribed\n      .watch(\n        (e) => e.subscription.id === subscriptionId,\n        this._context.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'LocalSFURoomMemberImpl.unsubscribe',\n          context: this._context,\n          room: this.room,\n          info: { ...errors.timeout, detail: 'onPublicationUnsubscribed' },\n          path: log.prefix,\n          error,\n        });\n      });\n  }\n\n  _updateRoom(room: SfuRoomImpl): void {\n    log.debug('_updateRoom', { memberId: this.id });\n    this.room = room;\n    this._listenRoomEvent();\n  }\n}\n\nexport type SfuRoomPublicationOptions = {\n  maxSubscribers?: number;\n};\n","import { Event, EventDisposer, Logger } from '@skyway-sdk/common';\nimport { Member, RemotePersonImpl } from '@skyway-sdk/core';\n\nimport { errors } from '../../errors';\nimport { RoomMember, RoomMemberImpl } from '../../member';\nimport { RoomImpl } from '../../room/base';\nimport { RoomSubscription } from '../../subscription';\nimport { createError } from '../../util';\n\nconst log = new Logger('packages/room/src/member/remote/base.ts');\n\nexport interface RemoteRoomMember extends RoomMember {\n  readonly side: 'remote';\n  /**@description [japanese] この RemoteRoomMember がPublicationをSubscribeしたとき */\n  readonly onPublicationSubscribed: Event<{ subscription: RoomSubscription }>;\n  /**@description [japanese] この RemoteRoomMember がPublicationをUnsubscribeしたとき */\n  readonly onPublicationUnsubscribed: Event<{ subscription: RoomSubscription }>;\n  /**@description [japanese] MemberのSubscriptionの数が変化したとき */\n  readonly onSubscriptionListChanged: Event<void>;\n  /**@description [japanese] MemberのPublicationの数が変化したとき */\n  readonly onPublicationListChanged: Event<void>;\n  /**@description [japanese] この RemoteRoomMember にPublicationをSubscribeさせる */\n  subscribe: (\n    publicationId: string\n  ) => Promise<{ subscription: RoomSubscription }>;\n  /**@description [japanese] この RemoteRoomMember にPublicationをUnsubscribeさせる */\n  unsubscribe: (subscriptionId: string) => Promise<void>;\n}\n\n/**@internal */\nexport class RemoteRoomMemberImpl\n  extends RoomMemberImpl\n  implements RemoteRoomMember\n{\n  readonly side = 'remote';\n\n  readonly onPublicationSubscribed = new Event<{\n    subscription: RoomSubscription;\n  }>();\n  readonly onPublicationUnsubscribed = new Event<{\n    subscription: RoomSubscription;\n  }>();\n  readonly onSubscriptionListChanged = new Event<void>();\n  readonly onPublicationListChanged = new Event<void>();\n\n  private _disposer = new EventDisposer();\n\n  constructor(member: Member, room: RoomImpl) {\n    super(member, room);\n\n    room.onPublicationSubscribed\n      .add((e) => {\n        if (\n          (e.subscription.subscriber as RemoteRoomMemberImpl)._member.id ===\n          member.id\n        ) {\n          this.onPublicationSubscribed.emit(e);\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n\n    room.onPublicationUnsubscribed\n      .add((e) => {\n        if (\n          (e.subscription.subscriber as RemoteRoomMemberImpl)._member.id ===\n          member.id\n        ) {\n          this.onPublicationUnsubscribed.emit(e);\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n\n    if (member instanceof RemotePersonImpl) {\n      member.onPublicationListChanged\n        .pipe(this.onPublicationListChanged)\n        .disposer(this._disposer);\n    }\n  }\n\n  subscribe = (publicationId: string) =>\n    new Promise<{ subscription: RoomSubscription }>((r, f) => {\n      if (!(this.member instanceof RemotePersonImpl)) {\n        f(\n          createError({\n            operationName: 'RemoteRoomMemberImpl.subscribe',\n            context: this.room._context,\n            room: this.room,\n            info: errors.subscribeOtherMemberType,\n            path: log.prefix,\n          })\n        );\n        return;\n      }\n\n      let failed = false;\n      this.member.subscribe(publicationId).catch((e) => {\n        failed = true;\n        f(e);\n      });\n\n      this.onPublicationSubscribed\n        .watch((e) => e.subscription.publication.id === publicationId)\n        .then((e) => r(e))\n        .catch((e) => {\n          if (!failed) f(e);\n        });\n    });\n\n  unsubscribe = (subscriptionId: string) =>\n    new Promise<void>((r, f) => {\n      if (!(this.member instanceof RemotePersonImpl)) {\n        f(\n          createError({\n            operationName: 'RemoteRoomMemberImpl.unsubscribe',\n            context: this.room._context,\n            room: this.room,\n            info: errors.subscribeOtherMemberType,\n            path: log.prefix,\n          })\n        );\n        return;\n      }\n\n      let failed = false;\n      this.member.unsubscribe(subscriptionId).catch((e) => {\n        failed = true;\n        f(e);\n      });\n\n      this.onPublicationUnsubscribed\n        .watch((e) => e.subscription.id === subscriptionId)\n        .then(() => r())\n        .catch((e) => {\n          if (!failed) f(e);\n        });\n    });\n\n  /**@private */\n  _dispose() {\n    this._disposer.dispose();\n  }\n}\n","import { EventDisposer, Logger } from '@skyway-sdk/common';\nimport { Event, Events } from '@skyway-sdk/common';\nimport {\n  Codec,\n  ContentType,\n  EncodingParameters,\n  LocalAudioStream,\n  LocalCustomVideoStream,\n  LocalStream,\n  LocalVideoStream,\n  Publication,\n  PublicationState,\n  ReplaceStreamOptions,\n  TransportConnectionState,\n  WebRTCStats,\n} from '@skyway-sdk/core';\nimport { SfuBotMember } from '@skyway-sdk/sfu-bot';\n\nimport { errors } from '../errors';\nimport { RoomMember, RoomMemberImpl } from '../member';\nimport { RoomImpl } from '../room/base';\nimport { StreamSubscribedEvent, StreamUnsubscribedEvent } from '../room/event';\nimport { RoomSubscription } from '../subscription';\nimport { createError } from '../util';\n\nconst path = 'packages/room/src/publication/index.ts';\nconst logger = new Logger(path);\n\nexport interface RoomPublication<T extends LocalStream = LocalStream> {\n  readonly id: string;\n  readonly contentType: ContentType;\n  metadata?: string;\n  readonly publisher: RoomMember;\n  /**\n   * @description [japanese] このPublicationをSubscribeしているSubscriptionの一覧\n   */\n  subscriptions: RoomSubscription[];\n  readonly codecCapabilities: Codec[];\n  /**\n   * @description [japanese] Encode設定\n   */\n  encodings: EncodingParameters[];\n  /**\n   * @description [japanese] Publicationの状態\n   * - enabled : 配信中\n   * - disabled : 配信停止中\n   * - canceled : 配信終了\n   */\n  state: RoomPublicationState;\n\n  /**\n   * @description [japanese] publishしたstreamの実体。\n   * ローカルで作られたPublicationでなければundefinedとなる\n   */\n  readonly stream?: T;\n  /**@description [japanese] このPublicationがUnPublishされたときに発火するイベント */\n  readonly onCanceled: Event<void>;\n  /**@description [japanese] このPublicationがSubscribeされたときに発火するイベント */\n  readonly onSubscribed: Event<StreamSubscribedEvent>;\n  /**@description [japanese] このPublicationがUnsubscribeされたときに発火するイベント */\n  readonly onUnsubscribed: Event<StreamUnsubscribedEvent>;\n  /**@description [japanese] このPublicationをSubscribeするSubscriptionの数が変わったときに発火するイベント */\n  readonly onSubscriptionListChanged: Event<void>;\n  /**@description [japanese] このPublicationのMetadataが変更された時に発火するイベント */\n  readonly onMetadataUpdated: Event<{ metadata: string }>;\n  /**@description [japanese] このPublicationが有効化されたときに発火するイベント */\n  readonly onEnabled: Event<void>;\n  /**@description [japanese] このPublicationが無効化されたときに発火するイベント */\n  readonly onDisabled: Event<void>;\n  /**@description [japanese] このPublicationの有効化状態が変化したときに発火するイベント */\n  readonly onStateChanged: Event<void>;\n  /**\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   * SFURoomの場合、remoteMemberはundefinedになる\n   * SFURoomの場合、memberがルームを離れたときのみ発火する\n   */\n  readonly onConnectionStateChanged: Event<{\n    remoteMember?: RoomMember;\n    state: TransportConnectionState;\n  }>;\n\n  /**\n   * @description [japanese] Metadataの更新\n   */\n  updateMetadata: (metadata: string) => Promise<void>;\n  /**\n   * @description [japanese] unpublishする\n   */\n  cancel: () => Promise<void>;\n  /**\n   * @description [japanese] Video|Audio Streamの場合、encoding設定を更新する\n   */\n  updateEncodings: (encodings: EncodingParameters[]) => void;\n  /**@description [japanese] publicationを有効化する */\n  enable: () => Promise<void>;\n  /**@description [japanese] publicationを無効化する */\n  disable: () => Promise<void>;\n  /**\n   * @description [japanese] Publicationのstreamを同じContentTypeの別のStreamに入れ替える。\n   * dataStreamを入れ替えることはできない。\n   * RemoteのPublication(streamがnull)では利用不可。\n   */\n  replaceStream: (\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    options?: ReplaceStreamOptions\n  ) => void;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] StreamをSubscribeしているMemberとの通信の統計情報を取得する\n   */\n  getStats(selector: RoomMember | string): Promise<WebRTCStats>;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] 対象のMemberとのRTCPeerConnectionを取得する。RTCPeerConnectionを直接操作すると SDK は正しく動作しなくなる可能性があります。\n   */\n  getRTCPeerConnection(\n    selector: RoomMember | string\n  ): RTCPeerConnection | undefined;\n  /**\n   * @description [japanese] メディア通信の状態を取得する\n   * @param selector [japanese] 接続相手\n   */\n  getConnectionState(selector: RoomMember | string): TransportConnectionState;\n}\n\n/**@internal */\nexport class RoomPublicationImpl<StreamType extends LocalStream = LocalStream>\n  implements RoomPublication\n{\n  readonly id: string;\n  readonly contentType: ContentType;\n  readonly publisher: RoomMemberImpl;\n  private readonly _origin?: Publication;\n  private readonly _disposer = new EventDisposer();\n\n  private readonly _events = new Events();\n  readonly onCanceled = this._events.make<void>();\n  readonly onSubscribed = this._events.make<StreamSubscribedEvent>();\n  readonly onUnsubscribed = this._events.make<StreamUnsubscribedEvent>();\n  readonly onSubscriptionListChanged = this._events.make<void>();\n  readonly onMetadataUpdated = this._events.make<{ metadata: string }>();\n  readonly onEnabled = this._events.make<void>();\n  readonly onDisabled = this._events.make<void>();\n  readonly onStateChanged = this._events.make<void>();\n  readonly onConnectionStateChanged = new Event<{\n    remoteMember?: RoomMember;\n    state: TransportConnectionState;\n  }>();\n\n  constructor(public _publication: Publication, private _room: RoomImpl) {\n    this.id = _publication.id;\n    this.contentType = _publication.contentType;\n    this._origin = _publication.origin;\n\n    {\n      const publication = this._origin ?? this._publication;\n      this.publisher = this._room._getMember(publication.publisher.id);\n    }\n\n    this._setEvents();\n  }\n\n  private _setEvents() {\n    this._room.onStreamUnpublished.add((e) => {\n      if (e.publication.id === this.id) {\n        this._dispose();\n      }\n    });\n\n    this._room.onPublicationSubscribed\n      .add((e) => {\n        if (e.subscription.publication.id === this.id) {\n          this.onSubscribed.emit({ subscription: e.subscription });\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n    this._room.onPublicationUnsubscribed\n      .add((e) => {\n        if (e.subscription.publication.id === this.id) {\n          this.onUnsubscribed.emit({ subscription: e.subscription });\n          this.onSubscriptionListChanged.emit();\n        }\n      })\n      .disposer(this._disposer);\n\n    this._publication.onEnabled.pipe(this.onEnabled);\n    this._publication.onDisabled.pipe(this.onDisabled);\n    this._publication.onStateChanged.pipe(this.onStateChanged);\n\n    {\n      const publication = this._origin ?? this._publication;\n      publication.onMetadataUpdated.pipe(this.onMetadataUpdated);\n    }\n\n    if (this._origin) {\n      this._origin.onConnectionStateChanged.add((e) => {\n        logger.debug('this._origin.onConnectionStateChanged', this.id, e);\n        this.onConnectionStateChanged.emit({ state: e.state });\n      });\n    } else {\n      this._publication.onConnectionStateChanged.add((e) => {\n        logger.debug('this._publication.onConnectionStateChanged', this.id, e);\n        this.onConnectionStateChanged.emit({\n          state: e.state,\n          remoteMember: this._room._getMember(e.remoteMember.id),\n        });\n      });\n    }\n  }\n\n  get subscriptions() {\n    return this._publication.subscriptions.map((s) =>\n      this._room._getSubscription(s.id)\n    );\n  }\n\n  private get _preferredPublication() {\n    return this._origin ?? this._publication;\n  }\n\n  get codecCapabilities() {\n    return this._preferredPublication.codecCapabilities;\n  }\n\n  get encodings() {\n    return this._preferredPublication.encodings;\n  }\n\n  get stream() {\n    return this._preferredPublication.stream as StreamType;\n  }\n\n  get state() {\n    return this._preferredPublication.state;\n  }\n\n  get metadata() {\n    return this._preferredPublication.metadata;\n  }\n\n  async cancel() {\n    await Promise.all([\n      this._preferredPublication.cancel(),\n      this.onCanceled.asPromise(),\n    ]);\n  }\n\n  async updateMetadata(metadata: string) {\n    await this._preferredPublication.updateMetadata(metadata);\n  }\n\n  updateEncodings(encodings: EncodingParameters[]) {\n    this._preferredPublication.updateEncodings(encodings);\n  }\n\n  readonly enable = () =>\n    new Promise<void>((r, f) => {\n      if (this._origin) {\n        Promise.all([\n          this._origin.enable(),\n          this._publication.onEnabled.asPromise(),\n        ])\n          .then(() => r())\n          .catch(f);\n      } else {\n        this._publication.enable().then(r).catch(f);\n      }\n    });\n\n  readonly disable = () =>\n    new Promise<void>((r, f) => {\n      if (this._origin) {\n        Promise.all([\n          this._origin.disable(),\n          this._publication.onDisabled.asPromise(),\n        ])\n          .then(() => r())\n          .catch(f);\n      } else {\n        this._publication.disable().then(r).catch(f);\n      }\n    });\n\n  readonly replaceStream = (\n    stream: LocalAudioStream | LocalVideoStream | LocalCustomVideoStream,\n    options: ReplaceStreamOptions = {}\n  ) => {\n    this._preferredPublication.replaceStream(stream, options);\n  };\n\n  private _dispose() {\n    this.onCanceled.emit();\n    this._events.dispose();\n    this._disposer.dispose();\n  }\n\n  getStats(selector: string | RoomMember): Promise<WebRTCStats> {\n    if (this._origin) {\n      const bot = this._origin.subscriptions.find(\n        (s) => s.subscriber.subtype === SfuBotMember.subtype\n      )?.subscriber;\n      if (!bot) {\n        throw createError({\n          operationName: 'RoomPublicationImpl.getStats',\n          room: this._room,\n          path,\n          info: { ...errors.notFound, detail: 'bot not found' },\n        });\n      }\n      return this._origin.getStats(bot);\n    } else {\n      const id = typeof selector === 'string' ? selector : selector.id;\n      return this._publication.getStats(id);\n    }\n  }\n\n  getRTCPeerConnection(\n    selector: string | RoomMember\n  ): RTCPeerConnection | undefined {\n    if (this._origin) {\n      const bot = this._origin.subscriptions.find(\n        (s) => s.subscriber.subtype === SfuBotMember.subtype\n      )?.subscriber;\n      if (!bot) {\n        throw createError({\n          operationName: 'RoomPublicationImpl.getRTCPeerConnection',\n          room: this._room,\n          path,\n          info: { ...errors.notFound, detail: 'bot not found' },\n        });\n      }\n      return this._origin.getRTCPeerConnection(bot);\n    } else {\n      const id = typeof selector === 'string' ? selector : selector.id;\n      return this._publication.getRTCPeerConnection(id);\n    }\n  }\n\n  getConnectionState(selector: string | RoomMember): TransportConnectionState {\n    if (this._origin) {\n      const bot = this._origin.subscriptions.find(\n        (s) => s.subscriber.subtype === SfuBotMember.subtype\n      )?.subscriber;\n      if (!bot) {\n        throw createError({\n          operationName: 'RoomPublicationImpl.getConnectionState',\n          room: this._room,\n          path,\n          info: { ...errors.notFound, detail: 'bot not found' },\n        });\n      }\n      return this._origin.getConnectionState(bot);\n    } else {\n      const id = typeof selector === 'string' ? selector : selector.id;\n      return this._publication.getConnectionState(id);\n    }\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      contentType: this.contentType,\n      metadata: this.metadata,\n      publisher: this.publisher,\n      subscriptions: this.subscriptions,\n      codecCapabilities: this.codecCapabilities,\n      encodings: this.encodings,\n      state: this.state,\n    };\n  }\n}\n\n/**\n * @description [japanese] Publicationの状態\n * - enabled : 配信中\n * - disabled : 配信停止中\n * - canceled : 配信終了\n * */\nexport type RoomPublicationState = PublicationState;\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","export const PACKAGE_VERSION = '1.9.0';\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  Codec,\n  ContentType,\n  Event,\n  RemoteAudioStream,\n  RemoteDataStream,\n  RemoteStream,\n  RemoteVideoStream,\n  SubscriptionImpl,\n  SubscriptionState,\n  TransportConnectionState,\n  WebRTCStats,\n} from '@skyway-sdk/core';\n\nimport { errors } from '../errors';\nimport { RemoteRoomMember } from '../member/remote/base';\nimport { RoomPublication } from '../publication';\nimport { RoomImpl } from '../room/base';\nimport { createError } from '../util';\n\nconst log = new Logger('packages/room/src/subscription/index.ts');\n\nexport interface RoomSubscription<\n  T extends\n    | RemoteVideoStream\n    | RemoteAudioStream\n    | RemoteDataStream = RemoteStream\n> {\n  readonly id: string;\n  readonly contentType: ContentType;\n  readonly publication: RoomPublication;\n  /**@description [japanese] このSubscriptionにStreamが紐つけられた時に発火する */\n  readonly onStreamAttached: Event<void>;\n  /**@description [japanese] このSubscriptionがUnsubscribeされた時に発火する */\n  readonly onCanceled: Event<void>;\n  /**\n   * @description [japanese] メディア通信の状態が変化した時に発火するイベント\n   */\n  onConnectionStateChanged: Event<TransportConnectionState>;\n  readonly subscriber: RemoteRoomMember;\n  /**\n   * @description [japanese] subscribeしているStreamの実体。\n   * ローカルでSubscribeしているSubscriptionでなければundefinedとなる\n   */\n  stream?: T;\n  codec?: Codec;\n  /**\n   * @description [japanese] 現在の優先エンコーディング設定\n   */\n  preferredEncoding?: string;\n  state: RoomSubscriptionState;\n  /**\n   * @description [japanese] unsubscribeする\n   */\n  cancel: () => Promise<void>;\n  /**@description [japanese] 優先して受信するエンコード設定を変更する */\n  changePreferredEncoding: (id: string) => void;\n  /**\n   * @experimental\n   * @description [japanese] RemoteStreamの通信の統計情報を取得する\n   */\n  getStats(): Promise<WebRTCStats>;\n  /**\n   * @experimental\n   * @description [japanese] 試験的なAPIです。今後インターフェースや仕様が変更される可能性があります\n   * @description [japanese] 対象のMemberとのRTCPeerConnectionを取得する。RTCPeerConnectionを直接操作すると SDK は正しく動作しなくなる可能性があります。\n   */\n  getRTCPeerConnection(): RTCPeerConnection | undefined;\n  /**\n   * @description [japanese] メディア通信の状態を取得\n   */\n  getConnectionState(): TransportConnectionState;\n}\n\n/**@internal */\nexport class RoomSubscriptionImpl<\n  T extends\n    | RemoteVideoStream\n    | RemoteAudioStream\n    | RemoteDataStream = RemoteStream\n> implements RoomSubscription\n{\n  readonly id: string;\n  readonly contentType: ContentType;\n  readonly publication: RoomPublication;\n  readonly subscriber: RemoteRoomMember;\n  readonly _context = this._room._context;\n\n  readonly onStreamAttached = new Event<void>();\n  readonly onCanceled = new Event<void>();\n  readonly onConnectionStateChanged = new Event<TransportConnectionState>();\n\n  constructor(\n    /**@private */\n    public _subscription: SubscriptionImpl<T>,\n    private _room: RoomImpl\n  ) {\n    this.id = _subscription.id;\n    this.contentType = _subscription.contentType;\n    this.publication = this._room._getPublication(_subscription.publication.id);\n    this.subscriber = this._room._getMember(_subscription.subscriber.id);\n\n    _subscription.onStreamAttached.pipe(this.onStreamAttached);\n    _subscription.onCanceled.pipe(this.onCanceled);\n    _subscription.onConnectionStateChanged.add((state) => {\n      log.debug('_subscription.onConnectionStateChanged', this.id, state);\n      this.onConnectionStateChanged.emit(state);\n    });\n  }\n\n  get stream() {\n    return this._subscription.stream;\n  }\n\n  get state() {\n    return this._subscription.state;\n  }\n\n  get codec() {\n    return this._subscription.codec;\n  }\n\n  get preferredEncoding() {\n    return this._subscription.preferredEncoding;\n  }\n\n  changePreferredEncoding(id: string) {\n    this._subscription.changePreferredEncoding(id);\n  }\n\n  async cancel() {\n    this._subscription.cancel().catch((error) => {\n      log.error('subscription.cancel', error, this.toJSON());\n    });\n    await this._room.onPublicationUnsubscribed\n      .watch(\n        (e) => e.subscription.id === this.id,\n        this._context.config.rtcApi.timeout\n      )\n      .catch((error) => {\n        throw createError({\n          operationName: 'RoomSubscriptionImpl.cancel',\n          context: this._context,\n          room: this._room,\n          info: { ...errors.timeout, detail: 'onPublicationUnsubscribed' },\n          error,\n          path: log.prefix,\n        });\n      });\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      contentType: this.contentType,\n      publication: this.publication,\n      codec: this.codec,\n    };\n  }\n\n  getStats(): Promise<WebRTCStats> {\n    return this._subscription.getStats();\n  }\n\n  getRTCPeerConnection(): RTCPeerConnection | undefined {\n    return this._subscription.getRTCPeerConnection();\n  }\n\n  getConnectionState(): TransportConnectionState {\n    return this._subscription.getConnectionState();\n  }\n}\n\nexport type RoomSubscriptionState = SubscriptionState;\n","import { Event, Events, Logger } from '@skyway-sdk/common';\nimport {\n  ChannelState,\n  LocalStream,\n  MemberMetadataUpdatedEvent,\n  PersonInit,\n  Publication,\n  SkyWayChannelImpl,\n  SubscriptionImpl,\n} from '@skyway-sdk/core';\nimport { v4 } from 'uuid';\n\nimport { errors } from '../errors';\nimport { RoomMember, RoomMemberImpl } from '../member';\nimport { LocalRoomMember, LocalRoomMemberImpl } from '../member/local/base';\nimport { RemoteRoomMember, RemoteRoomMemberImpl } from '../member/remote/base';\nimport { RoomPublication, RoomPublicationImpl } from '../publication';\nimport { RoomSubscription, RoomSubscriptionImpl } from '../subscription';\nimport { createError } from '../util';\nimport { RoomType } from '.';\nimport * as event from './event';\n\nconst log = new Logger('packages/room/src/room/base.ts');\n\nexport type RoomState = ChannelState;\n\nexport interface Room {\n  readonly type: RoomType;\n  readonly id: string;\n  readonly name?: string;\n  readonly metadata?: string;\n  readonly state: RoomState;\n  readonly disposed: boolean;\n\n  /**\n   * @description [japanese] Roomが閉じられたときに発火するイベント\n   */\n  readonly onClosed: Event<event.RoomClosedEvent>;\n  /**\n   * @description [japanese] RoomのMetadataが更新されたときに発火するイベント\n   */\n  readonly onMetadataUpdated: Event<event.RoomMetadataUpdatedEvent>;\n\n  /**\n   * @description [japanese] RoomにMemberが参加したときに発火するイベント\n   */\n  readonly onMemberJoined: Event<event.MemberJoinedEvent>;\n  /**\n   * @description [japanese] RoomからMemberが離脱したときに発火するイベント\n   */\n  readonly onMemberLeft: Event<event.MemberLeftEvent>;\n  /**\n   * @description [japanese] Memberの数が変化した時に発火するイベント\n   */\n  readonly onMemberListChanged: Event<event.ListChangedEvent>;\n  /**\n   * @description [japanese] Room上のMemberのメタデータが変更されたときに発火するイベント\n   */\n  readonly onMemberMetadataUpdated: Event<event.MemberMetadataUpdatedEvent>;\n\n  /**\n   * @description [japanese] RoomにStreamがPublishされたときに発火するイベント\n   */\n  readonly onStreamPublished: Event<event.StreamPublishedEvent>;\n  /**\n   * @description [japanese] RoomからStreamがUnPublishされたときに発火するイベント\n   */\n  readonly onStreamUnpublished: Event<event.StreamUnpublishedEvent>;\n  /**\n   * @description [japanese] Publicationの数が変化した時に発火するイベント\n   */\n  readonly onPublicationListChanged: Event<event.ListChangedEvent>;\n  /**\n   * @description [japanese] Room上のPublicationのメタデータが変更されたときに発火するイベント\n   */\n  readonly onPublicationMetadataUpdated: Event<event.PublicationMetadataUpdatedEvent>;\n  /**\n   * @description [japanese] Publicationが有効化された時に発火するイベント\n   */\n  readonly onPublicationEnabled: Event<event.PublicationEnabledEvent>;\n  /**\n   * @description [japanese] Publicationが無効化された時に発火するイベント\n   */\n  readonly onPublicationDisabled: Event<event.PublicationDisabledEvent>;\n\n  /**\n   * @description [japanese] Room上のStreamがSubscribeされたときに発火するイベント\n   */\n  readonly onPublicationSubscribed: Event<event.StreamSubscribedEvent>;\n  /**\n   * @description [japanese] Room上のStreamがUnSubscribeされたときに発火するイベント\n   */\n  readonly onPublicationUnsubscribed: Event<event.StreamUnsubscribedEvent>;\n  /**\n   * @description [japanese] Subscriptionの数が変化した時に発火するイベント\n   */\n  readonly onSubscriptionListChanged: Event<event.ListChangedEvent>;\n\n  /**\n   * @description [japanese] Roomに参加しているMemberの一覧を取得する\n   */\n  readonly members: RemoteRoomMember[];\n  /**\n   * @description [japanese] RoomにPublishされているStreamのPublicationの一覧を取得する\n   */\n  readonly publications: RoomPublication[];\n  /**\n   * @description [japanese] Room上のStreamのSubscriptionの一覧を取得する\n   */\n  readonly subscriptions: RoomSubscription[];\n  localRoomMember?: LocalRoomMember;\n\n  /**\n   * @description [japanese] RoomにMemberを追加する\n   */\n  join: (memberInit?: RoomMemberInit) => Promise<LocalRoomMember>;\n  /**\n   * @description [japanese] RoomからMemberを退室させる\n   */\n  leave: (member: RoomMember) => Promise<void>;\n  /**\n   * @description [japanese] 別のRoomのMemberを移動させる\n   */\n  moveRoom: (member: LocalRoomMember) => Promise<LocalRoomMember>;\n  /**\n   * @description [japanese] Roomのmetadataを更新する\n   */\n  updateMetadata: (metadata: string) => Promise<void>;\n  /**\n   * @description [japanese] Roomを閉じる\n   */\n  close: () => Promise<void>;\n  /**\n   * @description [japanese] Roomを閉じずにRoomインスタンスの利用を終了し次のリソースを解放する。\n   * - サーバとの通信\n   * - イベントリスナー\n   * - LocalMemberのインスタンス\n   */\n  dispose: () => Promise<void>;\n}\n\n/**@internal */\nexport abstract class RoomImpl implements Room {\n  readonly type: RoomType;\n  protected _members: { [memberId: string]: RemoteRoomMemberImpl } = {};\n  /**@private */\n  _getMember(id: string) {\n    return this._members[id];\n  }\n  protected _publications: { [publicationId: string]: RoomPublicationImpl } =\n    {};\n  /**@private */\n  _getPublication(id: string) {\n    return this._publications[id];\n  }\n  /**@private */\n  _addPublication<T extends LocalStream>(p: Publication): RoomPublication<T> {\n    const exist = this._publications[p.id];\n    if (exist) {\n      return exist as RoomPublicationImpl<T>;\n    }\n\n    const publication = new RoomPublicationImpl<T>(p, this);\n    this._publications[p.id] = publication;\n    return publication;\n  }\n  protected _subscriptions: { [subscriptionId: string]: RoomSubscriptionImpl } =\n    {};\n  /**@private */\n  _getSubscription(id: string) {\n    return this._subscriptions[id];\n  }\n  /**@private */\n  _addSubscription(s: SubscriptionImpl) {\n    const exist = this._subscriptions[s.id];\n    if (exist) {\n      return exist;\n    }\n\n    const subscription = new RoomSubscriptionImpl(s, this);\n    this._subscriptions[s.id] = subscription;\n    return subscription;\n  }\n\n  localRoomMember?: LocalRoomMemberImpl;\n\n  readonly _context = this._channel._context;\n  private readonly _events = new Events();\n  readonly onClosed = this._events.make<event.RoomClosedEvent>();\n  readonly onMetadataUpdated =\n    this._events.make<event.RoomMetadataUpdatedEvent>();\n\n  readonly onMemberJoined = this._events.make<event.MemberJoinedEvent>();\n  readonly onMemberLeft = this._events.make<event.MemberLeftEvent>();\n  readonly onMemberListChanged = this._events.make<event.ListChangedEvent>();\n  readonly onMemberMetadataUpdated =\n    this._events.make<event.MemberMetadataUpdatedEvent>();\n\n  readonly onStreamPublished = this._events.make<event.StreamPublishedEvent>();\n  readonly onStreamUnpublished =\n    this._events.make<event.StreamUnpublishedEvent>();\n  readonly onPublicationListChanged =\n    this._events.make<event.ListChangedEvent>();\n  readonly onPublicationMetadataUpdated =\n    this._events.make<event.PublicationMetadataUpdatedEvent>();\n  readonly onPublicationEnabled =\n    this._events.make<event.PublicationEnabledEvent>();\n  readonly onPublicationDisabled =\n    this._events.make<event.PublicationDisabledEvent>();\n\n  readonly onPublicationSubscribed =\n    this._events.make<event.StreamSubscribedEvent>();\n  readonly onPublicationUnsubscribed =\n    this._events.make<event.StreamUnsubscribedEvent>();\n  readonly onSubscriptionListChanged =\n    this._events.make<event.ListChangedEvent>();\n\n  get id() {\n    return this._channel.id;\n  }\n\n  get name() {\n    return this._channel.name;\n  }\n\n  get metadata() {\n    return this._channel.metadata;\n  }\n\n  get state() {\n    return this._channel.state as RoomState;\n  }\n\n  get disposed() {\n    return this._channel.disposed;\n  }\n\n  constructor(type: RoomType, public _channel: SkyWayChannelImpl) {\n    this.type = type;\n\n    this._channel.onClosed.pipe(this.onClosed);\n    this._channel.onMetadataUpdated.pipe(this.onMetadataUpdated);\n    this._channel.onMemberMetadataUpdated.add((e) => {\n      this._handleOnMemberMetadataUpdate(e);\n    });\n  }\n\n  private _handleOnMemberMetadataUpdate(e: MemberMetadataUpdatedEvent) {\n    const member = this._getMember(e.member.id);\n    this.onMemberMetadataUpdated.emit({ member, metadata: e.metadata });\n  }\n\n  protected abstract setChannelState(): void;\n\n  protected abstract setChannelListener(): void;\n\n  get members(): RemoteRoomMember[] {\n    return Object.values(this._members);\n  }\n\n  get publications(): RoomPublication[] {\n    return Object.values(this._publications);\n  }\n\n  get subscriptions(): RoomSubscription[] {\n    return Object.values(this._subscriptions);\n  }\n\n  protected async joinChannel(roomMemberInit: RoomMemberInit = {}) {\n    if (this.state !== 'opened') {\n      throw createError({\n        operationName: 'RoomImpl.joinChannel',\n        context: this._context,\n        room: this,\n        info: errors.roomNotOpened,\n        path: log.prefix,\n      });\n    }\n\n    roomMemberInit.name = roomMemberInit.name ?? v4();\n    const local = await this._channel.join(roomMemberInit);\n\n    if (!this._getMember(local.id)) {\n      await this.onMemberJoined\n        .watch((e) => {\n          return (e.member as RoomMemberImpl)._member.id === local.id;\n        }, this._context.config.rtcApi.timeout)\n        .catch((error) => {\n          throw createError({\n            operationName: 'RoomImpl.joinChannel',\n            context: this._context,\n            room: this,\n            info: { ...errors.timeout, detail: 'RoomImpl onMemberJoined' },\n            path: log.prefix,\n            error,\n          });\n        });\n    }\n    return local;\n  }\n\n  abstract join(memberInit?: RoomMemberInit): Promise<LocalRoomMember>;\n\n  async leave(member: RoomMember) {\n    await this._channel.leave((member as RoomMemberImpl)._member);\n  }\n\n  async moveRoom(member: LocalRoomMember) {\n    await this._channel.moveChannel((member as LocalRoomMemberImpl)._local);\n    member._updateRoom(this);\n    return member;\n  }\n\n  updateMetadata(metadata: string) {\n    return this._channel.updateMetadata(metadata);\n  }\n\n  async close() {\n    await this._channel.close();\n  }\n\n  async dispose() {\n    return this._channel.dispose();\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      id: this.id,\n      name: this.name,\n      metadata: this.metadata,\n      members: this.members,\n      publications: this.publications,\n      subscriptions: this.subscriptions,\n    };\n  }\n}\n\nexport type RoomMemberInit = PersonInit;\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  LocalPersonAdapter,\n  Member,\n  Publication,\n  SkyWayChannelImpl,\n  Subscription,\n  SubscriptionImpl,\n} from '@skyway-sdk/core';\n\nimport {\n  LocalP2PRoomMember,\n  LocalP2PRoomMemberImpl,\n} from '../member/local/p2p';\nimport { RemoteRoomMemberImpl } from '../member/remote/base';\nimport { Room, RoomImpl, RoomMemberInit } from './base';\n\nconst log = new Logger('packages/room/src/room/p2p.ts');\n\nexport interface P2PRoom extends Room {\n  /**\n   * @description [japanese] RoomにMemberを参加させる\n   */\n  join: (memberInit?: RoomMemberInit) => Promise<LocalP2PRoomMember>;\n}\n\n/**@internal */\nexport class P2PRoomImpl extends RoomImpl implements P2PRoom {\n  localRoomMember?: LocalP2PRoomMemberImpl;\n\n  constructor(channel: SkyWayChannelImpl) {\n    super('p2p', channel);\n\n    this.setChannelState();\n    this.setChannelListener();\n  }\n\n  protected setChannelState() {\n    this._channel.members.forEach((m) => {\n      const member = new RemoteRoomMemberImpl(m, this);\n      this._members[m.id] = member;\n    });\n    this._channel.publications.forEach((p) => {\n      this._addPublication(p);\n    });\n    this._channel.subscriptions.forEach((s) => {\n      this._addSubscription(s as SubscriptionImpl);\n    });\n  }\n\n  protected setChannelListener() {\n    this._channel.onMemberJoined.add((e) => this._handleOnMemberJoin(e.member));\n    this._channel.onMemberLeft.add((e) => this._handleOnMemberLeft(e.member));\n\n    this._channel.onStreamPublished.add((e) =>\n      this._handleOnStreamPublish(e.publication)\n    );\n    this._channel.onStreamUnpublished.add((e) =>\n      this._handleOnStreamUnpublish(e.publication)\n    );\n    this._channel.onPublicationMetadataUpdated.add((e) => {\n      this._handleOnPublicationMetadataUpdate(e.publication);\n    });\n    this._channel.onPublicationEnabled.add((e) => {\n      this._handleOnPublicationEnabled(e.publication);\n    });\n    this._channel.onPublicationDisabled.add((e) => {\n      this._handleOnPublicationDisabled(e.publication);\n    });\n\n    this._channel.onPublicationSubscribed.add((e) =>\n      this._handleOnStreamSubscribe(e.subscription as SubscriptionImpl)\n    );\n    this._channel.onPublicationUnsubscribed.add((e) =>\n      this._handleOnStreamUnsubscribe(e.subscription)\n    );\n  }\n\n  private _handleOnMemberJoin(m: Member) {\n    if (this._getMember(m.id)) {\n      return;\n    }\n\n    const member = new RemoteRoomMemberImpl(m, this);\n    this._members[m.id] = member;\n    this.onMemberJoined.emit({ member });\n    this.onMemberListChanged.emit({});\n  }\n\n  private _handleOnMemberLeft(m: Member) {\n    const member = this._getMember(m.id);\n    delete this._members[m.id];\n    member._dispose();\n\n    this.onMemberLeft.emit({ member });\n    this.onMemberListChanged.emit({});\n  }\n\n  private _handleOnStreamPublish(p: Publication) {\n    if (this._getPublication(p.id)) {\n      return;\n    }\n\n    const publication = this._addPublication(p);\n\n    this.onStreamPublished.emit({ publication });\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _handleOnStreamUnpublish(p: Publication) {\n    const publication = this._getPublication(p.id);\n    delete this._publications[p.id];\n\n    this.onStreamUnpublished.emit({ publication });\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _handleOnPublicationMetadataUpdate(p: Publication) {\n    const publication = this._getPublication(p.id);\n    this.onPublicationMetadataUpdated.emit({\n      publication,\n      metadata: publication.metadata!,\n    });\n  }\n\n  private _handleOnPublicationEnabled(p: Publication) {\n    const publication = this._getPublication(p.id);\n    this.onPublicationEnabled.emit({ publication });\n  }\n\n  private _handleOnPublicationDisabled(p: Publication) {\n    const publication = this._getPublication(p.id);\n    this.onPublicationDisabled.emit({ publication });\n  }\n\n  private _handleOnStreamSubscribe(s: SubscriptionImpl) {\n    if (this._getSubscription(s.id)) {\n      return;\n    }\n\n    const subscription = this._addSubscription(s);\n\n    this.onPublicationSubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  private _handleOnStreamUnsubscribe(s: Subscription) {\n    const subscription = this._getSubscription(s.id);\n    delete this._subscriptions[s.id];\n\n    this.onPublicationUnsubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  async join(memberInit: RoomMemberInit = {}) {\n    const local = await this.joinChannel(memberInit);\n\n    const localRoomMember = new LocalP2PRoomMemberImpl(\n      local as LocalPersonAdapter,\n      this\n    );\n    log.debug('member joined', memberInit);\n    this.localRoomMember = localRoomMember;\n    localRoomMember.onLeft.once(() => {\n      this.localRoomMember = undefined;\n    });\n\n    return localRoomMember;\n  }\n}\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  LocalPersonAdapter,\n  Member,\n  PublicationImpl,\n  SkyWayChannelImpl,\n  SkyWayContext,\n  SubscriptionImpl,\n} from '@skyway-sdk/core';\nimport { SfuBotMember, SfuBotPlugin } from '@skyway-sdk/sfu-bot';\n\nimport {\n  LocalSFURoomMember,\n  LocalSFURoomMemberImpl,\n} from '../member/local/sfu';\nimport { RemoteRoomMemberImpl } from '../member/remote/base';\nimport { RoomPublicationImpl } from '../publication';\nimport { Room, RoomImpl, RoomMemberInit } from './base';\n\nconst log = new Logger('packages/room/src/room/sfu.ts');\n\nexport interface SfuRoom extends Room {\n  /**@description [japanese] SfuRoomにMemberを参加させる */\n  join: (memberInit?: RoomMemberInit) => Promise<LocalSFURoomMember>;\n}\n\n/**@internal */\n\nexport class SfuRoomImpl extends RoomImpl implements SfuRoom {\n  static async Create(context: SkyWayContext, channel: SkyWayChannelImpl) {\n    const plugin = context.plugins.find(\n      (p) => p.subtype === 'sfu'\n    ) as SfuBotPlugin;\n\n    const bot = channel.members.find((m) => m.subtype === SfuBotMember.subtype);\n    if (!bot) {\n      await plugin.createBot(channel);\n    }\n\n    const room = new SfuRoomImpl(channel, plugin);\n    return room;\n  }\n\n  localRoomMember?: LocalSFURoomMemberImpl;\n\n  private constructor(\n    channel: SkyWayChannelImpl,\n    readonly _plugin: SfuBotPlugin\n  ) {\n    super('sfu', channel);\n\n    this.setChannelState();\n    this.setChannelListener();\n  }\n\n  protected setChannelState() {\n    this._channel.members.forEach((m) => {\n      if (m.type === 'bot') {\n        return;\n      }\n      const member = new RemoteRoomMemberImpl(m, this);\n      this._members[m.id] = member;\n    });\n    this._channel.publications.forEach((p) => {\n      if (!p.origin) {\n        return;\n      }\n\n      this._addPublication(p);\n    });\n    this._channel.subscriptions.forEach((s) => {\n      if (s.subscriber.type === 'bot') {\n        return;\n      }\n      this._addSubscription(s as SubscriptionImpl);\n    });\n  }\n\n  protected setChannelListener() {\n    this._channel.onMemberJoined.add((e) => this._handleOnMemberJoin(e.member));\n    this._channel.onMemberLeft.add((e) => this._handleOnMemberLeft(e.member));\n\n    this._channel.onStreamPublished.add((e) => {\n      this._handleOnStreamPublish(e.publication as PublicationImpl);\n    });\n    this._channel.onStreamUnpublished.add((e) =>\n      this._handleOnStreamUnpublish(e.publication as PublicationImpl)\n    );\n    this._channel.onPublicationMetadataUpdated.add((e) => {\n      this._handleOnPublicationMetadataUpdate(e.publication as PublicationImpl);\n    });\n    this._channel.onPublicationEnabled.add((e) => {\n      this._handleOnPublicationEnabled(e.publication as PublicationImpl);\n    });\n    this._channel.onPublicationDisabled.add((e) => {\n      this._handleOnPublicationDisabled(e.publication as PublicationImpl);\n    });\n\n    this._channel.onPublicationSubscribed.add((e) => {\n      this._handleOnStreamSubscribe(e.subscription as SubscriptionImpl);\n    });\n    this._channel.onPublicationUnsubscribed.add((e) =>\n      this._handleOnStreamUnsubscribe(e.subscription as SubscriptionImpl)\n    );\n  }\n\n  private _handleOnMemberJoin(m: Member) {\n    if (m.type === 'bot') {\n      return;\n    }\n    const member = new RemoteRoomMemberImpl(m, this);\n    this._members[m.id] = member;\n\n    this.onMemberJoined.emit({ member });\n    this.onMemberListChanged.emit({});\n  }\n\n  private _handleOnMemberLeft(m: Member) {\n    const member = this._getMember(m.id);\n    if (!member) {\n      // should be sfu\n      return;\n    }\n\n    delete this._members[m.id];\n    member._dispose();\n\n    this.onMemberLeft.emit({ member });\n    this.onMemberListChanged.emit({});\n  }\n\n  private _handleOnStreamPublish(p: PublicationImpl) {\n    if (!p.origin?.id) {\n      return;\n    }\n\n    const publication = this._addPublication(p);\n    this.onStreamPublished.emit({ publication });\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _handleOnStreamUnpublish(p: PublicationImpl) {\n    if (!p.origin?.id) {\n      return;\n    }\n\n    const publication = this._getPublication(p.id);\n    delete this._publications[p.id];\n\n    this.onStreamUnpublished.emit({ publication });\n    this.onPublicationListChanged.emit({});\n  }\n\n  private _getRelayedPublication(publicationId: string) {\n    const relayed = (this.publications as RoomPublicationImpl[]).find(\n      (p) => p._publication.origin?.id === publicationId\n    );\n    return relayed;\n  }\n\n  private _handleOnPublicationMetadataUpdate(p: PublicationImpl) {\n    const publication = this._getRelayedPublication(p.id);\n    if (!publication) return;\n\n    this.onPublicationMetadataUpdated.emit({\n      publication,\n      metadata: publication.metadata!,\n    });\n  }\n\n  private _handleOnPublicationEnabled(p: PublicationImpl) {\n    const publication = this._getRelayedPublication(p.id);\n    if (!publication) return;\n\n    this.onPublicationEnabled.emit({ publication });\n  }\n\n  private _handleOnPublicationDisabled(p: PublicationImpl) {\n    const publication = this._getRelayedPublication(p.id);\n    if (!publication) return;\n\n    this.onPublicationDisabled.emit({ publication });\n  }\n\n  private _handleOnStreamSubscribe(s: SubscriptionImpl) {\n    if (s.subscriber.type === 'bot') {\n      return;\n    }\n    const subscription = this._addSubscription(s);\n    this.onPublicationSubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  private _handleOnStreamUnsubscribe(s: SubscriptionImpl) {\n    if (s.subscriber.type === 'bot') {\n      return;\n    }\n    const subscription = this._getSubscription(s.id);\n    delete this._subscriptions[s.id];\n\n    this.onPublicationUnsubscribed.emit({ subscription });\n    this.onSubscriptionListChanged.emit({});\n  }\n\n  async join(memberInit: RoomMemberInit = {}) {\n    const local = await this.joinChannel({\n      ...memberInit,\n      disableSignaling: true,\n    });\n\n    const localRoomMember = new LocalSFURoomMemberImpl(\n      local as LocalPersonAdapter,\n      this\n    );\n    this.localRoomMember = localRoomMember;\n    localRoomMember.onLeft.once(() => {\n      this.localRoomMember = undefined;\n    });\n\n    log.debug('member joined', memberInit);\n    return localRoomMember;\n  }\n}\n","import { Logger } from '@skyway-sdk/common';\nimport {\n  createError,\n  SkyWayChannel,\n  SkyWayChannelImpl,\n  SkyWayContext,\n} from '@skyway-sdk/core';\nimport {\n  SfuApiOptions,\n  SfuBotPlugin,\n  SfuBotPluginOptions,\n} from '@skyway-sdk/sfu-bot';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport { errors } from '../errors';\nimport { PACKAGE_VERSION } from '../version';\nimport { P2PRoom, P2PRoomImpl } from './p2p';\nimport { SfuRoom, SfuRoomImpl } from './sfu';\n\nconst log = new Logger('packages/room/src/room/index.ts');\n\nexport { SfuApiOptions, SfuBotPluginOptions };\n\nexport class SkyWayRoom {\n  /**@private */\n  constructor() {}\n\n  /**\n   * @description [japanese] Roomの作成\n   */\n  static Create = async <Init extends RoomInit>(\n    context: SkyWayContext,\n    init: Init\n  ) => {\n    log.info('room created', {\n      operationName: 'SkyWayRoom._Factory',\n      sdkName: 'room',\n      sdkVersion: PACKAGE_VERSION,\n      init,\n    });\n\n    const plugin = new SfuBotPlugin((init as SfuRoomInit)?.options?.sfu);\n    context.registerPlugin(plugin);\n\n    const channel = await SkyWayChannel.Create(context, {\n      name: init.name ?? uuidV4(),\n      metadata: init.metadata,\n    });\n    const room = await SkyWayRoom._Factory(\n      context,\n      init.type,\n      channel as SkyWayChannelImpl\n    );\n    return room as Init['type'] extends 'sfu' ? SfuRoom : P2PRoom;\n  };\n\n  /**\n   * @description [japanese] 既存のRoomの取得\n   */\n  static Find = async <Type extends RoomType>(\n    context: SkyWayContext,\n    query: { id?: string; name?: string },\n    roomType: Type,\n    options?: Type extends 'sfu' ? SfuRoomOptions : void\n  ) => {\n    const plugin = new SfuBotPlugin(\n      (options as SfuRoomOptions | undefined)?.sfu\n    );\n    context.registerPlugin(plugin);\n\n    const channel = await SkyWayChannel.Find(context, query);\n    const room = await SkyWayRoom._Factory(\n      context,\n      roomType,\n      channel as SkyWayChannelImpl\n    );\n    return room as Type extends 'sfu' ? SfuRoom : P2PRoom;\n  };\n\n  /**\n   * @description [japanese] Roomの取得を試み、存在しなければ作成する\n   */\n  static FindOrCreate = async <Init extends RoomInit>(\n    context: SkyWayContext,\n    init: Init\n  ) => {\n    const plugin = new SfuBotPlugin((init as SfuRoomInit)?.options?.sfu);\n    context.registerPlugin(plugin);\n\n    const channel = await SkyWayChannel.FindOrCreate(context, {\n      ...init,\n    });\n    const room = await SkyWayRoom._Factory(\n      context,\n      init.type,\n      channel as SkyWayChannelImpl\n    );\n    return room as Init['type'] extends 'p2p' ? P2PRoom : SfuRoom;\n  };\n\n  private static _Factory = async (\n    context: SkyWayContext,\n    roomType: RoomType,\n    channel: SkyWayChannelImpl\n  ): Promise<P2PRoom | SfuRoom> => {\n    switch (roomType) {\n      case 'p2p':\n        return new P2PRoomImpl(channel) as P2PRoom;\n      case 'sfu':\n        return (await SfuRoomImpl.Create(context, channel)) as SfuRoom;\n      default:\n        throw createError({\n          operationName: 'SkyWayRoom._Factory',\n          context,\n          channel,\n          info: errors.notImplemented,\n          path: log.prefix,\n        });\n    }\n  };\n}\n\nexport type RoomInit = P2PRoomInit | SfuRoomInit;\n\nexport type RoomInitBase = {\n  name?: string;\n  metadata?: string;\n  type: RoomType;\n};\n\nexport type P2PRoomInit = RoomInitBase & {\n  type: 'p2p';\n};\n\nexport type SfuRoomOptions = { sfu: Partial<SfuBotPluginOptions> };\n\nexport type SfuRoomInit = RoomInitBase & {\n  type: 'sfu';\n  options?: Partial<SfuRoomOptions>;\n};\n\nexport const roomTypes = ['sfu', 'p2p'] as const;\nexport type RoomType = (typeof roomTypes)[number];\n","import {\n  nowInSec,\n  SkyWayAuthToken,\n  SkyWayContext,\n  SkyWayRoom,\n  SkyWayStreamFactory,\n  uuidV4 } from\n'@skyway-sdk/room';\n\n// import { appId, secret } from './env';\nconst appId = '3bf55f28-4d2d-4dca-9d3b-7278400ace62';\n\nconst secret = '2EswIdxSFAYcRHWyc/HHf8zTltBUxgueIXk8pJhyom0=';\n\nconst token = new SkyWayAuthToken({\n  jti: uuidV4(),\n  iat: nowInSec(),\n  exp: nowInSec() + 60 * 60 * 24,\n  scope: {\n    app: {\n      id: appId,\n      turn: true,\n      actions: ['read'],\n      channels: [\n      {\n        id: '*',\n        name: '*',\n        actions: ['write'],\n        members: [\n        {\n          id: '*',\n          name: '*',\n          actions: ['write'],\n          publication: {\n            actions: ['write']\n          },\n          subscription: {\n            actions: ['write']\n          }\n        }],\n\n        sfuBots: [\n        {\n          actions: ['write'],\n          forwardings: [\n          {\n            actions: ['write']\n          }]\n\n        }]\n\n      }]\n\n    }\n  }\n}).encode(secret);\n\nvoid (async () => {\n  const localVideo = document.getElementById('local-video');\n  const buttonArea = document.getElementById('button-area');\n  const remoteMediaArea = document.getElementById('remote-media-area');\n  const channelNameInput = document.getElementById(\n    'channel-name'\n  );\n  const dataStreamInput = document.getElementById(\n    'data-stream'\n  );\n  const myId = document.getElementById('my-id');\n  const joinButton = document.getElementById('join');\n  const writeButton = document.getElementById('write');\n\n  const { audio, video } =\n  await SkyWayStreamFactory.createMicrophoneAudioAndCameraStream();\n  video.attach(localVideo);\n  await localVideo.play();\n\n  const data = await SkyWayStreamFactory.createDataStream();\n  writeButton.onclick = () => {\n    data.write(dataStreamInput.value);\n    dataStreamInput.value = '';\n  };\n\n  joinButton.onclick = async () => {\n    if (channelNameInput.value === '') return;\n\n    const context = await SkyWayContext.Create(token);\n    const channel = await SkyWayRoom.FindOrCreate(context, {\n      type: 'p2p',\n      name: channelNameInput.value\n    });\n    const me = await channel.join();\n\n    myId.textContent = me.id;\n\n    await me.publish(audio);\n    await me.publish(video);\n    await me.publish(data);\n\n    const subscribeAndAttach = (publication) => {\n      if (publication.publisher.id === me.id) return;\n\n      const subscribeButton = document.createElement('button');\n      subscribeButton.textContent = `${publication.publisher.id}: ${publication.contentType}`;\n      buttonArea.appendChild(subscribeButton);\n\n      subscribeButton.onclick = async () => {\n        const { stream } = await me.subscribe(publication.id);\n\n        switch (stream.contentType) {\n          case 'video':\n            {\n              const elm = document.createElement('video');\n              elm.playsInline = true;\n              elm.autoplay = true;\n              stream.attach(elm);\n              remoteMediaArea.appendChild(elm);\n            }\n            break;\n          case 'audio':\n            {\n              const elm = document.createElement('audio');\n              elm.controls = true;\n              elm.autoplay = true;\n              stream.attach(elm);\n              remoteMediaArea.appendChild(elm);\n            }\n            break;\n          case 'data':{\n              const elm = document.createElement('div');\n              remoteMediaArea.appendChild(elm);\n              elm.innerText = 'data\\n';\n              stream.onData.add((data) => {\n                elm.innerText += data + '\\n';\n              });\n            }\n        }\n      };\n    };\n\n    channel.publications.forEach(subscribeAndAttach);\n    channel.onStreamPublished.add((e) => subscribeAndAttach(e.publication));\n  };\n})();\n"],"names":["module","exports","e","t","r","n","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","getFirstMatch","match","length","getSecondMatch","matchAndReturnConst","test","getWindowsVersionName","getMacOSVersionName","split","splice","map","parseInt","push","getAndroidVersionName","getVersionPrecision","compareVersions","a","Math","max","u","Array","join","reverse","min","find","assign","arguments","apply","concat","keys","forEach","getBrowserAlias","BROWSER_ALIASES_MAP","getBrowserTypeByAlias","BROWSER_MAP","ENGINE_MAP","OS_MAP","PLATFORMS_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","focus","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","tablet","mobile","desktop","tv","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","configurable","writable","key","getParser","Error","parse","getResult","this","_ua","parsedResult","getUA","parseBrowser","browser","some","describe","getBrowser","getBrowserName","String","name","toLowerCase","getBrowserVersion","version","getOS","os","parseOS","getOSName","getOSVersion","getPlatform","platform","parsePlatform","getPlatformType","type","getEngine","engine","parseEngine","getEngineName","satisfies","isOS","isPlatform","f","h","isBrowser","compareVersion","substr","indexOf","isEngine","is","search","versionName","replace","vendor","model","Number","$cf19c7c1136b7a47$export$68d8715fc104d294","$cf19c7c1136b7a47$export$98e6a39c04603d36","$cf19c7c1136b7a47$export$ef804106d1571703","$cf19c7c1136b7a47$export$dfeb1045bffe1ff8","$cf19c7c1136b7a47$export$326874e595fb968b","$cf19c7c1136b7a47$export$705b3971a35c200","$cf19c7c1136b7a47$export$1ca60456d3287987","$cf19c7c1136b7a47$export$c61d0126da4c310f","$hIlG6","$4YW3H","parseParams","parseFmtpConfig","parsePayloads","parseRemoteCandidates","parseImageAttributes","parseSimulcastStreamList","$3a09cd469799795d$export$98e6a39c04603d36","$3a09cd469799795d$export$ef804106d1571703","$3a09cd469799795d$export$dfeb1045bffe1ff8","$3a09cd469799795d$export$326874e595fb968b","$3a09cd469799795d$export$705b3971a35c200","$3a09cd469799795d$export$1ca60456d3287987","$3a09cd469799795d$export$c61d0126da4c310f","$3a09cd469799795d$var$toIntIfInt","v","$3a09cd469799795d$var$parseReg","obj","location","content","needsBlank","names","keyLocation","rawName","$3a09cd469799795d$var$attachProperties","reg","$3a09cd469799795d$var$validLine","RegExp","sdp","session","media","filter","slice","rtp","fmtp","j","$11pl2","$3a09cd469799795d$var$paramReducer","acc","expr","undefined","str","reduce","toString","candidates","parts","component","ip","port","item","substring","stream","format","scid","paused","$0be98a153c19b76c$var$grammar","z","b","encoding","rate","address","subtype","direction","config","sessionConfig","raddr","tcptype","generation","attribute","maxMessageSize","params","dir2","clksrcExt","id","mediaClockValue","rateNumerator","rateDenominator","parcelRequire","$ce575c88deb79c97$var$formatRegExp","$ce575c88deb79c97$var$format","formatStr","args","len","x","arg","$ce575c88deb79c97$var$makeLine","Function","$ce575c88deb79c97$var$defaultOuterOrder","$ce575c88deb79c97$var$defaultInnerOrder","opts","mLine","payloads","outerOrder","innerOrder","el","window1","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","enumerize","arr","enums","toUpperCase","has","str1","str2","lowerize","trim","rgxMapper","ua","arrays","k","q","matches","regex","props","exec","strMapper","windowsVersionMap","ME","XP","Vista","RT","regexes","cpu","device","EDGE","UAParser","extensions","_navigator","navigator","userAgent","_uach","userAgentData","_rgxmap","mergedRegexes","extend","_isSelfNav","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","standalone","maxTouchPoints","_engine","_os","setUA","CPU","DEVICE","ENGINE","OS","define","amd","$","jQuery","Zepto","parser","set","result","prop","window","$gLvEw","freeExports","nodeType","freeModule","Buffer","isBuffer","$5rRpL","$737pP","$c34996a9eb4b4ac3$var$freeSelf","self","$c34996a9eb4b4ac3$var$root","$521e90d182ead579$var$freeGlobal","$parcel$global","freeProcess","process","nodeUtil","types","require","binding","$bISTF","formatArgs","useColors","namespace","humanize","diff","color","index","lastC","save","namespaces","storage","setItem","removeItem","error","load","getItem","__nwjs","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","$1","localStorage","$ce4fd8196cc634f7$var$localstorage","destroy","warned","warn","colors","log","debug","formatters","$ce4fd8196cc634f7$var$formatters","JSON","stringify","message","$888e632082466544$var$cachedSetTimeout","$888e632082466544$var$cachedClearTimeout","$888e632082466544$var$process","$888e632082466544$var$defaultSetTimout","$888e632082466544$var$defaultClearTimeout","$888e632082466544$var$runTimeout","fun","setTimeout","clearTimeout","$888e632082466544$var$currentQueue","$888e632082466544$var$queue","$888e632082466544$var$draining","$888e632082466544$var$queueIndex","$888e632082466544$var$cleanUpNextTick","$888e632082466544$var$drainQueue","timeout","run","marker","$888e632082466544$var$runClearTimeout","$888e632082466544$var$Item","array","$888e632082466544$var$noop","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","cwd","chdir","dir","umask","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","Date","ms","prev","coerce","unshift","formatter","val","selectColor","init","delimiter","newDebug","toNamespace","regexp","stack","disable","skips","enable","hash","charCodeAt","abs","$4cad86b83b3973f0$var$s","$4cad86b83b3973f0$var$m","$4cad86b83b3973f0$var$h","$4cad86b83b3973f0$var$d","$4cad86b83b3973f0$var$w","$4cad86b83b3973f0$var$y","$4cad86b83b3973f0$var$plural","msAbs","isPlural","round","options","parseFloat","$4cad86b83b3973f0$var$parse","isFinite","long","$4cad86b83b3973f0$var$fmtShort","$7c5fe71b772d407f$var$__createBinding","__createBinding","k2","desc","getOwnPropertyDescriptor","$7c5fe71b772d407f$var$__setModuleDefault","__setModuleDefault","$7c5fe71b772d407f$var$__importStar","__importStar","mod","$7c5fe71b772d407f$var$__importDefault","__importDefault","Device","detectDevice","$7c5fe71b772d407f$var$bowser_1","$7c5fe71b772d407f$var$utils","$7c5fe71b772d407f$var$ortc","$7c5fe71b772d407f$var$logger","$c2udJ","Logger","$7c5fe71b772d407f$var$detectDevice","product","RTCPeerConnection","RTCRtpTransceiver","ios","constructor","handlerName","handlerFactory","Handler","_loaded","_observer","$dTTZk","EnhancedEventEmitter","TypeError","_handlerFactory","$baRSe","UnsupportedError","$135Wf","Chrome111","createFactory","$l2f1z","Chrome74","$AFmm4","Chrome70","$b42iZ","Chrome67","$bUxiY","Chrome55","$9Radq","Firefox60","$abLM8","Safari12","$7Uaih","Safari11","$jC19f","Edge11","$dOLMn","ReactNativeUnifiedPlan","$42NYA","ReactNative","handler","_handlerName","close","_extendedRtpCapabilities","_recvRtpCapabilities","_canProduceByKind","audio","video","_sctpCapabilities","loaded","rtpCapabilities","InvalidStateError","sctpCapabilities","observer","async","routerRtpCapabilities","clone","validateRtpCapabilities","nativeRtpCapabilities","getNativeRtpCapabilities","getExtendedRtpCapabilities","canSend","getRecvRtpCapabilities","getNativeSctpCapabilities","validateSctpCapabilities","canProduce","kind","createSendTransport","iceParameters","iceCandidates","dtlsParameters","sctpParameters","iceServers","iceTransportPolicy","additionalSettings","proprietaryConstraints","appData","createTransport","createRecvTransport","isArray","transport","$lWpul","Transport","extendedRtpCapabilities","canProduceByKind","safeEmit","$8c3d1d1cd3ddebe7$var$__importDefault","$8c3d1d1cd3ddebe7$var$debug_1","$8c3d1d1cd3ddebe7$var$APP_NAME","prefix","_debug","_warn","_error","info","$a1ebd782911874c1$var$logger","$a1ebd782911874c1$var$EnhancedEventEmitter","$70Idx","EventEmitter","super","setMaxListeners","Infinity","eventName","numListeners","listenerCount","Boolean","listener","rawListeners","$51aad523d981c646$var$ReflectOwnKeys","$51aad523d981c646$var$R","Reflect","$51aad523d981c646$var$ReflectApply","target","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","$51aad523d981c646$var$NumberIsNaN","isNaN","$51aad523d981c646$var$EventEmitter","emitter","Promise","resolve","reject","errorListener","err","resolver","$51aad523d981c646$var$eventTargetAgnosticAddListener","flags","$51aad523d981c646$var$addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","$51aad523d981c646$var$defaultMaxListeners","$51aad523d981c646$var$checkListener","$51aad523d981c646$var$_getMaxListeners","that","defaultMaxListeners","$51aad523d981c646$var$_addListener","prepend","events","existing","warning","newListener","w","count","$51aad523d981c646$var$onceWrapper","fired","wrapFn","$51aad523d981c646$var$_onceWrap","state","wrapped","$51aad523d981c646$var$_listeners","unwrap","evlistener","ret","$51aad523d981c646$var$unwrapListeners","$51aad523d981c646$var$arrayClone","$51aad523d981c646$var$listenerCount","copy","addEventListener","wrapListener","removeEventListener","RangeError","getPrototypeOf","getMaxListeners","doError","er","context","list","position","originalListener","shift","pop","$51aad523d981c646$var$spliceOne","eventNames","$822a6b189be855e9$var$UnsupportedError","captureStackTrace","$822a6b189be855e9$var$InvalidStateError","generateRandomNumber","data","defaultValue","random","$81ae2cafbdcdbffd$var$__createBinding","$81ae2cafbdcdbffd$var$__setModuleDefault","$81ae2cafbdcdbffd$var$__importStar","canReceive","generateProbatorRtpParameters","reduceCodecs","getSendingRemoteRtpParameters","getSendingRtpParameters","validateSctpStreamParameters","validateSctpParameters","validateNumSctpStreams","validateRtcpParameters","validateRtpEncodingParameters","validateRtpHeaderExtensionParameters","validateRtpCodecParameters","validateRtpParameters","validateRtpHeaderExtension","validateRtcpFeedback","validateRtpCodecCapability","$81ae2cafbdcdbffd$var$h264","$81ae2cafbdcdbffd$var$utils","$81ae2cafbdcdbffd$var$RTP_PROBATOR_MID","$81ae2cafbdcdbffd$var$RTP_PROBATOR_SSRC","$81ae2cafbdcdbffd$var$RTP_PROBATOR_CODEC_PAYLOAD_TYPE","$81ae2cafbdcdbffd$var$validateRtpCodecCapability","codec","MimeTypeRegex","mimeType","mimeTypeMatch","preferredPayloadType","clockRate","channels","parameters","rtcpFeedback","fb","$81ae2cafbdcdbffd$var$validateRtcpFeedback","parameter","$81ae2cafbdcdbffd$var$validateRtpHeaderExtension","ext","uri","preferredId","preferredEncrypt","$81ae2cafbdcdbffd$var$validateRtpParameters","mid","codecs","$81ae2cafbdcdbffd$var$validateRtpCodecParameters","headerExtensions","$81ae2cafbdcdbffd$var$validateRtpHeaderExtensionParameters","encodings","$81ae2cafbdcdbffd$var$validateRtpEncodingParameters","rtcp","$81ae2cafbdcdbffd$var$validateRtcpParameters","payloadType","encrypt","ssrc","rid","rtx","dtx","scalabilityMode","cname","reducedSize","$81ae2cafbdcdbffd$var$validateNumSctpStreams","numStreams","MIS","$81ae2cafbdcdbffd$var$isRtxCodec","$81ae2cafbdcdbffd$var$matchCodecs","aCodec","bCodec","strict","modify","aMimeType","isSameProfile","selectedProfileLevelId","generateProfileLevelIdForAnswer","$81ae2cafbdcdbffd$var$matchHeaderExtensions","aExt","bExt","$81ae2cafbdcdbffd$var$reduceRtcpFeedback","codecA","codecB","reducedRtcpFeedback","aFb","matchingBFb","bFb","caps","streamId","orderedGiven","ordered","maxPacketLifeTime","maxRetransmits","label","protocol","localCaps","remoteCaps","remoteCodec","matchingLocalCodec","localCodec","extendedCodec","localPayloadType","localRtxPayloadType","remotePayloadType","remoteRtxPayloadType","localParameters","remoteParameters","matchingLocalRtxCodec","apt","matchingRemoteRtxCodec","remoteExt","matchingLocalExt","localExt","extendedExt","sendId","recvId","rtxCodec","extendedExtension","rtpParameters","capCodec","filteredCodecs","idx","videoRtpParameters","firstMediaCodec","$4cbfa69a638d59a1$export$acf736d909c24857","$4cbfa69a638d59a1$export$a84a4f48754ecafb","$4cbfa69a638d59a1$export$38e313d26bff4b8f","$4cbfa69a638d59a1$export$973f3fdfa505c525","$4cbfa69a638d59a1$export$f1606a1ed68222bf","$4cbfa69a638d59a1$export$20fe6e9764e3aae6","$4cbfa69a638d59a1$export$2e720d0366b6ecb3","$4cbfa69a638d59a1$export$5ea1c8fd5d8d29c1","$4cbfa69a638d59a1$export$ec8c4e8ea7c25d9","$4cbfa69a638d59a1$export$ead4d853f1e9de26","$4cbfa69a638d59a1$export$5fdaf78ba690c51c","$4cbfa69a638d59a1$export$65b1724cd762f75c","$4cbfa69a638d59a1$export$b6c749ef604d41f0","$4cbfa69a638d59a1$export$6603187220c5702b","$4cbfa69a638d59a1$export$8dc46d1dc69ec4fc","$4cbfa69a638d59a1$export$7d55605fe720a3d6","$4cbfa69a638d59a1$export$8a4f2c2fac358103","$4cbfa69a638d59a1$export$92f154f0b18e3e","$4cbfa69a638d59a1$export$b9e331319404ee06","$4cbfa69a638d59a1$export$6d093a8572e33a35","$4cbfa69a638d59a1$export$f79f6e29b1df65dc","$4cbfa69a638d59a1$export$3ebc0ecd1fbc2aa0","$4cbfa69a638d59a1$export$50c739764e229fe6","$4cbfa69a638d59a1$export$18a4cc1408ec3c89","$4cbfa69a638d59a1$export$b4fcde610589cc2e","$4cbfa69a638d59a1$export$371e74b62b2a109a","$4cbfa69a638d59a1$export$7456b8116544c250","$4cbfa69a638d59a1$export$1ed106f37a1dc9e0","$4cbfa69a638d59a1$var$debug","$4cbfa69a638d59a1$var$Level1_b","$4cbfa69a638d59a1$var$Level1","$4cbfa69a638d59a1$var$ProfileLevelId","profile","level","$4cbfa69a638d59a1$var$DefaultProfileLevelId","$4cbfa69a638d59a1$var$BitPattern","_mask","$4cbfa69a638d59a1$var$byteMaskString","_maskedValue","isMatch","$4cbfa69a638d59a1$var$ProfilePattern","profile_idc","profile_iop","$4cbfa69a638d59a1$var$ProfilePatterns","$4cbfa69a638d59a1$var$isLevelAsymmetryAllowed","level_asymmetry_allowed","profile_level_id_numeric","level_idc","pattern","profile_level_id","profile_idc_iop_string","levelStr","params1","params2","profile_level_id_1","profile_level_id_2","local_supported_params","remote_offered_params","local_profile_level_id","remote_profile_level_id","local_level","remote_level","min_level","$4cbfa69a638d59a1$var$isLessLevel","answer_level","$ff92c93d722c7bca$var$__createBinding","$ff92c93d722c7bca$var$__setModuleDefault","$ff92c93d722c7bca$var$__importStar","$ff92c93d722c7bca$var$__importDefault","$ff92c93d722c7bca$var$queue_microtask_1","$ff92c93d722c7bca$var$utils","$ff92c93d722c7bca$var$ortc","$ff92c93d722c7bca$var$logger","$ff92c93d722c7bca$var$ConsumerCreationTask","consumerOptions","promise","$ff92c93d722c7bca$var$Transport","_closed","_connectionState","_producers","Map","_consumers","_dataProducers","_dataConsumers","_probatorConsumerCreated","_awaitQueue","$cqCCv","AwaitQueue","_pendingConsumerTasks","_consumerCreationInProgress","_pendingPauseConsumers","_consumerPauseInProgress","_pendingResumeConsumers","_consumerResumeInProgress","_pendingCloseConsumers","_consumerCloseInProgress","_id","_direction","_maxSctpMessageSize","bundlePolicy","rtcpMuxPolicy","sdpSemantics","_handler","_appData","handleHandler","closed","connectionState","stop","producer","values","transportClosed","clear","consumer","dataProducer","dataConsumer","getTransportStats","restartIce","updateIceServers","track","codecOptions","stopTracks","disableTrackOnPause","zeroRtpOnPause","readyState","normalizedEncodings","normalizedEncoding","active","scaleResolutionDownBy","maxBitrate","maxFramerate","adaptivePtime","priority","networkPriority","localId","rtpSender","send","$gHM2j","Producer","handleProducer","stopSending","catch","error2","producerId","consumerCreationTask","createPendingConsumers","dataChannel","sctpStreamParameters","sendDataChannel","$3EMpA","DataProducer","handleDataProducer","dataProducerId","receiveDataChannel","$4BJcY","DataConsumer","handleDataConsumer","pendingConsumerTasks","videoConsumerForProbator","optionsList","task","trackId","results","receive","rtpReceiver","$ka6y2","Consumer","handleConsumer","probatorRtpParameters","then","pausePendingConsumers","size","pendingPauseConsumers","from","localIds","pauseReceiving","resumePendingConsumers","pendingResumeConsumers","resumeReceiving","closePendingConsumers","pendingCloseConsumers","stopReceiving","callback","errback","delete","pauseSending","resumeSending","replaceTrack","spatialLayer","setMaxSpatialLayer","setRtpEncodingParameters","getSenderStats","getReceiverStats","AwaitQueueRemovedTaskError","AwaitQueueStoppedError","$90c5dee13a4d1e83$var$logger","$90c5dee13a4d1e83$var$AwaitQueueStoppedError","$90c5dee13a4d1e83$var$AwaitQueueRemovedTaskError","pendingTasks","nextTaskId","stopping","pendingTask","enqueuedAt","now","executedAt","completed","nextPendingTask","execute","remove","taskIdx","dump","enqueuedTime","executionTime","$9fb8be149ffd54d5$var$__importDefault","$9fb8be149ffd54d5$var$debug_1","$9fb8be149ffd54d5$var$LIB_NAME","$52e7824866d78517$var$promise","queueMicrotask","cb","$c295ec8269216fae$var$logger","$c295ec8269216fae$var$Producer","_localId","_rtpSender","_track","_kind","_rtpParameters","_paused","_maxSpatialLayer","_stopTracks","_disableTrackOnPause","_zeroRtpOnPause","onTrackEnded","handleTrack","maxSpatialLayer","destroyTrack","pause","resume","$ead9d21f23eb5a00$var$logger","$ead9d21f23eb5a00$var$Consumer","_producerId","_rtpReceiver","$2a9aa90f75d9df4d$var$logger","$2a9aa90f75d9df4d$var$DataProducer","_dataChannel","_sctpStreamParameters","handleDataChannel","bufferedAmount","bufferedAmountLowThreshold","event","errorDetail","sctpCauseCode","$35adaf8644725691$var$logger","$35adaf8644725691$var$DataConsumer","_dataProducerId","binaryType","$0c3aad84cb32cf74$var$__createBinding","$0c3aad84cb32cf74$var$__setModuleDefault","$0c3aad84cb32cf74$var$__importStar","$0c3aad84cb32cf74$var$sdpTransform","$0c3aad84cb32cf74$var$utils","$0c3aad84cb32cf74$var$ortc","$0c3aad84cb32cf74$var$sdpCommonUtils","$0c3aad84cb32cf74$var$sdpUnifiedPlanUtils","$0c3aad84cb32cf74$var$ortcUtils","$0c3aad84cb32cf74$var$logger","$0c3aad84cb32cf74$var$SCTP_NUM_STREAMS","$0c3aad84cb32cf74$var$Chrome111","$iD6CH","HandlerInterface","static","_mapMidTransceiver","_sendStream","MediaStream","_hasDataChannelMediaSection","_nextSendSctpStreamId","_transportReady","_pc","pc","addTransceiver","offer","createOffer","sdpObject","extractRtpCapabilities","addNackSuppportForOpus","_remoteSdp","$hkM08","RemoteSdp","_sendingRtpParametersByKind","_sendingRemoteRtpParametersByKind","role","_forcedLocalDtlsRole","iceConnectionState","configuration","getConfiguration","setConfiguration","updateIceParameters","iceRestart","setLocalDescription","answer","getSdp","setRemoteDescription","createAnswer","getStats","_a","assertSendDirection","nextRid","maxTemporalLayers","temporalLayers","$dtyV5","sendingRtpParameters","sendingRemoteRtpParameters","mediaSectionIdx","getNextMediaSectionIdx","transceiver","streams","sendEncodings","localSdpObject","setupTransport","localDtlsRole","localDescription","offerMediaObject","getCname","newEncodings","getRtpEncodings","reuseMid","offerRtpParameters","answerRtpParameters","extmapAllowMixed","sender","removeTrack","closeMediaSection","pauseMediaSection","resumeSendingMediaSection","getParameters","setParameters","muxMediaSectionSimulcast","negotiated","createDataChannel","sendSctpAssociation","assertRecvDirection","mapLocalId","answerMediaObject","applyCodecParameters","write","getTransceivers","resumeReceivingMediaSection","receiveSctpAssociation","extractDtlsParameters","updateDtlsRole","$bfdaf0ca5e7c9fd9$var$__createBinding","$bfdaf0ca5e7c9fd9$var$__setModuleDefault","$bfdaf0ca5e7c9fd9$var$__importStar","$bfdaf0ca5e7c9fd9$var$sdpTransform","codecsMap","gotAudio","gotVideo","payload","rtcpFb","feedback","headerExtension","mediaObject","iceUfrag","fingerprint","setup","fingerprints","algorithm","ssrcCnameLine","ssrcs","line","spropStereo","stereo","addLegacySimulcast","Set","add","ssrcToRtxSsrc","ssrcGroups","semantics","rtxSsrc","ssrcMsidLine","firstSsrc","firstRtxSsrc","rtxSsrcs","$d90101be0e20a447$var$HandlerInterface","$c9e989f7f98564f3$var$__createBinding","$c9e989f7f98564f3$var$__setModuleDefault","$c9e989f7f98564f3$var$__importStar","$c9e989f7f98564f3$var$sdpTransform","$c9e989f7f98564f3$var$logger","plainRtpParameters","planB","_mediaSections","_midToIndex","_iceParameters","_iceCandidates","_dtlsParameters","_sctpParameters","_plainRtpParameters","_planB","_sdpObject","origin","ipVer","netType","sessionId","sessionVersion","username","timing","start","iceLite","icelite","msidSemantic","semantic","token","numFingerprints","groups","mids","ipVersion","mediaSection","setIceParameters","setDtlsRole","$hYBlf","AnswerMediaSection","_replaceMediaSection","_addMediaSection","planBReceive","OfferMediaSection","oldMediaSection","_findMediaSection","disableMediaSection","_firstMid","_regenerateBundleMids","muxSimulcastStreams","planBStopReceiving","oldDataChannelSpec","newMediaSection","getObject","$d165018a15c7a8cf$var$__createBinding","$d165018a15c7a8cf$var$__setModuleDefault","$d165018a15c7a8cf$var$__importStar","MediaSection","$d165018a15c7a8cf$var$sdpTransform","$d165018a15c7a8cf$var$utils","$d165018a15c7a8cf$var$MediaSection","_mediaObject","candidate","candidateObject","foundation","tcpType","endOfCandidates","iceOptions","usernameFragment","icePwd","password","simulcast","simulcast_03","rids","connection","$d165018a15c7a8cf$var$getCodecName","codecParameters","codecRtcpFeedback","opusStereo","opusFec","opusDtx","opusMaxPlaybackRate","opusMaxAverageBitrate","opusPtime","opusNack","videoGoogleStartBitrate","videoGoogleMaxBitrate","videoGoogleMinBitrate","offerCodec","useinbandfec","usedtx","maxplaybackrate","maxaveragebitrate","ptime","dir1","list1","rtcpMux","rtcpRsize","xGoogleFlag","sctpPort","sctpmap","app","sctpmapNumber","layers","raw","simulcastStreams","simulcastStream","simulcastFormat","simulcastFormats","msid","includes","group","$9cf91221b7fd095a$var$ScalabilityModeRegex","spatialLayers","$f505706a0084372e$var$__createBinding","$f505706a0084372e$var$__setModuleDefault","$f505706a0084372e$var$__importStar","$f505706a0084372e$var$sdpTransform","$f505706a0084372e$var$utils","$f505706a0084372e$var$ortc","$f505706a0084372e$var$sdpCommonUtils","$f505706a0084372e$var$sdpUnifiedPlanUtils","$f505706a0084372e$var$ortcUtils","$f505706a0084372e$var$logger","$f505706a0084372e$var$SCTP_NUM_STREAMS","$f505706a0084372e$var$Chrome74","hackVp9Svc","$06e3720e4774d73e$var$__createBinding","$06e3720e4774d73e$var$__setModuleDefault","$06e3720e4774d73e$var$__importStar","$06e3720e4774d73e$var$sdpTransform","$06e3720e4774d73e$var$utils","$06e3720e4774d73e$var$ortc","$06e3720e4774d73e$var$sdpCommonUtils","$06e3720e4774d73e$var$sdpUnifiedPlanUtils","$06e3720e4774d73e$var$logger","$06e3720e4774d73e$var$SCTP_NUM_STREAMS","$06e3720e4774d73e$var$Chrome70","desiredEncoding","maxRetransmitTime","$80e1db30f2b6690b$var$__createBinding","$80e1db30f2b6690b$var$__setModuleDefault","$80e1db30f2b6690b$var$__importStar","$80e1db30f2b6690b$var$sdpTransform","$80e1db30f2b6690b$var$utils","$80e1db30f2b6690b$var$ortc","$80e1db30f2b6690b$var$sdpCommonUtils","$80e1db30f2b6690b$var$sdpPlanBUtils","$80e1db30f2b6690b$var$logger","$80e1db30f2b6690b$var$SCTP_NUM_STREAMS","$80e1db30f2b6690b$var$Chrome67","_mapSendLocalIdRtpSender","_nextSendLocalId","_mapRecvLocalIdInfo","offerToReceiveAudio","offerToReceiveVideo","addTrack","getSenders","getTracks","signalingState","oldTrack","getReceivers","$8abec25c61b48726$var$__createBinding","$8abec25c61b48726$var$__setModuleDefault","$8abec25c61b48726$var$__importStar","$8abec25c61b48726$var$sdpTransform","$8abec25c61b48726$var$utils","$8abec25c61b48726$var$ortc","$8abec25c61b48726$var$sdpCommonUtils","$8abec25c61b48726$var$sdpPlanBUtils","$8abec25c61b48726$var$logger","$8abec25c61b48726$var$SCTP_NUM_STREAMS","$8abec25c61b48726$var$Chrome55","_mapSendLocalIdTrack","addStream","getRemoteStreams","getTrackById","$72d0fce94d204c60$var$__createBinding","$72d0fce94d204c60$var$__setModuleDefault","$72d0fce94d204c60$var$__importStar","$72d0fce94d204c60$var$sdpTransform","$72d0fce94d204c60$var$utils","$72d0fce94d204c60$var$ortc","$72d0fce94d204c60$var$sdpCommonUtils","$72d0fce94d204c60$var$sdpUnifiedPlanUtils","$72d0fce94d204c60$var$logger","$72d0fce94d204c60$var$SCTP_NUM_STREAMS","$72d0fce94d204c60$var$Firefox60","canvas","createElement","getContext","fakeVideoTrack","captureStream","getVideoTracks","videoTransceiver","$76affdaba76c3d7b$var$__createBinding","$76affdaba76c3d7b$var$__setModuleDefault","$76affdaba76c3d7b$var$__importStar","$76affdaba76c3d7b$var$sdpTransform","$76affdaba76c3d7b$var$utils","$76affdaba76c3d7b$var$ortc","$76affdaba76c3d7b$var$sdpCommonUtils","$76affdaba76c3d7b$var$sdpUnifiedPlanUtils","$76affdaba76c3d7b$var$ortcUtils","$76affdaba76c3d7b$var$logger","$76affdaba76c3d7b$var$SCTP_NUM_STREAMS","$76affdaba76c3d7b$var$Safari12","$5c15bf8574c7ad4f$var$__createBinding","$5c15bf8574c7ad4f$var$__setModuleDefault","$5c15bf8574c7ad4f$var$__importStar","$5c15bf8574c7ad4f$var$sdpTransform","$5c15bf8574c7ad4f$var$utils","$5c15bf8574c7ad4f$var$ortc","$5c15bf8574c7ad4f$var$sdpCommonUtils","$5c15bf8574c7ad4f$var$sdpPlanBUtils","$5c15bf8574c7ad4f$var$logger","$5c15bf8574c7ad4f$var$SCTP_NUM_STREAMS","$5c15bf8574c7ad4f$var$Safari11","$e47274e8bb72885a$var$__createBinding","$e47274e8bb72885a$var$__setModuleDefault","$e47274e8bb72885a$var$__importStar","$e47274e8bb72885a$var$utils","$e47274e8bb72885a$var$ortc","$e47274e8bb72885a$var$edgeUtils","$e47274e8bb72885a$var$logger","$e47274e8bb72885a$var$Edge11","_rtpSenders","_rtpReceivers","_iceGatherer","_iceTransport","_dtlsTransport","getCapabilities","_remoteIceParameters","_remoteIceCandidates","_remoteDtlsParameters","_cname","setIceGatherer","setIceTransport","setDtlsTransport","addRemoteCandidate","RTCRtpSender","useRtx","_codec","mux","edgeRtpParameters","mangleRtpParameters","setTrack","RTCRtpReceiver","iceGatherer","RTCIceGatherer","gatherPolicy","gather","iceTransport","RTCIceTransport","pair","dtlsTransport","RTCDtlsTransport","getLocalParameters","$c9d607d358c86a2b$var$__createBinding","$c9d607d358c86a2b$var$__setModuleDefault","$c9d607d358c86a2b$var$__importStar","$c9d607d358c86a2b$var$utils","nativeCaps","numChannels","muxId","$a0f501d1c8397e92$var$__createBinding","$a0f501d1c8397e92$var$__setModuleDefault","$a0f501d1c8397e92$var$__importStar","$a0f501d1c8397e92$var$sdpTransform","$a0f501d1c8397e92$var$utils","$a0f501d1c8397e92$var$ortc","$a0f501d1c8397e92$var$sdpCommonUtils","$a0f501d1c8397e92$var$sdpUnifiedPlanUtils","$a0f501d1c8397e92$var$ortcUtils","$a0f501d1c8397e92$var$logger","$a0f501d1c8397e92$var$SCTP_NUM_STREAMS","$a0f501d1c8397e92$var$ReactNativeUnifiedPlan","release","$2f1e1d8ee3c89f0a$var$__createBinding","$2f1e1d8ee3c89f0a$var$__setModuleDefault","$2f1e1d8ee3c89f0a$var$__importStar","$2f1e1d8ee3c89f0a$var$sdpTransform","$2f1e1d8ee3c89f0a$var$utils","$2f1e1d8ee3c89f0a$var$ortc","$2f1e1d8ee3c89f0a$var$sdpCommonUtils","$2f1e1d8ee3c89f0a$var$sdpPlanBUtils","$2f1e1d8ee3c89f0a$var$logger","$2f1e1d8ee3c89f0a$var$SCTP_NUM_STREAMS","$2f1e1d8ee3c89f0a$var$ReactNative","mapStreamId","$a95cddf11c65aaab$var$__createBinding","$a95cddf11c65aaab$var$__exportStar","__exportStar","exports1","$b3d492c184d33d00$export$8c8f9d35a816f824","$b3d492c184d33d00$export$efa9a398d6368992","msg","_log","elapsed","timestamp","logType","toISOString","toJSON","onLog","createBlock","$69e539e2f4da26a4$var$log","$69e539e2f4da26a4$export$f335d4ac414110c2","logging","detail","messages","solution","path","$e9c8fc8e699fda79$var$log","$e9c8fc8e699fda79$export$d61e24a684f9e51","_onSetListener","_stack","_eventIndex","pipe","disposer","asPromise","timeLimit","$e9c8fc8e699fda79$var$SerializableError","watch","$e9c8fc8e699fda79$export$ada873a34909da65","make","dispose","$e9c8fc8e699fda79$export$6b76630809a2752c","_disposer","$a93de6a7539e0a2c$export$2e2bcd8739ae039","fn","thisArg","$61f797bc02a52239$var$toString","$61f797bc02a52239$var$getPrototypeOf","$61f797bc02a52239$var$kindOf","cache","thing","$61f797bc02a52239$var$kindOfTest","$61f797bc02a52239$var$typeOfTest","$61f797bc02a52239$var$isArray","$61f797bc02a52239$var$isUndefined","$61f797bc02a52239$var$isArrayBuffer","$61f797bc02a52239$var$isString","$61f797bc02a52239$var$isFunction","$61f797bc02a52239$var$isNumber","$61f797bc02a52239$var$isObject","$61f797bc02a52239$var$isPlainObject","iterator","$61f797bc02a52239$var$isDate","$61f797bc02a52239$var$isFile","$61f797bc02a52239$var$isBlob","$61f797bc02a52239$var$isFileList","$61f797bc02a52239$var$isURLSearchParams","$61f797bc02a52239$var$forEach","allOwnKeys","$61f797bc02a52239$var$findKey","_key","$61f797bc02a52239$var$_global","globalThis","$61f797bc02a52239$var$isContextDefined","$61f797bc02a52239$var$isTypedArray","TypedArray","Uint8Array","$61f797bc02a52239$var$isHTMLForm","$61f797bc02a52239$var$hasOwnProperty","$61f797bc02a52239$var$isRegExp","$61f797bc02a52239$var$reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","defineProperties","$61f797bc02a52239$var$ALPHA","$61f797bc02a52239$var$DIGIT","$61f797bc02a52239$var$ALPHABET","ALPHA_DIGIT","$61f797bc02a52239$var$isAsyncFn","$61f797bc02a52239$export$2e2bcd8739ae039","FormData","append","ArrayBuffer","isView","buffer","$61f797bc02a52239$var$merge","caseless","assignValue","targetKey","superConstructor","sourceObj","destObj","propFilter","merged","searchString","lastIndex","next","done","regExp","hasOwnProp","arrayOrString","p1","p2","global","alphabet","visit","source","reducedValue","$f3e4405eb53cd2cd$var$AxiosError","code","request","response","inherits","description","number","fileName","lineNumber","columnNumber","toJSONObject","status","$f3e4405eb53cd2cd$var$prototype","$f3e4405eb53cd2cd$var$descriptors","customProps","axiosError","toFlatObject","cause","$cf0b1df77be33393$export$a143d493d941bafc","$8db2771348f9d90c$export$d622b2ad8d90c771","$8db2771348f9d90c$export$6100ba28696e12de","$f3e4405eb53cd2cd$export$2e2bcd8739ae039","$30e4d1bbce772e99$export$2e2bcd8739ae039","b64","tmp","lens","$8db2771348f9d90c$var$getLens","validLen","placeHoldersLen","$8db2771348f9d90c$var$Arr","$8db2771348f9d90c$var$_byteLength","curByte","$8db2771348f9d90c$var$revLookup","uint8","extraBytes","maxChunkLength","len2","$8db2771348f9d90c$var$encodeChunk","$8db2771348f9d90c$var$lookup","$93f075447cac13e1$export$aafa59e2e03f2942","$93f075447cac13e1$export$68d8715fc104d294","$8db2771348f9d90c$var$code","$8db2771348f9d90c$var$i","$8db2771348f9d90c$var$len","end","num","output","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","pow","rt","floor","LN2","$cf0b1df77be33393$var$customInspectSymbol","$cf0b1df77be33393$var$Buffer","$cf0b1df77be33393$var$K_MAX_LENGTH","$cf0b1df77be33393$var$createBuffer","buf","setPrototypeOf","encodingOrOffset","$cf0b1df77be33393$var$allocUnsafe","$cf0b1df77be33393$var$from","string","isEncoding","$cf0b1df77be33393$var$byteLength","actual","$cf0b1df77be33393$var$fromString","arrayView","$cf0b1df77be33393$var$isInstance","$cf0b1df77be33393$var$fromArrayBuffer","byteOffset","byteLength","$cf0b1df77be33393$var$fromArrayLike","$cf0b1df77be33393$var$fromArrayView","SharedArrayBuffer","valueOf","$cf0b1df77be33393$var$checked","$cf0b1df77be33393$var$numberIsNaN","$cf0b1df77be33393$var$fromObject","toPrimitive","$cf0b1df77be33393$var$assertSize","mustMatch","loweredCase","$cf0b1df77be33393$var$utf8ToBytes","$cf0b1df77be33393$var$base64ToBytes","$cf0b1df77be33393$var$slowToString","$cf0b1df77be33393$var$hexSlice","$cf0b1df77be33393$var$utf8Slice","$cf0b1df77be33393$var$asciiSlice","$cf0b1df77be33393$var$latin1Slice","$cf0b1df77be33393$var$base64Slice","$cf0b1df77be33393$var$utf16leSlice","$cf0b1df77be33393$var$swap","$cf0b1df77be33393$var$bidirectionalIndexOf","$cf0b1df77be33393$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","$cf0b1df77be33393$var$hexWrite","remaining","strLen","parsed","$cf0b1df77be33393$var$utf8Write","$cf0b1df77be33393$var$blitBuffer","$cf0b1df77be33393$var$asciiWrite","byteArray","$cf0b1df77be33393$var$asciiToBytes","$cf0b1df77be33393$var$base64Write","$cf0b1df77be33393$var$ucs2Write","units","hi","lo","$cf0b1df77be33393$var$utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","$cf0b1df77be33393$var$MAX_ARGUMENTS_LENGTH","fromCharCode","$cf0b1df77be33393$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$cf0b1df77be33393$var$typedArraySupport","poolSize","alloc","fill","$cf0b1df77be33393$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","y","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","_arr","out","$cf0b1df77be33393$var$hexSliceLookupTable","bytes","$cf0b1df77be33393$var$checkOffset","$cf0b1df77be33393$var$checkInt","$cf0b1df77be33393$var$checkIEEE754","$cf0b1df77be33393$var$writeFloat","littleEndian","noAssert","$cf0b1df77be33393$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$cf0b1df77be33393$var$INVALID_BASE64_RE","leadSurrogate","$cf0b1df77be33393$var$base64clean","src","dst","i16","$036da473f0f72938$var$isVisitable","isPlainObject","$036da473f0f72938$var$removeBrackets","endsWith","$036da473f0f72938$var$renderKey","dots","$036da473f0f72938$var$predicates","$036da473f0f72938$export$2e2bcd8739ae039","formData","isObject","metaTokens","indexes","option","isUndefined","visitor","defaultVisitor","useBlob","Blob","isSpecCompliantForm","isFunction","convertValue","isDate","isBlob","isArrayBuffer","isTypedArray","$036da473f0f72938$require$Buffer","$036da473f0f72938$var$isFlatArray","isFileList","toArray","exposedHelpers","build","isString","$dd6f1a1f7b0733f7$var$encode","charMap","encodeURIComponent","$dd6f1a1f7b0733f7$var$AxiosURLSearchParams","_pairs","$dd6f1a1f7b0733f7$var$prototype","encoder","_encode","$dd6f1a1f7b0733f7$export$2e2bcd8739ae039","$1bcab03f1b02e093$var$encode","$1bcab03f1b02e093$export$2e2bcd8739ae039","url","encode","serializeFn","serialize","serializedParams","isURLSearchParams","hashmarkIndex","$0591a5580436ea11$export$2e2bcd8739ae039","handlers","use","fulfilled","rejected","synchronous","runWhen","eject","$7a7248612bcc3aef$export$2e2bcd8739ae039","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","$6b52275072f41709$export$2e2bcd8739ae039","classes","URLSearchParams","protocols","$398c1e9f2b8d46b4$export$c4996c4b7b93b0bf","$398c1e9f2b8d46b4$export$c0bcc9250309d66","$398c1e9f2b8d46b4$export$c81692cf5af97dac","WorkerGlobalScope","importScripts","$8009077c84221304$export$2e2bcd8739ae039","$398c1e9f2b8d46b4$exports","$3062e233cc0aca68$export$2e2bcd8739ae039","helpers","isNode","$683fe73bff3e3684$export$2e2bcd8739ae039","buildPath","isNumericKey","isLast","$683fe73bff3e3684$var$arrayToObject","isFormData","entries","forEachEntry","matchAll","$683fe73bff3e3684$var$parsePropPath","$4011de919ee9bba9$var$defaults","transitional","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","isHTMLForm","isStream","isFile","isArrayBufferView","setContentType","formSerializer","_FormData","rawValue","$4011de919ee9bba9$var$stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","Accept","method","$4011de919ee9bba9$export$2e2bcd8739ae039","$18bde94406773a46$var$ignoreDuplicateOf","toObjectSet","$18bde94406773a46$export$2e2bcd8739ae039","rawHeaders","$201b090f4cf88e2b$var$$internals","$201b090f4cf88e2b$var$normalizeHeader","header","$201b090f4cf88e2b$var$normalizeValue","$201b090f4cf88e2b$var$matchHeaderValue","isHeaderNameFilter","isRegExp","$201b090f4cf88e2b$var$AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","findKey","setHeaders","tokens","tokensRE","$201b090f4cf88e2b$var$parseTokens","matcher","deleted","deleteHeader","normalize","normalized","char","$201b090f4cf88e2b$var$formatHeader","targets","asStrings","first","computed","accessors","defineAccessor","accessorName","toCamelCase","methodName","arg1","arg2","arg3","$201b090f4cf88e2b$var$buildAccessors","accessor","reduceDescriptors","mapped","headerValue","freezeMethods","$201b090f4cf88e2b$export$2e2bcd8739ae039","$2f6fe47b3415a60b$export$2e2bcd8739ae039","fns","$77fbdb63a80f2308$export$2e2bcd8739ae039","__CANCEL__","$a688f72e52bcad78$var$CanceledError","ERR_CANCELED","$a688f72e52bcad78$export$2e2bcd8739ae039","$e7a3ee8e9bc5d692$export$2e2bcd8739ae039","ERR_BAD_REQUEST","$b1ba6395b6888449$export$2e2bcd8739ae039","hasStandardBrowserEnv","expires","domain","secure","cookie","isNumber","toGMTString","decodeURIComponent","$ea114bc0669eca16$export$2e2bcd8739ae039","baseURL","relativeURL","$a9e9fd7f228e229f$export$2e2bcd8739ae039","requestedURL","$f7e173d87820d16b$export$2e2bcd8739ae039","msie","urlParsingNode","originURL","resolveURL","href","setAttribute","host","hostname","pathname","charAt","requestURL","$6392cf644fcf6429$export$2e2bcd8739ae039","$93f55c054cecb9d0$export$2e2bcd8739ae039","samplesCount","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","passed","$ec722aa0cb27de8f$var$progressEventReducer","isDownloadStream","bytesNotified","_speedometer","total","lengthComputable","progressBytes","progress","estimated","$ec722aa0cb27de8f$var$isXHRAdapterSupported","XMLHttpRequest","$b01405653520213d$var$knownAdapters","http","xhr","requestData","requestHeaders","onCanceled","withXSRFToken","cancelToken","unsubscribe","signal","hasStandardBrowserWebWorkerEnv","auth","unescape","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","paramsSerializer","onreadystatechange","responseURL","onabort","ECONNABORTED","onerror","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","xsrfValue","setRequestHeader","withCredentials","onDownloadProgress","onUploadProgress","upload","cancel","abort","subscribe","aborted","$b01405653520213d$var$renderReason","reason","$b01405653520213d$var$isResolvedHandle","$b01405653520213d$export$2e2bcd8739ae039","getAdapter","adapters","nameOrAdapter","rejectedReasons","reasons","$2933dbdf60ca0040$var$throwIfCancellationRequested","throwIfRequested","$2933dbdf60ca0040$export$2e2bcd8739ae039","$c0f31af2f9026d44$var$headersToObject","$c0f31af2f9026d44$export$2e2bcd8739ae039","config1","config2","getMergedValue","merge","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","httpAgent","httpsAgent","socketPath","responseEncoding","configValue","$20c22150a164bef2$export$a4ad2735b021c132","$80722dbc5d0afecf$var$validators","$80722dbc5d0afecf$var$deprecatedWarnings","validator","formatMessage","opt","ERR_DEPRECATED","$80722dbc5d0afecf$export$2e2bcd8739ae039","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","$acbae69e8cf794d0$var$validators","validators","$acbae69e8cf794d0$var$Axios","instanceConfig","defaults","interceptors","configOrUrl","_request","dummy","assertOptions","boolean","function","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","newConfig","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","$acbae69e8cf794d0$export$2e2bcd8739ae039","$cc49cf4f1a3e1c3b$var$CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","$cc49cf4f1a3e1c3b$export$2e2bcd8739ae039","$9f194fb91d67eee9$var$HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","$9f194fb91d67eee9$export$2e2bcd8739ae039","$3c4bb27455c01e63$var$axios","$3c4bb27455c01e63$var$createInstance","defaultConfig","instance","Axios","CanceledError","CancelToken","isCancel","toFormData","AxiosError","Cancel","all","promises","spread","isAxiosError","mergeConfig","AxiosHeaders","formToJSON","HttpStatusCode","$3c4bb27455c01e63$export$2e2bcd8739ae039","$f2a1c22c25db3baf$export$1c00760e9e5a4e95","$f2a1c22c25db3baf$export$c1fbed17c2f6a328","$f2a1c22c25db3baf$export$1ab0c6b20d94fa14","$f2a1c22c25db3baf$export$3b22524397b493c6","$f2a1c22c25db3baf$export$fd08e3cb425f0d61","$f2a1c22c25db3baf$export$a4ad2735b021c132","$f2a1c22c25db3baf$export$84bf76cd7afc7469","$f2a1c22c25db3baf$export$848c9b7ead0df967","$f2a1c22c25db3baf$export$fbafdbe06a5b5a9a","$f2a1c22c25db3baf$export$3ae0fd4797ed47c8","$f2a1c22c25db3baf$export$10ae0d317ea97f8b","$f2a1c22c25db3baf$export$4e7d6ff0f3e6520","$f2a1c22c25db3baf$export$a972f69c851492b3","$f2a1c22c25db3baf$export$86d7c59254d6a2c9","$f2a1c22c25db3baf$export$17ddc20a97d669e2","$f2a1c22c25db3baf$export$7ec1ebcfa9d8bd6a","$dc44f84f7e7ecdc5$var$log","$dc44f84f7e7ecdc5$export$8c6ee871e681f0f4","api","retry","post","needRetry","put","$aa8ae0602be30b2a$var$log","$aa8ae0602be30b2a$export$7ab95d2dbda3c98c","queue","running","failed","$6060517d42a3e6a5$export$4c099f2ebfaaa216","times","interval","jitter","exceeded","reset","$edc5cee54c81c4ee$export$30f3b02011db23c0","internal","missingProperty","notFound","invalidParameter","invalidArgumentValue","invalidContentType","localPersonNotJoinedChannel","alreadyLocalPersonExist","alreadySameNameMemberExist","alreadyPublishedStream","alreadySubscribedPublication","invalidTrackKind","cantMoveSameIdChannel","alreadyChannelClosed","disabledDataStream","publicationNotExist","subscriptionNotExist","unknownMemberType","streamNotExistInSubscription","streamNotExistInPublication","dataStreamNotSupportEncoding","correspondingEncodeNotExistForId","updateIceParamsFailed","invalidElement","connectRtcApiFailed","rtcApiFatalError","invalidExpireTokenValue","invalidRemindExpireTokenValue","invalidTokenAppId","mediaDevicesNotFound","canNotUseReplaceStream","canNotEnableRemotePublication","$4f365434f77fa3d2$var$log","$4f365434f77fa3d2$export$f91498310cf60fb9","stats","stat","$4f365434f77fa3d2$export$7adfa7d103c9e0fc","operationName","channel","appId","channelId","localPerson","member","publishing","publications","publication","connectionStats","memberId","_getStatsAll","localCandidate","transportType","relayProtocol","callType","subscriptions","subscriber","outbound","_getConnectionStateAll","subscribing","subscription","publisher","iceCandidate","getConnectionState","$4f365434f77fa3d2$export$5a70207753d9900b","$4f365434f77fa3d2$export$c8c8fcba3f9476cc","errPayload","plugins","$4f365434f77fa3d2$export$2ad8a5cc3e94e4b3","remoteMember","_getStats","$4f365434f77fa3d2$export$1d5e65f36fbcdb49","$4f365434f77fa3d2$export$806a06a45ceb55b5","cur","$4f365434f77fa3d2$export$e9efa9a010653387","isNotBrowser","$parcel$interopDefault","$2kSrR","osName","osVersion","$4f365434f77fa3d2$export$ea0338db8cde409a","uaParser","$6sUck","browserName","browserVersion","major","engineName","isIOS","isChrome","isFirefox","isSafari","isEdge","$d8f1148f25504400$var$log","$d8f1148f25504400$export$20344a9ebf4a5df8","_state","onLeft","onMetadataUpdated","_metadata","metadata","_left","_metadataUpdated","_updateMemberMetadata","leave","$372bd35784831ce0$var$log","$372bd35784831ce0$export$762eb7d4d0cab1c2","onDisconnect","onClose","$bbad98151fa4a752$export$8420c3766eda4536","side","_connections","plugin","_getConnection","localPersonId","_getOrCreateConnection","_createConnection","endpointMember","_dispose","$4b311c0fd88c435a$var$log","$4b311c0fd88c435a$export$2b6cc1479174a046","element","srcObject","ended","duplicate","$4b311c0fd88c435a$export$983c0c4899e87028","$5c6c54ef8585bae0$export$2e2bcd8739ae039","crypto","randomUUID","$40037278369a6763$var$getRandomValues","$40037278369a6763$var$rnds8","$40037278369a6763$export$2e2bcd8739ae039","getRandomValues","$1d5ac1445f9814b8$var$byteToHex","$1d5ac1445f9814b8$export$8fb373d660548968","$e701dd1666f79c8c$export$f3b03d0edd9563f3","$e701dd1666f79c8c$export$282a641876a53bc3","$e701dd1666f79c8c$export$1a89ae3627118dd","$e701dd1666f79c8c$export$f5462558b84dd2ed","$e701dd1666f79c8c$export$e4ecceb4875351b5","$e701dd1666f79c8c$export$976575134972f9a4","$e701dd1666f79c8c$export$848620f5f2f26e86","$e701dd1666f79c8c$export$3b6eba580b3b05c2","$e701dd1666f79c8c$export$932592b46db185be","$e701dd1666f79c8c$export$4f7f04ab89baffd5","$e701dd1666f79c8c$export$b86ba1ae94e2bfc6","$e701dd1666f79c8c$export$2a36976f17340ce9","$e701dd1666f79c8c$export$745706c0ef8a4a95","$e701dd1666f79c8c$export$6290422ba3eff881","$e701dd1666f79c8c$export$d19dfddb415836ed","$e701dd1666f79c8c$export$d7cf0422ea26a99a","$e701dd1666f79c8c$export$afd6716cdada7ed5","$e701dd1666f79c8c$export$4723ecead0798297","$e701dd1666f79c8c$export$726408a8537bde80","$e701dd1666f79c8c$export$2cc6664de1b990db","$e701dd1666f79c8c$export$9cbca96477f9ae2f","$e701dd1666f79c8c$export$44c267f4f65a8a7f","$e701dd1666f79c8c$export$5eee626700e49209","$e701dd1666f79c8c$export$b2d4d26b5ccff6a9","$e701dd1666f79c8c$export$8a4767dad77d7c90","$e701dd1666f79c8c$export$fe8597e65838ca44","$e701dd1666f79c8c$export$7407696354668e77","$e701dd1666f79c8c$export$698d677dfec3eedc","$e701dd1666f79c8c$export$1d3058c7ef7b57e7","$e701dd1666f79c8c$export$e3d76fc82b6f4709","$e701dd1666f79c8c$export$dbc620645d9d8e1c","$e701dd1666f79c8c$export$72c5155990131fea","$e701dd1666f79c8c$export$7c9521958f1a8b53","$e701dd1666f79c8c$export$60178c38071ce57","$e701dd1666f79c8c$export$f86becda4308ac43","$e701dd1666f79c8c$export$58845754f36e74c0","$e701dd1666f79c8c$export$df8d81c68e1f33f4","$e701dd1666f79c8c$export$ee29e73a50dc272a","$e701dd1666f79c8c$export$4f67c080e58d5fc8","$e701dd1666f79c8c$export$3d3bc10a7110335e","$e701dd1666f79c8c$export$34dd639c3ad435e5","$e701dd1666f79c8c$export$a2c095b78f275405","$e701dd1666f79c8c$export$5b3955e928a80e02","$e701dd1666f79c8c$export$3c4028916a1e7c6b","$e701dd1666f79c8c$export$6cd6298d9192e025","$e701dd1666f79c8c$export$dd14f12d991e544e","$e701dd1666f79c8c$export$b44ce6106c226618","$e701dd1666f79c8c$export$998befcf37df29f1","$e701dd1666f79c8c$export$3216c5a35077bf7f","$e701dd1666f79c8c$export$8b7fec17a71a9b41","$e701dd1666f79c8c$export$62dfecc41a84b0d1","$e701dd1666f79c8c$export$d6c5a18bb1fc0052","$e701dd1666f79c8c$export$95365fd5256ec7db","$e701dd1666f79c8c$export$d4c51f74e5089406","$e701dd1666f79c8c$export$3c617715bb93799d","$e701dd1666f79c8c$export$70378f11804174db","$e701dd1666f79c8c$export$ddd58b31d8df363d","$e701dd1666f79c8c$export$5950376737d25772","$e701dd1666f79c8c$export$46f4a68bb92b01f3","$e701dd1666f79c8c$export$3cf10cd345a8d2a2","$e701dd1666f79c8c$export$6e18a9227aeed184","$e701dd1666f79c8c$export$f8cc9a8e09bfbdc0","$e701dd1666f79c8c$export$47b089f332e467b0","$e701dd1666f79c8c$export$df366832902521e3","$e701dd1666f79c8c$export$dbd72e020e0a4659","$e701dd1666f79c8c$export$1852d16cc1fa045d","$e701dd1666f79c8c$export$2e7bc010fb6cbef6","$e701dd1666f79c8c$export$f407ad11b833a42c","$e701dd1666f79c8c$export$5821a351dc01c86c","$e701dd1666f79c8c$export$ffa65c7cd7d99bbe","$e701dd1666f79c8c$export$6e0bc1c6de95693a","$e701dd1666f79c8c$export$d3e8e560222ea674","$e701dd1666f79c8c$export$ce530db93b05eeba","$e701dd1666f79c8c$export$8bbe6e427750f06d","$e701dd1666f79c8c$export$dc176285658b2f86","$e701dd1666f79c8c$export$ad2aeb863e4748b8","$e701dd1666f79c8c$export$bce531703d17b674","$e701dd1666f79c8c$export$adbea472689d6a76","$e701dd1666f79c8c$export$7c1ea05421f844dd","$e701dd1666f79c8c$export$e1e39467757b65d6","$e701dd1666f79c8c$export$95728b8edb25da31","$e701dd1666f79c8c$export$eeb0cac846251be6","$e701dd1666f79c8c$export$7effb53edfc7fa2d","$e701dd1666f79c8c$export$b54eb25e8c142da9","$e701dd1666f79c8c$export$dc7009a36380caa","$e701dd1666f79c8c$export$9a771d6906431624","$e701dd1666f79c8c$export$a4ad2735b021c132","$e701dd1666f79c8c$export$b51f4440d3925a4","$8b00c269bb57fa3e$export$2e2bcd8739ae039","rnds","rng","$e701dd1666f79c8c$var$navigator","$e701dd1666f79c8c$var$window","$e701dd1666f79c8c$var$CryptoJS","lib","Base","mixIn","$super","WordArray","words","sigBytes","clamp","ceil","enc","Hex","Latin1","Utf8","escape","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","g","x64","Word","high","low","toX32","Cipher","Base64","EvpKDF","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","_xformMode","keySize","ivSize","decrypt","StreamCipher","mode","_iv","_prevBlock","BlockCipherMode","Encryptor","Decryptor","_cipher","processBlock","encryptBlock","decryptBlock","CBC","pad","Pkcs7","unpad","BlockCipher","padding","iv","_mode","CipherParams","OpenSSL","ciphertext","salt","SerializableCipher","_parse","kdf","compute","PasswordBasedCipher","A","B","C","D","E","F","AES","_nRounds","_keySchedule","_invKeySchedule","_doCryptBlock","_lBlock","_rBlock","DES","_subKeys","_invSubKeys","TripleDES","_des1","_des2","_des3","_map","sin","MD5","_hash","HmacMD5","SHA1","HmacSHA1","sqrt","SHA256","HmacSHA256","SHA224","HmacSHA224","T","ea","SHA512","G","H","I","J","X","K","Y","L","Z","M","N","aa","O","ba","P","ca","Q","U","R","S","V","W","fa","da","HmacSHA512","SHA384","HmacSHA384","RIPEMD160","HmacRIPEMD160","_hasher","_oKey","_iKey","PBKDF2","hasher","iterations","$e701dd1666f79c8c$var$dbits","$e701dd1666f79c8c$var$b64map","$e701dd1666f79c8c$var$b64pad","$e701dd1666f79c8c$var$hex2b64","$e701dd1666f79c8c$var$b64tohex","$e701dd1666f79c8c$var$int2char","$e701dd1666f79c8c$var$b64toBA","$e701dd1666f79c8c$var$BigInteger","fromNumber","fromString","$e701dd1666f79c8c$var$nbi","appName","am","DB","DM","DV","FV","F1","F2","$e701dd1666f79c8c$var$rr","$e701dd1666f79c8c$var$vv","$e701dd1666f79c8c$var$BI_RM","$e701dd1666f79c8c$var$BI_RC","$e701dd1666f79c8c$var$intAt","$e701dd1666f79c8c$var$nbv","fromInt","$e701dd1666f79c8c$var$nbits","$e701dd1666f79c8c$var$Classic","$e701dd1666f79c8c$var$Montgomery","mp","invDigit","mpl","mph","um","mt2","$e701dd1666f79c8c$var$op_and","$e701dd1666f79c8c$var$op_or","$e701dd1666f79c8c$var$op_xor","$e701dd1666f79c8c$var$op_andnot","$e701dd1666f79c8c$var$lbit","$e701dd1666f79c8c$var$cbit","$e701dd1666f79c8c$var$NullExp","$e701dd1666f79c8c$var$nNop","$e701dd1666f79c8c$var$Barrett","r2","q3","ONE","dlShiftTo","mu","divide","convert","compareTo","revert","divRemTo","mulTo","multiplyTo","sqrTo","squareTo","ZERO","subTo","copyTo","drShiftTo","fromRadix","lShiftTo","rShiftTo","isEven","exp","negate","toRadix","bitLength","modPowInt","multiplyUpperTo","multiplyLowerTo","dAddOffset","$e701dd1666f79c8c$var$lowprimes","$e701dd1666f79c8c$var$lplim","$e701dd1666f79c8c$var$Arcfour","chunkSize","signum","intValue","dMultiply","testBit","bitwiseTo","shiftLeft","isProbablePrime","nextBytes","changeBit","addTo","modInt","millerRabin","subtract","getLowestSetBit","shiftRight","modPow","byteValue","shortValue","toByteArray","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","multiply","remainder","divideAndRemainder","modInverse","gcd","square","$e701dd1666f79c8c$var$rng_state","$e701dd1666f79c8c$var$rng_pool","$e701dd1666f79c8c$var$rng_pptr","$e701dd1666f79c8c$var$rng_psize","$e701dd1666f79c8c$var$rng_seed_time","$e701dd1666f79c8c$var$rng_seed_int","getTime","$e701dd1666f79c8c$var$t","msCrypto","$e701dd1666f79c8c$var$crypto","$e701dd1666f79c8c$var$ua","appVersion","$e701dd1666f79c8c$var$z","$e701dd1666f79c8c$var$rng_get_byte","$e701dd1666f79c8c$var$SecureRandom","$e701dd1666f79c8c$var$parseBigInt","$e701dd1666f79c8c$var$RSAKey","dmp1","dmq1","coeff","$e701dd1666f79c8c$var$ECFieldElementFp","$e701dd1666f79c8c$var$ECPointFp","curve","zinv","$e701dd1666f79c8c$var$ECCurveFp","fromBigInteger","infinity","doPublic","setPublic","isPublic","isPrivate","doPrivate","setPrivate","setPrivateEx","generate","toBigInteger","getX","getY","isInfinity","twice","getInfinity","multiplyTwo","getQ","getA","getB","decodePointHex","getByteLength","getEncoded","toByteArrayUnsigned","decodeFrom","decodeFromHex","add2D","twice2D","multiply2D","isOnCurve","validate","$e701dd1666f79c8c$var$jsonParse","$e701dd1666f79c8c$var$KJUR","asn1","ASN1Util","integerToByteHex","bigIntToMinTwosComplementsHex","$e701dd1666f79c8c$var$twoscompl","getPEMStringFromHex","$e701dd1666f79c8c$var$hextopem","newObject","ASN1Object","DERBoolean","DERInteger","DERBitString","DEROctetString","DERNull","DERObjectIdentifier","DEREnumerated","DERUTF8String","DERNumericString","DERPrintableString","DERTeletexString","DERIA5String","DERUTCTime","DERGeneralizedTime","DERVisibleString","DERBMPString","DERSequence","DERSet","DERTaggedObject","tag","explicit","jsonToASN1HEX","tohex","oidHexToInt","oidIntToHex","getLengthHexFromValue","hV","hTLV","isModified","getFreshValueHex","hL","hT","getEncodedHex","getValueHex","setByParam","tlv","DERAbstractString","superclass","getString","setString","$e701dd1666f79c8c$var$utf8tohex","setStringHex","hex","$e701dd1666f79c8c$var$extendClass","DERAbstractTime","localDateToUTC","getTimezoneOffset","formatDate","zeroPadding","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setByDate","date","setByDateValue","UTC","DERAbstractStructured","setByASN1ObjectArray","asn1Array","appendASN1Object","setByBigInteger","bigint","setByInteger","setValueHex","setHexValueIncludingUnusedBits","setUnusedBitsAndHexValue","setByBinaryString","setByBooleanArray","newFalseArray","bin","setValueOidString","$e701dd1666f79c8c$var$oidtohex","setValueName","x509","OID","name2oid","setValueNameOrOid","oid","$e701dd1666f79c8c$var$stohex","millis","sortFlag","sort","sortflag","$e701dd1666f79c8c$var$ASN1HEX","getV","isASN1HEX","isExplicit","asn1Object","setASN1Object","tage","tagi","$e701dd1666f79c8c$var$utf8tob64u","$e701dd1666f79c8c$var$b64utoutf8","$e701dd1666f79c8c$var$stoBA","$e701dd1666f79c8c$var$BAtos","$e701dd1666f79c8c$var$BAtohex","$e701dd1666f79c8c$var$b64tob64u","$e701dd1666f79c8c$var$b64utob64","$e701dd1666f79c8c$var$hextob64u","$e701dd1666f79c8c$var$b64utohex","$e701dd1666f79c8c$var$uricmptohex","$e701dd1666f79c8c$var$encodeURIComponentAll","$e701dd1666f79c8c$var$hextoutf8","$e701dd1666f79c8c$var$hextouricmp","$e701dd1666f79c8c$var$iso88591hextoutf8","$e701dd1666f79c8c$var$iso88591hextoutf8hex","$e701dd1666f79c8c$var$hextorstr","$e701dd1666f79c8c$var$rstrtohex","$e701dd1666f79c8c$var$hextob64","$e701dd1666f79c8c$var$foldnl","$e701dd1666f79c8c$var$b64nltohex","$e701dd1666f79c8c$var$pemtohex","$e701dd1666f79c8c$var$zulutomsec","$e701dd1666f79c8c$var$timetogen","$e701dd1666f79c8c$var$zulutosec","$e701dd1666f79c8c$var$ipv6tohex","repeat","$e701dd1666f79c8c$var$hextoipv6","$e701dd1666f79c8c$var$hextoip","$e701dd1666f79c8c$var$ipprefixlen","$e701dd1666f79c8c$var$iptohex","$e701dd1666f79c8c$var$ipnetmask","$e701dd1666f79c8c$var$ucs2hextoutf8","$e701dd1666f79c8c$var$ishex","$e701dd1666f79c8c$var$isBase64URLDot","$e701dd1666f79c8c$var$hextoposhex","getLblen","getL","getVblen","getVidx","getTLV","getTLVblen","getNextSiblingIdx","getChildIdx","getNthChildIdx","getIdxbyList","getIdxbyListEx","isContextTag","getTLVbyList","getTLVbyListEx","getVbyList","getVbyListEx","getInt","$e701dd1666f79c8c$var$bitstrtoint","getOID","$e701dd1666f79c8c$var$hextooid","getOIDName","oid2name","hextooidstr","ommit_long_octet","oidname","x509ExtName","bool","int","bitstr","$e701dd1666f79c8c$var$bitstrtobinstr","octstr","null","enum","checkStrictDER","lang","isHex","Certificate","TBSCertificate","AlgorithmIdentifier","sign","sigalg","tbsobj","Signature","alg","cakey","updateHex","sighex","getPEM","Time","X500Name","Extensions","SubjectPublicKeyInfo","serial","issuer","notbefore","notafter","subject","$e701dd1666f79c8c$var$KEYUTIL","getKey","sbjpubkey","aParam","extname","extn","PrivateExtension","SubjectKeyIdentifier","KeyUsage","SubjectAltName","IssuerAltName","BasicConstraints","NameConstraints","CRLDistributionPoints","CertificatePolicies","PolicyMappings","PolicyConstraints","InhibitAnyPolicy","AuthorityKeyIdentifier","ExtKeyUsage","AuthorityInfoAccess","CRLNumber","CRLReason","OCSPNonce","OCSPNoCheck","AdobeTimeStamp","SubjectDirectoryAttributes","Extension","getExtnValueHex","critical","digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly","getBinValue","asn1ExtnValue","$e701dd1666f79c8c$var$namearraytobinstr","cA","pathLen","setByDPArray","DistributionPoint","setByOneURI","fulluri","DistributionPointName","asn1DP","dpobj","dpname","full","asn1Obj","asn1V","GeneralNames","isPrototypeOf","PolicyInformation","PolicyQualifierInfo","policyoid","UserNotice","cps","unotice","DisplayText","NoticeReference","noticeref","exptext","org","noticenum","seq","reqexp","inhibit","skip","GeneralSubtree","permit","exclude","GeneralName","setPurposeArray","Util","isKey","asn1KID","asn1CertIssuer","asn1CertSN","dn","setKIDByParam","getKeyID","setCertIssuerByParam","ldapstr","certsubject","certissuer","setCertSNByParam","$e701dd1666f79c8c$var$X509","readCertPEM","getSerialNumberHex","kid","sn","issuersn","setAccessDescriptionArray","ocsp","caissuer","setNameArray","attr","utf8str","gentime","prnstr","CRL","TBSCertList","getRevCertSequence","revcert","thisupdate","nextupdate","CRLEntry","setCertSerial","setRevocationDate","time","TLV","reqauth","paramArray","sRule","RDN","setByString","rule","setByLdapString","ldapToCompat","setByObject","getIssuerHex","getSubjectHex","compatToLDAP","onelineToLDAP","ldapToOneline","AttributeTypeAndValue","addByMultiValuedString","addByString","parseString","sType","sValue","dsType","isMail","isPrintable","ds","attrTypeAndValueStr","setByAttrTypeAndValueStr","_getDsType","getValueObj","atype2obj","ECDSA","DSA","getASN1Object","asn1AlgId","asn1SubjPKey","setPubKey","curveName","asn1params","pubKeyHex","setTimeParams","timeParams","getType","Time_bak","nameAlg","asn1Alg","asn1Params","paramEmpty","PSSNAME2ASN1TLV","name2obj","paramempty","SHAwithRSAandMGF1","SHA256withRSAandMGF1","SHA384withRSAandMGF1","SHA512withRSAandMGF1","OtherName","other","rfc822","dns","ldapdn","certsubj","setByParamArray","name2oidList","sha1","sha256","sha384","sha512","sha224","md5","md2","ripemd160","hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512","MD2withRSA","MD4withRSA","MD5withRSA","SHA1withRSA","rsaPSS","SHA224withRSA","SHA256withRSA","SHA384withRSA","SHA512withRSA","SHA1withECDSA","SHA224withECDSA","SHA256withECDSA","SHA384withECDSA","SHA512withECDSA","dsa","SHA1withDSA","SHA224withDSA","SHA256withDSA","rsaEncryption","commonName","countryName","localityName","stateOrProvinceName","streetAddress","organizationName","organizationalUnitName","domainComponent","userId","surname","givenName","distinguishedName","emailAddress","businessCategory","postalCode","uniqueIdentifier","organizationIdentifier","jurisdictionOfIncorporationL","jurisdictionOfIncorporationSP","jurisdictionOfIncorporationC","subjectDirectoryAttributes","subjectKeyIdentifier","keyUsage","subjectAltName","issuerAltName","basicConstraints","cRLNumber","cRLReason","nameConstraints","cRLDistributionPoints","certificatePolicies","anyPolicy","policyMappings","authorityKeyIdentifier","policyConstraints","extKeyUsage","inhibitAnyPolicy","authorityInfoAccess","ocspBasic","ocspNonce","ocspNoCheck","caIssuers","anyExtendedKeyUsage","serverAuth","clientAuth","codeSigning","emailProtection","timeStamping","ocspSigning","smtpUTF8Mailbox","dateOfBirth","placeOfBirth","gender","countryOfCitizenship","countryOfResidence","ecPublicKey","secp256r1","secp256k1","secp384r1","secp521r1","pkcs5PBES2","pkcs5PBKDF2","tstinfo","signingCertificate","timeStampToken","signaturePolicyIdentifier","etsArchiveTimeStamp","signingCertificateV2","etsArchiveTimeStampV2","extensionRequest","messageDigest","signingTime","counterSignature","archiveTimeStampV3","pdfRevocationInfoArchival","adobeTimeStamp","smimeMailboxLegacy","smimeMailboxMulti","smimeMailboxStrict","smimeOrganizationLegacy","smimeOrganizationMulti","smimeOrganizationStrict","smimeSponsorLegacy","smimeSponsorMulti","smimeSponsorStrict","smimeIndividualLegacy","smimeIndividualMulti","smimeIndividualStrict","atype2oidList","CN","ST","OU","STREET","DC","UID","SN","GN","DN","serialNumber","objCache","registerOIDs","checkOIDs","oid2atype","X509Util","newCertPEM","cms","Attribute","typeOid","getValueArray","ContentType","MessageDigest","SigningTime","SigningCertificate","ESSCertID","hasis","cert","IssuerSerial","getCertHash","hashHex","SigningCertificateV2","ESSCertIDv2","getIssuer","SignerIdentifier","IssuerAndSerialNumber","IssuerAndSerialName","skid","getExtSubjectKeyIdentifier","AttributeList","cades","SignaturePolicyIdentifier","SignatureTimeStamp","SignerInfo","EncapsulatedContentInfo","SignedData","sattrs","signkey","hashalg","sigalgfield","uattrs","isDetached","ContentInfo","CertificateSet","RevocationInfoChoices","checkAndFixParam","_setDigestAlgs","_setContentTypeByEContent","_setMessageDigestByEContent","_setSignerInfoVersion","_setSignedDataVersion","sinfos","hashalgs","econtent","_getAttrParamByName","_getSignedDataVersion","revinfos","getEncodedHexPrepare","fixed","certs","getContentInfo","getContentInfoEncodedHex","RevocationInfoChoice","crl","OtherRevocationFormat","CMSUtil","newSignedData","verifySignedData","signerid_issuer1","signerid_serial1","idxSignedAttrs","sigval","signedAttrIdxList","saSigningTime","saMessageDigest","verifyDetail","validMessageDigest","certsIdx","certkeys","readCertHex","getPublicKey","cccc","cccci","certkey_idx","validSignatureValue","signedattrshex","verify","validSignatureValue_isValid","isValid","cmsType","revinfosIdx","signerinfosIdx","signerInfos","signerInfoIdxList","CMSParser","getCMSSignedData","getSignedData","getHashAlgArray","getEContent","getCertificateSet","getSignerInfos","getAlgorithmIdentifierName","getSignerInfo","getIssuerAndSerialNumber","getAttributeList","getSignerIdentifier","getX500Name","getAttribute","valhex","setMessageDigest","setSigningTime","setSigningCertificate","setSigningCertificateV2","setSignaturePolicyIdentifier","getESSCertID","polhex","getESSCertIDv2","getIssuerSerial","getGeneralNames","tsp","TimeStampToken","TSTInfo","MessageImprint","Accuracy","dVersion","dPolicy","dMessageImprint","dSerial","dGenTime","dAccuracy","dOrdering","dNonce","dTsa","policy","messageImprint","genTime","accuracy","ordering","nonce","tsa","seconds","micros","TimeStampReq","certreq","TimeStampResp","PKIStatusInfo","tst","statusinfo","PKIStatus","PKIFreeText","PKIFailureInfo","statusstr","failinfo","granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification","badAlg","badRequest","badDataFormat","timeNotAvailable","unacceptedPolicy","unacceptedExtension","addInfoNotAvailable","systemFailure","AbstractTSAAdapter","getTSTHex","SimpleTSAAdapter","FixedTSAAdapter","TSPUtil","newTimeStampToken","parseTimeStampReq","TSPParser","getTimeStampReq","parseMessageImprint","getMessageImprint","getResponse","getPKIStatusInfo","getToken","setTSTInfo","getTSTInfo","getAccuracy","pGeneralNames","getExtParamArray","getPKIFreeText","getPKIFailureInfo","SignaturePolicyId","OtherHashAlgAndValue","OtherHashValue","CompleteCertificateRefs","OtherCertID","_isHex","OtherHash","CAdESUtil","parseSignedDataForAddingUnsigned","parseSignerInfoForAddingUnsigned","si","digalg","sig","dCMSVersion","dSignerIdentifier","dDigestAlgorithm","dSignedAttrs","dSigAlg","dSig","dUnsignedAttrs","csr","CertificationRequest","CertificationRequestInfo","sbjprvkey","attrs","extreq","CSRUtil","newCSRPEM","getParam","tbs","verifySignature","alert","DEFAULT_HASH","OCSPResponse","ResponseBytes","_getStatusCode","resstatus","BasicOCSPResponse","restype","ResponderID","_SingleResponseList","SingleResponseList","_ResponseData","ResponseData","tbsresp","reskey","respid","prodat","getSubject","SingleResponse","CertID","CertStatus","certid","setByValue","issname","isskey","sbjsn","setByCert","issuerCert","subjectCert","getParamByCerts","getPublicKeyHex","Request","dReqCert","dExt","TBSRequest","dRequestorName","dRequestList","dRequestExt","setRequestListByParam","reqList","OCSPRequest","dTbsRequest","dOptionalSignature","OCSPUtil","getRequestHex","getOCSPResponseInfo","responseStatus","certStatus","revocationTime","thisUpdate","nextUpdate","OCSPParser","getOCSPRequest","getTBSRequest","getRequestList","getRequest","getCertID","getOCSPResponse","getResponseBytes","getBasicOCSPResponse","getResponseData","getResponderID","getSingleResponseList","getSingleResponse","getCertStatus","$e701dd1666f79c8c$require$Buffer","isInteger","isBase64","isBase64URL","isIntegerArray","isIA5","$e701dd1666f79c8c$var$strpad","$e701dd1666f79c8c$var$inttohex","$e701dd1666f79c8c$var$inttobitstr","$e701dd1666f79c8c$var$aryval","DIGESTINFOHEAD","DEFAULTPROVIDER","hmacmd5","hmacsha1","hmacsha224","hmacsha256","hmacsha384","hmacsha512","hmacripemd160","RIPEMD160withRSA","MD5withECDSA","RIPEMD160withECDSA","MD5withRSAandMGF1","SHA1withRSAandMGF1","SHA224withRSAandMGF1","RIPEMD160withRSAandMGF1","CRYPTOJSMESSAGEDIGESTNAME","getDigestInfoHex","getPaddedDigestInfoHex","hashString","digestString","digestHex","sha256Hex","sha512Hex","prov","SECURERANDOMGEN","getRandomHexOfNbytes","getRandomBigIntegerOfNbytes","getRandomHexOfNbits","getRandomBigIntegerOfNbits","getRandomBigIntegerZeroToMax","getRandomBigIntegerMinToMax","setAlgAndProvider","getCanonicalAlgName","md","updateString","digest","sjcl","toBits","fromBits","algName","provName","getHashLength","HASHLENGTH","Mac","algProv","mac","pass","doFinal","doFinalString","doFinalHex","setPassword","utf8","rstr","b64u","_setAlgNames","mdAlgName","pubkeyAlgName","_zeroPaddingOfSignature","prvKey","pubKey","sHashHex","ecprvhex","eccurvename","prv","hSign","signWithMessageHashPSS","pssSaltLen","signWithMessageHash","signString","signHex","ecpubhex","pub","verifyWithMessageHashPSS","verifyWithMessageHash","algProvName","initParams","psssaltlen","prvkeypem","prvkeypas","oidhex2name","ECParameterDB","getName","getBigRandom","setNamedCurve","ecparams","getByName","prvKeyHex","setPrivateKeyHex","setPublicKeyHex","getPublicKeyXYHex","keycharlen","getShortNISTPCurveName","generateKeyPairHex","generatePublicKeyHex","biRSSigToASN1Sig","fromByteArrayUnsigned","serializeSig","verifyHex","parseSigHex","verifyRaw","Bitcoin","parseSig","toByteArraySigned","parseSigCompact","readPKCS5PrvKeyHex","readPKCS8PrvKeyHex","readPKCS8PubKeyHex","readCertPubKeyHex","parseSigHexInHexRS","asn1SigToConcatSig","concatSigToASN1Sig","hexRSSigToASN1Sig","regist","setPrivateHex","setPublicHex","parseASN1Signature","proc","eproc","keylen","ivlen","cipher","ivsalt","keyhex","ivhex","parsePKCS5PEM","getKeyAndUnusedIvByPasscodeAndIvsalt","decryptKeyB64","getDecryptedKeyHex","getEncryptedPKCS5PEMFromPrvKeyHex","getEncryptedPKCS8PEM","getEncryptedPKCS8Hex","plain","initPBES2Param","encryptPBES2Param","generatePBES2ASN1Param","encalg","iter","prf","enciv","getDKFromPBES2Param","parseHexOfEncryptedPKCS8","encryptionSchemeAlg","encryptionSchemeIV","pbkdf2Salt","pbkdf2Iter","getPBKDF2KeyHexFromParam","_getPlainPKCS8HexFromEncryptedPKCS8PEM","parsePBES2","getPlainHexFromEncryptedPKCS8PEM","getKeyFromEncryptedPKCS8PEM","getKeyFromPlainPrivatePKCS8Hex","parsePlainPrivatePKCS8Hex","algoid","algparam","keyidx","getKeyFromPlainPrivatePKCS8PEM","_getKeyFromPublicPKCS8Hex","parsePublicRawRSAKeyHex","parsePublicPKCS8Hex","xy","kty","dp","dq","co","qi","crv","getPublicKeyFromCertHex","getPublicKeyFromCertPEM","generateKeypair","prvKeyObj","pubKeyObj","passcode","getKeyFromCSRPEM","getKeyFromCSRHex","parseCSRHex","p8pubkeyhex","getJWK","jws","JWS","getJWKthumbprint","x5c","x5t","getJWKFromKey","getPosArrayOfChildrenFromHex","getHexValueArrayOfChildrenFromHex","readPrivateKeyFromPEMString","readPKCS5PubKeyHex","$e701dd1666f79c8c$var$_zeroPaddingOfSignature","$e701dd1666f79c8c$var$pss_mgf1_str","$e701dd1666f79c8c$var$_rsasign_getAlgNameAndHashFromHexDisgestInfo","HEX2STAG","foffset","aExtInfo","getVersion","getSignatureAlgorithmField","getIssuerString","getSubjectString","getNotBefore","getNotAfter","getSPKI","getSPKIValue","getPublicKeyIdx","getPublicKeyContentIdx","getSignatureAlgorithmName","getSignatureValueHex","parseExt","vidx","getExtInfo","getCriticalExtV","getExtBasicConstraints","getExtNameConstraints","getGeneralSubtree","getGeneralName","getExtKeyUsage","getExtKeyUsageString","getExtKeyUsageBin","KEYUSAGE_NAME","getExtAuthorityKeyIdentifier","getExtExtKeyUsage","getExtExtKeyUsageName","getExtSubjectAltName","getExtIssuerAltName","getOtherName","getExtSubjectAltName2","hex2dn","getExtCRLDistributionPoints","getDistributionPoint","getDistributionPointName","getExtCRLDistributionPointsURI","getExtAIAInfo","getExtAuthorityInfoAccess","getExtCertificatePolicies","getPolicyInformation","getPolicyQualifierInfo","getUserNotice","_asn1ToUnotice","_asn1ToNoticeRef","asn1ToDisplayText","_asn1ToNoticeNum","getDisplayText","ia5str","visstr","bmpstr","getExtPolicyMappings","getExtPolicyConstraints","getExtInhibitAnyPolicy","getExtCRLNumber","getExtCRLReason","getExtOcspNonce","getExtOcspNoCheck","getExtAdobeTimeStamp","getExtSubjectDirectoryAttributes","numstr","telstr","Erorr","getX500NameRule","getAttrTypeAndValue","getRDN","getX500NameArray","dnarraytostr","canon","c14nRDNArray","dncanon","dnhex","tbshex","nodnarray","getExtParam","EXT_PARSER","findExt","updateExtCDPFullURI","updateExtAIAOCSP","updateExtAIACAIssuer","setCanonicalizedDN","getInfo","ac","dname","signPSS","verifyPSS","SALT_LEN_HLEN","SALT_LEN_MAX","SALT_LEN_RECOVER","registExtParser","hex2rdn","hex2attrTypeValue","getPublicKeyInfoPropOfCertPEM","InvalidCharacterError","isSafeJSONString","parseJWS","parsedJWS","sigvalH","headB64U","payloadB64U","sigvalB64U","sigvalBI","headS","payloadS","readSafeJSONString","jwsalg2sigalg","headerObj","payloadObj","headerPP","payloadPP","sigHex","verifyJWT","inArray","includedArray","iss","aud","IntDate","getNow","verifyAt","gracePeriod","nbf","iat","jti","HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","getEncodedSignatureValueFromJWS","getZulu","intDate2UTCString","toUTCString","intDate2Zulu","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","JWSJS","aHeader","sPayload","aSignature","initWithJWS","addSignature","verifyAll","verifyNth","readJWSJS","signatures","getJSON","isEmpty","posSigAlg","posRevCert","_setPos","getThisUpdate","getNextUpdate","getRevCertArray","getRevCert","findRevCert","findRevCertBySN","DataView","setUint8","getUint8","getUTCMilliseconds","$33b35c36ec5307e6$var$r","atob","input","bs","bc","InvalidTokenError","$33b35c36ec5307e6$export$2e2bcd8739ae039","base64_url_decode","$ab49a1ee7d9a1eab$var$log","$ab49a1ee7d9a1eab$export$2b276086283f43e9","authToken","tokenString","$c6e6ef6f2c380442$export$12fe286bbbebe8a7","secret","scope","$e701dd1666f79c8c$exports","KJUR","typ","encoded","$8e5c22723e6ad0e5$export$61dcd6d11825260c","$978d4a20c0461b28$export$ec7b18ebad55a3a9","$e7ca2bcc62f312f9$export$13a469ceb79cf1df","onConnectionStateChanged","_onConnectionStateChanged","_label","published","_getTransportCallbacks","_getStatsCallbacks","_setLabel","_unpublished","_getTransport","selector","_setConnectionState","getRTCPeerConnection","_getRTCPeerConnection","rtcPeerConnection","_getConnectionState","$f75a50aa241afae7$var$logger","$f75a50aa241afae7$export$3d5efe3791f2a5fb","onTrackUpdated","onDestroyed","_trackConstraints","trackConstraints","_replacingTrack","_onReplacingTrackDone","_onEnableChanged","isEnabled","_options","_listenTrackEvent","attach","_element","detach","_disable","stopTrackWhenDisabled","getConstraints","_oldTrack","$f75a50aa241afae7$export$a94b16d290ebb71a","$f75a50aa241afae7$export$5361dc87d344856a","_updateTrack","onended","$f75a50aa241afae7$var$createEmptyTrack","$cd1b8ba31cf27376$var$log","$cd1b8ba31cf27376$export$c9f6a4e4a252faf6","_isEnabled","_promiseQueue","isDisplayMedia","enableDisplay","enableMic","mediaDevices","getUserMedia","getAudioTracks","getDisplayMedia","$c5aff122ed426d14$var$log","$c5aff122ed426d14$export$a5640e858f97825c","_stream","processedStream","setEnabled","$41da18a0540c7983$var$log","$41da18a0540c7983$export$d883f7023cefba75","enableCamera","$b6802132a3f24f88$var$log","$b6802132a3f24f88$export$5f7c0675a5dd1ac7","_onWriteData","setIsEnabled","$b6802132a3f24f88$export$c87182fe3d0ba3ff","$97c6d3ff916647fe$export$5cebf77aa27fc76c","publisherId","codecCapabilities","exist","_getPublication","originPublication","$ea68d51c7a9a403c$export$58b1588abd4556d9","_getMember","$ea68d51c7a9a403c$var$log","_codecCapabilities","setCodecCapabilities","_encodings","setEncodings","_setStream","streamEventDisposer","deviceName","onSubscribed","onUnsubscribed","onSubscriptionListChanged","onEnabled","onDisabled","onStateChanged","_onEncodingsChanged","_onReplaceStream","_onEnabled","_channel","_context","$ea68d51c7a9a403c$export$de5e610e75896c6e","_analytics","_updateMetadata","_disableStream","_enable","_subscribed","_unsubscribed","_unpublish","rtcApi","updateMetadata","_updatePublicationMetadata","updateEncodings","$ea68d51c7a9a403c$export$1750a7c60ac63fc9","isClosed","client","sendPublicationUpdateEncodingsReport","publicationId","updatedAt","_disablePublication","_enablePublication","_enableStream","replaceStream","releaseOldStream","old","new","oldStream","newStream","sendMediaDeviceReport","mediaDeviceName","mediaDeviceTrigger","$54e6730367ade42a$var$log","$54e6730367ade42a$export$80f68fa06c4e58a","_localPerson","disableDPlane","endpoint","onStreamPublished","startPublishing","stopPublishing","$584bbded6bf0c9c2$export$16e8f033269a81b4","_disposers","startSubscribing","_onChangeEncoding","changePreferredEncoding","stopSubscribing","$c9bc81be700a6bf2$export$c312950b70294364","keepaliveIntervalSec","_impl","keepaliveIntervalGapSec","disableSignaling","disableAnalytics","onMemberStateChanged","onStreamUnpublished","onPublicationListChanged","onPublicationSubscribed","onPublicationUnsubscribed","onFatalError","person","publish","unpublish","$7e44329802f67605$export$6748d6164fb92f12","$f1d5d8633c6ba5f2$export$2e2bcd8739ae039","$ee1f400a2305bd86$var$getRandomValues","$ee1f400a2305bd86$var$rnds8","$ee1f400a2305bd86$export$2e2bcd8739ae039","$3a4cb7072d72ee2d$var$byteToHex","$3a4cb7072d72ee2d$export$8fb373d660548968","$4ff4c7e3c060756b$export$2e2bcd8739ae039","$63d82a125e98ef97$export$1ab9c62a15ccc9ad","$40358568e2099b6d$export$f2d43b0e20a65a70","statsRequest","intervalSec","statsRequestType","properties","normalization","outputKey","$40358568e2099b6d$var$AcknowledgeReason","$40358568e2099b6d$export$1b4a1b1703bbbae4","eventId","ok","$d11edde60943a0e3$var$ws","WebSocket","MozWebSocket","$d11edde60943a0e3$exports","$75b837e4aaffeb7a$export$d61e24a684f9e51","_listenerIndex","addOneTimeListener","$d54695fa34c677d7$var$ServerEventType","$d54695fa34c677d7$export$4798917dbf149b79","_isOpen","_isClosed","_reconnectCount","onOpened","onTokenExpired","onEventReceived","onConnectionFailed","_resendClientEvents","channelName","memberName","sessionEndpoint","logger","sdkVersion","_sessionEndpoint","_channelId","_channelName","_memberId","_memberName","_token","_logger","_sdkVersion","_connect","ws","subProtocol","wsProperties","sdkPlatform","queryString","_","wsURL","reconnect","onopen","onclose","logMessage","onmessage","_messageHandler","_ws","updateAuthToken","waitTime","_reconnectTimer","clientEvent","OPEN","resendAfterReconnect","pushResendClientEventsQueue","parsedData","$d54695fa34c677d7$var$isServerEvent","$be200543164fa77e$export$4c099f2ebfaaa216","$4b03f660dbc0e157$var$ANALYTICS_LOGGING_SERVER_DOMAIN","$4b03f660dbc0e157$export$6a5fb0c64f3a7246","_responseCallbacks","_acknowledgeCallbacks","_mediaDeviceVersion","_encodingsVersion","_preferredEncodingVersion","_previousSubscriptionStats","_statsRequest","_newToken","defaultOptions","analyticsLoggingServerDomain","optionalParams","_socket","WSProtocol","_eventReceivedHandler","_cleanupAnalyticsClientMaps","_reconnectWithNewSkyWayAuthToken","openServerEventPayload","_disconnect","setNewSkyWayAuthToken","cleanupOnUnpublished","cleanupOnUnsubscribed","subscriptionId","report","currentMediaDeviceVersion","mediaDeviceVersion","_sendClientEvent","bindingData","_isDataChannelStatsReport","castedStatsReport","rtcStatsReportValue","_isTargetTypeOfStatsReport","targetType","nominated","subscriptionParams","previousSubscriptionStat","createdAt","previousCreatedAt","duration","isDataChannelStatsReport","filteredStats","isNeedNormalization","statName","previousObject","previousValue","perSecondValue","currentEncodingsVersion","encodingsVersion","currentPreferredEncodingVersion","preferredEncodingIndex","preferredEncodingVersion","_setAcknowledgeCallback","backoff","timer","$4b03f660dbc0e157$var$TIMEOUT_SEC","_waitForAcknowledge","wait","clientEventId","connect","_acknowledgeHandler","getIntervalSec","isConnectionEstablished","$c6ab3f681ab32963$export$ffc1220428b632d1","$67e8f6b4128d50ee$export$30f3b02011db23c0","internalError","connectionDisconnected","websocketConnectionFailure","rpcResponseError","onClosedWhileRequesting","failedToConnectRtcAPI","failedToUpdateMemberTTL","$52b1ea9c8fe9659f$export$2e2bcd8739ae039","$3028be6cffd6045a$var$getRandomValues","$3028be6cffd6045a$var$rnds8","$3028be6cffd6045a$export$2e2bcd8739ae039","$c331f9f87861d2f4$var$byteToHex","$c331f9f87861d2f4$export$8fb373d660548968","$9e2da06c1d883386$export$2e2bcd8739ae039","$c98baa3a07ba23d2$export$c8c8fcba3f9476cc","$c98baa3a07ba23d2$export$5a70207753d9900b","$3bb44965610198ae$var$log","$3bb44965610198ae$export$83f82714246b5968","_reconnecting","reconnecting","_pendingRequests","_onMessage","onNotify","onDisconnected","onClosed","ev","$3bb44965610198ae$var$isNotifyMessage","resolvePendingRequests","req","_send","wsReadyState","$3bb44965610198ae$var$wsStates","promiseResolved","$3bb44965610198ae$var$buildRequest","handleMessage","pendingRequest","race","requests","notify","jsonrpc","$658e29e2e60f804e$var$log","$658e29e2e60f804e$export$90aee809fbd6aaa2","_domain","_secure","_rpc","_subscribingChannelEvents","_subscribingChannelVersions","_httpClient","_reconnectLimit","onEvent","onReconnected","_reconnect","reconnectCount","backOffTime","subscribeChannelEvents","_updateAuthToken","_channelSubscribed","_isSubscribingChannel","ttlSec","updateMemberTtl","subscriberId","unixtime","getServerUnixtime","$64e1c23de819ddc9$var$isMergeableObject","$64e1c23de819ddc9$var$isNonNullObject","stringValue","$$typeof","$64e1c23de819ddc9$var$REACT_ELEMENT_TYPE","$64e1c23de819ddc9$var$isReactElement","$64e1c23de819ddc9$var$isSpecial","for","$64e1c23de819ddc9$var$cloneUnlessOtherwiseSpecified","isMergeableObject","$64e1c23de819ddc9$var$deepmerge","$64e1c23de819ddc9$var$defaultArrayMerge","$64e1c23de819ddc9$var$getKeys","symbol","propertyIsEnumerable","$64e1c23de819ddc9$var$getEnumerableOwnPropertySymbols","$64e1c23de819ddc9$var$propertyIsOnObject","object","property","$64e1c23de819ddc9$var$mergeObject","destination","$64e1c23de819ddc9$var$propertyIsUnsafe","customMerge","$64e1c23de819ddc9$var$getMergeFunction","arrayMerge","cloneUnlessOtherwiseSpecified","sourceIsArray","$64e1c23de819ddc9$exports","$8acc5d5fbe70e614$export$29cd7b75162a9425","eventSubscribeTimeout","$4244ff06b81cbabb$export$30f3b02011db23c0","invalidRequestParameter","insufficientPermissions","publicationNestedTooMuch","channelNotFound","memberNotFound","publicationNotFound","subscriptionNotFound","operationConflicted","channelNameDuplicated","memberNameDuplicated","subscriptionAlreadyExists","rateLimitExceeded","authTokenExpired","serverBusy","$f0b428b1703e60aa$export$5a70207753d9900b","$f0b428b1703e60aa$export$c8c8fcba3f9476cc","$d3955cf13af354e3$var$log","$d3955cf13af354e3$export$2979d3af570bd005","_client","Decode","updateToken","_commonError","channelInit","createChannel","getChannel","getChannelByName","query","findOrCreateChannel","deleteChannel","updateChannelMetadata","memberInit","addMember","updateMemberMetadata","leaveChannel","publishStream","updatePublicationMetadata","disablePublication","enablePublication","unpublishStream","subscribeStream","unsubscribeStream","$cfbcc6cabf1e3411$var$log","$cfbcc6cabf1e3411$export$85c482b2be58fbc5","channelDto","eventBuffer","$cfbcc6cabf1e3411$export$1ea0e69c50273070","expectNextVersion","packetLostHappened","presentVersion","onPacketLost","packetLifetime","eventFrame","incomingVersion","handlePacketLifetime","resolveEvents","oldestBufferedEvent","packetLifeTimer","eventBufferLength","frame","$d551221a54695725$var$log","$d551221a54695725$export$20e7ceb05f45b8f4","rpc","apiClient","_eventObserverFactory","getServerUnixtimeInMs","$a34c44021fd43986$export$7593e41e139cc705","appid","$a34c44021fd43986$var$log","$a34c44021fd43986$export$b2757799f92812d7","getMember","members","deleteMember","getPublication","addPublication","summary","deletePublication","getSubscription","addSubscription","deleteSubscription","eventObserver","disposed","onMemberListChanged","onMemberJoined","onMemberLeft","onMemberMetadataUpdated","onPublicationDisabled","onPublicationEnabled","onPublicationMetadataUpdated","_channelClosed","_channelMetadataUpdated","_memberJoined","_memberLeft","_memberMetadataUpdated","_streamPublished","_streamUnpublished","_publicationMetadataUpdated","_publicationDisabled","_publicationEnabled","_streamSubscribed","_streamUnsubscribed","outgoing","incoming","$68ce8b5a8a3f8872$exports","ts","publicationDto","subscriptionDto","$76fd13d7750a34aa$export$af0bf75636109889","iceParamServer","signalingService","analyticsService","rtcConfig","turnPolicy","turnProtocol","encodedInsertableStreams","iceDisconnectBufferTimeout","updateReminderSec","$ad2eb879d94b40d3$export$a80204f9332e6403","_onContextAttached","_attachContext","$9130f7d40583f9e6$var$log","$9130f7d40583f9e6$export$9d24a0f7b61acd07","signaling","_indicateMessageBuffer","_excludeConnectionIndicateBuffering","onMessage","requesterIdName","resolveMessagingBuffer","endpointIdName","bufferedIndicates","$ec5e6ed98a381696$export$2e2bcd8739ae039","$b744d6baec4d0bb9$var$getRandomValues","$b744d6baec4d0bb9$var$rnds8","$b744d6baec4d0bb9$export$2e2bcd8739ae039","$5e8fedcfc77702d1$var$byteToHex","$5e8fedcfc77702d1$export$8fb373d660548968","$5257ca48176620ef$export$2e2bcd8739ae039","$92ad215afdf58ea1$export$6f5f1e8826dff3a","$94a9023778067fac$export$cbd75e4660dc6714","$33236134a153b91b$export$47b8b8970fd44ff3","$3a8270249aa483b1$export$ed5eb638b2558efd","_datachannel","onData","$e1886cfe22b1e807$export$5f5156d37d970bc1","$16ac5f72f24272c9$var$log","$16ac5f72f24272c9$export$5605767d98ea7f02","RTCDataChannel","$f2538b457ecafeac$var$log","$f2538b457ecafeac$export$46a9497817a7c650","$f2538b457ecafeac$export$95df08bae54cb4df","$f2538b457ecafeac$export$7304d280d572f05e","$f2538b457ecafeac$export$bfb0642522577c6b","$b2b6efd4457b90f6$export$cbab995cacf25a08","toLabel","$29bb0868735efa40$var$log","$29bb0868735efa40$export$ecd1fc136c422448","_iceManager","analytics","_pendingCandidates","onSignalingStateChanged","onPeerConnectionStateChanged","connected","disconnected","rtcPeerConnectionId","_onICECandidate","sendRtcPeerConnectionEventReport","_onICECandidateError","_onIceGatheringStateChange","iceGatheringState","_onConnectionStateChange","_onIceConnectionStateChange","_onSignalingStateChange","waitForSignalingState","waitForConnectionState","waitForStats","setPeerConnectionListener","peerIdentity","onicecandidate","onicecandidateerror","onicegatheringstatechange","onconnectionstatechange","oniceconnectionstatechange","onsignalingstatechange","unSetPeerConnectionListener","remoteDescription","resolveCandidates","addIceCandidate","endpointId","$36c9b08f311721ed$var$log","$36c9b08f311721ed$export$d922e778ade554d2","onStreamAdded","onError","_publicationInfo","_subscriptions","iceManager","_handleSenderProduce","_handleSenderUnproduce","_handleSenderRestartIce","handleCandidate","ontrack","publicationInfo","$hMojz","_getCodecFromSdp","_setupTransportAccessForStream","ondatachannel","fromLabel","skywayConnectionState","codecPT","hasMedia","_validateRemoteOffer","sdpMediaLine","sdpMedia","isWrongSignalingState","sendAnswer","offerObject","answerObject","offerMedia","answerMedia","answerFmtp","offerFmtp","munged","$ca3fb15e83e8adef$exports","__data__","$614527ccb359f103$exports","$88c9ac1b7e41f778$exports","$b541ef4bc522bb42$var$splice","$b541ef4bc522bb42$exports","$ee824ec24fd207ef$exports","$f5b9c332223e5cc6$exports","$058162194c3d8b87$var$ListCache","entry","$bfb67e77f8274b94$exports","$058162194c3d8b87$exports","$a209e450a72336f0$exports","$8175d28a7c5cfb41$exports","$47bd39bbef9cb6ce$exports","$9d615f6963b0901c$exports","$966132275cb78f6b$exports","$2b18d78f6b12ec74$var$objectProto","$2b18d78f6b12ec74$var$hasOwnProperty","$2b18d78f6b12ec74$var$nativeObjectToString","$2b18d78f6b12ec74$var$symToStringTag","$2b18d78f6b12ec74$exports","isOwn","unmasked","$8a796a15adbe6538$var$nativeObjectToString","$8a796a15adbe6538$exports","$487908c4f3ed3aec$var$nullTag","$487908c4f3ed3aec$var$undefinedTag","$487908c4f3ed3aec$var$symToStringTag","$487908c4f3ed3aec$exports","$ca5b5b2d4a94d55a$exports","$122aca5f0593f28d$var$asyncTag","$122aca5f0593f28d$var$funcTag","$122aca5f0593f28d$var$genTag","$122aca5f0593f28d$var$proxyTag","$122aca5f0593f28d$exports","uid","$3a1acd520b3138cb$var$coreJsData","$8baa07e5b013bae5$var$maskSrcKey","$3a1acd520b3138cb$exports","IE_PROTO","$8baa07e5b013bae5$exports","func","$0fe161a3a059b403$var$funcToString","$0fe161a3a059b403$exports","$dcfb7642c27944ea$var$reIsHostCtor","$dcfb7642c27944ea$var$funcProto","$dcfb7642c27944ea$var$objectProto","$dcfb7642c27944ea$var$funcToString","$dcfb7642c27944ea$var$hasOwnProperty","$dcfb7642c27944ea$var$reIsNative","$dcfb7642c27944ea$exports","$9239d85ec7cd3ad3$exports","$f47722a17e34b8c2$var$Map","$aa95c3456db2a4e0$exports","$f47722a17e34b8c2$exports","$0450763ad0c4089f$var$nativeCreate","$0450763ad0c4089f$exports","$ec69dc78d3c305c4$exports","$f31cbfd71b9f92ce$exports","$cc08d36ebf1a0b85$var$HASH_UNDEFINED","$cc08d36ebf1a0b85$var$hasOwnProperty","$cc08d36ebf1a0b85$exports","$946bbaef67db9973$var$hasOwnProperty","$946bbaef67db9973$exports","$4ced9d4d4b855a4f$var$HASH_UNDEFINED","$5187bfd0ac294f51$var$Hash","$4ced9d4d4b855a4f$exports","$5187bfd0ac294f51$exports","$899665aeb4707adf$exports","$4462a26d41ca8df4$exports","$9bba932609e4c4c7$exports","$c94b12adc8adc425$exports","$80d556064dd551ee$exports","$2b267bd9bd2e646f$exports","$57aa988d80556e6e$var$MapCache","$8fccf7efe621e5ea$exports","$57aa988d80556e6e$exports","$c71c8c472c5990bf$var$LARGE_ARRAY_SIZE","$f4463f78c322ae0b$var$Stack","$c71c8c472c5990bf$exports","pairs","$f4463f78c322ae0b$exports","$357ccdf62651e1b2$var$HASH_UNDEFINED","$357ccdf62651e1b2$exports","$3590307c6c662fd0$var$SetCache","$38a68a260300bee7$exports","$3590307c6c662fd0$exports","$24f09ec0407bfa71$exports","predicate","$36d671e1ace04aea$exports","$ed0d4dccc3466efc$var$COMPARE_PARTIAL_FLAG","$ed0d4dccc3466efc$var$COMPARE_UNORDERED_FLAG","$ed0d4dccc3466efc$exports","bitmask","customizer","equalFunc","isPartial","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","$7daeafd2415eace8$var$Uint8Array","$7daeafd2415eace8$exports","$441a37b1cf8e6335$exports","$0411107132c27932$exports","$bb2a20f9af804a5f$var$COMPARE_PARTIAL_FLAG","$bb2a20f9af804a5f$var$COMPARE_UNORDERED_FLAG","$bb2a20f9af804a5f$var$boolTag","$bb2a20f9af804a5f$var$dateTag","$bb2a20f9af804a5f$var$errorTag","$bb2a20f9af804a5f$var$mapTag","$bb2a20f9af804a5f$var$numberTag","$bb2a20f9af804a5f$var$regexpTag","$bb2a20f9af804a5f$var$setTag","$bb2a20f9af804a5f$var$stringTag","$bb2a20f9af804a5f$var$symbolTag","$bb2a20f9af804a5f$var$arrayBufferTag","$bb2a20f9af804a5f$var$dataViewTag","$bb2a20f9af804a5f$var$symbolProto","$bb2a20f9af804a5f$var$symbolValueOf","$bb2a20f9af804a5f$exports","stacked","$a584100a99f801f5$exports","$e85ad4af1d939f2d$var$isArray","$e85ad4af1d939f2d$exports","$c1db0123cb0242ec$exports","keysFunc","symbolsFunc","$8036497cdd785d0f$exports","resIndex","$73d023f38bc84a1a$exports","$804d546052528cab$var$propertyIsEnumerable","$804d546052528cab$var$nativeGetSymbols","$804d546052528cab$exports","$10e6e851ed9e4439$exports","iteratee","$3b1955b4b411d93b$exports","$2c37de3b56697fe0$var$argsTag","$2c37de3b56697fe0$exports","$b82e05ae38ce5040$var$objectProto","$b82e05ae38ce5040$var$hasOwnProperty","$b82e05ae38ce5040$var$propertyIsEnumerable","$b82e05ae38ce5040$var$isArguments","$b82e05ae38ce5040$exports","$d95d67e0f14c5734$var$MAX_SAFE_INTEGER","$d95d67e0f14c5734$var$reIsUint","$d95d67e0f14c5734$exports","$f2227b9d128a047b$var$MAX_SAFE_INTEGER","$f2227b9d128a047b$exports","$db14a819403d1c69$var$typedArrayTags","$db14a819403d1c69$exports","$0fcacfaa8d765360$exports","$3917bea1e6e92ebe$var$nodeIsTypedArray","$aR2OH","$3917bea1e6e92ebe$var$isTypedArray","$3917bea1e6e92ebe$exports","$af8cbd0f99e985d5$var$hasOwnProperty","$af8cbd0f99e985d5$exports","inherited","isArr","isArg","isBuff","$c2tjr","isType","skipIndexes","$964cc70fd1031f5d$var$objectProto","$964cc70fd1031f5d$exports","Ctor","$9aa4ae38ab532ca3$var$nativeKeys","transform","$a718a9f7541cf96a$exports","$9aa4ae38ab532ca3$exports","$34f8d7d6072cd4b0$var$hasOwnProperty","$34f8d7d6072cd4b0$exports","$c86411c89c52f44a$exports","$4fe078e578a47da7$exports","$abf915da55a49950$exports","$9e0bc083633373bf$var$COMPARE_PARTIAL_FLAG","$9e0bc083633373bf$var$hasOwnProperty","$9e0bc083633373bf$exports","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","$a27d97415d684c3f$exports","$85bd490e3232e071$exports","$9331120c8e70de76$exports","$5a66f1ba0532c905$exports","$b57bf4bacf9973bf$var$mapTag","$b57bf4bacf9973bf$var$promiseTag","$b57bf4bacf9973bf$var$setTag","$b57bf4bacf9973bf$var$weakMapTag","$b57bf4bacf9973bf$var$dataViewTag","$b57bf4bacf9973bf$var$dataViewCtorString","$b57bf4bacf9973bf$var$mapCtorString","$b57bf4bacf9973bf$var$promiseCtorString","$b57bf4bacf9973bf$var$setCtorString","$b57bf4bacf9973bf$var$weakMapCtorString","$b57bf4bacf9973bf$var$getTag","ctorString","$b57bf4bacf9973bf$exports","$71c3a335c1e6292b$var$COMPARE_PARTIAL_FLAG","$71c3a335c1e6292b$var$argsTag","$71c3a335c1e6292b$var$arrayTag","$71c3a335c1e6292b$var$objectTag","$71c3a335c1e6292b$var$hasOwnProperty","$71c3a335c1e6292b$exports","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","$b3821a95de0e3308$exports","$b3821a95de0e3308$var$baseIsEqual","$2f0f554e2345280e$exports","$b8f7c2eb23aef981$var$log","$b8f7c2eb23aef981$export$c5a96f3e01fb6582","transceivers","datachannels","_pendingPublications","_isNegotiating","promiseQueue","_ms","_backoffIceRestarted","_unsubscribeStreamEnableChange","_cleanupStreamCallbacks","_handleReceiverAnswer","checkNeedEnd","updateIceParams","_getMid","_listenStreamEnableChange","_replaceTrack","isNegotiating","pendingPublications","dc","cap","findCodecFromCodecCapability","rtpList","codecName","$b8f7c2eb23aef981$var$mimeTypeToCodec","$b8f7c2eb23aef981$var$mimeTypeToContentType","preferredCodecs","sorted","targetCodecWithPayload","targetCodecCapability","opus","$b8f7c2eb23aef981$export$f857274d22886cdd","offerSdp","_safariSetupEncoding","cleanupCallbacks","RTCSessionDescription","_resolvePendingSender","keyFramesEncoded","$29b503edbe54a31e$var$log","$29b503edbe54a31e$export$1c8f9417094b1bf5","_signaling","_pubsubQueue","sendSubscriptionStatsReportTimers","_waitingSendSubscriptionStatsReportsFromPublish","_waitingSendSubscriptionStatsReportsFromSubscribe","startSendSubscriptionStatsReportTimer","sendBindingRtcPeerConnectionToSubscription","_closeIfNeeded","sendSubscriptionStatsReportTimer","clearInterval","setInterval","subscriptionStatsReportTimer","sendSubscriptionStatsReport","$f447a9ff00a48418$var$log","$f447a9ff00a48418$export$3df66211ca3b92c9","_subscribe","_messageBuffers","connectionId","_unsubscribe","$640c4dc2339e55d3$export$7db772a1e1a965ec","_whenCreateLocalPerson","_whenDisposeLocalPerson","messageBuffer","_createRemoteMember","memberDto","$640c4dc2339e55d3$export$7dbdede4c368577f","registerPlugin","$45b411538607ac8d$export$89a50d4034b52e33","$7636b11383ced870$var$log","$7636b11383ced870$export$a93b88e221903846","authTokenString","configOptions","runtime","sdkName","rapi","ice","Create","_setTokenExpireTimer","_unknownPlugin","_reminderSec","onTokenUpdateReminder","_onTokenUpdated","_onDisposed","_authTokenString","_api","getServerUnixtimeInSec","expiresInSec","tokenUpdateReminderTimer","tokenExpireReminderTimeSec","reminderSec","tokenExpiredTimer","newToken","oldToken","invalid","expect","$7eaa69162a57b7cc$var$log","$7eaa69162a57b7cc$export$300a1997a01dc124","analyticsSession","$7eaa69162a57b7cc$export$ee6f8c8f961bd3da","connectWithTimeout","_listen","connectTimeout","timeoutPromise","finally","$7399c9a942bc9f35$var$log","$7399c9a942bc9f35$export$606ba80812a5fc52","ttl","_stunServers","_turnServers","_endpoint","body","turn","stun","authorization","credential","urls","turnServers","startsWith","$f35d4049f71e76f7$export$2e2bcd8739ae039","$d103e4d028bd0555$export$2e2bcd8739ae039","uuid","$01b591ea117df67c$export$2e2bcd8739ae039","$ddaf5b9844762944$var$getRandomValues","$ddaf5b9844762944$var$rnds8","$ddaf5b9844762944$export$2e2bcd8739ae039","$c909ab992fb1ec50$var$byteToHex","$c909ab992fb1ec50$export$8fb373d660548968","$83c05e829a8094c2$export$2e2bcd8739ae039","$b4cb33bfe2020fb1$export$1ab9c62a15ccc9ad","$8571ca35d17df420$var$AcknowledgeReason","$8571ca35d17df420$export$bc81c32a30bc9757","$8571ca35d17df420$export$9535d675767b1b95","$8571ca35d17df420$export$1b4a1b1703bbbae4","$02b00a8346193d40$export$d61e24a684f9e51","$f59ed71f81e30f93$var$ServerEventType","$f59ed71f81e30f93$export$4798917dbf149b79","_isDestroyed","retrySend","$f59ed71f81e30f93$var$isServerEvent","$08ea127cb13bae86$var$SIGNALING_SERVER_DOMAIN","$08ea127cb13bae86$export$4ad034c68788f3a0","onRequested","_connectivityCheckTimers","connectivityCheckIntervalSec","signalingServerDomain","_startConnectivityCheck","disconnect","_stopConnectivityCheck","_connectivityCheckInterval","timeoutSec","$08ea127cb13bae86$var$validateTarget","$08ea127cb13bae86$var$validateData","_setResponseCallback","_response","requestEventId","updateSkyWayAuthToken","_eventMessageRequestHandler","_eventMessageResponseHandler","reply","$e0400b87f99ce04c$var$log","$e0400b87f99ce04c$export$51ac37b2f53715bf","signalingSession","$e0400b87f99ce04c$export$3a65afc3525c4b93","_chunkedMessageBuffer","_backoffUpdateSkyWayAuthToken","_updateSkyWayAuthToken","updateClient","messageChunk","chunk","$e0400b87f99ce04c$var$messageType","chunkMessage","$c46357fa231f1478$var$log","$c46357fa231f1478$export$f67a9d3097123900","existAnalyticsScope","$d7136b8db7f6dc9a$export$adf10edb7d88698d","$d7136b8db7f6dc9a$var$log","_setupTtlTimer","_onStreamSubscribeFailed","_subscribing","_requestQueue","_disposed","_publishingAgent","_subscribingAgent","_listenChannelEvent","_listenBeforeUnload","_handleOnPublicationSubscribe","_handleOnPublicationUnsubscribe","updateTtl","_updateMemberTtl","ttlInterval","preferredEncoding","preferredEncodingId","_publish","_addPublication","_handleOnStreamPublish","_handleOnStreamUnpublished","_validatePublicationForSubscribe","processing","_addSubscription","_getConnections","connections","$0fa3fe172ab029e1$var$log","$0fa3fe172ab029e1$export$ca03f47095c1df4d","onStreamAttached","_handlePublicationEnabled","_canceled","$9daf4d5f65139d52$export$d567d2b9af322f8f","_getSubscription","$797dbdbedc689ba7$var$log","$797dbdbedc689ba7$export$73026ee96c7a0544","_addMember","_members","_removeMember","_publications","_removePublication","_removeSubscription","_channelImpl","_setupPropertiesFromChannel","_setupListenChannelEvent","bots","_handleOnChannelClose","_handleOnChannelMetadataUpdate","_handleOnMemberJoin","_handleOnMemberLeft","_handleOnMemberMetadataUpdate","_handleOnStreamUnpublish","_handleOnPublicationMetadataUpdate","_handleOnPublicationEnabled","_handleOnPublicationDisabled","_handleOnStreamSubscribe","_handleOnStreamUnsubscribe","joinChannel","_createLocalPerson","$797dbdbedc689ba7$export$b8d8c75911d611e6","channelImpl","findChannel","$80088cc227e6946c$var$log","$80088cc227e6946c$export$b098e259f9dc3ea8","onDeviceChange","_devices","devices","_enumerateDevicesArray","removed","added","enumerateDevices","$80088cc227e6946c$export$6660910f4d8fa570","tracks","_enumerateDevicesWithAuth","videoOption","audioOption","videoStream","audioStream","audioTrack","videoTrack","processor","createProcessedStream","constraints","onUpdateTrack","updateTrack","setStream","deviceId","$6c714d4946528597$export$3c9c96a87469362b","$adec6199b43c7a11$export$30f3b02011db23c0","maxSubscriberExceededError","quotaExceededError","backendError","notAllowedConsumeError","$b4dae0678efeb563$export$c8c8fcba3f9476cc","$b4dae0678efeb563$export$5a70207753d9900b","botId","$c934a77dd14c9a3e$var$log","$c934a77dd14c9a3e$export$b452cb534376dcf3","_headers","_commonErrorHandler","maxSubscribers","backOff","forwardingId","transportId","producerOptions","originPublicationId","requestPayload","consumerId","stopForwarding","identifierKey","$5d0297f165d6cfbd$export$30f3b02011db23c0","sfuBotNotInChannel","maxSubscribersMustNotBeZero","remotePublisherId","dataStreamNotSupported","invalidPreferredEncoding","invalidEncodings","receiverNotFound","consumerNotFound","forwardingNotFound","netWorkError","confirmSubscriptionFailed","$2f6307cd41d5ad77$export$e41a24ed92c5b3bd","layer","$2f6307cd41d5ad77$export$5a70207753d9900b","bot","$af656c7a80fd094f$var$log","$af656c7a80fd094f$export$d922e778ade554d2","_transportRepository","_bot","_waitingSendSubscriptionStatsReports","getRtpCapabilities","loadDevice","transportOptions","createConsumer","getTransport","onTransportCreated","endpointTimeout","msTransport","consume","selectedCodec","unconsume","$322447d7dea3dad3$var$log","$322447d7dea3dad3$export$ae2400c968399c46","configure","relayingPublication","_identifierKey","onStopped","confirmSubscription","_stop","$d097c6ea2d524a6b$var$log","$d097c6ea2d524a6b$export$c5a96f3e01fb6582","_producer","forwarding","broadcasterTransport","_broadcasterTransport","broadcasterTransportId","broadcasterTransportOptions","startForwarding","_produce","botSubscribing","transactionId","deviceCodecs","codecType","_fixVideoCodecWithParametersOrder","onProduce","createProducer","produce","findCodecWithParameters","copyCodecExceptPayloadType","copyOfHead","unproduce","$cdf9ba53eea7cd75$var$log","$cdf9ba53eea7cd75$export$5fc0bb770d2a72cc","_receivers","_senders","addSender","removeSender","sendSubscriptionUpdatePreferredEncodingReport","remote","local","_getReceiver","changeConsumerLayer","$e2a70444cbc34635$var$log","$e2a70444cbc34635$export$a75f52deb2cf58ae","onForwardingStarted","onForwardingStopped","onForwardingListChanged","_startForwardQueue","_forwardings","forwardings","transportRepository","endpointBot","_startForwarding","relayed","listenStopForwardEvent","$58bfeba868de90ba$export$ef54e915073c32aa","ackTimeout","disableRestartIce","$43b87f832c5f5d55$var$__createBinding","$43b87f832c5f5d55$exports","$43b87f832c5f5d55$var$__setModuleDefault","$43b87f832c5f5d55$var$__importStar","$43b87f832c5f5d55$var$__importDefault","parseScalabilityMode","$43b87f832c5f5d55$var$debug_1","$aG2G0","$43b87f832c5f5d55$var$types","$1b13d675b35c3cf6$var$log","$1b13d675b35c3cf6$export$9fc9ce05c49e3ee3","_sfuApi","_analyticsSession","_backoffIceRestart","onProduceData","onMediasoupConnectionStateChanged","_mediasoupRestartIce","_waitForMsConnectionState","_onConnect","sfuPlugin","$0de07f4cdac032b9$export$e71737f0c2d1f52","$6692ff6ad9604c4e$var$log","$6692ff6ad9604c4e$export$814fe0cfb8c032ee","_transports","personId","deleteTransports","$0de07f4cdac032b9$var$log","sfu","sfuBot","createBot","deleteBot","$0eb78b50c104fb1f$export$30f3b02011db23c0","notImplemented","roomNotOpened","subscribeOtherMemberType","sfuRoomNotSupportDataStream","publicationNotHasOrigin","$eae6c1b5b9165e8e$export$bef8ba2321db1521","roomId","room","roomName","roomType","_member","$ddbc254f346a9b96$export$bee023c06959829a","_local","roomSubscription","_listenRoomEvent","$8ecaf5c86659ed2c$export$c8c8fcba3f9476cc","localRoomMember","$76d18b8275884069$var$log","$76d18b8275884069$export$fd461796c4c8ceea","roomPublication","_updateRoom","$7c7c2ba3cbc346eb$var$log","$7c7c2ba3cbc346eb$export$4475403dd7041ce8","_publication","$13871666c2c030d0$var$log","$13871666c2c030d0$export$16086535bc6bb3c5","$7f41129523fffd5b$var$path","$7f41129523fffd5b$var$logger","$7f41129523fffd5b$export$6f84ffa6c1e66d50","_room","_origin","_preferredPublication","_setEvents","$130c209d0f12eecc$export$2e2bcd8739ae039","$7fab376da4bdde10$var$getRandomValues","$7fab376da4bdde10$var$rnds8","$7fab376da4bdde10$export$2e2bcd8739ae039","$699e9abf601cfc65$var$byteToHex","$699e9abf601cfc65$export$8fb373d660548968","$90c9379a178234ab$export$2e2bcd8739ae039","$3e0c8bd55aeda52d$var$log","$3e0c8bd55aeda52d$export$f377f178f7c7d6d9","_subscription","$9d34d92fe317ce88$var$log","$9d34d92fe317ce88$export$389e5b30f73ecad6","roomMemberInit","moveChannel","$b8759a0c9d1d3899$var$log","$b8759a0c9d1d3899$export$1ff60ee633851c82","setChannelState","setChannelListener","$21c2bf450707956a$var$log","$21c2bf450707956a$export$7cceb6a89af02c14","_plugin","_getRelayedPublication","$125d42be3b696344$var$log","$125d42be3b696344$export$e3886f030592f1f1","_Factory","Find","FindOrCreate","$646ab949961b5da1$var$token","actions","sfuBots","localVideo","getElementById","buttonArea","remoteMediaArea","channelNameInput","dataStreamInput","myId","joinButton","writeButton","createMicrophoneAudioAndCameraStream","play","createDataStream","onclick","me","textContent","subscribeAndAttach","subscribeButton","appendChild","elm","playsInline","autoplay","controls","innerText"],"version":3,"file":"index.8cfaafdf.js.map"}